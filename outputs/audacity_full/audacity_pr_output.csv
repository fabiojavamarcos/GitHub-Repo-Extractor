Issue_NumberIssue_TitleIssue_Author_NameIssue_Author_LoginIssue_Closed_DateIssue_BodyIssue_CommentsPR_TitlePR_Author_NamePR_Author_LoginPR_Closed_DatePR_BodyPR_CommentsCommit_Author_NameCommit_DateCommit_MessageisPR
1Wx3 warningJames CrookJamesCrook03/28/15, 04:13:55 PMNaNNaNWx3 warningJames CrookJamesCrook03/28/15, 04:13:55 PMNaNNaNJames Crook03/28/15, 04:10:27 PMUpdate branches.txt1
2Bug 897James CrookJamesCrook04/02/15, 10:14:26 AMNaNNaNBug 897James CrookJamesCrook04/02/15, 10:14:26 AMNaNNaNPaul-Licameli03/30/15, 12:09:41 AMRuler did not refresh for scroll or zoom, when play region was locked1
3Fix bug 881 - Status messages were swapped.James CrookJamesCrook04/02/15, 10:17:05 AMNaNNaNFix bug 881 - Status messages were swapped.James CrookJamesCrook04/02/15, 10:17:05 AMNaNNaNPaul-Licameli03/30/15, 05:11:31 AMFix bug 8811
4Adding .gitignoreJames CrookJamesCrook04/02/15, 10:33:06 AMNaNNaNAdding .gitignoreJames CrookJamesCrook04/02/15, 10:33:06 AMNaNNaNJames Crook03/29/15, 06:06:38 PMCreate .gitignore1
5Wx3 warningJames CrookJamesCrook04/02/15, 03:03:03 PMNaNNaNWx3 warningJames CrookJamesCrook04/02/15, 03:03:03 PMNaNNaNJames Crook04/02/15, 02:59:16 PMAdded warning dialog about unsupported build, when built with wx3.x.1
6add configuration for Travis CIThomasFeher04/03/15, 01:28:11 PM"This opens the possibility to automatically (it takes about 10 minutes) see if the latest master builds correctly and also if pull requests build correctly.

It requires to register the audacity github account at Travis CI, which is straight forward using the green ""sign in with Github"" button at the top right at https://travis-ci.org

Unfortunately it seems that only Linux builds are possible at the moment. But it is free for open source projects, so why not take advantage of it.""Thanks Thomas.
Is Travis OK with us having sudo apt-get
IIRC there were issues around using sudo?
 =||= There was no problem using sudo when testing this PR.
The manual mentions it here:
http://docs.travis-ci.com/user/build-configuration/#Installing-Packages-Using-apt
so it seems OK.
 =||= Great.  OK.  I've merged and enabled Travis.

Most of our communication is on https://lists.sourceforge.net/lists/listinfo/audacity-devel .If you'd like to talk with the team about this, I encourage you to sign up.  Peter Sampson who is on that list is very keen for us to develop automated testing.  Gale Andrews who has been building alphas for testing by hand will be delighted to see this. I'm (of course) also interested in hearing more.  You can also contact me off list instead, james.k.crook@gmail.com.  You can probably see, we have only just started using Git and GitHub.
 =||= "add configuration for Travis CIThomasFeher04/03/15, 01:28:11 PM"This opens the possibility to automatically (it takes about 10 minutes) see if the latest master builds correctly and also if pull requests build correctly.

It requires to register the audacity github account at Travis CI, which is straight forward using the green ""sign in with Github"" button at the top right at https://travis-ci.org

Unfortunately it seems that only Linux builds are possible at the moment. But it is free for open source projects, so why not take advantage of it."NaNThomas Fehér04/01/15, 11:21:06 AM"remove compiling with clang

There seems to be an issue with __extern_always_inline, probably related
to this bug in glibc:
https://bugzilla.redhat.com/show_bug.cgi?id=1133508"1
7Chains: ChangeSpeed now reads/writes percentage change parameter.James CrookJamesCrook04/04/15, 09:38:53 AMNaNNaNChains: ChangeSpeed now reads/writes percentage change parameter.James CrookJamesCrook04/04/15, 09:38:53 AMNaNNaNJames Crook04/04/15, 08:42:17 AMChains: ChangeSpeed now reads/writes percentage change parameter.1
8Bug765 - Delays using Edit commands and Draw Tool in long projectsJames CrookJamesCrook04/05/15, 02:43:17 PM"A 4hr track used to take about 20s to cut a few samples.  This is now significantly improved, to around 3s.  Leland did this by 

(a) moving the size calculation to when we examine the undo history, so it isn't slowing down the edits.
(b) in size calculation, using sizes that are cached rather than going to disk to find the sizes.
(c) writing the autosave file which is to an FFIle to a string first, i.e. using XMLStringWriter as a buffer for XMLFileWriter.

Step (c) may also make autosave marginally safer, as the risk of a partially updated autosave file is reduced."NaNBug765 - Delays using Edit commands and Draw Tool in long projectsJames CrookJamesCrook04/05/15, 02:43:17 PM"A 4hr track used to take about 20s to cut a few samples.  This is now significantly improved, to around 3s.  Leland did this by 

(a) moving the size calculation to when we examine the undo history, so it isn't slowing down the edits.
(b) in size calculation, using sizes that are cached rather than going to disk to find the sizes.
(c) writing the autosave file which is to an FFIle to a string first, i.e. using XMLStringWriter as a buffer for XMLFileWriter.

Step (c) may also make autosave marginally safer, as the risk of a partially updated autosave file is reduced."NaNLeland Lucius04/05/15, 10:33:01 AMFix for bug #7651
9Change autosave file to binary formatLeland Luciuslllucius04/08/15, 02:04:45 AM"This will change the autosave file to a binary representation of the XML file.  By doing this, all of the processing required to convert values to a textual format (float, doubles, int, strings) is now moved to recovery instead.  This gets it out of the autosave path and improves responsiveness quite a bit.

Edits in large projects are considerably faster after this change."NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
10Nyquist v3.09Leland Luciuslllucius04/07/15, 06:15:08 AMNaN"Updates Nyquist to version 3.09.  We're currently running 3.03 from 2009.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
11Nyquist v3.09Leland Luciuslllucius04/08/15, 02:00:45 AMUpdates Nyquist to 3.09 from 3.03 (circa 2009).  (Previous pull missed one file)"Leland, can this be rebased on the new, cleaned-up master branch, so we don't put the tangle of extraneous commits back into history?  I am hoping this will be easy because it's all in subtrees nobody else is touching.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
12Fix for bug 683Steve DaultonSteveDaulton04/08/15, 12:08:41 PM"Also adds ""m"" prefix to some member variables for consistency.""Steve, James has cleaned up the recent tangle in repository history, but it is still in the ancestry of your commit, which is why I see 36 commits above, many of them extraneous.  Can you rebase your changes on the new cleaned up master branch?
 =||= Are there instructions for how to do that?
 =||= I am not exactly sure how to advise Steve to do rebase in detail, because I
have not succeeded with it yet.  We are all learning this...

I think what you want to do is make sure you have done

git remote add audacity git@github.com:audacity/audacity.git
git fetch audacity/master

That mirrors the cleaned up branch for you locally.  And then, to take just
your last three commits that I see in your master,

git checkout master
git rebase --onto remotes/audacity/master HEAD~3

(I am not sure whether you really need the ""remotes/"" part)

If that fails, you may need git rebase --abort to get back to a good state,
but if it works, you may need -f to push to your master and lose the old
tangled up master:

git push -f origin master

Reference:
http://git-scm.com/docs/git-rebase

On Tue, Apr 7, 2015 at 6:44 PM, Steve Daulton notifications@github.com
wrote:

> Are there instructions for how to do that?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/audacity/audacity/pull/12#issuecomment-90751764.
 =||= Be careful though.  Somewhere along the line I wound up rebasing my entire repo and lost the 3 branches I had there.  Wasn't a biggie...I just recreated them (well, all but 1 so far).
 =||= I understand git reflog may help you rediscover ""lost"" branches, or
""dangling commits,"" which are not reachable from any branch head.

On Tue, Apr 7, 2015 at 11:20 PM, Leland Lucius notifications@github.com
wrote:

> Be careful though. Somewhere along the line I wound up rebasing my entire
> repo and lost the 3 branches I had there. Wasn't a biggie...I just
> recreated them (well, all but 1 so far).
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/audacity/audacity/pull/12#issuecomment-90792414.
 =||= An alternative to rebase is the ""cherry-pick"" command which lets you
re-apply one diff at a time elsewhere in the graph.

On Wed, Apr 8, 2015 at 12:18 AM, Paul Licameli paul.licameli@gmail.com
wrote:

> I understand git reflog may help you rediscover ""lost"" branches, or
> ""dangling commits,"" which are not reachable from any branch head.
> 
> On Tue, Apr 7, 2015 at 11:20 PM, Leland Lucius notifications@github.com
> wrote:
> 
> > Be careful though. Somewhere along the line I wound up rebasing my entire
> > repo and lost the 3 branches I had there. Wasn't a biggie...I just
> > recreated them (well, all but 1 so far).
> > 
> > —
> > Reply to this email directly or view it on GitHub
> > https://github.com/audacity/audacity/pull/12#issuecomment-90792414.
 =||= Well, both of those options would have been handy.  :-)  But, I just went with recreating the branches as it was pretty easy to do.

Thanks,

Leland
 =||= On 8 April 2015 at 04:20, Leland Lucius notifications@github.com wrote:

> Be careful though. Somewhere along the line I wound up rebasing my entire
> repo and lost the 3 branches I had there. Wasn't a biggie...I just
> recreated them (well, all but 1 so far).
> 
> Thanks for the warning but it's hard to ""be careful"" when I don't know what
> I'm doing :-)

What happened here?
Was it  that:
The audacity/audacity repository became messed up, causing all other forks
to be messed up, and now the audacity/audacity master has been ""cleaned"",
commits from forks will mess it up again?

Would it be better if I deleted my fork and used SVN for now?

Steve

> —
> Reply to this email directly or view it on GitHub
> https://github.com/audacity/audacity/pull/12#issuecomment-90792414.
 =||= If it's easy to redo your changes, then do what I did.  It was an accident for me, but it worked.  :-)  You could delete your fork:

https://help.github.com/articles/deleting-a-repository/

Then just fork again and reapply your change.
 =||= I've deleted my repository and will start again.
 =||= Sorry for the grief.

The problem was that audacity/master got messy, and the mess was reverted
and replaced with equivalent code changes but a neater history.  We need to
base further changes on the new history to avoid merging the messy parts
back in again.

git rebase is supposed to make that sort of thing easy -- picking up a
branch you have not yet pushed, and moving it elsewhere in the graph.  I
made my first successful use of that command today.

On Wed, Apr 8, 2015 at 8:08 AM, Steve Daulton notifications@github.com
wrote:

> I've deleted my repository and will start again.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/audacity/audacity/pull/12#issuecomment-90893711.
 =||= Oh no...not a big deal.  The more we play/learn at the beginning, the better off we'll be later.
 =||= Here's another discovery:  if I rebase a banch that I already pushed to my
remote, public sandbox (not to audacity), then I need the -f (force) option
to push it again.  Else it complains that the branch on the remote is not
upstream of the branch I am pushing.

On Wed, Apr 8, 2015 at 10:41 AM, Leland Lucius notifications@github.com
wrote:

> Oh no...not a big deal. The more we play/learn at the beginning, the
> better off we'll be later.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/audacity/audacity/pull/12#issuecomment-90936390.
 =||= Paul, yes.  After a rebase you have 'rewritten history' and a push of the local branch that is tracking a remote branch will need a -f. 

We should avoid doing push -f to audacity/audacity as that could/will overwrite changes already made by someone else.  In your own repo it is just fine.

Also if you have done a push -f, and then make further changes on your branch and push again, you don't need a -f the second time (unless you've also rebased again).  The history matches, so there is no rewriting of history to do.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
13This will change the autosave file to a binary representation of the XMLLeland Luciuslllucius04/17/15, 08:49:12 PM"file. By doing this, all of the processing required to convert values to
a textual format (float, doubles, int, strings) is now moved to recovery
instead. This gets it out of the autosave path and improves responsiveness
quite a bit.

Edits in large projects are considerably faster after this change."NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
14Nyquist 3.09Leland Luciuslllucius04/08/15, 11:36:14 AMNaNNaNNyquist 3.09Leland Luciuslllucius04/08/15, 11:36:14 AMNaNNaNLeland Lucius04/08/15, 03:11:26 AMUpdates to use new Nyquist v3.09.1
15Update lv2 libsLeland Luciuslllucius04/08/15, 11:36:39 AMPrepping for update LV2 effect handlingNaNUpdate lv2 libsLeland Luciuslllucius04/08/15, 11:36:39 AMPrepping for update LV2 effect handlingNaNLeland Lucius04/08/15, 06:17:52 AMAdjusted Mac project files for update LV2 libs1
16Removing unused/obsolete libraries from lib-srcLeland Luciuslllucius04/08/15, 12:46:34 PM"Libs removed:

id3lib
libresample
libsamplerate
portburn
taglib (can always put it back in if needed)

This effectively makes libsoxr THE resampling lib for Audacity and
changes were made to include it in the minsrc tarball."NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
17Meter refresh rate not updated when leaving preferences.Leland Luciuslllucius04/08/15, 11:35:08 AMNaNNaNMeter refresh rate not updated when leaving preferences.Leland Luciuslllucius04/08/15, 11:35:08 AMNaNNaNLeland Lucius04/08/15, 08:03:44 AMMeter refresh rate not updated when leaving preferences.1
18Removing unused/obsolete libraries from lib-srcLeland Luciuslllucius04/13/15, 06:48:05 PM"Libs removed:

id3lib
libresample
libsamplerate
portburn
taglib

This effectively makes libsoxr THE resampling lib for Audacity.

In addition, changes were made to include it in the minsrc tarball.""This will not automatically merge.

might portburn be useful in the future?

Closing this pull request, and suggesting that instead you just remove things you are fairly sure we won't need.  We can always add back (more up to date versions) later if we want them.
 =||= Actually, I find it unlikely that portburn would be useful in the future.  Dominic started it on OSX.  I updated and added the Windows stuff.  But, it's been years and I doubt that it will ever see the light of day (or if it even still works).

Even so, I'll removed the other libs and leave portburn.  The only one without an upstream version is libresample and we can always pull it from history if needed.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
19Adding changes that I missed when redoing my branches.Leland Luciuslllucius04/08/15, 03:23:00 PMNaNNaNAdding changes that I missed when redoing my branches.Leland Luciuslllucius04/08/15, 03:23:00 PMNaNNaNLeland Lucius04/08/15, 03:21:17 PMAdding changes that I missed when redoing my branches.1
20VS2013 includes the log2() function, so prevent Nyquist from defining it...Leland Luciuslllucius04/08/15, 04:32:02 PM...."The .patch file should not be part of the commit?

On Wed, Apr 8, 2015 at 12:31 PM, Leland Lucius notifications@github.com
wrote:

> ## ....
> 
> You can view, comment on, or merge this pull request online at:
> 
>   https://github.com/audacity/audacity/pull/20
> Commit Summary
> - VS2013 includes the log2() function, so prevent Nyquist from
>   defining it.
> 
> File Changes
> - _M_ lib-src/audacity-patches.txt
>   https://github.com/audacity/audacity/pull/20/files#diff-0 (1)
> - _M_ lib-src/libnyquist/nyquist/nyqsrc/sound.c
>   https://github.com/audacity/audacity/pull/20/files#diff-1 (2)
> - _A_ lib-src/libnyquist/sound.patch
>   https://github.com/audacity/audacity/pull/20/files#diff-2 (20)
> 
> Patch Links:
> - https://github.com/audacity/audacity/pull/20.patch
> - https://github.com/audacity/audacity/pull/20.diff
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/audacity/audacity/pull/20.
 =||= Leland, what were the Windows build errors that James says you were fixing?

On Wed, Apr 8, 2015 at 12:33 PM, Paul Licameli paul.licameli@gmail.com
wrote:

> The .patch file should not be part of the commit?
> 
> On Wed, Apr 8, 2015 at 12:31 PM, Leland Lucius notifications@github.com
> wrote:
> 
> > ## ....
> > 
> > You can view, comment on, or merge this pull request online at:
> > 
> >   https://github.com/audacity/audacity/pull/20
> > Commit Summary
> > - VS2013 includes the log2() function, so prevent Nyquist from
> >   defining it.
> > 
> > File Changes
> > - _M_ lib-src/audacity-patches.txt
> >   https://github.com/audacity/audacity/pull/20/files#diff-0 (1)
> > - _M_ lib-src/libnyquist/nyquist/nyqsrc/sound.c
> >   https://github.com/audacity/audacity/pull/20/files#diff-1 (2)
> > - _A_ lib-src/libnyquist/sound.patch
> >   https://github.com/audacity/audacity/pull/20/files#diff-2 (20)
> > 
> > Patch Links:
> > - https://github.com/audacity/audacity/pull/20.patch
> > - https://github.com/audacity/audacity/pull/20.diff
> > 
> > —
> > Reply to this email directly or view it on GitHub
> > https://github.com/audacity/audacity/pull/20.
 =||= We can delete it (the patch files) in the next push.  No need to rewrite history.  It is small.  And add .patch to .gitignore.
 =||= The patch file is supposed to be there...it's how we track changes to the libs.  Well, that's how we've historically done it anyway.
 =||= "VS2013 includes the log2() function, so prevent Nyquist from defining it...Leland Luciuslllucius04/08/15, 04:32:02 PM....NaNLeland Lucius04/08/15, 04:29:55 PMVS2013 includes the log2() function, so prevent Nyquist from defining it.1
21Add new Nyquist runtime files to Windows projectLeland Luciuslllucius04/08/15, 06:17:36 PMNaNNaNAdd new Nyquist runtime files to Windows projectLeland Luciuslllucius04/08/15, 06:17:36 PMNaNNaNLeland Lucius04/08/15, 06:16:50 PMAdd new Nyquist runtime files to Windows project1
22Don't capture the mouse if it's already captured.James CrookJamesCrook04/09/15, 09:59:42 AM"Otherwise the following assertion gets triggered:
../src/common/wincmn.cpp(3271): assert ""!wxMouseCapture::IsInCaptureStack(this)"" failed in CaptureMouse(): Recapturing the mouse in the same window?

Based on the fix provided for an identical assertion triggered elsewhere,
described here: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=765779""Thanks Chris!  Merged now.
 =||= "Don't capture the mouse if it's already captured.James CrookJamesCrook04/09/15, 09:59:42 AM"Otherwise the following assertion gets triggered:
../src/common/wincmn.cpp(3271): assert ""!wxMouseCapture::IsInCaptureStack(this)"" failed in CaptureMouse(): Recapturing the mouse in the same window?

Based on the fix provided for an identical assertion triggered elsewhere,
described here: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=765779"NaNChris Diamand04/08/15, 09:52:24 PM"Don't capture the mouse if it's already captured.

Otherwise the following assertion gets triggered:
../src/common/wincmn.cpp(3271): assert ""!wxMouseCapture::IsInCaptureStack(this)"" failed in CaptureMouse(): Recapturing the mouse in the same window?

Based on the fix provided for an identical assertion triggered elsewhere,
described here: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=765779"1
23ESC key can abort some dragging actionsPaul LicameliPaul-Licameli04/09/15, 09:17:54 PM"Track panel does nothing special when ESC goes down.

It would be consistent with other applications to let it abort mouse dragging actions.

I have found it a minor nuisance that I can't abort zooming (horizontally, but especially vertically) when I start it by mistake.  It used to be that I had to complete a zoom in, then zoom out again to find my place.

With this, I can ESC from it.

It would make sense to abort other kinds of drags too, but they might need more work.  For instance, to abort time shift, I would expect not just to stop shifting a clip, but also to return it to its original position.  With zooming there is no extra trouble restoring state, because state does not change until button-up.""Would it be easy to also remove the zooming lines by doing a refresh() on the ESC?  Not essential, but makes it clearer.
 =||= Does that not happen for you already?  I see the zoom lines disappear when
I try it, horizontal or vertical.

On Thu, Apr 9, 2015 at 6:12 PM, James Crook notifications@github.com
wrote:

> Would it be easy to also remove the zooming lines by doing a refresh() on
> the ESC? Not essential, but makes it clearer.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/audacity/audacity/pull/23#issuecomment-91369104.
 =||= "ESC key can abort some dragging actionsPaul LicameliPaul-Licameli04/09/15, 09:17:54 PM"Track panel does nothing special when ESC goes down.

It would be consistent with other applications to let it abort mouse dragging actions.

I have found it a minor nuisance that I can't abort zooming (horizontally, but especially vertically) when I start it by mistake.  It used to be that I had to complete a zoom in, then zoom out again to find my place.

With this, I can ESC from it.

It would make sense to abort other kinds of drags too, but they might need more work.  For instance, to abort time shift, I would expect not just to stop shifting a clip, but also to return it to its original position.  With zooming there is no extra trouble restoring state, because state does not change until button-up."NaNPaul-Licameli04/09/15, 07:57:43 PMMerge branch 'Escape-key'1
24Bug812 - Vertical scrollbar position should be persistent too, as is hor...Paul LicameliPaul-Licameli04/10/15, 05:10:31 PM"...izontal

Effective but perhaps inelegant fix.""The fix works but is a little inelegant.  I'd like at least a token review before it goes in.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
25Add new files to Mac and Linux buildsLeland Luciuslllucius04/11/15, 04:23:38 AMNaN"So what's the best procedure to avoid build breaks like this, when I want
to add a .cpp file, but I am not equipped to build it myself on Mac and
Linux?

Pull requests?

On Sat, Apr 11, 2015 at 12:23 AM, Leland Lucius notifications@github.com
wrote:

> Merged #25 https://github.com/audacity/audacity/pull/25.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/audacity/audacity/pull/25#event-278651994.
 =||= I suppose you could hold off on the merge until someone else can prep build changes for the other plats.  Or maybe implement an ""devel/master"" strategy as described by that link you posted the other day:

http://nvie.com/posts/a-successful-git-branching-model/

If a person is pulling from devel, then they know the risks.  

But, as mentioned on -devel, build breakages happen.  They always have.  I personally don't see them as an overly big deal.  They get fixed up fairly quickly.

> -----Original Message-----
> From: Paul Licameli [mailto:notifications@github.com]
> Sent: Friday, April 10, 2015 11:58 PM
> To: audacity/audacity
> Cc: Leland Lucius
> Subject: Re: [audacity] Add new files to Mac and Linux builds (#25)
> 
> So what's the best procedure to avoid build breaks like this, when I want
> to add a .cpp file, but I am not equipped to build it myself on Mac and
> Linux?
> 
> Pull requests?
> 
> On Sat, Apr 11, 2015 at 12:23 AM, Leland Lucius notifications@github.com
> wrote:
> 
> > Merged #25 https://github.com/audacity/audacity/pull/25.
> > 
> > —
> > Reply to this email directly or view it on GitHub
> > https://github.com/audacity/audacity/pull/25#event-278651994.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/audacity/audacity/pull/25#issuecomment-91761247 .
> <https://github.com/notifications/beacon/AHAeiJLPtpA15zCE19TG1dUM5W
> h8_4aaks5n-KFWgaJpZM4D-d7f.gif>
 =||= "Add new files to Mac and Linux buildsLeland Luciuslllucius04/11/15, 04:23:38 AMNaNNaNNaNNaNNaN1
26Fix build on Fedora 21Leland Luciuslllucius04/13/15, 06:50:52 PMNaN"Please just add the 
Libs: -L\${libdir} ${lib} -ldl -lm

via web interface instead.  This patch has a lot of old merge history with it.
 =||= Until you had me change the travis file, I didn't know you could even make small changes like this via the web interface.  That is WAY WAY easier for things like this.

> -----Original Message-----
> From: James Crook [mailto:notifications@github.com]
> Sent: Monday, April 13, 2015 1:51 PM
> To: audacity/audacity
> Cc: Leland Lucius
> Subject: Re: [audacity] Fix build on Fedora 21 (#26)
> 
> Please just add the
> Libs: -L\${libdir} ${lib} -ldl -lm
> 
> via web interface instead. This patch has a lot of old merge history with it.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/audacity/audacity/pull/26#issuecomment-92458366 .
> <https://github.com/notifications/beacon/AHAeiM7q8NblUGCeGkdTlREAH7
> pXnaMVks5n_AeNgaJpZM4D-fTv.gif>
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
27Add Ukrainian translation to desktop fileYuri Chornoivanyurchor04/11/15, 09:59:44 PMThanks for merging this pull request."Thanks!
 =||= "Add Ukrainian translation to desktop fileYuri Chornoivanyurchor04/11/15, 09:59:44 PMThanks for merging this pull request.NaNYuri Chornoivan04/11/15, 04:31:04 PMAdd Ukrainian translation to desktop file1
28update src/effects/NoiseReduction.cpp to build on wxWidgets 3david averydaavery04/11/15, 09:03:56 PM"build fails on wx3 with unable to convert const char\* to wxChar *

cast all wxTranslate to wxString"NaNupdate src/effects/NoiseReduction.cpp to build on wxWidgets 3david averydaavery04/11/15, 09:03:56 PM"build fails on wx3 with unable to convert const char\* to wxChar *

cast all wxTranslate to wxString"NaNdavid avery04/11/15, 07:05:10 PMupdate src/effects/NoiseReduction.cpp to build on wxWidgets 31
29fix linux builddavid averydaavery04/11/15, 09:56:27 PMadd #include <math.h>"Thanks, already spotted and applied.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
30changes to allow building with wxWidgets 2.8, 3.0, and 3.1david averydaavery04/12/15, 10:24:17 AM"source and windows project / solution files to allow building audacity with wxWidgets 2.8, 3.0, 3.1(git master)

adds wx31-debug and wx31-release build targets to visual studio solution

changes that are wxwidgets 2.8 incompatable are all protected by wxCHECK_VERSION(3,0,0) version tests

only issue is src/widgets/ErrorDialog.h
    MakeModal() is no longer available in wxwidgets so the calls are removed if building on wx3.0 or 3.1""Why the need for additional build configs?  What changed so drastically between wx3.0 and wx3.1 to require entirely new configs?
 =||= On 4/12/2015 1:09 AM, Leland Lucius wrote:

> Why the need for additional build configs? What changed so drastically 
> between wx3.0 and wx3.1 to require entirely new configs?
> 
> —
> Reply to this email directly or view it on GitHub 
> https://github.com/audacity/audacity/pull/30#issuecomment-92002412.
> 
> the wx dll names all changed 
> wxbase31u.lib;wxbase31u_net.lib;wxmsw31u_adv.lib;wxmsw31u_core.lib;wxmsw31u_html.lib

so either you build for wx30 or wx31 with changed project files or 
supply both

the dlls encode major/minor version of wxWidgets on the file name

the existing debug/release targets are 2.8
the existing wx3-debug/wx3-release targets are 3.0
the new wx31-debug/wx31-release targets are 3.1

the only differences are the dll names in the <AdditionalDependencies> 
and  the WXWIN/WXWIN3/WXWIN31 environment variables is the various path 
settings

dave

## 

David A. Avery
Avery Design
  Technical Theatre
    Lighting Design
    Scenery Construction
    Sound Design
    Live Recording
   (303) 725-7515 (cell)
 =||= Thanks.  See message on audacity devel.  Not merging.  We'll look properly at wx3 again for 2.1.2.  Meanwhile this should stay on Dave's repo/branch.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
31AppData file update to v0.7+Ukrainian translation of AppDataYuri Chornoivanyurchor05/02/15, 09:55:43 AM"This patch updates Audacity AppData file to the new version of standard [1] and adds Ukrainian translation.

Thanks for reviewing and committing the changes.

[1] http://www.freedesktop.org/software/appstream/docs/chap-Quickstart.html#sect-Quickstart-DesktopApps""Looks like a good thing to me, but I agree James, it would be something that we'd want to have all of the translators do if we wanted to start maintaining the translations in here as well.
 =||= As RM I've decided not to do this for 2.1.1.  
Yuri If you can persuade French and German translators on the translators list to do this for 2.1.2 too, then there is a good chance we will do translated versions for 2.1.2.
 =||= Yuri, can you tell me what would need to be done ? (french translator here)
 =||= Hi,

Look at the diff:

https://github.com/yurchor/audacity/commit/5184faa1c2b94ed5401720b66e0f1cc732ac4b8d

It is enough to add your translation after each tag in the following format:

`<some_tag>`
Blah-blah-blah
`</some_tag>`
`<some_tag xml:lang=""fr"">`
Translation
`</some_tag>`

Thorough explanation:

http://www.freedesktop.org/software/appstream/docs/sect-Quickstart-Translation.html

Thanks in advance for your help.
 =||= https://github.com/bdrung is a coder rather than a translator, but is active in Audacity, and as it is a small amount to translate and specifically for Linux, he may be willing to do so.  Worth asking.
 =||= I should also have said he is German.
 =||= Hi James, if you'd be happy to merge Yuri's patch, I'd be able to commit the FR one afterward.
I'm pretty new with GIT's stuff. That said, my guestimate is that if I'm modifying the original file without Yuri's patch in, Yuri or me would have to redo a patch. Am I right here ?
I did read your comment about deciding not to do this before 2.1.2 so please, tell me what to do from here.
Cheers.
 =||= Hi Trebmuh,

You can easily create a new branch in your repo that is a copy of yurchor/master and then make changes in your new branch.  When I later pick that up for 2.1.2 I will get his changes and your changes.  You are using the command line, not doing everything through GitHub web interface?  If so, then on your machine navigate to your audacity repo and do:

```
git remote add yuri https://github.com/yurchor/audacity
git fetch --all
```

to add yuri's repo and get up to date with it.  Now do 

```
git checkout yuri/master
git checkout -b appdata_branch
```

and your appdata_branch will be up to date with yuri's branch.  You can then add your changes.  Later you will push it to your github repo.

If you'd rather not try that, then just make your changes and later on I will merge the two branches.  I don't know if git tools will merge this file nicely, but if they don't I can hand edit to get the right end result.
 =||= OK done. I hope I did it the right way with GIT.
I'm only using the web interface for this i18n work James.
Thanks for your comments, really appreciated.
 =||= I've cherry picked your changes into my new appdata branch. The idea is that when we do add them for 2.1.2 they will all be in one place in the commit logs. 

Thanks.  LGTM.

--James
 =||= Awesome James. Thanks for this. Would you reckon that we should send an email to the audacity translations list in order to get some more other language commits and then, when merging this branch it'll be pretty consistent across languages support ?
 =||= We're very much a 'doer decides' community.  

For it to get into 2.1.2 it must have the German translation too.  Also I will be taking feedback from the linux people on the developer list about AppData.  I want to check and get them to sign off on it going in with more translations.  Totally expecting them to be +1. The usual problem with translations, e.g. of website, is half completed translations and translations that haven't kept up with the changes.  This file is (a) small and (b) not changing often/fast, so there is low risk of that.

It doesn't need to have more than English, French, German, but if you would like to organise more on the translators list, you are welcome to.  

We will soon be making a change to the URLs in the file, but most unlikely to change the other text any time soon.
 =||= Great. I'll be waiting you to have a discussion with the audacity linux people about AppData first since I do not want to rush people if that's finally a no-go.
Then, I'll take your point and get that proposition of translation on the translation list. (By the way, I'm reading at audacity devel and translation lists)
The ball is yours :)
 =||= You can now cherry-pick the German translation from https://github.com/DanWin/audacity/commit/b538f367df994a803d1a87067a1536d2b11e49b9
 =||= Awesome Dan !
 =||= Got that now Dan, and thanks for the '<' correction too.
 =||= +1 thanks for the '<' correction
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
32merging wx3 changesdavid averydaavery04/13/15, 09:14:16 AMupdate to allow building wx3 "Thanks.  
 =||= "merging wx3 changesdavid averydaavery04/13/15, 09:14:16 AMupdate to allow building wx3 NaNdavid avery04/13/15, 05:52:32 AMmerging wx3 changes1
33Clean libsrcLeland Luciuslllucius04/16/15, 08:40:53 PM"Removing:

id3lib
libresample
libsamplerate
taglib"NaNClean libsrcLeland Luciuslllucius04/16/15, 08:40:53 PM"Removing:

id3lib
libresample
libsamplerate
taglib"NaNLeland Lucius04/16/15, 07:41:41 PM"Cleanup lib-src

Removing:

id3lib
libresample
libsamplerate
taglib"1
34Migrating the remaining effectsLeland Luciuslllucius04/17/15, 04:51:22 AM"This brings the builtin, LV2, and VAMP effects inline with the
Audio Units, LADSPA, and VST effects.  All effects now share
a common UI.

This gives all effects (though not implemented for all):

User and factory preset capability
Preset import/export capability
Shared or private configuration options

Builtin effects can now be migrated to RTP, depending on algorithm.
LV2 effects now support graphical interfaces if the plugin supplies one.
Nyquist prompt enhanced to provide some features of the Nyquist Workbench.

It may not look like it, but this was a LOT of work, so trust me, there
WILL be problems and everything effect related should be suspect.  Keep
a sharp eye (or two) open.""Oh it does look like it was a lot of work.  And important to our progress.

It also should make it easier for the AU14 TrackPanel to have Audacity effects in it, in due course, now that everything is on the same footing.  And that potentially saves a ton of work for me.
 =||= "Migrating the remaining effectsLeland Luciuslllucius04/17/15, 04:51:22 AM"This brings the builtin, LV2, and VAMP effects inline with the
Audio Units, LADSPA, and VST effects.  All effects now share
a common UI.

This gives all effects (though not implemented for all):

User and factory preset capability
Preset import/export capability
Shared or private configuration options

Builtin effects can now be migrated to RTP, depending on algorithm.
LV2 effects now support graphical interfaces if the plugin supplies one.
Nyquist prompt enhanced to provide some features of the Nyquist Workbench.

It may not look like it, but this was a LOT of work, so trust me, there
WILL be problems and everything effect related should be suspect.  Keep
a sharp eye (or two) open."NaNLeland Lucius04/17/15, 03:53:42 AM"Migrating the remaining effects

This brings the builtin, LV2, and VAMP effects inline with the
Audio Units, LADSPA, and VST effects.  All effects now share
a common UI.

This gives all effects (though not implemented for all):

User and factory preset capability
Preset import/export capability
Shared or private configuration options

Builtin effects can now be migrated to RTP, depending on algorithm.
LV2 effects now support graphical interfaces if the plugin supplies one.
Nyquist prompt enhanced to provide some features of the Nyquist Workbench.

It may not look like it, but this was a LOT of work, so trust me, there
WILL be problems and everything effect related should be suspect.  Keep
a sharp eye (or two) open."1
35Fix errorsDaniel WinzenDanWin04/22/15, 02:46:32 PMI found a few errors in the code using cppcheck and fixed them.NaNFix errorsDaniel WinzenDanWin04/22/15, 02:46:32 PMI found a few errors in the code using cppcheck and fixed them.NaNDaniel Winzen04/22/15, 12:53:01 PMFix errors1
36Performance improvementsDaniel WinzenDanWin04/24/15, 12:52:38 PMThis optimizes various performance related issues pointed out by cppcheck."Looks great to me.  Anyone else want to review?  If not, I'll go ahead and merge it.

Thanks Dan!!!  Oh and thanks for yesterdays too (i was ashamed at what I'd one. :-))
 =||= You're welcome!
I just added some more variable cleanups.
 =||= These replacements might return more accurate results, when small values are computed, see http://www.cplusplus.com/reference/cmath/log1p/ 
Otherwise they do exactly the same as before.
 =||= LGTM.  
 =||= "Performance improvementsDaniel WinzenDanWin04/24/15, 12:52:38 PMThis optimizes various performance related issues pointed out by cppcheck.NaNDaniel Winzen04/23/15, 04:30:38 PMVariable cleanup1
37Add MTC/MMC synchronisationMartin DelilleMartinDelille04/27/15, 09:14:02 AMIt'll be nice to have a midi timecode or midi machine control synchronisation feature to record in sync with project like mine: https://github.com/phonations/joker"Hi Martin.  Come over to audacity-devel@sourcefroge.net and suggest it there, and explain how it would work.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
38Fix 3 uninitialized variable accesses and some optimizationsDaniel WinzenDanWin04/29/15, 03:50:24 PMNaN"In ToolDock and TimeTrack, what was the real intent?  Are you sure those fixes are the correct ones?
 =||= The affected code in ToolDock and TimeTrack wasn't touched in years, we can only guess what originally was intended.
And concerning the other fixes, I double checked the code and did a test run with valgrind. Everything works fine for me. I'm pretty sure, those are correct.
 =||= My mistake, it is a pull request, not just a commit.  Rejected in its current form.  Dan, come on over to audacity-devel e-mail list and we can talk about style in audacity and what an acceptable pull request would need. 
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
39Fix uninitialized variablesDaniel WinzenDanWin05/02/15, 09:59:09 AMThis is basically a recreation of #38 without any stylistic changes, only fixing the uninitialized variables.NaNFix uninitialized variablesDaniel WinzenDanWin05/02/15, 09:59:09 AMThis is basically a recreation of #38 without any stylistic changes, only fixing the uninitialized variables.NaNDaniel Winzen04/30/15, 09:49:21 AM"Fix uninitialized variable in Equalizer effect

Delete mCustomBackup, as it is never used"1
40Freq windowLeland Luciuslllucius05/04/15, 11:58:52 AMNaNNaNFreq windowLeland Luciuslllucius05/04/15, 11:58:52 AMNaNNaNLeland Lucius05/03/15, 09:51:11 PMAllow initial display to refresh1
41minor improvements to accessibility of register effects dialog. Added…James CrookJamesCrook05/11/15, 12:22:40 PM… show to the accessibility names of the radio buttons. Added access keys for the radio buttons, plus adjusted others.NaNminor improvements to accessibility of register effects dialog. Added…James CrookJamesCrook05/11/15, 12:22:40 PM… show to the accessibility names of the radio buttons. Added access keys for the radio buttons, plus adjusted others.NaNDavid Bailes05/11/15, 11:22:02 AMminor improvements to accessibility of register effects dialog. Added show to the accessibility names of the radio buttons. Added access keys for the radio buttons, plus adjusted others.1
42LADSPA: correctly compute the default value for logarithmic control portsspider-mario05/16/15, 04:13:46 PMThere was a typo (repeated three times)."Great catch...thanks much.
 =||= "LADSPA: correctly compute the default value for logarithmic control portsspider-mario05/16/15, 04:13:46 PMThere was a typo (repeated three times).NaNspider-mario05/16/15, 02:05:46 PMLADSPA: correctly compute the default value for logarithmic control ports1
43Prevent stereo->mono effects from causing a crash.spider-mario05/16/15, 06:36:30 PM"If an effect has two input channels but only one output channel, we cannot read from the second output buffer, as there isn’t one.

This hopefully fixes [#946](http://bugzilla.audacityteam.org/show_bug.cgi?id=946).""Good sleuthing on this one as well and it has pointed out a bigger problem.  The current code doesn't properly handle, fewer inputs than outputs and fewer outputs than inputs.

I'm gonna see if there's a quick solution to the bigger problem and if not, I'll merge your request since it does fix the immediate problem.
 =||= The bigger fix is much too disruptive this late in the 2.1.1 cycle.  So, I'd like to merge your change.  But, instead of duplicating the left channel to the right, can you make it clear the right channel instead?  That way the right channel won't play a role in future processing, like playback or mixing.

Thanks much for finding this issue and the fix.
 =||= Doesn’t it play a bigger role if it’s cleared? For example, when mixing, wouldn’t the result be half what it should be?
 =||= As long as the track is left as a stereo track after the effect is done, then yes.  And until I can get to actually removing the right channel, your patch is perfect as-is.
 =||= You have a name I could throw into the bug report and contribution list?
 =||= "Prevent stereo->mono effects from causing a crash.spider-mario05/16/15, 06:36:30 PM"If an effect has two input channels but only one output channel, we cannot read from the second output buffer, as there isn’t one.

This hopefully fixes [#946](http://bugzilla.audacityteam.org/show_bug.cgi?id=946)."NaNspider-mario05/16/15, 03:53:04 PMPrevent stereo->mono effects from causing a crash.1
44update for wx3david averydaavery05/16/15, 09:22:33 PMNaN"//warning is fatal in vs 2013
 =||= I did not know that.  Fair enough.  It's still there as an eye catcher for when we do the real conversion.
 =||= "update for wx3david averydaavery05/16/15, 09:22:33 PMNaNNaNdavid avery05/16/15, 08:40:29 PMwx31
45Do not multiply the latency of LADSPA effects by twospider-mario08/01/15, 05:01:51 PM"With the multiplication, Audacity appears to overcompensate.

I am not sure why it is done, as LV2Effect and VSTEffect return the latency as reported by the plugin.""Honestly spidey, I can't remember why I did that.  Could be I happened to hit an effect that provided half of what it should have.  Can you give me an example effect that you found where it shows the overcompensation?
 =||= I have written [a minimal effect](http://spidermario.free.fr/audacity_latency.tar.gz) to reproduce the problem. It copies its input to its output, while introducing latency for the sake of it, using a FIFO buffer.

If GetLatency returns twice the latency reported by the plugin, the samples end up shifted to the left. It doesn’t happen if the latency is returned as is.
 =||= Thanks.  I'll give it a try and see if I can force my aging brain to remember why I did that.
 =||= "Do not multiply the latency of LADSPA effects by twospider-mario08/01/15, 05:01:51 PM"With the multiplication, Audacity appears to overcompensate.

I am not sure why it is done, as LV2Effect and VSTEffect return the latency as reported by the plugin."NaNspider-mario05/17/15, 04:16:08 PMDo not multiply the latency of LADSPA effects by two.1
46Fix remnant effects on batch command for multiple filesCory Cookcorycook05/21/15, 06:49:59 PM"When running a chain on multiple files effects generated by the chain were not properly removed after the execution of the chain. This causes the effects to overlap from one file to the next.

This fix forces the project to clear all tracks between files; however, it may be better to fix ClearStates() to remove added effects."NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
47Fix remnant effects on batch command for multiple filesCory Cookcorycook05/25/15, 03:59:24 PM"Recreating pull request. Forgot to switch branches before making further changes.

This is for a simple change to clear the current project before moving on to the next file. UndoManager ClearStates() was not removing tracks generated by some effects (like SilenceFinder). State was not completely cleared between files resulting in unexpected behavior.""Hi lovecooks...merging, but make sure not to use tabs for your next one.  How about if you submit another pull to add yourself to the contributors list in AboutDialog.cpp or give me your name and I'll do it.

While we're fiddling with this bit of code, do you see any point to the ""project->OnRemoveTracks()"" on line 329?  The one before the Import().  Seems to me since we force a clean project before apply to files and with your change, that fella isn't needed.  For that matter, doesn't seem like the one after the loop is either.

Thanks much.
 =||= Nevermind about the contributor list.  I've gone ahead and added you.
 =||= btw...if you think those lines are redundant, go ahead and submit another pull and I'll get it merged.
 =||= "Fix remnant effects on batch command for multiple filesCory Cookcorycook05/25/15, 03:59:24 PM"Recreating pull request. Forgot to switch branches before making further changes.

This is for a simple change to clear the current project before moving on to the next file. UndoManager ClearStates() was not removing tracks generated by some effects (like SilenceFinder). State was not completely cleared between files resulting in unexpected behavior."NaNCory Cook05/19/15, 08:20:24 PM"Fix remnant effect on batch process

UndoManager::ClearStates was not removing effect tracks generated during
batch processing."1
48Removed redundant operation.Cory Cookcorycook05/26/15, 08:54:40 PM"Removed a redundant line and replaced tabs with spaces.

The OnRemoveTracks() on line 343 is still necessary to clean up early termination."NaNRemoved redundant operation.Cory Cookcorycook05/26/15, 08:54:40 PM"Removed a redundant line and replaced tabs with spaces.

The OnRemoveTracks() on line 343 is still necessary to clean up early termination."NaNCory Cook05/26/15, 07:05:31 PMRemoved redundant operation.1
49Add option to run chain from the command lineCory Cookcorycook09/12/16, 03:57:59 PM"Added --chain (-c) option to the list of command line options.

audacity.exe -c ""MP3 Conversion"" file1.wav file2.wav ...
audacity.exe --chain=""MP3 Conversion"" file1.wav file2.wav ...

will Normalize/Convert all files passed as arguments

Ensures all files passed are valid paths

It shows the list of files and process dialog for each effect/command same as Apply To Files from BatchProcessDialog.

Opted not to show the primary window since they could just open Audacity and run the chain from there. This would be for more passive application.""Sorry we have been 'off the air' for so long.  
Could you come and talk with us on audacity-devel about this, https://lists.sourceforge.net/lists/listinfo/audacity-devel  and we can look at whether this is good for 2.1.3 ?
 =||= Has conflicts with current code.

No response to my email on audacity-devel about using mod-script-pipe for automation: ""I am feeling the special new command line switch is adding complexity to Audacity and Audacity documentation for not enough real advantage.""

Closing; not accepted.
 =||= To Cory: Although this pull request has been closed, the invitation to talk about this proposed new feature, on the developer's mailing list, remains open.

Re. 'do we want this': From user feedback, there is certainly interest in more flexible command line options, and personally I this proposal is an interesting approach. There's a lot of scope for future development of scripting / automation, and I'd welcome a discussion with Cory about his proposal within that context. (Mailing list is here: https://lists.sourceforge.net/lists/listinfo/audacity-devel)
 =||= Thanks for this Cory.  Only needed 1 minor change to compile 2.1.2 (file src/AudacityApp.cpp line 1422 in the shown patch, return needed a boolean value) and of course line numbers have changed slightly but not too hard to figure that out.  Don't know if I'm the only one that was looking for this but thanks all the same :)
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
50Compiling Fails with switch '--enable-gtk3'teep006/04/15, 10:51:31 AMIf you try to compile with gtk3 compiling fails almost immediately after issuing command 'make'NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
51fix some of Korean translation issueslbjcom01/22/16, 06:13:06 PM"- fix some of Korean translation issue:
  - The 'white noise' is normally called '백색 잡음', not '흰색 잡음' in Korean.
  - 'Amplitude' is called '진폭' not '증폭'.
  - '두 스테레오 채널' may confuse users. So I changed it to better expression.
- add missing whitespace in the translate of 'Feedback (%)'.""This doesn't merge with our current code, and I don't speak Korean so don't know what to fix, so I have reluctantly had to close it.  An updated fix would be welcome.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
52This changes allow you to choose between different color scales.LBoggino01/22/16, 06:30:04 PMNaN"Hello Luciano,

Unfortunately you have shared this code with us too late for inclusion in version 2.1.1, but I hope this can be considered for version 2.1.2.

However you did not resolve conflicts correctly between your work and mine.  You removed some changes necessary to my recent zero-padding project in files SpectrumPrefs.cpp and SpectrumPrefs.h.  This is evident in the diff view.

Please fix this and then share the updated project.
 =||= HI Paul,

Ok I'll get the last changes you made and send the pull request again.

Best Regards.
 =||= I tried it and I like the interface so far.  I am also reviewing the code.  GitHub allows me to attach my remarks to your code, and I will leave some.
 =||= This pull request has conflicts and does not have Paul's suggestions/improvements.
Closing the pull request, waiting for the new one.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
53Update Ukrainian translationYuri Chornoivanyurchor06/17/15, 06:16:11 PM"Tested with msgfmt -vc. Not tested in vivo because of the borken configure scripts.

Many thanks for merging this pull request."NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
54Update Ukrainian translationYuri Chornoivanyurchor01/22/16, 06:21:17 PM"This update fixes the issue with the parameter names.

Thanks for merging this PR.""Later commit taken instead.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
55Bugs 1043, 1044 -- Be careful with new display modes in preferencesPaul LicameliPaul-Licameli06/23/15, 07:25:47 PM"Write a new key so version 2.1.0 isn't confused by the reordered values

Add some future proofing against similar to 2.1.1 code"NaNBugs 1043, 1044 -- Be careful with new display modes in preferencesPaul LicameliPaul-Licameli06/23/15, 07:25:47 PM"Write a new key so version 2.1.0 isn't confused by the reordered values

Add some future proofing against similar to 2.1.1 code"NaNPaul Licameli06/23/15, 03:53:43 PM"Bugs 1043, 1044 -- Be careful with new display modes in preferences

Write a new key so version 2.1.0 isn't confused by the reordered values

Add some future proofing against similar to 2.1.1 code"1
56Fix for bug #1046Leland Luciuslllucius06/25/15, 06:48:09 AMNaNNaNFix for bug #1046Leland Luciuslllucius06/25/15, 06:48:09 AMNaNNaNLeland Lucius06/24/15, 11:32:48 PMFix for bug #10461
57Updated Color Scales pullLBoggino01/22/16, 06:25:37 PMHere is the color scales patch with the zero padding changes that Paul had summitedNaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
59Fix crash in new binary AutoSaveLeland Luciuslllucius07/10/15, 08:31:20 AM"Would happen when writing tags with a value whose length was greater
than 65535 due to the use of shorts.  Now uses int instead."NaNFix crash in new binary AutoSaveLeland Luciuslllucius07/10/15, 08:31:20 AM"Would happen when writing tags with a value whose length was greater
than 65535 due to the use of shorts.  Now uses int instead."NaNLeland Lucius07/08/15, 03:13:34 PM"Fix crash in new binary AutoSave

Would happen when writing tags with a value whose length was greater
than 65535 due to the use of shorts.  Now uses int instead."1
60Updating FFmpeg API calls.heckendorfc09/09/16, 06:02:18 PMThese functions cause the build to fail when using the FFmpeg 2.7 branch."Hi Heckendorf.
Your changes however cause the Travis build to fail.  https://travis-ci.org/audacity/audacity/builds/71094555 Can you fix that so we can consider the pull request?
 =||= Hi,
It will build with external FFmpeg 2.7, like when built through FreeBSD ports. If you'll allow the bundled version of FFmpeg to be upgraded to 2.7,  I can update this patch to include that also.
 =||= Almost a year later, is there any movement on this patch? Does anyone even care that ffmpeg 2.2.2 has so many documented security problems that expose users? At least this should work fine with 2.7.7, although now 3.0.x is current.
 =||= There is a later patch here https://github.com/audacity/audacity/pull/130/commits/41de5b385b2ca721a71871fcdb00ec3fa4441b5b

that I have tested on Windows so far. That patch allows Audacity on that platform to still work with the current maximum FFmpeg 2.3.x but does not allow it to work with later FFmpeg than that. 

A lot has to be done for Audacity to support later FFmpeg than 2.3.x and we also have to consider some compatibility with older FFmpeg between 2.3.x and current. Also we have limited resources. Rather than repeatedly modifying our FFmpeg code for their changes, we may move to GStreamer instead which is also a large change but a once-only change.   

Please post links to the known security problems with FFmpeg 1.2 to 2.3.x. Are you able to offer a future patch that updates Audacity to support later FFmpeg on all platforms? 
 =||= I'd definitely be all for a change to GStreamer! FFMpeg is nice as a standalone program but at least in my opinion and experience it's hard to build programs against it's code and maintain compatibility with the changes in newer versions. That would definitely simplify things quite a bit after the inital changeover.

Now I'm not too experiences with C++ so I don't know what that would all involve so I wouldn't be able to help. I'm more interested Mono.NET and Python. But I will say I know the problems you're having to some extent as I wrote a simple video clip effect and merging program in C# and used the FFMpeg API. It basically converted to raw, processed effects and reencoded all at once using three threads. I haven't worked on or maintained that thing in years and was recently trying to bring it up to date and just gave up.
 =||= 41de5b3 has been merged so this PR can be closed. Verified import is still compatible with AVFormat/AVCodec 57.x.x which is part of the 3.1.3 (latest) release.
 =||=  "" 41de5b3 has been merged so this PR can be closed. ""

Closed now.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
61Linking fails on debian jessie, wxWidgets 2.8.12Roman HargraveRomanHargrave09/03/15, 08:30:47 PM"I have a suspicion that this has to do with linker flag order.

When building `HEAD`, all goes well until the linker is invoked.

OOPS!!!  I had no idea I could edit the comments from someone else.  I thought I was replying.  Sorry about that Roman.""Windows developer guessing the problem might possibly be a 3.x include file being mistakenly used by source in the lib-src/FileDialog subdirectory (a makefile in that directory not updated).  Anyway this is a WONTFIX as the current development version of Audacity for release as 2.1.2 has shifted to wx3.0.2,  If you try compiling the current HEAD version with Jessie that would help us.
 =||= Here's where I SHOULD have added my comment...

This is interesting.  You shouldn't have been able to even get past configure if you were trying to use wxWidgets 2.8.x.  I've updated configure to specifically look for wxWidgets 3.0.x.

Would you mind sharing your config.log?
 =||= On Fri, 28 Aug 2015 15:28:55 -0700
Leland Lucius notifications@github.com wrote:

> Here's where I SHOULD have added my comment...
> 
> This is interesting.  You shouldn't have been able to even get past configure if you were trying to use wxWidgets 2.8.x.  I've updated configure to specifically look for wxWidgets 3.0.x.
> 
> Would you mind sharing your config.log?
> 
> ---
> 
> Reply to this email directly or view it on GitHub:
> https://github.com/audacity/audacity/issues/61#issuecomment-135902109

If I still have it, though this was pre-3.0-transition. I will try rebuilding tonight.

## 

Roman Hargrave roman@hargrave.info 
 http://hargrave.info 

---

< New crypt. See /usr/news/crypt. >

---

```
    \   ^__^
     \  (oo)\_______
        (__)\       )\/\
            ||----w |
            ||     ||
```
 =||= On Fri, 28 Aug 2015 14:29:58 -0700
James Crook notifications@github.com wrote:

> Windows developer guessing the problem might possibly be a 3.x include file being mistakenly used by source in the lib-src/FileDialog subdirectory (a makefile in that directory not updated).  Anyway this is a WONTFIX as the current development version of Audacity for release as 2.1.2 has shifted to wx3.0.2,  If you try compiling the current HEAD version with Jessie that would help us.
> 
> ---
> 
> Reply to this email directly or view it on GitHub:
> https://github.com/audacity/audacity/issues/61#issuecomment-135892958

I tried compiling the current HEAD today (f5f436a), and ran in to the following error during compilation:

```
g++ -DHAVE_CONFIG_H -I.  -Wno-deprecated-declarations -D__STDC_CONSTANT_MACROS -DLIBDIR=\""/usr/local//lib\""   -I../lib-src/portaudio-v19/include    -I../lib-src/lib-widget-extra -I/usr/lib/x86_64-linux-gnu/wx/include/gtk2-unicode-3.0 -I/usr/include/wx-3.0 -D_FILE_OFFSET_BITS=64 -DWXUSINGDLL -D__WXGTK__ -pthread          -I../lib-src/libnyquist -I/usr/include/soundtouch    -I../lib-src/lv2/include -I../lib-src/lv2/include -g -O2 -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security -Wall -I/usr/include/portSMF      -I/usr/lib/x86_64-linux-gnu/wx/include/gtk2-unicode-3.0 -I/usr/include/wx-3.0 -D_FILE_OFFSET_BITS=64 -DWXUSINGDLL -D__WXGTK__ -pthread -pthread -I/usr/include/gtk-2.0 -I/usr/lib/x86_64-linux-gnu/gtk-2.0/include -I/usr/include/gio-unix-2.0/ -I/usr/include/cairo -I/usr/include/pango-1.0 -I/usr/include/atk-1.0 -I/usr/include/cairo -I/usr/include/pixman-1 -I/usr/include/libpng12 -I/usr/include/gdk-pixbuf-2.0 -I/usr/include/libpng12 -I/usr/include/pango-1.0 -I/usr/include/harfbuzz -I/usr/include/pango-1.0 -I/usr/include/glib-2.0 -I/usr/lib/x86_64-linux-gnu/glib-2.0/include -I/usr/include/freetype2  -Wno-unused-local-typedefs -I../lib-src/portmixer/include -mmmx -msse -msse2 -msse3 -march=native -mtune=native -O3 -fexpensive-optimizations -DwxDEBUG_LEVEL=0  -Wall -I../include -I../lib-src/FileDialog                   -MT audacity-AudacityApp.o -MD -MP -MF .deps/audacity-AudacityApp.Tpo -c -o audacity-AudacityApp.o `test -f 'AudacityApp.cpp' || echo './'`AudacityApp.cpp
In file included from AudacityApp.cpp:73:0:
FFmpeg.h: In function ‘AVOutputFormat* av_oformat_next(AVOutputFormat*)’:
FFmpeg.h:692:25: error: conflicting declaration of C function ‘AVOutputFormat* av_oformat_next(AVOutputFormat*)’
       (AVOutputFormat *f),
                         ^
FFmpeg.h:486:18: note: in definition of macro ‘FFMPEG_FUNCTION_WITH_RETURN’
       inline r n a                                                      \
                  ^
In file included from FFmpeg.h:44:0,
                 from AudacityApp.cpp:73:
/usr/include/libavformat/avformat.h:1827:17: note: previous declaration ‘AVOutputFormat* av_oformat_next(const AVOutputFormat*)’
 AVOutputFormat *av_oformat_next(const AVOutputFormat *f);
                 ^
In file included from AudacityApp.cpp:73:0:
FFmpeg.h: In function ‘int av_fifo_size(AVFifoBuffer*)’:
FFmpeg.h:759:23: error: conflicting declaration of C function ‘int av_fifo_size(AVFifoBuffer*)’
       (AVFifoBuffer *f),
                       ^
FFmpeg.h:486:18: note: in definition of macro ‘FFMPEG_FUNCTION_WITH_RETURN’
       inline r n a                                                      \
                  ^
In file included from FFmpeg.h:45:0,
                 from AudacityApp.cpp:73:
/usr/include/libavutil/fifo.h:76:5: note: previous declaration ‘int av_fifo_size(const AVFifoBuffer*)’
 int av_fifo_size(const AVFifoBuffer *f);
     ^
In file included from AudacityApp.cpp:73:0:
FFmpeg.h: In function ‘AVDictionaryEntry* av_dict_get(AVDictionary*, const char*, const AVDictionaryEntry*, int)’:
FFmpeg.h:805:82: error: conflicting declaration of C function ‘AVDictionaryEntry* av_dict_get(AVDictionary*, const char*, const AVDictionaryEntry*, int)’
       (AVDictionary *m, const char *key, const AVDictionaryEntry *prev, int flags),
                                                                                  ^
FFmpeg.h:486:18: note: in definition of macro ‘FFMPEG_FUNCTION_WITH_RETURN’
       inline r n a                                                      \
                  ^
In file included from /usr/include/libavcodec/avcodec.h:37:0,
                 from FFmpeg.h:43,
                 from AudacityApp.cpp:73:
/usr/include/libavutil/dict.h:104:20: note: previous declaration ‘AVDictionaryEntry* av_dict_get(const AVDictionary*, const char*, const AVDictionaryEntry*, int)’
 AVDictionaryEntry *av_dict_get(const AVDictionary *m, const char *key,
                    ^
```

## 

Roman Hargrave roman@hargrave.info 
 http://hargrave.info 

---

< Crazee Edeee, his prices are INSANE!!! >

---

```
    \   ^__^
     \  (oo)\_______
        (__)\       )\/\
            ||----w |
            ||     ||
```
 =||= The same snapshot builds on ubuntu 4.6.3.
https://travis-ci.org/audacity/audacity/builds/77838416

You could try 
./configure --with-ffmpeg=local
To build with the FFmpeg src that comes with Audacity.
(Version 2.2.2-1 according to headers)

FFmpeg 2.5 (and probably later too) requires this patch.  We've not tested with this version of FFmpeg:

--- a/src/FFmpeg.h  2015-02-21 00:33:33.853857529 +0100
+++ b/src/FFmpeg.h  2015-02-21 00:35:09.626497205 +0100
@@ -688,7 +688,7 @@
    FFMPEG_FUNCTION_WITH_RETURN(
       AVOutputFormat*,
       av_oformat_next,
-      (AVOutputFormat *f),
-      (const AVOutputFormat *f),
     (f)
  );
  FFMPEG_FUNCTION_WITH_RETURN(
  @@ -755,7 +755,7 @@
  FFMPEG_FUNCTION_WITH_RETURN(
     int,
     av_fifo_size,
-      (AVFifoBuffer *f),
-      (const AVFifoBuffer *f),
     (f)
  );
  FFMPEG_FUNCTION_WITH_RETURN(
  @@ -801,7 +801,7 @@
  FFMPEG_FUNCTION_WITH_RETURN(
     AVDictionaryEntry *,
     av_dict_get,
-      (AVDictionary *m, const char *key, const AVDictionaryEntry *prev, int flags),
-      (const AVDictionary *m, const char *key, const AVDictionaryEntry *prev, int flags),
     (m, key, prev, flags)
  );
  FFMPEG_FUNCTION_WITH_RETURN(
 =||= Looks like it compiled after that.
 =||= Thanks.  I'm assuming 'that' refers to the configure switch, not the patch.

Closing the issue.
 =||= Correct.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
62Sunflower & Audacity causes crash on Mac OS X (10.10.4)John Behmjxsl1311/11/19, 02:39:59 PM"http://pastebin.com/qbLx1vf7

hopefully it'll help""I'm assuming this is about SoundFlower, which is now a ""retired app"".  We no longer support Mojave, and there are not enough steps to reproduce anyway, so closing this issue. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
63Add binary release files to githubMartin Lindhemartinlindhe08/04/15, 09:46:17 AM"Greetings all!

Would it be possible to attach the binaries you released at http://www.fosshub.com/Audacity.html/audacity-macosx-ub-<version>.dmg to the ""2.1.1"" release on github? See bottom of link [1] for details.

The reason I'm asking is that the new host fosshub.com don't seem to allow any stable download links to be used in scripts, in my case particular homebrew-cask [2].

1: https://github.com/blog/1547-release-your-software
2: https://github.com/caskroom/homebrew-cask""Hi Martin,

We don't want to put binary files in the Git repo itself for obvious reasons.  Attaching as a release object isn't something I was aware of before, so thanks for the info.  We're generally trying to keep our use of GitHub to 'pure git' use, and not use extras such as even this issue tracking system.  I therefore think it's unlikely we will use GitHub releases for binary releases.    If you'd like to argue the case for doing so with more people, explain more about why and lobby for it, the audacity-devel mailing list is a better place.  Nothing stops you hosting your own binary releases on your own GitHub fork of Audacity, provided you comply with Audacity GPL licensing terms, and you could then ensure that the binaries/downloads work correctly with your homebrew-cask.

--James.
 =||= Meant to close the issue with previous comment.
 =||= Thanks. I don't care enough for this issue to host my own binaries for your project, it was merely a suggestion to help your users, since your current host fosshub.com don't allow direct downloads (their page is riddled with javascript to prevent hot-linking)

You are of course free to keep your dev-discussion on a mailing list, but i don't see how that can help your project or your users.
 =||= Thanks for the feedback Martin.
 =||= @JamesCrook since some time has passed, any thoughts on this in 2019/2020? Thank you for all the hard work on an amazing project. =||= Thanks @karbassi . We're still happy with hosting our binaries at FossHub.   =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
642.1.1 tests are not run?Frederik RietdijkFRidh11/10/19, 03:46:04 PM"Running the tests after building Audacity 2.1.1 on NixOS seems to fail:

```
Making all in tests
make[1]: Entering directory '/tmp/nix-build-audacity-2.1.1.drv-0/audacity-Audacity-2.1.1/tests'
make[1]: Nothing to be done for 'all'.
make[1]: Leaving directory '/tmp/nix-build-audacity-2.1.1.drv-0/audacity-Audacity-2.1.1/tests'
make[1]: Entering directory '/tmp/nix-build-audacity-2.1.1.drv-0/audacity-Audacity-2.1.1'
rm -f audacity
cp src/audacity audacity
[ -e plug-ins ] || ln -s ./plug-ins
[ -e nyquist ] || ln -s ./nyquist
[ -e locale ] || ln -s po locale
make[1]: Leaving directory '/tmp/nix-build-audacity-2.1.1.drv-0/audacity-Audacity-2.1.1'
running tests
check flags: SHELL=/nix/store/zmd4jk4db5lgxb8l93mhkvr3x92g2sx2-bash-4.3-p39/bin/bash    
Making check in help
make[1]: Entering directory '/tmp/nix-build-audacity-2.1.1.drv-0/audacity-Audacity-2.1.1/help'
make[1]: Nothing to be done for 'check'.
make[1]: Leaving directory '/tmp/nix-build-audacity-2.1.1.drv-0/audacity-Audacity-2.1.1/help'
Making check in images
make[1]: Entering directory '/tmp/nix-build-audacity-2.1.1.drv-0/audacity-Audacity-2.1.1/images'
make[1]: Nothing to be done for 'check'.
make[1]: Leaving directory '/tmp/nix-build-audacity-2.1.1.drv-0/audacity-Audacity-2.1.1/images'
Making check in lib-src
make[1]: Entering directory '/tmp/nix-build-audacity-2.1.1.drv-0/audacity-Audacity-2.1.1/lib-src'
Making check in FileDialog
make[2]: Entering directory '/tmp/nix-build-audacity-2.1.1.drv-0/audacity-Audacity-2.1.1/lib-src/FileDialog'
make[2]: Nothing to be done for 'check'.
make[2]: Leaving directory '/tmp/nix-build-audacity-2.1.1.drv-0/audacity-Audacity-2.1.1/lib-src/FileDialog'
Making check in libnyquist
make[2]: Entering directory '/tmp/nix-build-audacity-2.1.1.drv-0/audacity-Audacity-2.1.1/lib-src/libnyquist'
make[2]: Nothing to be done for 'check'.
make[2]: Leaving directory '/tmp/nix-build-audacity-2.1.1.drv-0/audacity-Audacity-2.1.1/lib-src/libnyquist'
Making check in portaudio-v19
make[2]: Entering directory '/tmp/nix-build-audacity-2.1.1.drv-0/audacity-Audacity-2.1.1/lib-src/portaudio-v19'
make[2]: *** No rule to make target 'check'.  Stop.
make[2]: Leaving directory '/tmp/nix-build-audacity-2.1.1.drv-0/audacity-Audacity-2.1.1/lib-src/portaudio-v19'
Makefile:999: recipe for target 'check-recursive' failed
make[1]: *** [check-recursive] Error 1
make[1]: Leaving directory '/tmp/nix-build-audacity-2.1.1.drv-0/audacity-Audacity-2.1.1/lib-src'
Makefile:716: recipe for target 'check-recursive' failed
make: *** [check-recursive] Error 1
```

Travis also doesn't seem to be doing any tests:

```
make[2]: Leaving directory `/home/travis/build/audacity/audacity/src'
make[1]: Leaving directory `/home/travis/build/audacity/audacity/src'
Making all in tests
make[1]: Entering directory `/home/travis/build/audacity/audacity/tests'
make[1]: Nothing to be done for `all'.
make[1]: Leaving directory `/home/travis/build/audacity/audacity/tests'
make[1]: Entering directory `/home/travis/build/audacity/audacity'
rm -f audacity
cp src/audacity audacity
[ -e plug-ins ] || ln -s ./plug-ins
[ -e nyquist ] || ln -s ./nyquist
[ -e locale ] || ln -s po locale
make[1]: Leaving directory `/home/travis/build/audacity/audacity'
travis_time:end:07d2e204:start=1439660826751284924,finish=1439661673312463236,duration=846561178312
�[0K
�[32;1mThe command ""aclocal --install -I m4 && automake && ./configure && make"" exited with 0.�[0m

Done. Your build exited with 0.
```""Ping? Does anyone care about test suite failures? Or should we just disable the test suite run in our distribution?
 =||= I forwarded your question to the developer's mailing list. The reply was to disable it for now: http://audacity.238276.n2.nabble.com/Fwd-audacity-2-1-1-tests-are-not-run-64-tp7571762p7571763.html
 =||= @SteveDaulton, ok, thank you very much for the clarification.
 =||= Thanks Steve and Peti.  I should have closed/resolved this back in Nov 2015.  At least I'm only 4 years late....  We do actually now have a script that exercises Audacity and generates screenshots, but it is not part of automated CI and we don't currently plan to make it so. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
65Bug1169: end the separate treatment of lin vs. log display bounds for…Paul LicameliPaul-Licameli09/07/15, 09:05:31 AM"… spectrum...

... also make WaveTrack responsible for storing and validating the bounds
... also let the bounds vary per-track even though other settings are default
... also change some code names to mention ""period"" not ""undertone"""NaNBug1169: end the separate treatment of lin vs. log display bounds for…Paul LicameliPaul-Licameli09/07/15, 09:05:31 AM"… spectrum...

... also make WaveTrack responsible for storing and validating the bounds
... also let the bounds vary per-track even though other settings are default
... also change some code names to mention ""period"" not ""undertone"""NaNPaul Licameli09/06/15, 10:09:16 PM"Bug1169: end the separate treatment of lin vs. log display bounds for spectrum...

... also make WaveTrack responsible for storing and validating the bounds
... also let the bounds vary per-track even though other settings are default
... also change some code names to mention ""period"" not ""undertone"""1
66Updated POTFILES.inLeland Luciuslllucius09/07/15, 09:09:02 AMI believe this includes all possible files that should be scanned for translatable strings.NaNUpdated POTFILES.inLeland Luciuslllucius09/07/15, 09:09:02 AMI believe this includes all possible files that should be scanned for translatable strings.NaNLeland Lucius09/07/15, 04:36:54 AMUpdated POTFILES.in1
67Update Ukrainian translationYuri Chornoivanyurchor09/07/15, 08:04:24 PM"Tested with msgfmt -vc for validity.

Thanks for merging this pull request."NaNUpdate Ukrainian translationYuri Chornoivanyurchor09/07/15, 08:04:24 PM"Tested with msgfmt -vc for validity.

Thanks for merging this pull request."NaNYuri Chornoivan09/07/15, 02:53:52 PMUpdate Ukrainian translation1
68Bug1187: validate before Applying changes of spectrogram preferencesPaul LicameliPaul-Licameli09/16/15, 07:20:27 PMNaN"It's a P4.  We're in FREEZE.  If we open up to fixes like these we need to go back to semifreddo.  So won't get applied until 2.1.3, and you can just apply it then, Paul.
 =||= That's what I thought.  I feared there might be a crash bug here if I use other unvalidated settings.  But I have not made that happen yet.  Zero range did not cause a division by zero anywhere.
 =||= "Bug1187: validate before Applying changes of spectrogram preferencesPaul LicameliPaul-Licameli09/16/15, 07:20:27 PMNaNNaNPaul Licameli09/08/15, 02:22:26 PMBug1187: validate before Applying changes of spectrogram preferences1
69Fix for bug #1182Leland Luciuslllucius09/16/15, 06:41:35 PMNaN"Bug #1203 is a P1, so has to go through.  I've announced a delay to RC1.  I've now decided that delay is 14 days, and so am accepting this pull request.  It's as if we have just gone into FROZEN.
 =||= "Fix for bug #1182Leland Luciuslllucius09/16/15, 06:41:35 PMNaNNaNLeland Lucius09/16/15, 06:08:03 PMFix for bug #12031
70Bug1169 again: correct shuttling of spectrogram scale values with dia…Paul LicameliPaul-Licameli01/22/16, 06:20:52 PMSteve was not satisfied with the completeness of my recent P2 bug fix.  I will leave this here."This still does not work right for me.
I've made a quick video to demonstrate the problem. In short, the track spectrogram settings are now causing the Spectrogram Preferences to change:
https://drive.google.com/file/d/0Bwz8k7IbIHRyR3NaRHhNc0hhcUU/view?usp=sharing
 =||= It was 50:50 whether to merge this or close the pull request.  In the end I closed it because it was done to meet Steve's reservations, and Steve was not OK with it.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
71UpstreamLeland Luciuslllucius09/09/15, 06:33:49 AMContains fixes for bug #1192, the required Xcode changes for bug #1073 and fixes to the broken dist build identified by Gale.NaNUpstreamLeland Luciuslllucius09/09/15, 06:33:49 AMContains fixes for bug #1192, the required Xcode changes for bug #1073 and fixes to the broken dist build identified by Gale.NaNLeland Lucius09/09/15, 06:12:29 AM"Fix dist build on OSX

(Thanks Gale...hope it works now.)"1
72Add ability to reverse tracks in crossfadetrackscampg2j00309/08/16, 08:11:24 AMThis enhancement to the crossfadetracks.ny plugin adds the ability to choose whether to fade out the top or bottom track.  I was doing some processing where I crossfaded from one track to another with different processing and then back.  This allowed me to not have to either do it manually with crossfadeout/in or move the tracks.  It was originally created from the version shipped in 2.1.0 but I just updated it to match that in 2.1.1.  I am new to Git, and had to redo the commit (line terminators!), so maybe that's why there's two commits shown.  Sorry, I probably should have put it on a feature branch."Thanks for the contribution, but what I had in mind, now that Nyquist plug-ins are a bit more flexible, was to make the fade direction automatic based on the selection. Something like this:

```
;nyquist plug-in
;version 4
;type process
;name ""Crossfade Tracks...""
;action ""Crossfading...""
;preview selection
;author ""Steve Daulton""
;copyright ""Released under terms of the GNU General Public License version 2""

;; crossfadetracks.ny by Steve Daulton Nov 2014.
;; Updated Sept 2015.
;; Released under terms of the GNU General Public License version 2:
;; http://www.gnu.org/licenses/old-licenses/gpl-2.0.html .

;control type ""Fade type"" choice ""Constant Gain,Constant Power 1,Constant Power 2,Custom Curve"" 0
;control curve ""Custom curve"" real """" 0 0 1

(defun crossfade (type)
  (mult *track*
    (cond
      ((equal (guessdirection) 'OUT)  ; fade out.
        (case type
          (0 (pwlv 1 1 0))
          (1 (osc (hz-to-step (/ (get-duration 4))) 1 *sine-table* 90))
          (2 (s-sqrt (pwlv 1 1 0)))
          (T (custom curve 0))))
      (T  ; else fade in.
        (setf *control-srate* *sound-srate*)
        (case type
          (0 (pwlv 0 1 1))
          (1 (osc (hz-to-step (/ (get-duration 4))) 1))
          (2 (s-sqrt (pwlv 0 1 1)))
          (T (custom curve 1)))))))

(defun custom (curve inout)
  ;; 'epsilon' defines the curvature of a logarithmc curve.
  ;; To avoid log 0 or /0 it must be > 0 and < 1.
  (let* ((curve (+ 0.99 (* -0.98 (min 1 (max 0 curve)))))
         ; magic number 2.7 gives approx 'constant power' curve at 50% setting.
         (epsilon (power curve 2.7)))
    (if (= inout 0)
        (setf logcurve (pwev epsilon 1 1))
        (setf logcurve (pwev 1 1 epsilon)))
    (sum 1
         (mult (/ -1 (- 1 epsilon))
               (diff logcurve epsilon)))))

 (defun guessdirection ()
  (let* ((start (get '*selection* 'start))
         (end (get '*selection* 'end))
         (clips (get '*track* 'clips))
         (in end)
         (out in))
    (dotimes (i (length clips))
      (setf in (min in (abs (- start (first (nth i clips))))))
      (setf out (min out (abs (- end (second (nth i clips)))))))
    (if (< in out) 'in 'out)))

(crossfade type)
```
 =||= Hi Steve,

My Nyquist is a bit rusty-- it's been a couple of years since I actually 
wrote a plug-in, particularly before breakfast, so I don't understand 
right off how you are deciding the direction.  (After breakfast.) Are 
you figuring out whether the selection is closer to the beginning or end 
of the track?  I'm a little leary of ""automatic"" things, but I think 
that should work.

Thanks.

Gary

On 9/15/2015 4:17 PM, Steve Daulton wrote:

> Thanks for the contribution, but what I had in mind, now that Nyquist 
> plug-ins are a bit more flexible, was to make the fade direction 
> automatic based on the selection. Something like this:
> 
> |;nyquist plug-in ;version 4 ;type process ;name ""Crossfade Tracks..."" 
> ;action ""Crossfading..."" ;preview selection ;author ""Steve Daulton"" 
> ;copyright ""Released under terms of the GNU General Public License 
> version 2"" ;; crossfadetracks.ny by Steve Daulton Nov 2014. ;; Updated 
> Sept 2015. ;; Released under terms of the GNU General Public License 
> version 2: ;; http://www.gnu.org/licenses/old-licenses/gpl-2.0.html . 
> ;control type ""Fade type"" choice ""Constant Gain,Constant Power 
> 1,Constant Power 2,Custom Curve"" 0 ;control curve ""Custom curve"" real 
> """" 0 0 1 (defun crossfade (type) (mult _track_ (cond ((equal 
> (guessdirection) 'OUT) ; fade out. (case type (0 (pwlv 1 1 0)) (1 (osc 
> (hz-to-step (/ (get-duration 4))) 1 _sine-table_ 90)) (2 (s-sqrt (pwlv 
> 1 1 0))) (T (custom curve 0)))) (T ; else fade in. (setf 
> _control-srate_ _sound-srate_) (case type (0 (pwlv 0 1 1)) (1 (osc 
> (hz-to-step (/ (get-duration 4))) 1)) (2 (s-sqrt (pwlv 0 1 1))) (T 
> (custom curve 1))))))) (defun custom (curve inout) ;; 'epsilon' 
> defines the curvature of a logarithmc curve. ;; To avoid log 0 or /0 
> it must be > 0 and < 1. (let\* ((curve (+ 0.99 (\* -0.98 (min 1 (max 0 
> curve))))) ; magic number 2.7 gives approx 'constant power' curve at 
> 50% setting. (epsilon (power curve 2.7))) (if (= inout 0) (setf 
> logcurve (pwev epsilon 1 1)) (setf logcurve (pwev 1 1 epsilon))) (sum 
> 1 (mult (/ -1 (- 1 epsilon)) (diff logcurve epsilon))))) (defun 
> guessdirection () (let\* ((start (get '_selection_ 'start)) (end (get 
> '_selection_ 'end)) (clips (get '_track_ 'clips)) (in end) (out in)) 
> (dotimes (i (length clips)) (setf in (min in (abs (- start (first (nth 
> i clips)))))) (setf out (min out (abs (- end (second (nth i 
> clips))))))) (if (< in out) 'in 'out))) (crossfade type) |
> 
> —
> Reply to this email directly or view it on GitHub 
> https://github.com/audacity/audacity/pull/72#issuecomment-140561960.
 =||= I have posted my proposed updated version to the Audacity forum.
It will be easier, and I'd be happy to discus it there: http://forum.audacityteam.org/viewtopic.php?p=286488#p286488

Steve
 =||= The Cross Fade Tracks effect now has this feature, so closing this pull request. Thanks campg2j003 for your input that helped make this happen.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
74Update Build.txtNicholas Tomlinnickatomlin01/22/16, 06:06:50 PMAdded verified Xcode version numbers and moved the latter half of the instructions to the list format."Thanks!
 =||= "Update Build.txtNicholas Tomlinnickatomlin01/22/16, 06:06:50 PMAdded verified Xcode version numbers and moved the latter half of the instructions to the list format.NaNDesignist09/18/15, 12:40:35 AM"Update Build.txt

Added verified Xcode version numbers and moved the latter half of the instructions to the list format."1
75Use noinst_SCRIPTS for toplevel audacity script.Thomas Klausner0-wiz-011/09/19, 04:45:16 PM"When using libtool, this file is a copy of a shell script
and will be installed instead of the real executable.""`bin_SCRIPTS` was changed to `bin_PROGRAMS` in commit 8d822707 (hence the conflict) — that seems correct, as the file in question was never a script. It's a copy of the compiled executable:
````Makefile
audacity$(EXEEXT): src/audacity$(EXEEXT)
	rm -f audacity$(EXEEXT)
	cp src/audacity$(EXEEXT) audacity$(EXEEXT)
	[ -e plug-ins ] || ln -s $(srcdir)/plug-ins
	[ -e nyquist ] || ln -s $(srcdir)/nyquist
	[ -e locale ] || ln -s po locale
````

So, with that executable correctly categorized as `bin_PROGRAMS`, I believe this can be closed as superseded by that change, no? I don't see that we'd want the executable to be `noinst`. =||= My original point is still valid.
When building on Unix with libtool, `src/audacity$(EXEEXT)` is a shell wrapper that sets the library search path before calling the real executable. `libtool --install ...` then creates the actual binary.
The target in the main `Makefile.am` runs too early and copies the shell wrapper, which points to the build path. =||= Sorry, this has sat in the queue too long and is now being closed as we couldn't decide on progressing it. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
76bug1197: Correct horizontal scrollbar position at extreme zoom-inPaul LicameliPaul-Licameli09/21/15, 05:40:18 PMI see this one is ranked P2.  A regression from 2.1.1 and my fault.NaNbug1197: Correct horizontal scrollbar position at extreme zoom-inPaul LicameliPaul-Licameli09/21/15, 05:40:18 PMI see this one is ranked P2.  A regression from 2.1.1 and my fault.NaNPaul Licameli09/21/15, 04:58:56 PMbug1197: Correct horizontal scrollbar position at extreme zoom-in1
77"Bug1213: ""Spectrogram"" not ""Spectrum"" in tracks prefs."Paul LicameliPaul-Licameli09/23/15, 09:35:40 PM"This is a string change, however that string should be replicated elsewhere in\
the translation files."NaN"Bug1213: ""Spectrogram"" not ""Spectrum"" in tracks prefs."Paul LicameliPaul-Licameli09/23/15, 09:35:40 PM"This is a string change, however that string should be replicated elsewhere in\
the translation files."NaNPaul Licameli09/23/15, 01:13:42 PM"Bug1213: ""Spectrogram"" not ""Spectrum"" in tracks prefs.

This is a string change, however that string should be replicated elsewhere in\
the translation files."1
78bug1197 again:  better fixPaul LicameliPaul-Licameli09/24/15, 03:18:04 PMNaNNaNbug1197 again:  better fixPaul LicameliPaul-Licameli09/24/15, 03:18:04 PMNaNNaNPaul Licameli09/24/15, 03:10:59 PMbug1197 again:  better fix1
79Internal PortAudio error on Windows 10Andreasryrun11/10/19, 03:56:04 PM"I've two audio devices working fine on windows 10. Sound is working on both in typical multimedia applications (media player, winamp, chrome browser). I use renoise on this system with DirectSound. No issues there, too. Audacity cant find any sound hardware. Try to start it with admin rights, too. But does not help. Tried lates nightly build and current stable build.

```
==============================
Default recording device number: -1
Default playback device number: -1
No devices found
```

Log show some missing dll files...

```
19:54:52: Audacity 2.1.1
19:54:52: Trying to load FFmpeg libraries...
19:54:52: Trying to load FFmpeg libraries from system paths. File name is 'avformat-55.dll'.
19:54:52: Looking up PATH environment variable...
19:54:52: PATH = ...
19:54:52: Checking that '' is in PATH...
19:54:52: FFmpeg directory is in PATH.
19:54:52: Checking for monolithic avformat from 'avformat-55.dll'.
19:54:52: Fehler: Laden der DLL 'avformat-55.dll' gescheitert (Fehler 126: das angegebene Modul wurde nicht gefunden.)
19:54:52: Loading avutil from ''.
19:54:52: Fehler: Laden der DLL '.dll' gescheitert (Fehler 126: das angegebene Modul wurde nicht gefunden.)
19:54:52: Loading avcodec from ''.
19:54:52: Fehler: Laden der DLL '.dll' gescheitert (Fehler 126: das angegebene Modul wurde nicht gefunden.)
19:54:52: Loading avformat from 'avformat-55.dll'.
19:54:52: Fehler: Laden der DLL 'avformat-55.dll' gescheitert (Fehler 126: das angegebene Modul wurde nicht gefunden.)
19:54:52: Fehler: Failed to load FFmpeg libraries.
19:54:52: Fehler: Es konnten keine passenden FFmpeg-Bibliotheken gefunden werden.
```""Hi Andreas,

Which host interface are you attempting to use, MME, Directsound or WASAPI?  Have you tried the others?  Would you be willing to help us gather some info on this?  If so, can you give me a day or two to modify one of the portaudio test programs to display debugging information?

Thanks much,

Leland
 =||= Not sure, what interface audacity try to use on the first start. I cant choose one of them in the config. The select box is empty. Sure i can help here. No problem.
 =||= @lllucius Any news about this?
 =||= Sorry Andrew…my second job has been taking up much of my spare time over the last few weeks.  I haven’t done much with Audacity because of that.  I “hope” to be freed up soon.

From: Andreas [mailto:notifications@github.com] 
Sent: Thursday, October 15, 2015 2:36 PM
To: audacity/audacity audacity@noreply.github.com
Cc: Leland Lucius github@homerow.net
Subject: Re: [audacity] Internal PortAudio error on Windows 10 (#79)

@lllucius https://github.com/lllucius  Any news about this?

—
Reply to this email directly or view it on GitHub https://github.com/audacity/audacity/issues/79#issuecomment-148498982 .  https://github.com/notifications/beacon/AHAeiJs9mlI3RlazqoyBszxkdU79qopCks5o7_eQgaJpZM4GDTPf.gif 

---

This email has been checked for viruses by Avast antivirus software.
https://www.avast.com/antivirus
 =||= Any updates on this issue?
 =||= See http://audacityteam.org/download/windows#sysreq  . At a minimum we will be updating to latest PortAudio to pull in these two commits which may help:
https://www.assembla.com/spaces/portaudio/subversion/commits/1962
https://www.assembla.com/spaces/portaudio/subversion/commits/1963 .

Most people can get at least some version of Audacity working on Windows 10 by following http://wiki.audacityteam.org/wiki/Windows_10_OS#solutions . 
 =||= We have updated PortAudio.  If the issue persists, please make a new issue report. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
80Audacity doesn’t remember window positionRoland Illigrillig11/11/19, 01:41:49 PM"Audacity seems to remember something like the last window position, but it often fails to restore the exact window position.

Windows version: 8.1
Audacity version: 2.1.1 (or any 2.1.2-alpha version)
1. Open Audacity 
2. Press Ctrl+W
3. Drag the window a little bit to the right
4. Press Ctrl+W. The window is now thinner than before
5. Drag the window to the bottom of the desktop so that only the title bar is visible
6. Press Ctrl+W. The window’s height is now so small that the client area is not visible anymore
7. In a two-screen setup, maximize Audacity to one of the screens
8. Press Ctrl+W
9. Maximize Audacity on the other screen
10. Press Ctrl+W""Thank You!
This has been fixed now, but we never got round to adding a comment here or closing this bug.   =||= Ah, beautiful. It works now exactly as expected. Even in half-screen mode and in full-screen mode. Thank you for fixing it and informing me. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
81Update branches.txtDeleted userghost10/23/15, 12:53:51 PMNaNNaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
83Problems compiling audacity with wxwidgets 3.0.2Deleted userghost11/04/15, 10:55:02 PM"I have some problems compiling audacity with wxwidgets-3.0.2

My GCC version is:

```
g++ (GCC) 5.2.0
```

Configure statement was:

```
./configure --prefix=/Programs/Audacity/2.1.1 --with-libvorbis --with-libvorbis --with-ffmpeg  --with-lame --with-lame --with-libflac --with-libsndfile
```

Error is:

 ^
In file included from AudacityApp.cpp:26:0:
/usr/include/wx-3.0/wx/event.h:3683:22: note: declared here
         virtual bool TryValidator(wxEvent& WXUNUSED(event)), return false; )
                      ^
/usr/include/wx-3.0/wx/defs.h:615:43: note: in definition of macro 'wxDEPRECATED'
 #define wxDEPRECATED(x) wxDEPRECATED_DECL x
                                           ^
/usr/include/wx-3.0/wx/event.h:3682:5: note: in expansion of macro 'wxDEPRECATED_BUT_USED_INTERNALLY_INLINE'
     wxDEPRECATED_BUT_USED_INTERNALLY_INLINE(
     ^
AudacityApp.cpp:2159:1: warning: 'virtual bool wxEvtHandler::TryParent(wxEvent&)' is deprecated [-Wdeprecated-declarations]
 }
 ^
In file included from AudacityApp.cpp:26:0:
/usr/include/wx-3.0/wx/event.h:3686:22: note: declared here
         virtual bool TryParent(wxEvent& event), return DoTryApp(event); )
                      ^
/usr/include/wx-3.0/wx/defs.h:615:43: note: in definition of macro 'wxDEPRECATED'
 #define wxDEPRECATED(x) wxDEPRECATED_DECL x
                                           ^
/usr/include/wx-3.0/wx/event.h:3685:5: note: in expansion of macro 'wxDEPRECATED_BUT_USED_INTERNALLY_INLINE'
     wxDEPRECATED_BUT_USED_INTERNALLY_INLINE(
     ^
AudacityApp.cpp:2159:1: warning: 'virtual void wxWindowBase::SetVirtualSizeHints(int, int, int, int)' is deprecated [-Wdeprecated-declarations]
 }
 ^
In file included from AudacityApp.cpp:26:0:
/usr/include/wx-3.0/wx/window.h:459:32: note: declared here
     wxDEPRECATED( virtual void SetVirtualSizeHints( int minW, int minH,
                                ^
/usr/include/wx-3.0/wx/defs.h:615:43: note: in definition of macro 'wxDEPRECATED'
 #define wxDEPRECATED(x) wxDEPRECATED_DECL x
                                           ^
AudacityApp.cpp:2159:1: warning: 'virtual void wxWindowBase::MakeModal(bool)' is deprecated [-Wdeprecated-declarations]
 }
 ^
In file included from AudacityApp.cpp:26:0:
/usr/include/wx-3.0/wx/window.h:688:32: note: declared here
     wxDEPRECATED( virtual void MakeModal(bool modal = true) );
                                ^
/usr/include/wx-3.0/wx/defs.h:615:43: note: in definition of macro 'wxDEPRECATED'
 #define wxDEPRECATED(x) wxDEPRECATED_DECL x
                                           ^
AudacityApp.cpp:2159:1: warning: 'virtual void wxWindowBase::SetInitialBestSize(const wxSize&)' is deprecated: use SetInitialSize() instead. [-Wdeprecated-declarations]
 }
 ^
In file included from /usr/include/wx-3.0/wx/nonownedwnd.h:14:0,
                 from /usr/include/wx-3.0/wx/toplevel.h:20,
                 from /usr/include/wx-3.0/wx/frame.h:18,
                 from /usr/include/wx-3.0/wx/docview.h:21,
                 from AudacityApp.cpp:29:
/usr/include/wx-3.0/wx/window.h:1872:13: note: declared here
 inline void wxWindowBase::SetInitialBestSize(const wxSize& size)
             ^
AudacityApp.cpp:2159:1: warning: 'virtual bool wxEvtHandler::TryValidator(wxEvent&)' is deprecated [-Wdeprecated-declarations]
 }
 ^
In file included from AudacityApp.cpp:26:0:
/usr/include/wx-3.0/wx/event.h:3683:22: note: declared here
         virtual bool TryValidator(wxEvent& WXUNUSED(event)), return false; )
                      ^
/usr/include/wx-3.0/wx/defs.h:615:43: note: in definition of macro 'wxDEPRECATED'
 #define wxDEPRECATED(x) wxDEPRECATED_DECL x
                                           ^
/usr/include/wx-3.0/wx/event.h:3682:5: note: in expansion of macro 'wxDEPRECATED_BUT_USED_INTERNALLY_INLINE'
     wxDEPRECATED_BUT_USED_INTERNALLY_INLINE(
     ^
AudacityApp.cpp:2159:1: warning: 'virtual bool wxEvtHandler::TryParent(wxEvent&)' is deprecated [-Wdeprecated-declarations]
 }
 ^
In file included from AudacityApp.cpp:26:0:
/usr/include/wx-3.0/wx/event.h:3686:22: note: declared here
         virtual bool TryParent(wxEvent& event), return DoTryApp(event); )
                      ^
/usr/include/wx-3.0/wx/defs.h:615:43: note: in definition of macro 'wxDEPRECATED'
 #define wxDEPRECATED(x) wxDEPRECATED_DECL x
                                           ^
/usr/include/wx-3.0/wx/event.h:3685:5: note: in expansion of macro 'wxDEPRECATED_BUT_USED_INTERNALLY_INLINE'
     wxDEPRECATED_BUT_USED_INTERNALLY_INLINE(
     ^
AudacityApp.cpp:2159:1: warning: 'virtual void wxWindowBase::SetVirtualSizeHints(int, int, int, int)' is deprecated [-Wdeprecated-declarations]
 }
 ^
In file included from AudacityApp.cpp:26:0:
/usr/include/wx-3.0/wx/window.h:459:32: note: declared here
     wxDEPRECATED( virtual void SetVirtualSizeHints( int minW, int minH,
                                ^
/usr/include/wx-3.0/wx/defs.h:615:43: note: in definition of macro 'wxDEPRECATED'
 #define wxDEPRECATED(x) wxDEPRECATED_DECL x
                                           ^
AudacityApp.cpp:2159:1: warning: 'virtual void wxWindowBase::MakeModal(bool)' is deprecated [-Wdeprecated-declarations]
 }
 ^
In file included from AudacityApp.cpp:26:0:
/usr/include/wx-3.0/wx/window.h:688:32: note: declared here
     wxDEPRECATED( virtual void MakeModal(bool modal = true) );
                                ^
/usr/include/wx-3.0/wx/defs.h:615:43: note: in definition of macro 'wxDEPRECATED'
 #define wxDEPRECATED(x) wxDEPRECATED_DECL x
                                           ^
AudacityApp.cpp:2159:1: warning: 'virtual void wxWindowBase::SetInitialBestSize(const wxSize&)' is deprecated: use SetInitialSize() instead. [-Wdeprecated-declarations]
 }
 ^
In file included from /usr/include/wx-3.0/wx/nonownedwnd.h:14:0,
                 from /usr/include/wx-3.0/wx/toplevel.h:20,
                 from /usr/include/wx-3.0/wx/frame.h:18,
                 from /usr/include/wx-3.0/wx/docview.h:21,
                 from AudacityApp.cpp:29:
/usr/include/wx-3.0/wx/window.h:1872:13: note: declared here
 inline void wxWindowBase::SetInitialBestSize(const wxSize& size)
             ^
AudacityApp.cpp:2159:1: warning: 'virtual bool wxEvtHandler::TryValidator(wxEvent&)' is deprecated [-Wdeprecated-declarations]
 }
 ^
In file included from AudacityApp.cpp:26:0:
/usr/include/wx-3.0/wx/event.h:3683:22: note: declared here
         virtual bool TryValidator(wxEvent& WXUNUSED(event)), return false; )
                      ^
/usr/include/wx-3.0/wx/defs.h:615:43: note: in definition of macro 'wxDEPRECATED'
 #define wxDEPRECATED(x) wxDEPRECATED_DECL x
                                           ^
/usr/include/wx-3.0/wx/event.h:3682:5: note: in expansion of macro 'wxDEPRECATED_BUT_USED_INTERNALLY_INLINE'
     wxDEPRECATED_BUT_USED_INTERNALLY_INLINE(
     ^
AudacityApp.cpp:2159:1: warning: 'virtual bool wxEvtHandler::TryParent(wxEvent&)' is deprecated [-Wdeprecated-declarations]
 }
 ^
In file included from AudacityApp.cpp:26:0:
/usr/include/wx-3.0/wx/event.h:3686:22: note: declared here
         virtual bool TryParent(wxEvent& event), return DoTryApp(event); )
                      ^
/usr/include/wx-3.0/wx/defs.h:615:43: note: in definition of macro 'wxDEPRECATED'
 #define wxDEPRECATED(x) wxDEPRECATED_DECL x
                                           ^
/usr/include/wx-3.0/wx/event.h:3685:5: note: in expansion of macro 'wxDEPRECATED_BUT_USED_INTERNALLY_INLINE'
     wxDEPRECATED_BUT_USED_INTERNALLY_INLINE(
     ^
AudacityApp.cpp:2159:1: warning: 'virtual void wxWindowBase::SetVirtualSizeHints(int, int, int, int)' is deprecated [-Wdeprecated-declarations]
 }
 ^
In file included from AudacityApp.cpp:26:0:
/usr/include/wx-3.0/wx/window.h:459:32: note: declared here
     wxDEPRECATED( virtual void SetVirtualSizeHints( int minW, int minH,
                                ^
/usr/include/wx-3.0/wx/defs.h:615:43: note: in definition of macro 'wxDEPRECATED'
 #define wxDEPRECATED(x) wxDEPRECATED_DECL x
                                           ^
AudacityApp.cpp:2159:1: warning: 'virtual void wxWindowBase::MakeModal(bool)' is deprecated [-Wdeprecated-declarations]
 }
 ^
In file included from AudacityApp.cpp:26:0:
/usr/include/wx-3.0/wx/window.h:688:32: note: declared here
     wxDEPRECATED( virtual void MakeModal(bool modal = true) );
                                ^
/usr/include/wx-3.0/wx/defs.h:615:43: note: in definition of macro 'wxDEPRECATED'
 #define wxDEPRECATED(x) wxDEPRECATED_DECL x
                                           ^
AudacityApp.cpp:2159:1: warning: 'virtual void wxWindowBase::SetInitialBestSize(const wxSize&)' is deprecated: use SetInitialSize() instead. [-Wdeprecated-declarations]
 }
 ^
In file included from /usr/include/wx-3.0/wx/nonownedwnd.h:14:0,
                 from /usr/include/wx-3.0/wx/toplevel.h:20,
                 from /usr/include/wx-3.0/wx/frame.h:18,
                 from /usr/include/wx-3.0/wx/docview.h:21,
                 from AudacityApp.cpp:29:
/usr/include/wx-3.0/wx/window.h:1872:13: note: declared here
 inline void wxWindowBase::SetInitialBestSize(const wxSize& size)
             ^
AudacityApp.cpp:2159:1: warning: 'virtual bool wxEvtHandler::TryValidator(wxEvent&)' is deprecated [-Wdeprecated-declarations]
 }
 ^
In file included from AudacityApp.cpp:26:0:
/usr/include/wx-3.0/wx/event.h:3683:22: note: declared here
         virtual bool TryValidator(wxEvent& WXUNUSED(event)), return false; )
                      ^
/usr/include/wx-3.0/wx/defs.h:615:43: note: in definition of macro 'wxDEPRECATED'
 #define wxDEPRECATED(x) wxDEPRECATED_DECL x
                                           ^
/usr/include/wx-3.0/wx/event.h:3682:5: note: in expansion of macro 'wxDEPRECATED_BUT_USED_INTERNALLY_INLINE'
     wxDEPRECATED_BUT_USED_INTERNALLY_INLINE(
     ^
AudacityApp.cpp:2159:1: warning: 'virtual bool wxEvtHandler::TryParent(wxEvent&)' is deprecated [-Wdeprecated-declarations]
 }
 ^
In file included from AudacityApp.cpp:26:0:
/usr/include/wx-3.0/wx/event.h:3686:22: note: declared here
         virtual bool TryParent(wxEvent& event), return DoTryApp(event); )
                      ^
/usr/include/wx-3.0/wx/defs.h:615:43: note: in definition of macro 'wxDEPRECATED'
 #define wxDEPRECATED(x) wxDEPRECATED_DECL x
                                           ^
/usr/include/wx-3.0/wx/event.h:3685:5: note: in expansion of macro 'wxDEPRECATED_BUT_USED_INTERNALLY_INLINE'
     wxDEPRECATED_BUT_USED_INTERNALLY_INLINE(
     ^
AudacityApp.cpp:2159:1: warning: 'virtual void wxWindowBase::SetVirtualSizeHints(int, int, int, int)' is deprecated [-Wdeprecated-declarations]
 }
 ^
In file included from AudacityApp.cpp:26:0:
/usr/include/wx-3.0/wx/window.h:459:32: note: declared here
     wxDEPRECATED( virtual void SetVirtualSizeHints( int minW, int minH,
                                ^
/usr/include/wx-3.0/wx/defs.h:615:43: note: in definition of macro 'wxDEPRECATED'
 #define wxDEPRECATED(x) wxDEPRECATED_DECL x
                                           ^
AudacityApp.cpp:2159:1: warning: 'virtual void wxWindowBase::MakeModal(bool)' is deprecated [-Wdeprecated-declarations]
 }
 ^
In file included from AudacityApp.cpp:26:0:
/usr/include/wx-3.0/wx/window.h:688:32: note: declared here
     wxDEPRECATED( virtual void MakeModal(bool modal = true) );
                                ^
/usr/include/wx-3.0/wx/defs.h:615:43: note: in definition of macro 'wxDEPRECATED'
 #define wxDEPRECATED(x) wxDEPRECATED_DECL x
                                           ^
AudacityApp.cpp:2159:1: warning: 'virtual void wxWindowBase::SetInitialBestSize(const wxSize&)' is deprecated: use SetInitialSize() instead. [-Wdeprecated-declarations]
 }
 ^
In file included from /usr/include/wx-3.0/wx/nonownedwnd.h:14:0,
                 from /usr/include/wx-3.0/wx/toplevel.h:20,
                 from /usr/include/wx-3.0/wx/frame.h:18,
                 from /usr/include/wx-3.0/wx/docview.h:21,
                 from AudacityApp.cpp:29:
/usr/include/wx-3.0/wx/window.h:1872:13: note: declared here
 inline void wxWindowBase::SetInitialBestSize(const wxSize& size)
             ^
AudacityApp.cpp:2159:1: warning: 'virtual bool wxEvtHandler::TryValidator(wxEvent&)' is deprecated [-Wdeprecated-declarations]
 }
 ^
In file included from AudacityApp.cpp:26:0:
/usr/include/wx-3.0/wx/event.h:3683:22: note: declared here
         virtual bool TryValidator(wxEvent& WXUNUSED(event)), return false; )
                      ^
/usr/include/wx-3.0/wx/defs.h:615:43: note: in definition of macro 'wxDEPRECATED'
 #define wxDEPRECATED(x) wxDEPRECATED_DECL x
                                           ^
/usr/include/wx-3.0/wx/event.h:3682:5: note: in expansion of macro 'wxDEPRECATED_BUT_USED_INTERNALLY_INLINE'
     wxDEPRECATED_BUT_USED_INTERNALLY_INLINE(
     ^
AudacityApp.cpp:2159:1: warning: 'virtual bool wxEvtHandler::TryParent(wxEvent&)' is deprecated [-Wdeprecated-declarations]
 }
 ^
In file included from AudacityApp.cpp:26:0:
/usr/include/wx-3.0/wx/event.h:3686:22: note: declared here
         virtual bool TryParent(wxEvent& event), return DoTryApp(event); )
                      ^
/usr/include/wx-3.0/wx/defs.h:615:43: note: in definition of macro 'wxDEPRECATED'
 #define wxDEPRECATED(x) wxDEPRECATED_DECL x
                                           ^
/usr/include/wx-3.0/wx/event.h:3685:5: note: in expansion of macro 'wxDEPRECATED_BUT_USED_INTERNALLY_INLINE'
     wxDEPRECATED_BUT_USED_INTERNALLY_INLINE(
     ^
AudacityApp.cpp:2159:1: warning: 'virtual void wxWindowBase::SetVirtualSizeHints(int, int, int, int)' is deprecated [-Wdeprecated-declarations]
 }
 ^
In file included from AudacityApp.cpp:26:0:
/usr/include/wx-3.0/wx/window.h:459:32: note: declared here
     wxDEPRECATED( virtual void SetVirtualSizeHints( int minW, int minH,
                                ^
/usr/include/wx-3.0/wx/defs.h:615:43: note: in definition of macro 'wxDEPRECATED'
 #define wxDEPRECATED(x) wxDEPRECATED_DECL x
                                           ^
AudacityApp.cpp:2159:1: warning: 'virtual void wxWindowBase::MakeModal(bool)' is deprecated [-Wdeprecated-declarations]
 }
 ^
In file included from AudacityApp.cpp:26:0:
/usr/include/wx-3.0/wx/window.h:688:32: note: declared here
     wxDEPRECATED( virtual void MakeModal(bool modal = true) );
                                ^
/usr/include/wx-3.0/wx/defs.h:615:43: note: in definition of macro 'wxDEPRECATED'
 #define wxDEPRECATED(x) wxDEPRECATED_DECL x
                                           ^
AudacityApp.cpp:2159:1: warning: 'virtual void wxWindowBase::SetInitialBestSize(const wxSize&)' is deprecated: use SetInitialSize() instead. [-Wdeprecated-declarations]
 }
 ^
In file included from /usr/include/wx-3.0/wx/nonownedwnd.h:14:0,
                 from /usr/include/wx-3.0/wx/toplevel.h:20,
                 from /usr/include/wx-3.0/wx/frame.h:18,
                 from /usr/include/wx-3.0/wx/docview.h:21,
                 from AudacityApp.cpp:29:
/usr/include/wx-3.0/wx/window.h:1872:13: note: declared here
 inline void wxWindowBase::SetInitialBestSize(const wxSize& size)
             ^
AudacityApp.cpp:2159:1: warning: 'virtual bool wxEvtHandler::TryValidator(wxEvent&)' is deprecated [-Wdeprecated-declarations]
 }
 ^
In file included from AudacityApp.cpp:26:0:
/usr/include/wx-3.0/wx/event.h:3683:22: note: declared here
         virtual bool TryValidator(wxEvent& WXUNUSED(event)), return false; )
                      ^
/usr/include/wx-3.0/wx/defs.h:615:43: note: in definition of macro 'wxDEPRECATED'
 #define wxDEPRECATED(x) wxDEPRECATED_DECL x
                                           ^
/usr/include/wx-3.0/wx/event.h:3682:5: note: in expansion of macro 'wxDEPRECATED_BUT_USED_INTERNALLY_INLINE'
     wxDEPRECATED_BUT_USED_INTERNALLY_INLINE(
     ^
AudacityApp.cpp:2159:1: warning: 'virtual bool wxEvtHandler::TryParent(wxEvent&)' is deprecated [-Wdeprecated-declarations]
 }
 ^
In file included from AudacityApp.cpp:26:0:
/usr/include/wx-3.0/wx/event.h:3686:22: note: declared here
         virtual bool TryParent(wxEvent& event), return DoTryApp(event); )
                      ^
/usr/include/wx-3.0/wx/defs.h:615:43: note: in definition of macro 'wxDEPRECATED'
 #define wxDEPRECATED(x) wxDEPRECATED_DECL x
                                           ^
/usr/include/wx-3.0/wx/event.h:3685:5: note: in expansion of macro 'wxDEPRECATED_BUT_USED_INTERNALLY_INLINE'
     wxDEPRECATED_BUT_USED_INTERNALLY_INLINE(
     ^
AudacityApp.cpp:2159:1: warning: 'virtual void wxWindowBase::SetVirtualSizeHints(int, int, int, int)' is deprecated [-Wdeprecated-declarations]
 }
 ^
In file included from AudacityApp.cpp:26:0:
/usr/include/wx-3.0/wx/window.h:459:32: note: declared here
     wxDEPRECATED( virtual void SetVirtualSizeHints( int minW, int minH,
                                ^
/usr/include/wx-3.0/wx/defs.h:615:43: note: in definition of macro 'wxDEPRECATED'
 #define wxDEPRECATED(x) wxDEPRECATED_DECL x
                                           ^
AudacityApp.cpp:2159:1: warning: 'virtual void wxWindowBase::MakeModal(bool)' is deprecated [-Wdeprecated-declarations]
 }
 ^
In file included from AudacityApp.cpp:26:0:
/usr/include/wx-3.0/wx/window.h:688:32: note: declared here
     wxDEPRECATED( virtual void MakeModal(bool modal = true) );
                                ^
/usr/include/wx-3.0/wx/defs.h:615:43: note: in definition of macro 'wxDEPRECATED'
 #define wxDEPRECATED(x) wxDEPRECATED_DECL x
                                           ^
AudacityApp.cpp:2159:1: warning: 'virtual void wxWindowBase::SetInitialBestSize(const wxSize&)' is deprecated: use SetInitialSize() instead. [-Wdeprecated-declarations]
 }
 ^
In file included from /usr/include/wx-3.0/wx/nonownedwnd.h:14:0,
                 from /usr/include/wx-3.0/wx/toplevel.h:20,
                 from /usr/include/wx-3.0/wx/frame.h:18,
                 from /usr/include/wx-3.0/wx/docview.h:21,
                 from AudacityApp.cpp:29:
/usr/include/wx-3.0/wx/window.h:1872:13: note: declared here
 inline void wxWindowBase::SetInitialBestSize(const wxSize& size)
             ^
In file included from AudacityApp.cpp:216:0:
../images/AudacityLogoWithName.xpm:2:21: warning: 'AudacityLogoWithName_xpm' defined but not used [-Wunused-variable]
 static const char \* AudacityLogoWithName_xpm[] = {
                     ^
AudacityApp.cpp:228:13: warning: 'void wxOnAssert(const wxChar_, int, const wxChar_)' defined but not used [-Wunused-function]
 static void wxOnAssert(const wxChar _fileName, int lineNumber, const wxChar *msg)
             ^
Makefile:2620: recipe for target 'audacity-AudacityApp.o' failed
make[1]: *_\* [audacity-AudacityApp.o] Error 1
make[1]: Leaving directory '/Depot/jj/audacity-2.1.1/src'
Makefile:716: recipe for target 'install-recursive' failed
make: **\* [install-recursive] Error 1

---

Any advice on how I could resolve it or should I just wait for a new release of audacity?""2.1.1 isn't suitable for wxWidgets 3.0.2.  Recommend waiting for 2.1.2 to be released, or using GitHub master, if compiling with wxWidgets 3.0.2.  Also have a look at a recent automated build.... https://travis-ci.org/audacity/audacity/builds/89121174.  You're treating warnings as errors?
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
84Fixed miscategorization of an executable in Makefile: SCRIPTS->PROGRAMS.yuri@FreeBSDyurivict01/22/16, 06:13:42 PM'make install' doesn't strip executables when they are categorized as SCRIPTS."yurivict - sorry this took us so long to commit.  We had to delay our release from the original plan,and 2.1.2 was only released two days ago.
 =||= "Fixed miscategorization of an executable in Makefile: SCRIPTS->PROGRAMS.yuri@FreeBSDyurivict01/22/16, 06:13:42 PM'make install' doesn't strip executables when they are categorized as SCRIPTS.NaNYuri11/06/15, 04:47:17 AMFixed miscategorization of an executable in Makefile: SCRIPTS->PROGRAMS.1
85package from daily build ppa for trusty is missing‮HybridDog11/16/15, 07:03:16 PM"l noticed that compilation failed:
https://launchpad.net/~audacity-team/+archive/ubuntu/daily/+packages
https://launchpadlibrarian.net/225381917/buildlog_ubuntu-trusty-amd64.audacity_2.0.6%2Bgit20151106%2Br3800%2B31%2B32~ubuntu14.04.1_BUILDING.txt.gz

l'm now installing audacity from that local-libraries.daily repository."NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
86cppcheck: fix 2 reportsJulien Nabetserval241201/22/16, 06:05:15 PM"[lib-src/libnyquist/nyquist/nyqsrc/sndwritepa.c:249]: (style) Same expression in both branches of ternary operator
[lib-src/libnyquist/nyquist/nyqsrc/f0.cpp:137]: (error) Mismatching allocation and deallocation: results"NaNcppcheck: fix 2 reportsJulien Nabetserval241201/22/16, 06:05:15 PM"[lib-src/libnyquist/nyquist/nyqsrc/sndwritepa.c:249]: (style) Same expression in both branches of ternary operator
[lib-src/libnyquist/nyquist/nyqsrc/f0.cpp:137]: (error) Mismatching allocation and deallocation: results"NaNJulien Nabet11/07/15, 09:47:34 PM"cppcheck: fix 2 reports

[lib-src/libnyquist/nyquist/nyqsrc/sndwritepa.c:249]: (style) Same expression in both branches of ternary operator
[lib-src/libnyquist/nyquist/nyqsrc/f0.cpp:137]: (error) Mismatching allocation and deallocation: results"1
87"Please remove duplicate ""static"" keywords"yuri@FreeBSDyurivict11/10/19, 03:54:07 PM"Example is ""static static inline void fft2pt(float *ioptr){"" in fftlib.c

This causes compiler errors."Thanks.  That's fixed in our current source code. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
88Make RuleTable scrollable & DnD move instead of copySven GiermannGiermann09/12/16, 04:23:05 PM"Having lots of rules in RuleTable may lead to an assertion failure on opening preferences dialog:

> assert ""sz.x <= 1000 && sz.y <= 750"" failed in
> PrefsDialog::PrefsDialog(): Preferences dialog exceeds max size

This change will make the RuleTable scrollable (as it is/was when creating many rules) instead of expanding the dialog size.
Further I had to fix the calculation of the clicked row from the given coords. Even without this proposed change for scrolling, the calculated row has always been the one above the clicked row - maybe this changed in wxWidgets 3.0.
Now it uses CalcUnscrolledPosition() which seems to work fine even without scrolling.

Last change is for drag and drop mode: rules are not being copied, but moved on dnd - I changed this to reflect this mode on the cursor while dragging an item.""Merged into master with https://github.com/audacity/audacity/commit/ce09f4b883d15610590eecf95ab69eedb5d6b542

Thanks!
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
89Update Ukrainian translationYuri Chornoivanyurchor01/22/16, 06:00:58 PM"Just a minor update to Ukrainian translation (2 fuzzied strings updated).

Many thanks for merging."NaNUpdate Ukrainian translationYuri Chornoivanyurchor01/22/16, 06:00:58 PM"Just a minor update to Ukrainian translation (2 fuzzied strings updated).

Many thanks for merging."NaNYuri Chornoivan11/15/15, 02:34:47 PMUpdate Ukrainian translation1
90Set Tremolo Hz to a more precise value than a tenth of a Hz?Milán NagyWizek11/17/15, 04:03:46 PM"Hello,

I've stumbled into this issue:
http://sound.stackexchange.com/questions/37600/in-audacity-how-to-apply-tremolo-effect-of-0-25-hz-15-cycles-minute

And am wondering how easy or difficult would it be to allow more precise values to be entered in the text field than a tenth of an Hz.

I'm also wondering that if I look for relevant sections of the code and prepare a patch, would you likely merge my pull request of a fix?""The Tremolo effect has been updating in the forthcoming Audacity 2.1.2 release and now allows values less than 0.1 Hz.

Steve
 =||= Oh, really? I'm glad to hear that!

Just to note: I've also started to look at the code, and found this section: https://github.com/audacity/audacity/blob/ae5d29a04815cc41ccf36ef765a9f75636b8bd21/plug-ins/tremolo.ny#L22

It was surprisingly easy to tweak a value in here that allowed me to get the result I wanted even in Audacity 2.0.5.
Since you are saying this is fixed anyways in an upcoming release, I won't be making a pull request.

Thanks for the quick response!
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
91Fix building on musl libcKylie McClainsomasis01/22/16, 06:09:24 PM"Without this patch:

```
effects/VST/VSTEffect.cpp: In member function 'bool VSTEffect::Load()':
effects/VST/VSTEffect.cpp:2579:90: error: 'RTLD_DEEPBIND' was not declared in this scope
    void *lib = dlopen((const char *)wxString(realPath).ToUTF8(), RTLD_NOW | RTLD_LOCAL | RTLD_DEEPBIND);
                                                                                          ^
```""Thanks somasis!
 =||= Thanks for reviewing :+1: 
 =||= "Fix building on musl libcKylie McClainsomasis01/22/16, 06:09:24 PM"Without this patch:

```
effects/VST/VSTEffect.cpp: In member function 'bool VSTEffect::Load()':
effects/VST/VSTEffect.cpp:2579:90: error: 'RTLD_DEEPBIND' was not declared in this scope
    void *lib = dlopen((const char *)wxString(realPath).ToUTF8(), RTLD_NOW | RTLD_LOCAL | RTLD_DEEPBIND);
                                                                                          ^
```"NaNKylie McClain11/21/15, 10:04:43 PMFix building on musl libc1
92Broken link to release notes on websiteMichael TenMichaelTen11/29/15, 06:41:42 PM"I hope it is OK to post this here. I couldn't send the devs messages on here or at least i couldn't figure out how to. 
The link: http://wiki.audacityteam.org/wiki/Release_Notes (on http://audacityteam.org/download/source)  is broken. ""Forbidden You don't have permission to access /wiki/Release_Notes on this server.""

FYI. TY! Awesome software! (= ""The feedback address http://audacityteam.org/contact/#feedback is the best way to contact us without having to subscribe or log in anywhere.  

http://wiki.audacityteam.org/wiki/Release_Notes is working for me as I write. 

http://downforeveryoneorjustme.com/http://wiki.audacityteam.org/wiki/Release_Notes 
 =||= I see it working now too. either way. thank you for reply. (= 
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
93Audacity doesn't remember working directory when opening new file through menu (Mac)Florian LBflothesof11/12/19, 10:07:34 AM"Hi there,

I use Audacity 2.1.1 on Mac (El Capitan). Whenever I use the open file dialog, Audacity sets me back to my home directory instead of the directory I opened the last file in.
I expect Audacity to remember the working directory I am in when opening new files. Is my expectation wrong, or might this be a bug? 
Thanks in advance for your help, I've been unable to find anything related in the FAQ or googling.

Best,
Florian""Hi,  Please note this is not a guaranteed support address or bug reporting line. For support, Audacity Forum http://forum.audacityteam.org/viewforum.php?f=47 . For bug reports, http://audacityteam.org/contact/#feedback .

The last file open location is stored at ""DefaultOpenPath"" in the audacity.cfg settings file.  You could try deleting that file ( ~/Library/Application Support/audacity/audacity.cfg ).  If that does not solve the problem then check if the path is getting written to audacity.cfg. If not you may have permissions failure on the file - see https://discussions.apple.com/thread/7292563?start=0&tstart=0 .
 =||= Sorry for not getting back to this sooner.
Audacity on Mac does (now) remember the last location you opened from (not the last location you saved to) so this is fixed now, and probably was some time ago.
Thanks for the bug report. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
94Fix (workaround) for bug #1266.Leland Luciuslllucius12/21/15, 11:00:24 PMNaNNaNFix (workaround) for bug #1266.Leland Luciuslllucius12/21/15, 11:00:24 PMNaNNaNLeland Lucius12/21/15, 10:59:46 PMRevised workaround for bug #12661
95One bit of gPrefs->Flush() cleanupLeland Luciuslllucius12/26/15, 03:09:29 PMRemove flushing of preferences in ShuttlePrefs and only flush when all settings have been written.  (Reduces the time it takes to leave the Preferences dialog)NaNOne bit of gPrefs->Flush() cleanupLeland Luciuslllucius12/26/15, 03:09:29 PMRemove flushing of preferences in ShuttlePrefs and only flush when all settings have been written.  (Reduces the time it takes to leave the Preferences dialog)NaNLeland Lucius12/22/15, 05:38:05 AM"Don't display message if the EQ curves file is missing.

I can't think of a reason for having the message.  Either the curves
are there or they are not."1
96Hotkeys doesn't work with non-english keyboard layout on linuxYan PashkovskyYanpas11/12/19, 04:39:22 PM"Ctrl+O doesn't work
Opening menu via keyboard (Alt+Ф for Файл) highlights File(Файл) entry, but does not expand it. (see screenshot)
I use two layouts : russian and american. version 2.0.5
![_2015-12-28_17-36-34](https://cloud.githubusercontent.com/assets/7345761/12020118/90df4fd6-ad89-11e5-8c7d-b85a54c4d454.png)""2.0.5 is long obsolete, and probably built with a version of Widgets we no longer support. If it's a packaged version of Audacity, please report the problem to your distribution. 

If the problem occurs in the tarball ""Linux 2.1.2 RC1 minimal source (for testing)""  available from http://www.fosshub.com/Audacity.html , please let us know. This is the bug report address: http://audacityteam.org/contact/#feedback . However I don't see those problems on Ubuntu 14.04 in 2.1.2 RC1 using English or Czech QWERTY layouts.
 =||= I've tried audacity from ubuntu 16.04 beta. (audacity version 2.0.6). Bug with Alt+F is fixed, but Ctrl+O still doesn't work, seems like wxwidgets problems
I've tried to build latest audacity, but make returns error. Are there binary builds somewhere?
![_2015-12-28_19-52-21](https://cloud.githubusercontent.com/assets/7345761/12022000/bb872494-ad9c-11e5-8d84-4d02f13e2cec.png)
 =||= The packaged 2.0.6 might be built with wx3 but that was an error by Ubuntu because 2.0.6 did not support wx3 at the time.  

I do not recommend using Ubuntu 16.04 because that OS is still four months before release. 

You could build the 2.1.2 tarball on Ubuntu 15.x  - try these steps:
http://forum.audacityteam.org/viewtopic.php?f=19&t=88922 .

To resolve your compilation error, configure Audacity with --disable-dynamic-loading or even better,
--without-ffmpeg .

Please note this not a support channel. Please use http://forum.audacityteam.org/viewforum.php?f=48 if you need more help.
 =||= QA believe this is fixed in current Audacity (when built correctly) and so closing this bug.
Thanks for the bug report. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
97Noise source in  audacity/src/effects/Noise.cpp is poorTorbjörn Rathsmanmilasudril01/04/16, 03:30:33 PM"Is there any reason to not use a more descent random generator for noise. In C++11

```
std::mt19937 randgen;
std::uniform_real_distribution<float> U(-1,1);

buffer[i]=mAmp*U(randgen);
```

If C++11 is not an option yet, boost might be.""Is there a practical use case where ""more random than now"" is required ?
If you think that there is a strong case for why changing this will benefit Audacity users, please raise the issue on the mailing list: https://lists.sourceforge.net/lists/listinfo/audacity-quality
As we have limited resources, we don't really want to be spending time on things that have no significant benefit for users.
 =||= The most obvious benefit is that you will get the same quality on all platforms. In particular, Windows users will have the most benefit, because this engine is very poor.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
98Please report issues to http://forum.audacityteam.org/James CrookJamesCrook11/10/19, 10:51:55 AM"We don't actively use this issue tracker!

If you are using audacity and want to report an issue, please use the forum.
If you are a developer and want to help us develop audacity, please subscribe to our developer mailing list https://lists.sourceforge.net/lists/listinfo/audacity-devel and post there.

Our bugzilla bug tracker is here http://bugzilla.audacityteam.org/"Unwelcoming.  Issue closed/deleted. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
99fix German translation (de)Tim Pollandtpollti01/22/16, 05:57:50 PMNaN"@JamesCrook is there anything I should do for this patch?
 =||= Thanks Pollti.  We've just released 2.1.2 two days ago, and this will be in 2.1.3.
 =||= Thanks for merging!
 =||= "fix German translation (de)Tim Pollandtpollti01/22/16, 05:57:50 PMNaNNaNTim01/20/16, 02:18:38 PMfix German translation (de)1
100Update the manifest pragma to match the docs.Henric Jungheimhenricj02/13/16, 07:17:45 PM"The language and processorArchitecture are wildcards.
This can be found on the [Enabling Visual Styles](https://msdn.microsoft.com/en-us/library/windows/desktop/bb773175.aspx) page."NaNUpdate the manifest pragma to match the docs.Henric Jungheimhenricj02/13/16, 07:17:45 PM"The language and processorArchitecture are wildcards.
This can be found on the [Enabling Visual Styles](https://msdn.microsoft.com/en-us/library/windows/desktop/bb773175.aspx) page."NaNhenric01/24/16, 08:36:47 AM"Update the manifest pragma to match docs.
The language and processorArchitecture are wildcards."1
101Enable the DEP and ASLR flags.Henric Jungheimhenricj02/13/16, 07:42:09 PMMore precisely, /DYNAMICBASE and /NXCOMPAT are set unless explicitly disabled.  More info: [Windows ISV Software Security Defenses](https://msdn.microsoft.com/en-us/library/bb430720.aspx).  Unless they have been set deliberately, the flags are likely left over from when Visual Studio upgraded the project file."Is enabling ASLR a problem for XP SP3 which we still support, but which does not support ASLR?
 =||= No, it just sets a flag in the EXE's header that opts it in where supported.  XP ignores it.  Per [Microsoft][http://blogs.msdn.com/b/vcblog/archive/2009/05/21/dynamicbase-and-nxcompat.aspx], ""ASLR is supported only on Windows Vista and later operating systems. It will be ignored on older OS"".
 =||= ASLR and DEP have also been the default for OS X and Linux for a number of years.  I didn't see any attempt in the Audacity build to turn off ASLR for the OS X build (there would be a ""-no_pie"" somewhere) and I'm not aware of any sane way to disable it for Linux builds.
 =||= "Enable the DEP and ASLR flags.Henric Jungheimhenricj02/13/16, 07:42:09 PMMore precisely, /DYNAMICBASE and /NXCOMPAT are set unless explicitly disabled.  More info: [Windows ISV Software Security Defenses](https://msdn.microsoft.com/en-us/library/bb430720.aspx).  Unless they have been set deliberately, the flags are likely left over from when Visual Studio upgraded the project file.NaNhenric01/24/16, 08:43:24 AM"Enable the DEP and ASLR flags.
More precisely, /DYNAMICBASE and /NXCOMPAT are set unless explicitly disabled."1
102Mac OSX El Capitan BuildDyddyeDyddye09/17/16, 11:16:39 PM"Fix missing newline error on Mac OSX El Capitan:

```
./test/patest_mono.c:155:2: error: no newline at end of file [-Werror,-Wnewline-eof]
```

Update Mac OSX compile instructions (+El Capitan) in mac/Build.txt.""The newline issue is for PortAudio to consider. We only make changes to third-party code in lib-src in extreme cases (and then tell them what we have done). We never change code in lib-src for compiler or other warnings such as no newline. I know PortAudio are close to a new release, so I suggest you contact them with your issue at http://www.portaudio.com/contacts.html .

Thanks for the comments about mac/Build.txt. The only changes I would propose to our current text are: 
- add the one-line xcodebuild command that could be used (rather than your four lines)
- add a terse warning about packaged versions of wxWidgets
- add a note not to accept the Xcode app warning to change the base SDK to 10.11.

The current version of Build.txt (that of course you did not have when you made your pull request) already mentions:

""Xcode 7.2 and later require a custom build setting to accept the 10.6 SDK, or to edit src\MemoryX.h in the Audacity code. See this topic:
http://forum.audacityteam.org/viewtopic.php?p=303835#p303835 ."" 

So, we won't say that 7.2 is verified to work. Using the 7.2 SDK is  I believe the source of at least one of the problems you mention, perhaps both. 

We can't give links to web pages written in German. 

If there are no other comments I will commit the minor changes to Build.txt then close this request. Thanks again for your request though. Sorry it has taken a long time to respond.
 =||= There being no further comments, I made my proposed changes in https://github.com/audacity/audacity/commit/16e6629 .
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
103continuous integration of build for windowsThomasFeher09/12/16, 02:41:33 PM"Adds a configuration for appVeyor triggering a build of the release
version for each new commit. Needs registering at ci.appveyor.com with
the github account. Debug is not built, due to time limit of the free
version of appVeyor. Release build takes at least 30 minutes and up to
45 minutes. The time limit is 60 minutes.

Uses the undocumented possibility of building wxWidgets as dynamic
library by specifying ""DLL Release"" as configuration. The method in the
install instructions is impossible to automate as far as I could find
out.

Builds all targets except of ""help"" and ""locale"", because locale took
too long for the complete build to succeed the time limit.
This is not satisfying as new targets must be added manually to the
build. If this does not happen, the build will not fail, although the
new target could possibly fail building.
Unfortunately their seems to be no way to build the default targets
while excluding specific ones.
Adding target ""help"" was not tested.

Possible improvement: Put the complete ""install"" part into a install
script. That would help people easily building audacity and prevent
outdated install instruction as is the case at the moment.

I am not sure if renaming wx/setup_redirect.h into wx/setup.h is the
correct way, but it seems to work. Following the install instructions
resulted in missing wx/setup.h.""Thanks for the information. Just as a comment, it would be important for testing that locale was built. Was locale hanging because of missing msgfmt?   
 =||= No, msgfmt is currently installed (first step during install). It is started and then nothing happens, see here: https://ci.appveyor.com/project/ThomasFeher/audacity/build/2.1.2-71
If you put the mouse cursor over the last line, you see the tooltip that this was called at 00:32:00 and then nothing happend until timeout.
If msgfmt should not take that long, there could be something else wrong, but I could not find out, because I do not have a windows machine at hand.
 =||= Committed.
https://github.com/audacity/audacity/commit/df2de94f6b42670cd2529436c8f3f68e6b253e61
My apologies for not acting sooner.  I hadn't seen that the file does no harm whatsoever if it is there and unused, and may help some GitHub users who develop on Linux and want to check they are not breaking the build on Windows.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
104Enable some C++11 features in Travis, which now uses 4.6.3...Paul LicameliPaul-Licameli02/27/16, 12:59:20 AM"... See here for supported features: https://gcc.gnu.org/projects/cxx0x.html

If later versions of gcc are used, the option should be changed to
-std=c++11"NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
105Update danish (da) translationscootergrisen02/13/16, 07:07:41 PMNaNNaNUpdate danish (da) translationscootergrisen02/13/16, 07:07:41 PMNaNNaNscootergrisen02/08/16, 04:01:04 PMUpdate danish (da) translation1
106Travis upgrade gccThomasFeher09/08/16, 10:15:31 PM"Use a more recent version of gcc for building on Travis-CI.
This prepares the CI for using C++11 features.""But should we use 4.8.2 as James suggests?
 =||= Just added a commit to display the full version. It shows ""4.8.1"" (line no. 300). Normally you can't specify the patch level of a package on Linux, it should always be the latest. But it seems due to the old Ubuntu version, that patches after 4.8.1 are not available.
I'll do some more research on possible workarounds.
 =||= Thank you Thomas.

I am pleased to have new language features available.  The important
question is whether there were notable compiler bugs related to -std=c++11
that were fixed in the patches.  That might be documented somewhere
online...

PRL

On Sat, Feb 13, 2016 at 11:40 AM, ThomasFeher notifications@github.com
wrote:

> Just added a commit to display the full version. It shows ""4.8.1"" (line
> no. 300). Normally you can't specify the patch level of a package on Linux,
> it should always be the latest. But it seems due to the old Ubuntu version,
> that patches after 4.8.1 are not available.
> I'll do some more research on possible workarounds.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/audacity/audacity/pull/106#issuecomment-183700388.
 =||= [This is the list of fixed bugs in 4.8.2](https://gcc.gnu.org/bugzilla/buglist.cgi?bug_status=RESOLVED&resolution=FIXED&target_milestone=4.8.2)
 =||= We could use a more recent version of Ubuntu on Travis, see [here](https://docs.travis-ci.com/user/trusty-ci-environment/). It is in beta state and includes gcc 4.8.5. But the `git show …` lines do somehow crash the build (it hangs until timeout when printing the result, seems to be some issue with escape characters, see [here](https://travis-ci.org/ThomasFeher/audacity/builds/109040456)). [Removing them works, though.](https://travis-ci.org/ThomasFeher/audacity/builds/109030635)
Would that be an alternative?
 =||= Is this pull request still relevant or can it be closed?
 =||= Depends if you want to include displaying the full version of the compiler in the log or not.
 =||= Thanks Thomas.  Travis now on gcc 4.9.4 and using your way to show version number.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
107Fix build with wxWidgets using STLThomasFeher02/22/16, 09:38:15 PM"This fixes building Audacity with wxWidgets configured with `--with-stl`, e.g. on openSuse.

Problem was probably that wxWidgets' own implementation of a string class had some implicit conversion functions that are not available when std::string is used.""Rather than adding c_str in hundreds of places, why not change the functions called so that they take const wxString& instead of const wxChar_t \* ?  There would be less code to review.
 =||= You are right. Closing this one. Please apply @jengelh 's patch.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
108Fix linking with non-system compiler on linuxThomasFeher11/09/19, 04:46:38 PMThis replaces the previous fix, which was applied to a generated file.Sorry, this has sat in the queue too long and is now being closed as we couldn't decide on progressing it. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
109CANCEL: Auto Save Export in Timer RecordingMark Youngtip2tail02/25/16, 12:23:44 PM"Hi,  I have modified the Timer Recording process to allow for automatic project save and/or export when the recording has been completed.

I am submitting this pull request for review and would like to see this implemented into Audacity.

Thanks""Hi, I see the travis build has failed - however I cannot see why - any advice?
 =||= Closed so I can make enhancements and pull from a different branch.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
110comment out extra tokens at end of #endif directive to avoid compiler warnings [-Wextra-tokens]Mojca Miklavecmojca02/26/16, 02:45:34 PM"My compiler keeps complaining about:

```
./nyquist/nyqsrc/sound.h:462:8: warning: extra tokens at end of #endif directive [-Wextra-tokens]
#endif WIN32
       ^
       //
1 warning generated.
```

so I'm attaching a trivial patch to comment out the extra tokens. (One could just as well delete them, but I didn't want to modify the code too much.)""Thank you.
 =||= "comment out extra tokens at end of #endif directive to avoid compiler warnings [-Wextra-tokens]Mojca Miklavecmojca02/26/16, 02:45:34 PM"My compiler keeps complaining about:

```
./nyquist/nyqsrc/sound.h:462:8: warning: extra tokens at end of #endif directive [-Wextra-tokens]
#endif WIN32
       ^
       //
1 warning generated.
```

so I'm attaching a trivial patch to comment out the extra tokens. (One could just as well delete them, but I didn't want to modify the code too much.)"NaNMojca Miklavec02/26/16, 02:11:55 PMcomment out extra tokens at end of #endif directive to avoid compiler warnings [-Wextra-tokens]1
111show more warnings on Travis-CIThomasFeher02/26/16, 06:00:03 PM"enables `-Wall` and `-Wextra`
see [here](https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html) for listing of all warnings that are added by these flags"NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
112build: rework everything to use wxString instead of pointer-to-wxCharJan Engelhardtjengelh07/13/18, 08:34:13 AM"make it build with wx3 --enable-stl and throw out other type sillynesses. That's all. It's not tested.
- abolish reliance on pointer-to-wxChar
- use backend-neutral wxString
- drop all wxString::c_str() calls because they give a pointer to
  the internal representation, which is also bounded by the lifetime
  of the surrounding object.
- drop calls to wxString::mb_str() because they give a
  platform-dependent internal representation; under a Unicode
  wxWidgets build, this is wchar_t, which
  - on Windows: is not usable, because most APIs expect narrow
    locale-specific strings
  - on Linux: is not usable, because most APIs expect narrow
    UTF-8 strings
- drop calls to wx_str, same as mb_str""A brief but not complete look shows you were alert to use const wString& in
arguments.  That is good.  I lately made my own sweep replacing string
value arguments with references, so let's not get more of that again.

Did you make some attempt to stop at least once in every changed function
and be sure nothing funny happens?
PRL

On Friday, February 26, 2016, jengelh notifications@github.com wrote:

> make it build with wx3 --enable-stl and throw out other type sillynesses.
> That's all. It's not tested.
> 
> abolish reliance on pointer-to-wxChar
> use backend-neutral wxString
> drop all wxString::c_str() calls because they give a pointer to the
> internal representation, which is also bounded by the lifetime of the
> surrounding object.
> drop calls to wxString::mb_str() because they give a platform-dependent
> internal representation; under a Unicode wxWidgets build, this is wchar_t,
> which
> 
> on Windows: is not usable, because most APIs expect narrow
> locale-specific strings
> on Linux: is not usable, because most APIs expect narrow UTF-8 strings
> 
> drop calls to wx_str, same as mb_str
> 
> ---
> 
> You can view, comment on, or merge this pull request online at:
> 
>   https://github.com/audacity/audacity/pull/112
> 
> Commit Summary
> 
> build: rework everything to use wxString instead of pointer-to-wxChar
> 
> File Changes
> 
> M .gitignore (9)
> M src/AboutDialog.cpp (4)
> M src/AboutDialog.h (4)
> M src/AudacityApp.cpp (39)
> M src/AutoRecovery.cpp (77)
> M src/AutoRecovery.h (7)
> M src/BatchCommands.cpp (16)
> M src/BatchProcessDialog.cpp (6)
> M src/Benchmark.cpp (4)
> M src/BlockFile.cpp (4)
> M src/DirManager.cpp (127)
> M src/DirManager.h (10)
> M src/Envelope.cpp (13)
> M src/Envelope.h (14)
> M src/FFT.cpp (2)
> M src/FFT.h (2)
> M src/FFmpeg.cpp (77)
> M src/FFmpeg.h (4)
> M src/FileIO.cpp (4)
> M src/FileNames.cpp (2)
> M src/FreqWindow.cpp (14)
> M src/Internat.cpp (7)
> M src/Internat.h (4)
> M src/LabelDialog.cpp (4)
> M src/LabelTrack.cpp (29)
> M src/LabelTrack.h (4)
> M src/LangChoice.cpp (8)
> M src/Languages.cpp (12)
> M src/Legacy.cpp (2)
> M src/Menus.cpp (34)
> M src/ModuleManager.cpp (17)
> M src/NoteTrack.cpp (19)
> M src/NoteTrack.h (4)
> M src/PitchName.cpp (77)
> M src/PitchName.h (4)
> M src/PluginManager.cpp (36)
> M src/PluginManager.h (1)
> M src/Prefs.cpp (2)
> M src/Project.cpp (77)
> M src/Project.h (10)
> M src/SampleFormat.cpp (2)
> M src/SampleFormat.h (2)
> M src/SelectedRegion.cpp (14)
> M src/SelectedRegion.h (14)
> M src/Sequence.cpp (60)
> M src/Sequence.h (8)
> M src/Tags.cpp (18)
> M src/Tags.h (4)
> M src/Theme.cpp (44)
> M src/TimeTrack.cpp (18)
> M src/TimeTrack.h (6)
> M src/TimerRecordDialog.cpp (4)
> M src/TrackPanel.cpp (34)
> M src/ViewInfo.cpp (2)
> M src/ViewInfo.h (2)
> M src/WaveClip.cpp (12)
> M src/WaveClip.h (6)
> M src/WaveTrack.cpp (17)
> M src/WaveTrack.h (6)
> M src/blockfile/LegacyAliasBlockFile.cpp (12)
> M src/blockfile/LegacyAliasBlockFile.h (2)
> M src/blockfile/LegacyBlockFile.cpp (14)
> M src/blockfile/LegacyBlockFile.h (2)
> M src/blockfile/ODDecodeBlockFile.cpp (12)
> M src/blockfile/ODDecodeBlockFile.h (2)
> M src/blockfile/ODPCMAliasBlockFile.cpp (12)
> M src/blockfile/ODPCMAliasBlockFile.h (2)
> M src/blockfile/PCMAliasBlockFile.cpp (12)
> M src/blockfile/PCMAliasBlockFile.h (2)
> M src/blockfile/SilentBlockFile.cpp (12)
> M src/blockfile/SilentBlockFile.h (2)
> M src/blockfile/SimpleBlockFile.cpp (12)
> M src/blockfile/SimpleBlockFile.h (2)
> M src/commands/CommandManager.cpp (88)
> M src/commands/CommandManager.h (44)
> M src/commands/HelpCommand.cpp (2)
> M src/commands/ImportExportCommands.cpp (6)
> M src/commands/ResponseQueue.h (2)
> M src/commands/ScreenshotCommand.cpp (2)
> M src/effects/ChangePitch.cpp (2)
> M src/effects/ChangeSpeed.cpp (2)
> M src/effects/Contrast.cpp (4)
> M src/effects/DtmfGen.cpp (6)
> M src/effects/DtmfGen.h (2)
> M src/effects/Effect.cpp (18)
> M src/effects/Effect.h (4)
> M src/effects/EffectManager.cpp (4)
> M src/effects/EffectRack.cpp (4)
> M src/effects/Equalization.cpp (32)
> M src/effects/Equalization.h (5)
> M src/effects/Equalization48x.cpp (4)
> M src/effects/LoadEffects.cpp (4)
> M src/effects/Noise.cpp (2)
> M src/effects/NoiseReduction.cpp (16)
> M src/effects/Reverb.cpp (4)
> M src/effects/ScienFilter.cpp (4)
> M src/effects/TruncSilence.cpp (2)
> M src/effects/VST/VSTEffect.cpp (104)
> M src/effects/VST/VSTEffect.h (8)
> M src/effects/audiounits/AudioUnitEffect.cpp (36)
> M src/effects/ladspa/LadspaEffect.cpp (6)
> M src/effects/nyquist/LoadNyquist.cpp (4)
> M src/effects/nyquist/Nyquist.cpp (96)
> M src/export/Export.cpp (10)
> M src/export/Export.h (2)
> M src/export/ExportCL.cpp (8)
> M src/export/ExportFFmpeg.cpp (18)
> M src/export/ExportFFmpegDialogs.cpp (84)
> M src/export/ExportFFmpegDialogs.h (30)
> M src/export/ExportFLAC.cpp (6)
> M src/export/ExportMP2.cpp (4)
> M src/export/ExportMP3.cpp (20)
> M src/export/ExportMultiple.cpp (16)
> M src/export/ExportOGG.cpp (4)
> M src/export/ExportPCM.cpp (190)
> M src/import/Import.cpp (64)
> M src/import/ImportFFmpeg.cpp (12)
> M src/import/ImportFLAC.cpp (2)
> M src/import/ImportGStreamer.cpp (38)
> M src/import/ImportLOF.cpp (2)
> M src/import/ImportMIDI.cpp (2)
> M src/import/ImportMP3.cpp (2)
> M src/import/ImportOGG.cpp (4)
> M src/import/ImportPlugin.h (2)
> M src/import/ImportQT.cpp (8)
> M src/import/ImportRaw.cpp (2)
> M src/ondemand/ODComputeSummaryTask.h (2)
> M src/ondemand/ODDecodeTask.h (2)
> M src/ondemand/ODTask.h (2)
> M src/ondemand/ODWaveTrackTaskQueue.cpp (4)
> M src/prefs/DirectoriesPrefs.cpp (6)
> M src/prefs/KeyConfigPrefs.cpp (10)
> M src/prefs/MidiIOPrefs.cpp (12)
> M src/prefs/ModulePrefs.cpp (2)
> M src/toolbars/ControlToolBar.cpp (2)
> M src/toolbars/ControlToolBar.h (2)
> M src/toolbars/EditToolBar.cpp (2)
> M src/toolbars/EditToolBar.h (2)
> M src/toolbars/SelectionBar.cpp (8)
> M src/toolbars/SelectionBar.h (2)
> M src/toolbars/ToolBar.cpp (2)
> M src/toolbars/ToolsToolBar.cpp (4)
> M src/toolbars/ToolsToolBar.h (6)
> M src/toolbars/TranscriptionToolBar.cpp (2)
> M src/toolbars/TranscriptionToolBar.h (2)
> M src/widgets/ASlider.cpp (4)
> M src/widgets/HelpSystem.cpp (4)
> M src/widgets/KeyView.cpp (24)
> M src/widgets/Meter.cpp (4)
> M src/widgets/MultiDialog.cpp (19)
> M src/widgets/MultiDialog.h (2)
> M src/widgets/NumericTextCtrl.cpp (10)
> M src/widgets/Ruler.cpp (4)
> M src/widgets/numformatter.cpp (2)
> M src/xml/XMLFileReader.cpp (4)
> M src/xml/XMLTagHandler.cpp (18)
> M src/xml/XMLTagHandler.h (6)
> M src/xml/XMLWriter.cpp (33)
> M src/xml/XMLWriter.h (1)
> 
> Patch Links:
> 
> https://github.com/audacity/audacity/pull/112.patch
> https://github.com/audacity/audacity/pull/112.diff
> 
> —
> Reply to this email directly or view it on GitHub.<
> https://ci6.googleusercontent.com/proxy/vpvJrEFOLM1wcJ8n05WUo-XKdZslV8L5AMu_zKkds3jQrzJX23vRA8SGXCZwwslvopun-pWcZUw9oVMFsRIUYLOVj5e2AK_V-QqWDoDgBBsYJyrppGennaKEJfj8L2-lVSF4_46ebSnYSyzErBCLGkU9CqHEiQ=s0-d-e1-ft#https://github.com/notifications/beacon/ALITYW977OW98_-fw_alHtooqWRhxH4dks5poPEGgaJpZM4HkUue.gif
 =||= This fixes building on openSuse. :+1: 
 =||= I am not willing to pull this.  This is a large commit that Jan admitted
was not tested.  I may not understand all the issues with multibyte
characters and such.  I don't know who else can review.

Better to break this into smaller commits, for instance such as separating
all the changes for XML handling.

I noticed a profanity in one of the comments -- please don't do that.

PRL

On Sat, Mar 12, 2016 at 11:10 AM, ThomasFeher notifications@github.com
wrote:

> This fixes building on openSuse. [image: :+1:]
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/audacity/audacity/pull/112#issuecomment-195768457.
 =||= Leaving this open for now, even though now has conflicts.  I think the idea is right.  The changes should be 'mechanical' and hence safe.  
 =||= Added reject-if-not-updated soon.  It has merge conflicts, a profanity, and Paul would like it in smaller chunks.  It's still a nice idea, and would help us on SUSE.
 =||= No activity since 2016.  Closing. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
113Timer Recording ImprovementsMark Youngtip2tail02/28/16, 08:42:34 PM"Hi,

This PR contains the following changes to the Timer Recording process:
- Ability to automatically save project after recording completed
- Ability to automatically export recording when completed
- Option to Close Audacity after timer recording competed.
- WINDOWS ONLY: Ability to shutdown/restart the PC after recording is completed

I look forward to having discussion about this, and hope it can be integrated into Audacity soon.""cacel
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
114Timer Recording ImprovementsMark Youngtip2tail03/29/16, 08:53:10 PM"Hi,

I have now completed some improvements to the Timer Recording system.
- Options to auto save and/or export the recording
- Ability to close Audacity when recording completed
- Windows Only: Ability to restart or shut down the system when recording completed

A compiled build is available at http://www.tip2tail.scot/audacity/20160321-B-tip2tail.zip""New version at removed (see latest build in 1st post) 
 =||= Another new version: (see first post)
Now available for testing.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
115Fix two effects that declared parameters but did not use them...Paul LicameliPaul-Licameli09/11/16, 09:14:45 PM... Travis build warnings discovered this problem for me."There was actually a reason those were not verified...they aren't part of the saved effects settings.
 =||= You refer to Amplify or Equalization or both?

PRL

On Wed, Mar 2, 2016 at 1:10 AM, Leland Lucius notifications@github.com
wrote:

> There was actually a reason those were not verified...they aren't part of
> the saved effects settings.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/audacity/audacity/pull/115#issuecomment-191083274.
 =||= Both.  I actually did include the ""amp"" value when I first converted the effects, but it was determined that it didn't make any sense to save it.  The EQ fellas are basically in the same boat.
 =||= Why does it not make sense for Amplify?

If I use Amplify, then use it again in-session, the last-used amplification
factor is forgotten.

On Wed, Mar 2, 2016 at 3:11 AM, Leland Lucius notifications@github.com
wrote:

> Both. I actually did include the ""amp"" value when I first converted the
> effects, but it was determined that it didn't make any sense to save it.
> The EQ fellas are basically in the same boat.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/audacity/audacity/pull/115#issuecomment-191121255.
 =||= Unfortunately, I don't recall all of the details, but it was all discussed back in April/May of last year.

However, there may have been further changes since then that have broken this or that we didn't get it right back then.
 =||= I ""believe"" it was because mAmp isn't really used when the effect is applied.  Only the ratio is used.
 =||= Amplification is supposed to be recalculated based on the actual loudness of the audio selected.   This pull request has been around since March.  I figure if Paul would have committed it, and still can even with me closing the pull request, as he has commit rights, if he thought it was OK.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
116fix -Wmissing-field-initializer (3 occurences)ThomasFeher03/01/16, 10:19:14 PMNaN"Reviewed by me
 =||= "fix -Wmissing-field-initializer (3 occurences)ThomasFeher03/01/16, 10:19:14 PMNaNNaNThomas Fehér02/29/16, 08:38:52 PMfix -Wmissing-field-initializer (3 occurences)1
117Update Ukrainian translationYuri Chornoivanyurchor04/09/16, 01:49:17 PM"Tested with msgfmt -vc, synced with code.

Many thanks for merging."NaNUpdate Ukrainian translationYuri Chornoivanyurchor04/09/16, 01:49:17 PM"Tested with msgfmt -vc, synced with code.

Many thanks for merging."NaNYuri Chornoivan03/16/16, 05:47:00 PMUpdate Ukrainian translation1
118Timer Recording EnhancementsMark Youngtip2tail04/01/16, 10:14:19 AM"To allow Automatic Save and Export of a  recording.  Also allows for additional options to be carried out after a successful timer recording such as Exit, Retsrat and Shutdown.

Development by Mark Young over multiple commits squashed into one.""These are now in the main Audacity GitHub repo.  Thanks Mark.
 =||= "Timer Recording EnhancementsMark Youngtip2tail04/01/16, 10:14:19 AM"To allow Automatic Save and Export of a  recording.  Also allows for additional options to be carried out after a successful timer recording such as Exit, Retsrat and Shutdown.

Development by Mark Young over multiple commits squashed into one."NaNtip2tail03/31/16, 09:26:26 PMChanges as per James's advice, allow Timer Recording to be used when project is empty if user has disabled warnings in prefs.  Also resolved a further message whitespace issue.1
119Timer Recording Disk Space WarningMark Youngtip2tail04/04/16, 09:21:43 PMAs discussed on development mailing listNaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
120Further Timer Recording EnhancementsMark Youngtip2tail04/09/16, 01:29:29 PM"Introduce further enhancement of the Timer Recording process:
- Disk space warning if the recording potentially will not fit in disk space available.
- ProgressDialog enhancements that allow the Stop/Cancel button to be confirmed and the elapsed time to be hidden.
- Messages enhanced to clearly show the actions being taken.""Thanks.  I rebased this off master and pushed to master.  Mark, you will now need to branch from master to make further changes to timer record.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
121Fix unused parameter warningsThomasFeher09/11/16, 07:00:37 PM"Fixes all occurences of unused parameter warnings in ""src"" folder.
Ignores warnings in ""lib-src"" folder.

Remaining warnings of unused parameter are due to usage of macros that conditionally use those parameters, depending on whether being build in debug or release mode.""Thanks.  I've updated and applied these.
Note that: 
wxUSE_ACCESSIBILITY

Meant that some parameters WERE used in other builds.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
122Timer Record: Ensure that Stop/Cancel in progress dialog always worksMark Youngtip2tail04/21/16, 11:45:08 AMAs per discussion on audacity-develNaNTimer Record: Ensure that Stop/Cancel in progress dialog always worksMark Youngtip2tail04/21/16, 11:45:08 AMAs per discussion on audacity-develNaNtip2tail04/14/16, 07:42:45 AMFix to ensure that Stop/Cancel button always takes effect1
123First pull requestShanghaiTimes04/21/16, 11:43:07 AMFirst pull request of VS2015"Closed.  We use VS2013 and will for release of 2.1.3, so we can't accept a pull request directly in to master - which we use to build releases.  There is some interest in the team in updating the toolchain.  Discussion on audacity-devel email list is needed.  You need to talk with the people there who want to update the toolchain.
 =||= Will we move to VS2015 at some time?

The implementation of C++11 on VS2013 is incompete in a few things.  (No
constexpr, no nothrow, no inherited constructors, and some other things.)
 But not yet in anything I find most important.

PRL

On Thu, Apr 21, 2016 at 7:43 AM, James Crook notifications@github.com
wrote:

> Closed #123 https://github.com/audacity/audacity/pull/123.
> 
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly or view it on GitHub
> https://github.com/audacity/audacity/pull/123#event-636027729
 =||= We might skip VS2015 entirely and jump to a later version.  

Best discussed on audacity-devel.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
124Don't use a separate build script for optional files.Henric Jungheimhenricj06/27/18, 08:49:33 AM"The current portaudio-v19.vcxproj does two builds.  First it runs the normal MSBuild to compile and create a static library.  It then runs a second pass to compile additional files and update the static library.  This change adds the optional files to the main MSBuild, using conditional  <ExcludeFromBuild>s to only include these files when needed.

The preprocessor definitions are added directly to the <PreprocessorDefinitions> instead of through a force-included header file.

This exposes the files in the Visual Studio Solution Explorer, makes the compiler flags used to build the optional files default to the same flags as the non-optional files (and editable in the UI), and eliminates the second cl/lib cycle."NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
125VS2013 needs <functional> for mem_fun_refHenric Jungheimhenricj04/25/16, 01:45:02 AMThe VS2013 build is broken with an undefined mem_fun_ref.  It needs <functional>."Sorry, thanks for the alert, it built all right on Mac.  I fixed it
myself.  Please close the pull request.
PRL

On Sun, Apr 24, 2016 at 8:26 PM, Henric Jungheim notifications@github.com
wrote:

> ## The VS2013 build is broken with an undefined mem_fun_ref. It needs .
> 
> You can view, comment on, or merge this pull request online at:
> 
>   https://github.com/audacity/audacity/pull/125
> Commit Summary
> - VS2013 needs <functional> for mem_fun_ref
> 
> File Changes
> - _M_ src/tracks/ui/Scrubbing.cpp
>   https://github.com/audacity/audacity/pull/125/files#diff-0 (1)
> 
> Patch Links:
> - https://github.com/audacity/audacity/pull/125.patch
> - https://github.com/audacity/audacity/pull/125.diff
> 
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly or view it on GitHub
> https://github.com/audacity/audacity/pull/125
 =||= Already fixed.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
126Ignore Visual Studio .vcxproj.user files.Henric Jungheimhenricj04/25/16, 02:04:42 AMVisual Studio creates .vcxproj.user files to store local, per-user settings.  These are not under source control, but do clutter the git status.NaNIgnore Visual Studio .vcxproj.user files.Henric Jungheimhenricj04/25/16, 02:04:42 AMVisual Studio creates .vcxproj.user files to store local, per-user settings.  These are not under source control, but do clutter the git status.NaNhenric04/24/16, 08:52:49 PMIgnore Visual Studio .vcxproj.user files.1
127Get rid of the Windows compatibility headers stdint.h and inttypes.h.Henric Jungheimhenricj06/27/18, 08:37:16 AMMicrosoft has added official stdint.h and inttypes.h headers since these compatibility headers were created.  VS2013 already has them, but the conflicting headers cause build problems with VS2015 when other system headers #include them.NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
128Update _MSC_VER #if blocks.Henric Jungheimhenricj06/27/18, 08:37:09 AMThis updates the _MSC_VER related #if blocks in to avoid some warnings in VS2013 and to fix some errors when building with VS2015 (particularly related to VS2015 adding its own snprintf)."Should it be split into separate pull requests or just separate commits in the same pull request?  AFAIK, the upstream changes would be much better done there, but apart from Nyquist I'm not sure which projects are still being actively developed.  Should there be separate pull requests for each project?  Perhaps one pull request for Audacity specific code and one for lib-src, with separate commits for each project?
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
129Adds FR comment to audacity.desktop.inOlivier Humberttrebmuh07/05/16, 03:05:59 PM... and remove unnecessary duplication of the name (no needs to override the original name if it doesn't change when translated)."ping ?
 =||= Ping, any issue with this pull request maybe ?
 =||= ping ?
 =||= This seems a good change and in accordance with the ""Desktop Entry Specification"" at  https://specifications.freedesktop.org/desktop-entry-spec/desktop-entry-spec-latest.html .

Anyone think not? 
 =||= Committed at https://github.com/audacity/audacity/commit/145a54d . 
 =||= Sweet, thanks.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
130Several build failure fixesMax KellermannMaxKellermann09/07/16, 10:53:14 AMNaN"Please explain which ""build failures"" you are fixing with each of these commits.

Please explain more about how the wxFileNameWrapper kludge causes a crash.  I would like to keep that kludge for the compilers that let us get away with it.
 =||= Ok, I'll add error messages to the commit messages.
 =||= In any case, the wxFileNameWrapper kludge causes severe double free bugs. Valgrind is screaming loudly, and sometimes, even glibc notices heap corruption. I'll post details.
 =||= According to the travis output linked herein, commit 7acc599cd7999020bec9d92f9a99cbc55429b863 is causing build failures.
 =||= Apparently, Travis builds with a very old FFmpeg version which doesn't have the `const` yet. Without that commit, build fails here (FFmpeg 3.0 and 2.8.6).
 =||= I cherry-picked the fix for Track.cpp
 =||= So I'm using my system FFmpeg, because I hate projects which ship (outdated) copies of other libraries. The FFmpeg version in `lib-src/ffmpeg/` is 2.2.2 according to 14b47b46ab51f31f43f73017aac55e2789aaa96e. Would you agree to update those headers again? (I'd remove them completely, but that's just my opinion.)
 =||= I've added a valgrind log to the wxFileNameWrapper commit. Do you need to know anything else?
 =||= I am not qualified to make the decision about FFmpeg.  I suggest you ask the question also at audacity-devel@lists.sourceforge.net

Can you figure out conditional compilation that could make the build work with either version?
 =||= Ok, wrapped in preprocessor version checks.
 =||= Please see my commit https://github.com/audacity/audacity/commit/e09f62031156dbe792d98a161eaf7267095e94a5
which implements a different cheat for wxFileNameWrapper which might not crash you.
 =||= This will fall apart as well any day. I wouldn't do that. I understand your desire for move operations, but in this case I'd wait for WX to support it. Everything else is a kludge that's just waiting to crash (or corrupt data randomly).
 =||= It's ugly either way, but humor me and see if it compiles and runs and lets you load and save a project without apparent trouble.
 =||= Compiles and doesn't crash, no valgrind warning.
 =||= Good, I enabled the less evil swap function.  It should be safe so long as we do not change version of wxWidgets.

This discussion page is still telling me you did not satisfy the Travis build for FFmpeg functions.
 =||= That's because your FFmpeg version numbers are inconsistent!

In upstream FFmpeg, the `const` was added in commit https://github.com/FFmpeg/FFmpeg/commit/ec4f04da1 and `version.h` said:

```
#define LIBAVFORMAT_VERSION_MAJOR 55
#define LIBAVFORMAT_VERSION_MINOR 20
#define LIBAVFORMAT_VERSION_MICRO  0
```

Now your `version.h` without the `const` says:

```
#define LIBAVFORMAT_VERSION_MAJOR 55
#define LIBAVFORMAT_VERSION_MINOR 33
#define LIBAVFORMAT_VERSION_MICRO 100
```

.. which is the more recent version number set by commit https://github.com/FFmpeg/FFmpeg/commit/db3c9701f46d20fd7e94c3222cf4fd4524a16414 . The real problem is that FFmpeg applied those two changes in different branches, and your copy is a newer branch but without the `const` change.

So now I've changed the minimum version expected for `const` to 55.33.101, one more than Audacity's FFmpeg copy. I hope this covers all relevant versions.
 =||= What needs to be done to get the FFmpeg patch through?
 =||= For a start, the commit has conflicts. 

And when that is solved, we have to be sure that the currently recommended FFmpeg 2.2.3 
maximum is still supported (so e.g. the recommended Windows/Mac FFmpeg downloads at http://manual.audacityteam.org/man/faq_installation_and_plug_ins.html#ffdown still work).

Or upgrade Audacity to support later FFmpeg/libav (what range of versions?)

Or migrate to gstreamer and use their FFmpeg support rather than hardcoding our own.  

The last two are major undertakings but I am not an expert in this. 

I doubt we will want to make any changes now before 2.1.3 release but I 
suggest taking Paul's recommendation to ask on the -devel list. 
 =||= I was hoping to give Max a chance to do this, if he doesn't I will submit a new pull request and this one can be closed.

I cherry picked the FFmpeg commit only, and it doesn't break the current master branch. I don't know about Travis yet. I don't expect any change in behavior (or supported versions) as a result.

FWICT this patch is about fixing a build failure since the function prototypes changed in the new headers. But since they're only adding a const where there wasn't one, that won't break anything (const isn't part of the C calling conventions AFAIK). So functionally, nothing has changed, the same symbols are still loaded from the libraries. This can all be verified of course without much effort.
 =||= As of yet, I have no feedback whether my changes will be merged. I don't want to waste time on something that will go to the trash can. When I submitted this PR, there was no conflict - the Audacity project ignored my PR for so long, and **after** that merged changed which conflicted with this PR. Yes, I will do you the favor and resolve the conflicts - if you want me to.

About the `const`: the function pointers are not compatible if the constness of pointer targets is not the same. This has nothing to do with calling conventions - calling conventions describe how calls are made on the machine language level. Thus, calling conventions have little to do with the C language, they're a lower level, and semantic API declarations like constness do not matter on that level.
 =||= As I said to Max before, I do not consider myself competent to decide which
version of the library should be used in our released binaries for Mac and
Windows.

However I reexamined commit 41de5b385b2ca721a71871fcdb00ec3fa4441b5b

and I saw that all changes are conditionally compiled, so that it leaves
our source code compatible with use of either version of the library.

Therefore I have cherry-picked and commited that.  Alone, it was
unconflicting.

The other commits are not relevant to upgrading the library version.
Updates of Makefile.in are periodically done by other people, and simply
commit the results of an automated tool, which doesn't demand real
programming effort.

And from discussions earlier with Max, I found other changes to
wxFileNameWrapper that do not give up the performance improvements I
intended, while also fixing the complaints from valgrind.

Therefore I do not intend to take those commits.

The changes to .gitignore give developers some convenience while not
affecting the build at all.  No development really depends on them.

Therefore I intend to close the commit request, having selected the one
most important part.

PRL

On Wed, Sep 7, 2016 at 2:25 AM, Max Kellermann notifications@github.com
wrote:

> As of yet, I have no feedback whether my changes will be merged. I don't
> want to waste time on something that will go to the trash can. When I
> submitted this PR, there was no conflict - the Audacity project ignored my
> PR for so long, and _after_ that merged changed which conflicted with
> this PR. Yes, I will do you the favor and resolve the conflicts - if you
> want me to.
> 
> About the const: the function pointers are not compatible if the
> constness of pointer targets is not the same. This has nothing to do with
> calling conventions - calling conventions describe how calls are made on
> the machine language level. Thus, calling conventions have little to do
> with the C language, they're a lower level, and semantic API declarations
> like constness do not matter on that level.
> 
> —
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> https://github.com/audacity/audacity/pull/130#issuecomment-245186932,
> or mute the thread
> https://github.com/notifications/unsubscribe-auth/ALITYQlVb91C0qUBtdgxHX_i0fQ_dK_Kks5qnlj3gaJpZM4IRpzz
> .
 =||= ... And the Travis build has succeeded.
PRL

On Wed, Sep 7, 2016 at 6:39 AM, Paul Licameli paul.licameli@gmail.com
wrote:

> As I said to Max before, I do not consider myself competent to decide
> which version of the library should be used in our released binaries for
> Mac and Windows.
> 
> However I reexamined commit 41de5b385b2ca721a71871fcdb00ec3fa4441b5b
> 
> and I saw that all changes are conditionally compiled, so that it leaves
> our source code compatible with use of either version of the library.
> 
> Therefore I have cherry-picked and commited that.  Alone, it was
> unconflicting.
> 
> The other commits are not relevant to upgrading the library version.
> Updates of Makefile.in are periodically done by other people, and simply
> commit the results of an automated tool, which doesn't demand real
> programming effort.
> 
> And from discussions earlier with Max, I found other changes to
> wxFileNameWrapper that do not give up the performance improvements I
> intended, while also fixing the complaints from valgrind.
> 
> Therefore I do not intend to take those commits.
> 
> The changes to .gitignore give developers some convenience while not
> affecting the build at all.  No development really depends on them.
> 
> Therefore I intend to close the commit request, having selected the one
> most important part.
> 
> PRL
> 
> On Wed, Sep 7, 2016 at 2:25 AM, Max Kellermann notifications@github.com
> wrote:
> 
> > As of yet, I have no feedback whether my changes will be merged. I don't
> > want to waste time on something that will go to the trash can. When I
> > submitted this PR, there was no conflict - the Audacity project ignored my
> > PR for so long, and _after_ that merged changed which conflicted with
> > this PR. Yes, I will do you the favor and resolve the conflicts - if you
> > want me to.
> > 
> > About the const: the function pointers are not compatible if the
> > constness of pointer targets is not the same. This has nothing to do with
> > calling conventions - calling conventions describe how calls are made on
> > the machine language level. Thus, calling conventions have little to do
> > with the C language, they're a lower level, and semantic API declarations
> > like constness do not matter on that level.
> > 
> > —
> > You are receiving this because you commented.
> > Reply to this email directly, view it on GitHub
> > https://github.com/audacity/audacity/pull/130#issuecomment-245186932,
> > or mute the thread
> > https://github.com/notifications/unsubscribe-auth/ALITYQlVb91C0qUBtdgxHX_i0fQ_dK_Kks5qnlj3gaJpZM4IRpzz
> > .
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
131Add audacity.props to support using multiple versions of Visual Studio.Henric Jungheimhenricj06/27/18, 08:51:29 AM"It allows WXWIN to be overriden by WXWIN_VS2013 and WXWIN_VS2015, which can point to separate VS2013 and VS2015 wxWidgets builds.  Project output and intermediate files are all put under a unified ""build"" directory and include the platform, toolset, and configuration in the path.  The net effect is that the the same source tree can be open simultaneously in VS2013 and VS2015, without the build artifacts interfering.  This should also mean that, barring compiler changes, adding support for future versions of Visual Studio should be a matter of adding a line or two to the props file.

This is similar to how wxWidgets handles multiple Visual Studio versions.  The main differences is that while wxWidgets' props file sets the toolset version directly, audacity.props defines MSBuild properties that are then used by the various project files to set the toolset version.  This makes it apparent in the UI that these properties are being set dynamically (e.g., the ""Platform Toolset"" in Audacity's ""General"" Confiuration Properties appears as ""$(AudacityPlatformToolset)"").

This does change the build artifact paths.  For example, the debug Audacity.exe now winds up in ""win\build\bin\v120\Win32\Debug"" and the release build will be in ""win\build\bin\v120_xp\Win32\Release"".  Since something based on the toolset version needs to be in the path to keep the VS2013 and VS2015 stuff apart, this seems reasonable.  If another scheme is preferred, it is easy to change since they are all defined in [audacity.props](https://github.com/henricj/audacity/blob/audacity.props/win/audacity.props).

VS2013 builds and runs, but building with the VS2015 compiler will result in compilation errors without pull requests [127](https://github.com/audacity/audacity/pull/127) and [128](https://github.com/audacity/audacity/pull/128) (and possibly [124](https://github.com/audacity/audacity/pull/124)).""There is an alternate way to resolve the problem the changed paths caused with copying the PlugIns and Nyquist files (*.ny, *.lsp, etc) here:  https://github.com/henricj/audacity/commit/74a1f93dfad00f400bac269342016284c38c9790
That change gets rid of the custom ""copy"" task used for some of the files and uses MSBuild's Copy task for everything.  It also tries to handle the Clean and Rebuild targets properly.
 =||= The original version did not include the portaudio-v19 project file change, which is needed to do a clean build (with a really clean directory; the ""Clean"" target was not enough).
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
132Fix uninitialized pointer warning in TrackPanel.cppHenric Jungheimhenricj05/07/16, 03:21:36 PMNaN"Thanks, pulled it.  This was in fact harmless, if you read the logic closely.
 =||= Enabling /sdl turns the C4703 warning into an error.  Getting rid of that one warning makes it possible to compile Audacity with the SDL checks enabled.
 =||= "Fix uninitialized pointer warning in TrackPanel.cppHenric Jungheimhenricj05/07/16, 03:21:36 PMNaNNaNHenric Jungheim05/07/16, 05:03:57 AMFix uninitialized pointer in TrackPanel.cpp1
133Update Catalan translationRobert Antoni Buj Gelonchrbuj08/15/16, 08:59:32 AMNaNNaNUpdate Catalan translationRobert Antoni Buj Gelonchrbuj08/15/16, 08:59:32 AMNaNNaNRobert Antoni Buj Gelonch05/08/16, 01:31:19 PMUpdate Catalan translation1
134Added a Warnings/Prompts option to disable the save on exit prompt.Timothy Brackettbracketttc05/22/16, 03:35:16 AM"I use Audacity trivially and frequently open audio files briefly and then close the program. Audacity lacked a way to disable the save project on exit prompts, so I made that option.

A checkbox is added to the Warnings/Prompts preferences page that allows the user to opt out of the save on exit prompts.""I believe most of us are against such a change, 

You are an advanced user,. Many are not, and import files for editing then delete them.  Naive users can change preferences in error too. 

We might do something like check to see if  the entire audio has been exported before hiding the prompt, but that would be no improvement to someone using Audacity only as a media player. 

Have you thought of doing without the visible preference? Then if an advanced user must disable the prompt at their own risk, they can edit audacity,cfg directly. That is reasonably safe because naive users would not know how to do it, and it could not be done by accident. 
 =||= I agree with Gale that not showing the warning when the project has been changed exposes naive users to an unacceptable risk of losing their work. However, there are some cases where I think we could safely suppress the message, such as, if the project has only been exported and the metadata not edited. I'd be in favour of suppressing the message in ""some"" cases, but we would need to discuss which specific cases the message can be safely suppressed. I'd suggest raising this question on either this mailing list: https://lists.sourceforge.net/lists/listinfo/audacity-quality or this part of the forum: http://forum.audacityteam.org/viewforum.php?f=20
 =||= Fair enough. Like I said, I actually use Audacity kind of trivially. I currently work in DSP and use Audacity to playback files and look at spectrograms of audio files purely for diagnostic purposes. My Audacity ""projects"" are just imported wave files that I make no changes to.

The code clearly considers a ""project"" to be dirty if there are tracks added. Maybe it would be more fitting to add a visible preference for considering imported but otherwise unmodified projects to be clean?
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
135Create a hidden configuration option to disable the save prompt on exitTimothy Brackettbracketttc09/11/16, 08:26:32 PM"Follow-up to audacity/audacity#134, after feedback regarding community direction and demographics, I removed the checkbox to control this option from the Preferences dialog. The only way to enable this option / disable the save prompt on exit is to add
`[Warnings]
PromptToSaveOnExit=0`
to audacity.cfg.""This tests OK for me on Windows. I am +1 because it directly addresses the use case of Audacity as a player or viewer without giving naive users an easy way to lose their data. At the least, we can then give a short, useful answer to the sometimes irate users who write to feedback@ or Forum about this.    
 =||= GitHub isn't showing the 'PromptToSaveOnExit' change, and the Bug1279 change is already in Audacity.  So closing.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
136Change %Ld to %lld in PluginManager#GetConfigAustin Mullinsamullins8309/11/16, 08:09:34 PMAs of Visual Studio 2015, calling `wxstring#Printf` with a format `%Ld` throws a fatal exception. This is because the latest MSVC actually implements `snprintf`, and of course they do it differently than GCC. I couldn't find any documentation online regarding the `%Ld` format. It apparently works interchangeably with `%lld` on most compilers, but Microsoft had to be different."Thanks.  It looks as if since you made this pull request that code has gone, and there are now no instance of %Ld in the code.  Therefore should be good for VS 2105.  Closing pull request.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
137Fix bug 322Timothy Brackettbracketttc09/09/16, 06:44:30 PMFixes http://bugzilla.audacityteam.org/show_bug.cgi?id=322"Thanks, bracketttc.

On Win 7 when using Taskbar close on minimised windows, the project windows pop up in turn with a ""Save Changes"" dialogue, whereas before the suggested change they don't.

On Windows 10 I see no change in behaviour. Did you test on that version of Windows? 
 =||= I don't have Windows 10 on any of my systems.

Arguably this is really an upstream bug with wxWidgets. A modal dialog should force the parent window to front anyway.
 =||= CLOSED.
Commit history is too messy (should be squashed). 
Does not address the main part of bug 322 which is many windows with untitled projects. 
We might use the Iconize() as part of the fix later.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
138Update da.poscootergrisen07/10/16, 10:24:17 PMJust a few changes.NaNUpdate da.poscootergrisen07/10/16, 10:24:17 PMJust a few changes.NaNscootergrisen06/15/16, 11:41:20 AMUpdate da.po1
139Fix for Bug 1277Taiki KimWaveMotion06/18/16, 11:04:47 PMNaN"Thanks for your contribution.  I merged it.
 =||= "Fix for Bug 1277Taiki KimWaveMotion06/18/16, 11:04:47 PMNaNNaNTaiki Kim06/18/16, 08:41:29 PMMerge remote-tracking branch 'upstream/master' into bug12771
140Update Ukrainian translationYuri Chornoivanyurchor07/10/16, 10:29:16 PM"An updated version (tested for validity as is and in vivo).

Thanks for pushing this update."NaNUpdate Ukrainian translationYuri Chornoivanyurchor07/10/16, 10:29:16 PM"An updated version (tested for validity as is and in vivo).

Thanks for pushing this update."NaNYuri Chornoivan06/20/16, 06:28:53 PMUpdate Ukrainian translation1
141Correctly load parameters for Change Pitch effectTaiki KimWaveMotion07/12/16, 06:51:09 PM"Partial fix for Bug 73.
Partial fix for Bug 1207.""Works for me and only a one line fix, so merged.
 =||= "Correctly load parameters for Change Pitch effectTaiki KimWaveMotion07/12/16, 06:51:09 PM"Partial fix for Bug 73.
Partial fix for Bug 1207."NaNTaiki Kim06/20/16, 11:03:34 PMMerge remote-tracking branch 'upstream/master' into changepitchparam1
142Parameter loading for batch EQTaiki KimWaveMotion09/11/16, 09:11:17 PM"This PR contains two commits; the first fixes chains that did EQ using a named EQ curve (i.e. not 'unnamed'). The second prevents users from using or making chains that use the 'unnamed' EQ curve. 

The second commit restores what looked to me to be the originally intended behavior, but I put it separate in case I was wrong.""This seems to work as far as it goes, but a couple of points:

1) When Equalization is called from a Chain, Init() is not called, which means that there is no checking of the sample rate, and mHiFreq may not have been initialised. If mHiFreq has not neen initialised, then in EffectEqualization::setCurve
`env->Insert(std::min(1.0, std::max(0.0, when)), value);`
may pass invalid values to Envelope::Insert

Off the top of my head, if mHiFreq is initialised to say -1 in the constructor, then at the top of EffectEqualization::setCurve we could use something like:

```
if (mHiFreq == -1 && !Init())
   return;
```

There may be a better solution ;-)

2) It's not a ""rule"" as far as I'm aware, but the usual style is to split long strings across multiple lines rather than relying on the ide/editor to wrap (see HelpText.cpp for examples).
 =||= 1) From inspecting call hierarchies, running an effect from a chain does seem to run its Init(). BatchCommands::ApplyEffectCommand() and Effect::Apply() both contain a call to AudacityProject::OnEffect(), which eventually leads to the Init() call. Running Debug with a breakpoint at EffectEqualization::Init() confirms this; the breakpoint is hit when normally applying EQ, when running a chain on the current project, and when running a chain on a file.

2) Thanks for the heads up, didn't notice that from my IDE : ) Fix incoming.
 =||= Please try running your patched version through a debugger.
Your addition of `setCurve(CurveName);` in  EffectEqualization::SetAutomationParameters is the cause of the problem because it leads to EffectEqualization::setCurve before Init() has been called.
 =||= Ah, you've also made the same mistake that I made a couple of weeks ago splitting long strings ;-)
To split the string over multiple lines, if you use ""/"" then the next line shouldn't have leading whitespace.
Alternatively, each line may be quoted separately. The former seems to be the usual style in Audacity, but either of these works for me:

```
      // The user tried to run a chain using the unnamed curve
      wxMessageBox( _(""The chain which you tried to run had an Equalization \
command using an unnamed curve. Using Equalization in \
chain processing requires the chain file to specify a \
named EQ Curve.\n\nTo use a custom-drawn equalization \
curve in a chain, please save your curve to a new name \
by pressing 'Save/Manage Curves...' and then renaming \
the 'unnamed' curve. It will then be available under \
that name in the 'Select Curve:' list when editing your \
chain's Equalization parameters.""),
                   _(""Chain aborted: invalid EQ curve name: 'unnamed'""),
                   wxOK | wxICON_ERROR);
```

```
      // The user tried to run a chain using the unnamed curve
      wxMessageBox( _(""The chain which you tried to run had an Equalization ""
                      ""command using an unnamed curve. Using Equalization in ""
                      ""chain processing requires the chain file to specify a ""
                      ""named EQ Curve.\n\nTo use a custom-drawn equalization ""
                      ""curve in a chain, please save your curve to a new name ""
                      ""by pressing 'Save/Manage Curves...' and then renaming ""
                      ""the 'unnamed' curve. It will then be available under ""
                      ""that name in the 'Select Curve:' list when editing your ""
                      ""chain's Equalization parameters.""),
                   _(""Chain aborted: invalid EQ curve name: 'unnamed'""),
                   wxOK | wxICON_ERROR);
```
 =||= Nice idea.  Not completed.  Not suitable for merging.  Closed.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
143Code cleanup: removed the old real FFT code not used for a long timeRaphaël MarinierRaphaelMarinier07/13/16, 05:32:42 PM"Hi Audacity developers,

I have an idea for an Audacity plugin (I will share details in the ML) and to familiarize myself with the codebase I thought I could start by doing a small cleanup.

In this pull request, I remove the old real FFT code that hasn't been used since 2009 (and checked that the current real FFT code is faster than the old one - see first commit), and add a few healthy consts in FFT.{h,cpp} and RealFFTf.{h,cpp}.""Did you confirm that the power spectrum was faster too?
 =||= Yes. The reported timings are actually comparing the current vs old versions of PowerSpectrum(). I also just directly compared the current vs old versions of the FFT themselves, without the PowerSpectrum proxy, and I get the same results. In PowerSpectrum(), almost all of the time is spent computing the FFT.

Are cleanups like this welcome in the future?
 =||= This cleanup is welcome.  I intend to pull it soon into my own branch, add some more comments and then commit to main Audacity.

Other removals of 'dead code' might not be so welcome.  Commented out code could be kept in Audacity for a good reason.  The MIDI code is a good example.  Const is good.  We like const.

Our tardy responses to pull requests on GitHub are mostly because we don't (yet) visit here regularly.  Most activity happens on our email list https://lists.sourceforge.net/lists/listinfo/audacity-devel .  It is much much easier for us to accept a change that is from someone we know and have talked with on that list.  They will know when we are in lockdown, where and how we track bugs, a bit more about our plans and so on.   

We would for example like to make it so that Audacity can compile with wxWidgets compiled with STL enabled.  Lots of const wxString changes for that to work.  But to do that the developer making the changes needs to engage with us so that we get it in in the right stages.  So they need to contact us on the email list first and chat a bit about the plan.
 =||= Ok. Of course, I understand that not all dead code should be removed, but here I went ahead since we have the same functionality implemented twice, with one version behind superior (faster).

I am the one who proposed on the ML to implement an audio alignment mechanism. I wrote this change in order to familiarize myself with Audacity's code base. I will start discussing on the ML when I see other potential small changes that I could make.
 =||= Ah, OK, Sorry Raphael, I had not made that connection.  That makes a world of difference.   

Merged.

Future pull requests, please just share your branch name with us on devel with a comment there.
 =||= "Code cleanup: removed the old real FFT code not used for a long timeRaphaël MarinierRaphaelMarinier07/13/16, 05:32:42 PM"Hi Audacity developers,

I have an idea for an Audacity plugin (I will share details in the ML) and to familiarize myself with the codebase I thought I could start by doing a small cleanup.

In this pull request, I remove the old real FFT code that hasn't been used since 2009 (and checked that the current real FFT code is faster than the old one - see first commit), and add a few healthy consts in FFT.{h,cpp} and RealFFTf.{h,cpp}."NaNRaphaël Marinier06/25/16, 06:36:00 PMCode cleanup: Changed a few pointers to const pointers in FFT code1
144bool AudacityApp::OnInit() {    // Ensure we have an event loop durin…alex-chapiroalex-chapiro08/26/16, 10:48:49 AM"…g initialization    wxEventLoopGuarantor eventLoop;    std::unique_ptr < wxLog > { wxLog::SetActiveTarget(new AudacityLogger) }; // DELETE    mLocale = NULL;    m_aliasMissingWarningShouldShow = true;    m_LastMissingBlockFile = NULL;    mChecker = NULL;    mIPCServ = NULL; #if defined(**WXMAC**)    // Disable window animation    wxSystemOptions::SetOption(wxMAC_WINDOW_PLAIN_TRANSITION, 1); #endif #ifdef AUDACITY_NAME    wxString appName = wxT(AUDACITY_NAME); #else    wxString appName = wxT(""Audacity""); #endif    wxTheApp->SetAppName(appName);    // Explicitly set since OSX will use it for the ""Quit"" menu item    wxTheApp->SetAppDisplayName(wxT(""Audacity""));    wxTheApp->SetVendorName(wxT(""Audacity""));    // Unused strings that we want to be translated, even though    // we're not using them yet...    wxString future1 = _(""Master Gain Control"");    ::wxInitAllImageHandlers();    wxFileSystem::AddHandler(new wxZipFSHandler);    //    // Paths: set search path and temp dir path    // #ifdef __WXGTK__    /\* Search path (for plug-ins, translations etc) is (in this order):       \* The AUDACITY_PATH environment variable       \* The current directory       \* The user's .audacity-files directory in their home directory       \* The ""share"" and ""share/doc"" directories in their install path _/    wxString home = wxGetHomeDir();    /_ On Unix systems, the default temp dir is in /var/tmp. _/    defaultTempDir.Printf(wxT(""/var/tmp/audacity-%s""), wxGetUserId().c_str());    wxString pathVar = wxGetenv(wxT(""AUDACITY_PATH""));    if (pathVar != wxT(""""))       AddMultiPathsToPathList(pathVar, audacityPathList);    AddUniquePathToPathList(::wxGetCwd(), audacityPathList); #ifdef AUDACITY_NAME    AddUniquePathToPathList(wxString::Format(wxT(""%s/.%s-files""),       home.c_str(), wxT(AUDACITY_NAME)),       audacityPathList);    AddUniquePathToPathList(wxString::Format(wxT(""%s/share/%s""),       wxT(INSTALL_PREFIX), wxT(AUDACITY_NAME)),       audacityPathList);    AddUniquePathToPathList(wxString::Format(wxT(""%s/share/doc/%s""),       wxT(INSTALL_PREFIX), wxT(AUDACITY_NAME)),       audacityPathList); #else //AUDACITY_NAME    AddUniquePathToPathList(wxString::Format(wxT(""%s/.audacity-files""),       home.c_str()),       audacityPathList);    AddUniquePathToPathList(wxString::Format(wxT(""%s/share/audacity""),       wxT(INSTALL_PREFIX)),       audacityPathList);    AddUniquePathToPathList(wxString::Format(wxT(""%s/share/doc/audacity""),       wxT(INSTALL_PREFIX)),       audacityPathList); #endif //AUDACITY_NAME    AddUniquePathToPathList(wxString::Format(wxT(""%s/share/locale""),       wxT(INSTALL_PREFIX)),       audacityPathList);    AddUniquePathToPathList(wxString::Format(wxT(""./locale"")),       audacityPathList); #endif //**WXGTK**    wxFileName tmpFile;    tmpFile.AssignTempFileName(wxT(""nn""));    wxString tmpDirLoc = tmpFile.GetPath(wxPATH_GET_VOLUME);    ::wxRemoveFile(tmpFile.GetFullPath());    // On Mac and Windows systems, use the directory which contains Audacity. #ifdef **WXMSW**    // On Windows, the path to the Audacity program is in argv[0]    wxString progPath = wxPathOnly(argv[0]);    AddUniquePathToPathList(progPath, audacityPathList);    AddUniquePathToPathList(progPath + wxT(""\Languages""), audacityPathList);    // See bug #1271 for explanation of location    tmpDirLoc = FileNames::MkDir(wxStandardPaths::Get().GetUserLocalDataDir());    defaultTempDir.Printf(wxT(""%s\SessionData""),       tmpDirLoc.c_str()); #endif //**WXWSW** #ifdef **WXMAC**    // On Mac OS X, the path to the Audacity program is in argv[0]    wxString progPath = wxPathOnly(argv[0]);    AddUniquePathToPathList(progPath, audacityPathList);    // If Audacity is a ""bundle"" package, then the root directory is    // the great-great-grandparent of the directory containing the executable.    AddUniquePathToPathList(progPath + wxT(""/../../../""), audacityPathList);    // These allow for searching the ""bundle""    AddUniquePathToPathList(progPath + wxT(""/../""), audacityPathList);    AddUniquePathToPathList(progPath + wxT(""/../Resources""), audacityPathList);    defaultTempDir.Printf(wxT(""%s/audacity-%s""),       tmpDirLoc.c_str(),       wxGetUserId().c_str()); #endif //**WXMAC**    // Define languanges for which we have translations, but that are not yet    // supported by wxWidgets.    //    // TODO:  The whole Language initialization really need to be reworked.    //        It's all over the place. #if !wxCHECK_VERSION(3, 0, 1)    for (size_t i = 0, cnt = WXSIZEOF(userLangs); i < cnt; i++)    {       wxLocale::AddLanguage(userLangs[i]);    } #endif    // Initialize preferences and language    InitPreferences(); #if defined(**WXMSW**) && !defined(**WXUNIVERSAL**) && !defined(**CYGWIN**)    this->AssociateFileTypes(); #endif    // TODO - read the number of files to store in history from preferences    mRecentFiles = new FileHistory(ID_RECENT_LAST - ID_RECENT_FIRST + 1, ID_RECENT_CLEAR);    mRecentFiles->Load(_gPrefs, wxT(""RecentFiles""));    theTheme.EnsureInitialised();    // AColor depends on theTheme.    AColor::Init();    // Init DirManager, which initializes the temp directory    // If this fails, we must exit the program.    if (!InitTempDir()) {       FinishPreferences();       return false;    }    //<<<< Try to avoid dialogs before this point.    // The reason is that InitTempDir starts the single instance checker.    // If we're waiitng in a dialog before then we can very easily    // start multiple instances, defeating the single instance checker.    // Initialize the CommandHandler    InitCommandHandler();    // Initialize the PluginManager    PluginManager::Get().Initialize();    // Initialize the ModuleManager, including loading found modules    ModuleManager::Get().Initialize(_mCmdHandler);    // Parse command line and handle options that might require    // immediate exit...no need to initialize all of the audio    // stuff to display the version string.    auto parser = ParseCommandLine();    if (!parser)    {       // Either user requested help or a parsing error occured       exit(1);    }    if (parser->Found(wxT(""v"")))    {       wxFprintf(stderr, wxT(""Audacity v%s\n""), AUDACITY_VERSION_STRING);       exit(0);    }    long lval;    if (parser->Found(wxT(""b""), &lval))    {       if (lval < 256 || lval > 100000000)       {          wxPrintf(_(""Block size must be within 256 to 100000000\n""));          exit(1);       }       Sequence::SetMaxDiskBlockSize(lval);    }    wxString fileName;    if (parser->Found(wxT(""d""), &fileName))    {       AutoSaveFile asf;       if (asf.Decode(fileName))       {          wxPrintf(_(""File decoded successfully\n""));       }       else       {          wxPrintf(_(""Decoding failed\n""));       }       exit(1);    }    // BG: Create a temporary window to set as the top window    wxImage logoimage((const char *_)AudacityLogoWithName_xpm);    logoimage.Rescale(logoimage.GetWidth() / 2, logoimage.GetHeight() / 2);    wxBitmap logo(logoimage);    AudacityProject *project;    {       wxSplashScreen temporarywindow(          logo,          wxSPLASH_CENTRE_ON_SCREEN | wxSPLASH_NO_TIMEOUT,          0,          NULL,          wxID_ANY,          wxDefaultPosition,          wxDefaultSize,       0); // wxSTAY_ON_TOP);       temporarywindow.SetTitle(_(""Audacity is starting up...""));       SetTopWindow(&temporarywindow);       wxEventLoopBase::GetActive()->YieldFor(wxEVT_CATEGORY_UI);       //JKC: Would like to put module loading here.       // More initialization       InitDitherers();       InitAudioIO(); #ifdef __WXMAC__       // On the Mac, users don't expect a program to quit when you close the last window.       // Create a menubar that will show when all project windows are closed.       wxMenu *fileMenu = new wxMenu();       wxMenu *recentMenu = new wxMenu();       fileMenu->Append(wxID_NEW, wxString(_(""&New"")) + wxT(""\tCtrl+N""));       fileMenu->Append(wxID_OPEN, wxString(_(""&Open..."")) + wxT(""\tCtrl+O""));       fileMenu->AppendSubMenu(recentMenu, _(""Open &Recent...""));       fileMenu->Append(wxID_ABOUT, _(""&About Audacity...""));       fileMenu->Append(wxID_PREFERENCES, wxString(_(""&Preferences..."")) + wxT(""\tCtrl+,""));       {          auto menuBar = std::make_unique<wxMenuBar>();          menuBar->Append(fileMenu, _(""&File""));          // PRL:  Are we sure wxWindows will not leak this menuBar?          // The online documentation is not explicit.          wxMenuBar::MacSetCommonMenuBar(menuBar.release());       }       mRecentFiles->UseMenu(recentMenu);       mRecentFiles->AddFilesToMenu(recentMenu);       SetExitOnFrameDelete(false); #endif //__WXMAC__        temporarywindow.Show(false);    }    #ifdef USE_FFMPEG    FFmpegStartup();    #endif    Importer::Get().Initialize();    //    // Auto-recovery    //    bool didRecoverAnything = false;    if (!ShowAutoRecoveryDialogIfNeeded(&project, &didRecoverAnything))    {       // Important: Prevent deleting any temporary files!       DirManager::SetDontDeleteTempFiles();       QuitAudacity(true);       return false;    }    //    // Remainder of command line parsing, but only if we didn't recover    //    if (!didRecoverAnything)    {       if (parser->Found(wxT(""t"")))       {          RunBenchmark(NULL);          return false;       } // As of wx3, there's no need to process the filename arguments as they // will be sent view the MacOpenFile() method. #if !defined(**WXMAC**)       for (size_t i = 0, cnt = parser->GetParamCount(); i < cnt; i++)       {          MRUOpen(parser->GetParam(i));       } #endif    }    wxWindow \* pWnd = MakeHijackPanel();    if (pWnd)    {      project->Show(false);       pWnd->SetParent(project);       SetTopWindow(pWnd);     pWnd->Show(true);    }    gInited = true;    project = CreateNewAudacityProject();    mCmdHandler->SetProject(project);    if (project->mShowSplashScreen)      project->OnHelpWelcome();    // JKC 10-Sep-2007: Enable monitoring from the start.    // (recommended by lprod.org).    // Monitoring stops again after any    // PLAY or RECORD completes.    // So we also call StartMonitoring when STOP is called.    project->MayStartMonitoring();    ModuleManager::Get().Dispatch(AppInitialized);    mWindowRectAlreadySaved = FALSE;    mTimer.SetOwner(this, kAudacityAppTimerID);    mTimer.Start(200);    return TRUE; }""You quoted a lot of code instead of explaining the purpose of this commit!
 =||= OK, I just thought that I did it before.
Anyway, there are two problems raised in Bug 1377.
1) Splash screen placed above warning message
2) After user presses button in Warning dialog (we see this warning in 
case  of low disk memory) ,
Application crashes.

The cause of the first is that when we create splash screen (see line 
1406) using  wxSTAY_ON_TOP flag. Changing this flag value to 0, we 
change warning dialog behavior  (only at this place!).

The cause of crash in provided scenario is the fact that we try to 
display warning dialog using Application engine service before 
initialization of this engine completed. I just moved code that uses 
this service own to have initialization completed at the moment we try 
to create Warning Dialog. Alternative solution was to create Warning 
Dialog using Windows GUI API.

Regards,

Alex

On 2016-06-27 10:07 AM, Paul Licameli wrote:

> You quoted a lot of code instead of explaining the purpose of this commit!
> 
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub 
> https://github.com/audacity/audacity/pull/144#issuecomment-228755878, or 
> mute the thread 
> https://github.com/notifications/unsubscribe/APFiJvi844n6jQQlPMona6aQXGpxqf07ks5qP9k_gaJpZM4I_HUf.
 =||= Please amend your git commit:  the comment is just a long code quotation,
surely not what you intended.

PRL

On Mon, Jun 27, 2016 at 11:11 AM, alex-chapiro notifications@github.com
wrote:

> OK, I just thought that I did it before.
> Anyway, there are two problems raised in Bug 1377.
> 1) Splash screen placed above warning message
> 2) After user presses button in Warning dialog (we see this warning in
> case of low disk memory) ,
> Application crashes.
> 
> The cause of the first is that when we create splash screen (see line
> 1406) using wxSTAY_ON_TOP flag. Changing this flag value to 0, we
> change warning dialog behavior (only at this place!).
> 
> The cause of crash in provided scenario is the fact that we try to
> display warning dialog using Application engine service before
> initialization of this engine completed. I just moved code that uses
> this service own to have initialization completed at the moment we try
> to create Warning Dialog. Alternative solution was to create Warning
> Dialog using Windows GUI API.
> 
> Regards,
> 
> Alex
> 
> On 2016-06-27 10:07 AM, Paul Licameli wrote:
> 
> > You quoted a lot of code instead of explaining the purpose of this
> > commit!
> > 
> > —
> > You are receiving this because you authored the thread.
> > Reply to this email directly, view it on GitHub
> > https://github.com/audacity/audacity/pull/144#issuecomment-228755878,
> > or
> > mute the thread
> > <
> > https://github.com/notifications/unsubscribe/APFiJvi844n6jQQlPMona6aQXGpxqf07ks5qP9k_gaJpZM4I_HUf
> > .
> 
> —
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> https://github.com/audacity/audacity/pull/144#issuecomment-228775300,
> or mute the thread
> https://github.com/notifications/unsubscribe/ALITYdWsStvPbMt9lJib09m1qf56xXbFks5qP-gQgaJpZM4I_HUf
> .
 =||= Commit message not acceptable.  
 =||= In any case bug 1377 has already been fixed and resolved by QA.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
145Bug 1403: Two column Progress Dialog messageMark Youngtip2tail07/19/16, 08:59:21 PM"Fix for Bug 1403... Added functionality to ally the progress dialog message to be displayed in two columns.

\t will switch to column 2,
\n will switch to column 1 again with a new line when this flag is set.

Example build: http://audacity.tip2tail.scot/builds/20160630-tip2tail-B.zip""Thanks Mark, the timer record dialog looks much better (tested on Linux), but personally I'm not very keen on relying on specially crafted strings (\t) to split the string into two columns. 
As TimerProgressDialog is only used for Timer Recording, wouldn't it be better to define it with two message strings (one per column)? Perhaps worth discussing on the developer's mailing list.  
 =||= Mark, I wonder if you are intending to fix any of the bugs in this list.

http://bugzilla.audacityteam.org/buglist.cgi?quicksearch=%22timer%20record%22&list_id=6113
 =||= Hi

@Paul, Some of this is on my radar yes however I'm going to be out of the
country for the next few weeks so progress may not be speedy!

@Steve. I had considered the use of a second parameter however my intention
was to limit the changes required for processes to call it - simply adding
a flag.

Mark
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
146"Fixed capitalisation of ""Audacity"" in TimerRecord"Mark Youngtip2tail07/18/16, 12:33:58 PM"The word ""audacity"" in the Post Timer Recording action dropdown has been fixed to read ""Audacity"" as a proper noun."NaN"Fixed capitalisation of ""Audacity"" in TimerRecord"Mark Youngtip2tail07/18/16, 12:33:58 PM"The word ""audacity"" in the Post Timer Recording action dropdown has been fixed to read ""Audacity"" as a proper noun."NaNMark Young07/17/16, 08:34:08 PM"Fixed capitalisation of ""Audacity"" in TimerRecord"1
147Bug 1403: Two Column Progress DialogsMark Youngtip2tail08/10/16, 11:56:49 AM"Bug 1403: Amended ProgressDialog and TimerProgressDialog classes to allow

for a two column message.  The text for each column is created with a separate
parameter when a given flag is set.
Amendments made to Timer Record to take advantage of this new layout.

Code redesigned to better reflect accepted Audacity coding standards."NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
148Reduced CPU usage of Audacity when idle.Raphaël MarinierRaphaelMarinier07/21/16, 10:03:00 PM"Before this change, an idle Audacity on a recent Linux laptop uses 6%
of CPU. This is because DrawOverlays() is called every 50ms through a
timer in TrackPanel, which instanciates a wxClientDC. This is quite
expensive and dominates the profiles: creating wxClientDCs is 84% of
the CPU audacity spends while idle, according to callgrind. With this
change, we avoid creating wxClientDCs when it's not necessary.

After this change, and idle Audacity consumes 1.6% of CPU, and most of
the time is spent in gtk/wxwidgets processing events.

Here are the perf stats of an idle Audacity before the change:

```
    524.425485      task-clock (msec)         #    0.060 CPUs utilized
           825      context-switches          #    0.002 M/sec
            36      cpu-migrations            #    0.069 K/sec
             0      page-faults               #    0.000 K/sec
 1,198,433,346      cycles                    #    2.285 GHz
 1,243,329,771      instructions              #    1.04  insn per cycle
   308,073,049      branches                  #  587.449 M/sec
     5,801,494      branch-misses             #    1.88% of all branches

   8.808129958 seconds time elapsed
```

and after:

```
    149.110455      task-clock (msec)         #    0.016 CPUs utilized
           908      context-switches          #    0.006 M/sec
            32      cpu-migrations            #    0.215 K/sec
             0      page-faults               #    0.000 K/sec
   313,372,582      cycles                    #    2.102 GHz
   167,401,770      instructions              #    0.53  insn per cycle
    41,857,947      branches                  #  280.718 M/sec
     1,189,566      branch-misses             #    2.84% of all branches

   9.076940003 seconds time elapsed
```"NaNReduced CPU usage of Audacity when idle.Raphaël MarinierRaphaelMarinier07/21/16, 10:03:00 PM"Before this change, an idle Audacity on a recent Linux laptop uses 6%
of CPU. This is because DrawOverlays() is called every 50ms through a
timer in TrackPanel, which instanciates a wxClientDC. This is quite
expensive and dominates the profiles: creating wxClientDCs is 84% of
the CPU audacity spends while idle, according to callgrind. With this
change, we avoid creating wxClientDCs when it's not necessary.

After this change, and idle Audacity consumes 1.6% of CPU, and most of
the time is spent in gtk/wxwidgets processing events.

Here are the perf stats of an idle Audacity before the change:

```
    524.425485      task-clock (msec)         #    0.060 CPUs utilized
           825      context-switches          #    0.002 M/sec
            36      cpu-migrations            #    0.069 K/sec
             0      page-faults               #    0.000 K/sec
 1,198,433,346      cycles                    #    2.285 GHz
 1,243,329,771      instructions              #    1.04  insn per cycle
   308,073,049      branches                  #  587.449 M/sec
     5,801,494      branch-misses             #    1.88% of all branches

   8.808129958 seconds time elapsed
```

and after:

```
    149.110455      task-clock (msec)         #    0.016 CPUs utilized
           908      context-switches          #    0.006 M/sec
            32      cpu-migrations            #    0.215 K/sec
             0      page-faults               #    0.000 K/sec
   313,372,582      cycles                    #    2.102 GHz
   167,401,770      instructions              #    0.53  insn per cycle
    41,857,947      branches                  #  280.718 M/sec
     1,189,566      branch-misses             #    2.84% of all branches

   9.076940003 seconds time elapsed
```"NaNRaphaël Marinier07/21/16, 08:48:16 AM"Reduced CPU usage of Audacity when idle.

Before this change, an idle Audacity on a recent Linux laptop uses 6%
of CPU. This is because DrawOverlays() is called every 50ms through a
timer in TrackPanel, which instanciates a wxClientDC. This is quite
expensive and dominates the profiles: creating wxClientDCs is 84% of
the CPU audacity spends while idle, according to callgrind. With this
change, we avoid creating wxClientDCs when it's not necessary.

After this change, and idle Audacity consumes 1.6% of CPU, and most of
the time is spend in gtk/wxwidgets processing events.

Here are the perf stats of an idle Audacity before the change:

        524.425485      task-clock (msec)         #    0.060 CPUs utilized
               825      context-switches          #    0.002 M/sec
                36      cpu-migrations            #    0.069 K/sec
                 0      page-faults               #    0.000 K/sec
     1,198,433,346      cycles                    #    2.285 GHz
     1,243,329,771      instructions              #    1.04  insn per cycle
       308,073,049      branches                  #  587.449 M/sec
         5,801,494      branch-misses             #    1.88% of all branches

       8.808129958 seconds time elapsed

and after:

        149.110455      task-clock (msec)         #    0.016 CPUs utilized
               908      context-switches          #    0.006 M/sec
                32      cpu-migrations            #    0.215 K/sec
                 0      page-faults               #    0.000 K/sec
       313,372,582      cycles                    #    2.102 GHz
       167,401,770      instructions              #    0.53  insn per cycle
        41,857,947      branches                  #  280.718 M/sec
         1,189,566      branch-misses             #    2.84% of all branches

       9.076940003 seconds time elapsed"1
149Fixed uninitialized variable (mFreqSelTrack) in TrackPanel.Raphaël MarinierRaphaelMarinier09/11/16, 09:01:28 PM"This variable is used in OnTrackListUpdated before it is initialized.

Found with valgrind's memcheck tool.""Thanks.  Closed with
https://github.com/audacity/audacity/commit/0f417a65c7535ba5042c6dd3c791d7b864fa3c8b
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
150Optimize the refresh of the selection bar while Audacity is playing.Raphaël MarinierRaphaelMarinier08/16/16, 02:04:42 AM"This saves 3-4% CPU while Audacity is playing on Linux/64bits. This is
done by avoiding the update of NumerixTextCtrls that stay unchanged.""Caused bug: http://bugzilla.audacityteam.org/show_bug.cgi?id=1497
Fixed by:  https://github.com/audacity/audacity/commit/5d0951c6434e237d72ef07510237f88a2c799d7a

(And despite the bug, thanks for the code/idea)
 =||= "Optimize the refresh of the selection bar while Audacity is playing.Raphaël MarinierRaphaelMarinier08/16/16, 02:04:42 AM"This saves 3-4% CPU while Audacity is playing on Linux/64bits. This is
done by avoiding the update of NumerixTextCtrls that stay unchanged."NaNRaphaël Marinier07/27/16, 10:12:28 PM"Optimize the refresh of the selection bar while Audacity is playing.

This saves 3-4% CPU while Audacity is playing on Linux/64bits. This is
done by avoiding the update of NumerixTextCtrls that stay unchanged."1
151Compressor.cpp: Allow higher-precision 'Ratio'rickst2908/01/16, 04:30:17 PM"Preceding this change, the compression 'Ratio' could only be set to a value within
the Series (1.0, 1.5, 2.0, 2.5 .... 10.0).
Following this change, 'Ratio' can be set with 0.01 precision, to any value between 1.01 and 10.0 (inclusive).
The GUI is also modified to show the specified 'Ratio' with two digits after the decimal point.""cancelled, will work with a fesh and ""clean"" clone.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
152Save 7-8% of CPU while playing by not refreshing the adorned ruler twice at each timer tick.Raphaël MarinierRaphaelMarinier07/31/16, 09:09:14 PM"Before, it was updated both directly in TrackPanel::OnTimer() through
the call mRuler->DrawOverlays(), and in
AudacityProject::TP_DisplaySelection() that calls
mRuler->Refresh(). After this change, the adorned ruler is only
updated by the first mechanism.""This changes parts of the code I reorganized, and it looks mostly good to me.  I would prefer that the call

p->GetSelectionBar()->SetAudioTime(gAudioIO->GetStreamTime());

be done in PlayIndicatorOverlay's timer callback rather than TrackPanel's -- does the fix work just as well if so?
 =||= Sure. The fix works the same by updating the selection bar from the PlayIndicatorOverlay. I just added a commit to the branch that does that.
 =||= Good, now may I trouble you to:
1) squash these two commits into one, rebased on the latest master, and
2) Edit the first line of the commit comment so that it is 69 columns or less.
 =||= I made some mistakes with this branch. I am therefore dropping it, and I re-created a new one with the requested changes:
https://github.com/audacity/audacity/pull/153
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
153Save CPU while playing by optimizing refreshes of the adorned ruler.Raphaël MarinierRaphaelMarinier09/12/16, 12:08:01 PM"On Linux 64 bits, I measured the CPU savings to be 7-8%.

Before, the adorned ruler was updated both directly in
TrackPanel::OnTimer() through the call mRuler->DrawOverlays(), and in
AudacityProject::TP_DisplaySelection() that calls
mRuler->Refresh(). After this change, it is only updated by the first
mechanism.""Rejected.
Under windows the cursor leaves a trail behind it on the ruler.  That would need to be 'cleared up'.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
154Compressor.cpp: Allow higher-precision 'Ratio'rickst2908/02/16, 11:32:53 PMNaN"Congratulations Rick on your first Audacity commit.
 =||= "Compressor.cpp: Allow higher-precision 'Ratio'rickst2908/02/16, 11:32:53 PMNaNNaNrickst2908/01/16, 04:44:15 PM"Merge pull request #1 from rickst29/rickst29-audacity-patch-1

Compressor.cpp: Allow higher-precision 'Ratio'"1
155Fixed order of instructions in win/compile.txtMark Youngtip2tail08/15/16, 10:12:40 PM"While setting up a new development Virual Machine I noticed that the win/compile.txt file contains instructions that appear to be in the incorrect order.

We instruct a user to patch wxWidgets with data from the Audacity repo before we have said to download the repo itself.  While I appreciate that users may have downloaded the repo first (in order to read win/compile.txt), I think we should be clear and have the steps in the order.""Thanks Mark. Committed at https://github.com/audacity/audacity/commit/5a8801f .
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
156Update Catalan translationRobert Antoni Buj Gelonchrbuj09/09/16, 06:06:17 PMNaNNaNUpdate Catalan translationRobert Antoni Buj Gelonchrbuj09/09/16, 06:06:17 PMNaNNaNRobert Antoni Buj Gelonch08/22/16, 04:33:59 PMUpdate Catalan translation1
157OpenMP-ized SpecCache::PopulateDarrell Walisserwalisser08/26/16, 11:51:42 AM"This is a pretty clean patch to give a huge boost to the spectrogram view (see numbers below). It is now quite smooth at 8k and usable at 16k.

The approach was straight-forward:
- Make sure SpecCache::CalculateOneSpectrum is reentrant, by moving mutable data to arguments, and making it const
- Make thread-local copies of the mutable arguments
- Unleash the OMP in SpecCache::Populate

No locking was added, I believe it is not necessary, and helgrind did not produce errors (not sure it will without any locking).

I have some numbers using Profiler, had to do it manually by repeated zoom in/zoom out.

Average over 3 runs for a few different window sizes, (default settings except Gaussian window)

| Window | Single-Threaded | OpenMP (4c/8t) | Speedup |
| --- | --- | --- | --- |
| 512 | [0.030 0.030 0.293] | [0.013 0.013 0.013] | 2.292 |
| 2k | [0.125 0.122 0.120] | [0.027 0.028 0.027] | 4.469 |
| 8k | [0.531 0.531 0.516] | [0.094 0.093 0.092] | 5.656 |
| 32k | [2.364 2.261 2.320] | [0.389 0.383 0.383] | 6.013 |

I have compiled as follows:
`CXXFLAGS='-O3 -march=native -fopenmp' LDFLAGS=-fopenmp ./configure`

Stuff left to do.
- [ ] Address Potential Data Races
- [ ] Pass the ideal thread count instead of hard-code
- [ ] Add configuration option to enable OpenMP
- [ ] Maybe do the remaining loops, but its a little yucky since they have a break statement""Thank You!

I have checked this in to master.  Very welcome change.
Please start a discussion on https://lists.sourceforge.net/lists/listinfo/audacity-devel about the next steps, e.g. compiling for windows.
 =||= James, I have a serious reservation about this.

I took a look at this, and I believe it may give incorrect results when the
reassignment algorithm is used.

It is the outer loops over times that are parallelized, not the inner loops
over the frequency bins.  Usually for each time, there is one column of
pixels in the display, and values for that column only in the
two-dimensional array are updated.

But in the case of reassignment, there are time and frequency corrections,
which move the contribution of a time/frequency bin of the FFT, adding ti
sometimes into the cells corresponding to another colum.

Therefore, there may be a race condition to update those cells, and nothing
in this code guards against that.  Indeed I am not sure how to prevent the
races in a simple way.

PRL

On Fri, Aug 26, 2016 at 8:03 AM, James Crook notifications@github.com
wrote:

> Thank You!
> 
> I have checked this in to master. Very welcome change.
> Please start a discussion on https://lists.sourceforge.net/
> lists/listinfo/audacity-devel about the next steps, e.g. compiling for
> windows.
> 
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> https://github.com/audacity/audacity/pull/157#issuecomment-242716900,
> or mute the thread
> https://github.com/notifications/unsubscribe-auth/ALITYf2hXPSpcTP-98xd3O7eZaDhW0F3ks5qjtYXgaJpZM4JtWy7
> .
 =||= James has merged the request already, but I have a serious reservation about this.

I took a look at this, and I believe it may give incorrect results when the reassignment algorithm is used.

It is the outer loops over times that are parallelized, not the inner loops over the frequency bins.  Usually for each time, there is one column of pixels in the display, and values for that column only in the two-dimensional array are updated.

But in the case of reassignment, there are time and frequency corrections, which move the contribution of a time/frequency bin of the FFT, adding ti sometimes into the cells corresponding to another colum.

Therefore, there may be a race condition to update those cells, and nothing in this code guards against that.  Indeed I am not sure how to prevent the races in a simple way.

PRL
 =||= Put this another way.

Sometimes in parallelizing a loop, you must identify the variables that are accumulators, and give each thread its copy of the accumulation variable, and then have extra work (""reduction"") after the loop to combine the answers.

In the case of the reassignment algorithm, the entire vector freq is the accumulator that should be replicated among the threads, and the reduction step is itself another loop that sumes corresponding array elements into one array.
 =||= Thanks Paul.  Do you have a concern that it might give incorrect (or slower than before) results when not using OpenMP?  I'm willing to have it in as 'experimental support for OpenMP'.  Walisser believes locking isn't needed - and if it is needed is the downside of not having it that we get 'black pixels' or other artifacts in the reassigned spectrogram? People may accept that for speed, if the output is mostly OK?  

I think we need a concrete example of a bad spectrogram before and after, and then Walisser can work to fix that.  I am pretty sure OpenMP will be 'for the adventurous', not something we offer precompiled or by default, at least for a while.
 =||= I also question the need for thread-local storage.  Could not stack-allocated arrays of caches and scratches do, with each thread simply fetching from its own slot in the array?  Could not std::vector<float> scratch simply be made larger, each thread using a different part of it?

I also don't like the introduction of a few naked new and delete when I am working to eliminate those.

I also wonder if there might be a smarter way to avoid the replication of WaveTrackCache objects.  This could avoid some redundant reads from the disk and make the algorithm even faster.  It would require that the loop
for (auto xx = lowerBoundX; xx < upperBoundX; ++xx)

would be factored into an outer loop over appropriate column ranges that would each require WaveTrackCache to be populated just once, and then the inner loop over columns, which would be parallelized as now, and could freely use the common cache without contention because none would cause a ""miss"" in it that changes its contents.
 =||= James, I saw nothing that makes me doubt the serial correctness.

The consequence of the race condition to accumulate sums may be that the sums come out too small.  These numbers (after conversion to dB) provide the input to TrackArtist::DrawClipSpectrum, which transforms them into a colored bitmap.  So some pixels in the reassigned spectrogram may be colored as less intense than they should be (red when they should be white, magenta when red, etc.) 

The simplest fix for now might be just to cause only one thread to run, on condition that there is reassignment, but let us have the advantage of OpenMP otherwise.  Is there some library call to OpenMP to instruct it to do that?

Perhaps TrackArtist::DrawClipSpectrum affords other opportunities to use OpenMP, without any races to worry about (whether with reassignment or not).  Perhaps these are less valuable.  Scroll with the mouse wheel in the vertical frequency ruler -- I believe that display update involves only these loops, not the WaveClip.cpp computations.  Maybe performance of this scrolling doesn't need the help.
 =||= I can suggest some test cases.

To get the most extreme effect of time reassignment, try generating a click track, or even just making an impulse by generating silence, then pulling one sample up with the draw tool.

View that in spectrogram with the longest window.  View it with and without reassignment to see the big difference that makes in the display.

Then contrast the reassigned picture with the serial and parallel algorithm.

I have not tried it.  This is mostly likely to expose problems with race conditions.  But if you don't see a difference, that is not a proof that there is not a problem.

What pattern the problem takes may depend on how OpenMP partitions the loop passes among threads, and I don't have the experience to understand that.
 =||= I am looking at potential data races now. There are some in BlockFile for example. I missed these because I did not properly instrument with helgrind the first time. There are some data members declared mutable which throws the whole const-correctness assumption out the window.

As for OMP partitioning, in the static schedule mode (default, used here), it will evenly divide the work between threads, with the last thread doing a little bit less; e.g. for an updates size of 800 samples wide, each thread does 100 samples in one go.
 =||= Can you explain more about BlockFile and which mutable fields you mean.
 =||= I think there are enough doubts about this, but also enough willingness from walisser to work on them, that this merge should be reverted for now and a better pull request made again later.
 =||= I agree this should be put on hold until more testing can be done to find and correct races.

BlockFile.h contains a few members declared mutable to get around const. For example in PCMAliasBlockFile::ReadData (line PCMAliasBlockFile.cpp:117) it gets written from a const method.
 =||= I don't know helgrind at all, but I think this is irrelevant.  I doubt you construct any PCMAliasBlockFile objects in the usual use of Audacity.  They happen only in certain circumstances involving imported sound files.
 =||= I got that from the helgrind trace, so they are constructed in my test case which loads a .aiff file. Basically helgrind is telling us there was a read and write to some memory location from different threads while there was no mutex lock held between them. This does not mean it is an actual race of course, only potential. There could be some other form of race prevention that helgrind can't detect.

Here is what I've distilled from the trace so far (there is a lot more in the trace, mostly from system libraries).

https://gist.github.com/walisser/951929d36a998aa8b7209ebd88efdacf
 =||= You are right about reassignment, definitely race condition there and confirmed with helgrind. However, the effects to my eyes are imperceptible.

It seems the probability of the race occurring is low since there are relatively few threads compared to samples (e.g. with 4 threads, a 400 sample width, each thread does 100 sequential sample-windows). You may only see any artifacts near the border of those work groups, the lookahead/lookbehind is at most 0.5s if I'm reading it right.

The worse case could be scrolling, as there are at most 30 sample-windows in a scroll event (at least on my system), all of which could fall in the 0.5s window. I will look at that.

If you're interested, here are a few test images from a click track as suggested, comparing single thread vs multi-thread.
https://goo.gl/9kIMry
 =||= "OpenMP-ized SpecCache::PopulateDarrell Walisserwalisser08/26/16, 11:51:42 AM"This is a pretty clean patch to give a huge boost to the spectrogram view (see numbers below). It is now quite smooth at 8k and usable at 16k.

The approach was straight-forward:
- Make sure SpecCache::CalculateOneSpectrum is reentrant, by moving mutable data to arguments, and making it const
- Make thread-local copies of the mutable arguments
- Unleash the OMP in SpecCache::Populate

No locking was added, I believe it is not necessary, and helgrind did not produce errors (not sure it will without any locking).

I have some numbers using Profiler, had to do it manually by repeated zoom in/zoom out.

Average over 3 runs for a few different window sizes, (default settings except Gaussian window)

| Window | Single-Threaded | OpenMP (4c/8t) | Speedup |
| --- | --- | --- | --- |
| 512 | [0.030 0.030 0.293] | [0.013 0.013 0.013] | 2.292 |
| 2k | [0.125 0.122 0.120] | [0.027 0.028 0.027] | 4.469 |
| 8k | [0.531 0.531 0.516] | [0.094 0.093 0.092] | 5.656 |
| 32k | [2.364 2.261 2.320] | [0.389 0.383 0.383] | 6.013 |

I have compiled as follows:
`CXXFLAGS='-O3 -march=native -fopenmp' LDFLAGS=-fopenmp ./configure`

Stuff left to do.
- [ ] Address Potential Data Races
- [ ] Pass the ideal thread count instead of hard-code
- [ ] Add configuration option to enable OpenMP
- [ ] Maybe do the remaining loops, but its a little yucky since they have a break statement"NaNDarrell Walisser08/25/16, 05:41:40 PMOpenMP-ized SpecCache::Populate1
158improved OpenMP SpecCache::PopulateDarrell Walisserwalisser08/31/16, 09:36:40 PM"This is an improvement to pull request [#157 ](https://github.com/audacity/audacity/pull/157) based on those comments and some further testing.

This patch uses a cleaner TLS method and adds some race prevention. I think this covers all of the possible races that needed attention.

[The races I identified](https://gist.github.com/walisser/951929d36a998aa8b7209ebd88efdacf) in BlockFile are due to a few mutable members which control error suppression (mSilentLog/mSilentAliasLog). These can be ignored since worst that can happen is a few undesired logs are sent when project is corrupted or files go missing (correct me if I'm wrong).

As Paul has pointed out, the reassignment case can race for sure, as the correction applied in CalculateOneSpectrum crosses bins. 
While the probability of this is very small, I have added race prevention in the form of atomic read/update/write for the offending assignment. This uses omp atomic (not mutex) so the overhead is very low, measured at about 5%.

Stuff left to do.
- [ ] Add configuration option to enable OpenMP
- [ ] Test on Windows and Mac OS X
- [ ] Maybe do the remaining loops for reassignment case, but its a little yucky since they have a break statement""Looks like OpenMP support in Visual Studio is poor and won't support some features. So audacity for windows will need to be compiled with gcc or clang.
 =||= I have examined these changes.

Does #pragma omp atomic truly guarantee an atomic fetch, add, and store of a float variable?  It's not just for incrementing and decrementing integers?  You actually had races reported by helgrind without this change, but not with it?

If all that is so, then you have found a simpler solution fortunately than the array reduction I suggested.

About deletes, I am happier to see delete, if you must write it, in destructors only.

Your use of vector, though, is not quite kosher.  You reserve instead of resizing.  I suppose you did that to avoid the zero initialization that resizing would do.  But then you are technically accessing the vector out of bounds.  Debug versions of STL libraries might complain about that.  It might then be more satisfactory to use new[] as before, just to get uninitialized memory -- if you put the corresponding delete[] in a destructor, then I am satisfied.
 =||= Wait now, the scratch array (formerly called buffer) was std::vector<float> in the serial version, so that it is initialized with zeros.  We must ask then, was the code relying on that?

But we easily see it was not, because of the way buffer was reused across loop passes without reinitializing its contents to zeros.

So maybe I was lazy to use vector but not make effort to economize away that filling with zeroes.

But then the filling is done only once, outside of the main loop over pixel columns.

So the short answer may be, change reserve to resize.  It would add a negligible time filling with zeros.  But it makes the code a bit more correct in its use of STL containers.
 =||= The omp atomic uses hardware instructions where possible, otherwise it falls back to mutex locks. On x86 cpus the fence instructions affect any load/store operations, so it isn't limited to any data type.

The form used here is the ""update"" form which protects a read/modify/write operation. I was able to verify it was working inserting a floating-point load/increment/store in the critical section and seeing that the resulting value was stable.

helgrind doesn't track atomics or futex system calls, it only instruments pthread library functions. Which is why it gives a lot of false positives sometimes. So I assume it will still show this is an issue (I didn't check this).

Nice catch on the resize vs reserve, I didn't even consider it at the time one way or the other. I will change this to resize. On a related note, why not use autoptr/new since this doesn't use any features of std::vector? Or maybe stack-allocated memory... but I hesitate to do that, it runs the risk of exceeding the stack size limits of the compiler or system. I've seen its benefits before however, as the allocation is free.
 =||= You mention auto_ptr.  But that is now deprecated in favor of unique_ptr, in C++11.
 =||= Presumably an atomic update of the sort we need is implemented as a compare-and-swap loop.  Can you verify that this is so from the disassembly?

If it's really only an atomic store, then it's not really fixing the race condition.

c++11 also now provides std::atomic: http://en.cppreference.com/w/cpp/atomic/atomic

However we can't use that yet.  We are still limited to an earlier version of the standard library on OSX, until we commit to abandoning version 10.6.
 =||= I reviewed the documentation for #pragma omp atomic at opemmp.org, at least for the latest version (4.5).
#pragma omp atomic

really implies
#pragma omp atomic update

which might be good to write for more clarity of the intent.  The documentation implies that this does what I think it needs to do.

As I said, what it needs to do is something like a compare-and-swap loop, so that there is no possibility of reading a location, then adding to the value, but then another thread updating the location, before writing the value back.
 =||= Confirmed it uses compare and swap loop. [Assembly dump and sample code](https://gist.github.com/walisser/3a42d2446f4d02d5ff969e3bca63a9b0).
 =||= The loop is lines 33 to 44?  It looks like the right sort of thing.  I haven't deciphered it totally.
 =||= It looks right to me. I'm not good at reading this stuff, but I saw this:

lock cmpxchg %edi,(%rcx)

which is literally the compare and swap instruction. I looked it up, the ""lock"" denotes the instruction will do its thing atomically.
 =||= I studied the loop more just out of curiosity.  I am satisfied that your compiler is implementing #pragma omp atomic update as expected.  Let's assume other OpenMP compilers will do similar.
 =||= "improved OpenMP SpecCache::PopulateDarrell Walisserwalisser08/31/16, 09:36:40 PM"This is an improvement to pull request [#157 ](https://github.com/audacity/audacity/pull/157) based on those comments and some further testing.

This patch uses a cleaner TLS method and adds some race prevention. I think this covers all of the possible races that needed attention.

[The races I identified](https://gist.github.com/walisser/951929d36a998aa8b7209ebd88efdacf) in BlockFile are due to a few mutable members which control error suppression (mSilentLog/mSilentAliasLog). These can be ignored since worst that can happen is a few undesired logs are sent when project is corrupted or files go missing (correct me if I'm wrong).

As Paul has pointed out, the reassignment case can race for sure, as the correction applied in CalculateOneSpectrum crosses bins. 
While the probability of this is very small, I have added race prevention in the form of atomic read/update/write for the offending assignment. This uses omp atomic (not mutex) so the overhead is very low, measured at about 5%.

Stuff left to do.
- [ ] Add configuration option to enable OpenMP
- [ ] Test on Windows and Mac OS X
- [ ] Maybe do the remaining loops for reassignment case, but its a little yucky since they have a break statement"NaNDarrell Walisser08/31/16, 03:22:29 PMchange reserve to resize, clarify what omp atomic is used1
159Bug1403 Progress Dialog Split Message FixesMark Youngtip2tail09/12/16, 11:32:14 PM"Here is a new PR that should now fully fix Bug 1403.  I want to publicly thank @SteveDaulton for his assistance on this and for his guidance when we have been discussing it.

I have tested this on Windows and found it to be working OK, Steve has tested on Linux, but I don't think it has been tested on Mac yet so any help there would be appreciated!""Needs fix to crashing bug on Mac to progress this.  Steve, Gale and Mark  currently discussing.  Waiting for response.
 =||= The Mac crash was due to an old #if defined(**WXMAC**) workaround which has now been removed, so that fix should not affect Windows (tested previously), so I've merged the pull request.
 =||= "Bug1403 Progress Dialog Split Message FixesMark Youngtip2tail09/12/16, 11:32:14 PM"Here is a new PR that should now fully fix Bug 1403.  I want to publicly thank @SteveDaulton for his assistance on this and for his guidance when we have been discussing it.

I have tested this on Windows and found it to be working OK, Steve has tested on Linux, but I don't think it has been tested on Mac yet so any help there would be appreciated!"NaNtip2tail08/30/16, 07:29:10 PM"Bug 1403 - Message can now be displayed in multiple columns

Uses 'End-of-Transmission-Block' character to mark the column split(s)
and is defined as a static constant for ease of use."1
160use std::isnan since c++11 provides it and wxIsNan is broken in c++11Darrell Walisserwalisser09/12/16, 11:42:51 AM"wxIsNan() is broken in c++11 and wx devs are not going to be fixing it, they recommend using cmath and std::isnan(). Also replaces bare isinf(), isnan() with std:: versions.

https://github.com/wxWidgets/wxWidgets/pull/283""Merged into master.  Thanks.
 =||= "use std::isnan since c++11 provides it and wxIsNan is broken in c++11Darrell Walisserwalisser09/12/16, 11:42:51 AM"wxIsNan() is broken in c++11 and wx devs are not going to be fixing it, they recommend using cmath and std::isnan(). Also replaces bare isinf(), isnan() with std:: versions.

https://github.com/wxWidgets/wxWidgets/pull/283"NaNDarrell Walisser09/03/16, 07:44:12 PMuse std::isnan since c++11 provides it and wxIsNan is broken in c++111
161Add support for cross compilation targeting WindowsDarrell Walisserwalisser10/14/18, 07:25:21 PM"Enables cross-compilation via mxe environment for 32 or 64-bit Windows target.

- Commits prefixed with ""cross-compile:"" pertain to build scripts and configure tests etc needed for cross compilation and/or targeting mingw. Generally there are separate commits for each lib-src subdir unless the issue was global.
- Commits prefixed with ""win64"" have to do with any 64-bit compilation issues only
- Commits prefixed with ""mingw"" have to do with mingw headers or conventions (mxe uses mingw)
- There are separate commits for the autotools-generated files (comment ""autotools update"" etc).

Other miscellaneous:
- adds --enable-openmp for compiling with new OpenMP code
- adds --std=gnu++11 instead of --std=c++11 as required by wxWidgets
- configuration test for wxWidgets ""high dpi"" patch
- cleaned up a few spots in configure.ac around other changes (cosmetics)

Build recipe:
- Get mxe
```
git clone https://github.com/mxe/mxe 
sudo mv mxe /opt/mxe
sudo chown $USER:$USER /opt/mxe
```
- Build mxe environment (windows 32-bit) and packages
```
cd /opt/mxe
make wxwidgets libsndfile ogg vorbis expat cmake portmidi
```

- Get the source
```
git clone https://github.com/audacity/audacity
cd audacity
git fetch origin +refs/pull/161/merge 
git checkout -qf FETCH_HEAD
```

- Build Audacity
```
# make your build prefix/destination
mkdir ~/tmp/audacity-win32

# configure
export PATH=/opt/mxe/usr/bin:$PATH
./configure --host=i686-w64-mingw32.static --enable-openmp --prefix=/home/$USER/tmp/audacity-win32

# compile and install
make -j4
make install
```

For 64-bit build, change the following:

- Compile 64-bit mxe environment
```
cd /opt/mxe
make MXE_TARGETS='x86_64-w64-mingw32.static' wxwidgets libsndfile ogg vorbis expat cmake portmidi
```

- Compile audacity
```
mkdir ~/tmp/audacity-win64
./configure --host=x86_64-w64-mingw32.static --enable-openmp --prefix=/home/$USER/tmp/audacity-win64
```""I'm doing my own furious pushing of many fixes lately.  Could you please rebase this onto more recent master, at:

2bc9497dc2e2892c99c6e6e05491c59013d46e36

then do push -f to your fork again?  Be sure none of your changes conflict with mine.  I will wait to push again until after you.


 =||= On closer examination, I see that you do very little under src/ , but you are doing much under lib-src.

So there will not be conflict with my work.  However, we may hesitate to take changes in lib-src, making our copies out of sync with the source projects.

I suggest you separate those parts that affect libnyquist and discuss with Roger Dannenberg whether the changes are acceptable upstream in the Nyquist project.
 =||= libnyquist commits submitted #187 =||= This IS a nice idea, and I appreciate the work that has gone into it.  It really needs discussion on audacity devel mailing list if it has to have a hope of being included.  

My question really is what do we gain by supporting cross compiling with mingw?  Why not compile and test on the actual relevant platform and bypass the extra complexity of cross compiling?  It seems like there is potentially a lot of ongoing support work to maintain and check support for cross compiling. 

So I have added flags that suggest we will reject/close this pull request soon.  Discussion on our mailing list could maybe change that.  =||= OpenMP on windows was the whole reason for this - it's the only way to get the OpenMP spectrogram on windows. However, there isn't any interest in OMP besides myself, and too few places where it makes sense to use it. So on this point it is not worthwhile to keep it alive.

In terms of gains for Audacity in general... probably zero. Again, I was probably the only person needing to do this. With a little more work, autotools could be used on every platform to replace MSVC/XCode, but I doubt anyone will want to do that even if it means less maintenance and support.

Ideally autotools would be replaced with something more modern and MSVC/XCode support could be dropped or generated from the other system.

I'll go ahead and close this, it was an interesting project at least.
 =||= 
On Sun, Oct 14, 2018 at 12:25:25PM -0700, Darrell Walisser wrote:
> OpenMP on windows was the whole reason for this - it's the only way to get the OpenMP spectrogram on windows. However, there isn't any interest in OMP besides myself, and too few places where it makes sense to use it. So on this point it is not worthwhile to keep it alive.

Have you tried installing Ubuntu from the Windows Store and
running Audacity for Linux that way?  One would need to run
X Windows as well (xming?).  It runs directly on the Windows
kernel so it doesn't require a VM with the memory overhead
that implies.

For the pie-in-the-sky future there should be a better
division between computation and the rest of the
application.  Explaining to someone why their CUDA DLL to
accelerate some fancy effect needs to include bits of
wxWidgets, PulseAudio, and bits to emulate parts of
Audacity's UI would be a little awkward (creating both
practical and licensing integration problems).  Likewise,
while something like FFT certainly needs a default
implementation inside Audacity, for maximum performance one
would generally want to use stuff designed and optimized for
the given system's hardware (be that an Intel AVX2 unit, an
AMD GPU, or whatever).  Furthermore, such GPU or even
distributed computation is almost certainly going to require
batching or streaming to get good performance from
high-throughput but also higher latency hardware.  All that
strongly implies a pluggable computation infrastructure of
some kind.

For C++ standard itself, one might look at the HPX and SYCL
projects to see where things might be headed.

> 
> In terms of gains for Audacity in general... probably zero. Again, I was probably the only person needing to do this. With a little more work, autotools could be used on every platform to replace MSVC/XCode, but I doubt anyone will want to do that even if it means less maintenance and support.
> 
> Ideally autotools would be replaced with something more modern and MSVC/XCode support could be dropped or generated from the other system.

For unifying the build, CMake is well supported on all of
Audacity's platforms.  Visual Studio can open and build
CMake projects directly.  It is also already supported by
wxWidgets, including for building for Windows.  CMake may
have its warts, but autotools bring a level of
complexity that renders it rather opaque to most.


CMake is also what Microsoft's package manager ""vcpkg"" uses
under the hood:
   https://docs.microsoft.com/en-us/cpp/vcpkg

> 
> I'll go ahead and close this, it was an interesting project at least.
> 
> 
> -- 
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly or view it on GitHub:
> https://github.com/audacity/audacity/pull/161#issuecomment-429654544
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
162Fix bug 1507Steve DaultonSteveDaulton09/08/16, 09:45:32 PM"Set flag mProjectNamedFromImport when Audacity automatically
names a new project from the name of an imported file.

This fixes the bug as described, but obscure and fringe ways of saving projects should be tested.
I'd like this fix to be reviewed by a senior developer in case there is a better way to fix it.""Basic idea extended into fix.
https://github.com/audacity/audacity/commit/bf06b0485fa6886f63c21e6c8cab13b8e585a894
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
163OpenMP TrackArtist::DrawSpectrumDarrell Walisserwalisser09/11/16, 06:36:16 PM"Much faster drawing function, measured about 300% improvement. Not much to this, there is some minor refactoring to allow loop parallelization.

Additional refactoring to calculate number scale one time, could give a boost to the non-omp version esp when scale involves log(), etc.

Also changed pointless references like ""const double& x = y"" to ""const double x = y"", I don't see the point of having a reference to a primitive type, or basic struct like wxRect. This may allow better code generation inside loops.""I will review this.

I am not sure that the references were harming the compiled code.  To the contrary a reference is a way of saying ""don't copy.""  The real question is whether a declaration is causing a register allocation or stack growth unnecessarily.  That may depend on how smart the optimizer is.
 =||= My incomplete review so far:

I will not merge this as it is now.

Please don't remove the references unnecessarily without any proof that they help performance.  Keep the commit simple.

I am surprised that line 2187 compiles, but it does for my on Mac.  But standard C++ should not allow the array dimension to be a non-constant expression.  This may not be portable.  This might break the Windows build, but I am not in a place where I can check that now.

Use alloca instead.  Though not standard either, there is precedent for that elsewhere in our code.
 =||= Sorry, but the changes you made involving variables w0 and w1 can't go in.

You assumed reasonably enough that every pixel column covers an equal interval of time.  What you don't know is that I intentially wrote more general code that does not assume this, because I was developing a project tentatively called ""fisheye"" which can make the mapping non-uniform.  This project may be completed in version 2.1.4.
 =||= That completes my review.
PRL
 =||= On reflection, I find a bit more to say.

The changes to w0 and w1 might be objectionable anyway because of numerical roundoff when computing timeStep.  This might make more difference when in zoomed very closely and making a (time) selection.

I understand that you need to break a loop carried dependency.  I think there is no avoiding two calls to PositionToTime in each pass of the loop, in the parallel version, for the future fisheye to work.  The serial version can avoid the second call.
 =||= I'm closing this rather than have incremental additional changes since Paul is not OK with it.  Paul needs to add comments into the existing code to explain not lifting calculation outside the loop for w0 and w1.  I tend to side with Darrell over the '&' being unnecessary and unclear and favour removing them.  It's a well known idiom to pass small values by value and large values by pointer/reference, and I think it is correct to continue it here, as Darrell does, when essentially using const variables just for renaming.
 =||= Surely though we will welcome another commit that answers my objections.
 =||= Yes indeed.  But as a new pull request.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
164Update translationJNylsonJNylson09/30/16, 11:34:05 AMlocale/audacity.pot and locale/pt_BR.po"Thanks for the work on this, the missing translations and fixing capitalisation.
This is now merged into master.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
165OpenMP TrackArtist::DrawSpectrum Take 2Darrell Walisserwalisser09/20/16, 11:15:18 AM"Update to PR #163. 

Using vector now instead of dynamic array size. I've never seen where this didn't work in years, but better to keep standard compliant. This is not critical to performance so better to forget using alloca() as well.

Also w0, w1 recalculated every iteration so it can work with new fisheye feature. I did not special case this for the non-openmp as it was before since its very small component of the total and I imagine the compiler can do that for us.

I left the const ref change alone per James' comment. IMO it is just a bizarre thing to do. I think we can be pretty sure the code generated is not any worse as there is nothing to dereference in the loops.""I will relent then on the question of removing & , though I would be curious to know if -O3 removes the difference in code and stack size.

But again I suggest, using param.t0 intead of t0, etc., everywhere, and seeing if this improves the generated code even more at -O2 or -O3.

HOWEVER:  Closer review shows me another problem that makes this still unacceptable.

See the variable fisheyeColumn now at line 2440.  Observe what happens to it.  Yes, there is still a loop-carry dependency.  I see that you were careful to fix such dependencies involving w0 and w1 and correctedX, but this one remains.

To fix it right, we would need first to identify the columns that are in the fisheye, using ZoomInfo::GetFisheyeLeftBoundary and GetFisheyeRightBoundary -- there will be columns before, in, and after.  Then, where fisheyeColumn++ is used inside the loop, instead write some arithmetic with xx and the known start and end of fisheye.

On the other hand, fisheye isn't real yet, there are lots of unused hooks in the code waiting for a user interface to make them accessible.  So I won't insist on fixing that now, but good for you if you do for me it in advance.  After all, I have left myself another related TODO because fisheye and reassignment still don't play nicely together.  It can be my problem at such time as we try to bring that project online.

So, you can just make a loud screaming comment with TODO in it.  Or add
#ifdef _OPENMP
wxASSERT(!inFisheye);
#110 

One more thing, please consider alloca.  It avoids the free-store operations of vector, and I think it is more portable than using a non-constant expression in a built-in array dimension.  I suspect that latter is simply not standard C++ (what is the type of the array variable, without decay to pointer?  It can't be described in the type system) and may not be accepted by all the compilers we want to use.  But I saw how clang compiled that non-standard thing on Mac, and it worked, and I think alloca will generate just the same.

Finally, I request that you rebase these commits onto a more recent master and squash them into one, so that the graph will be neater.  I do hope to merge this soon.  It's almost there.
 =||= So at -O3, the picture changes...

[This diff](https://gist.github.com/walisser/f7078fe7c412f8b349dc4956cc3f885a) is const ref vs const value. It is smaller, but not by a lot, 1461 lines for ref version, 1500 for copy/value version.

[This diff](https://gist.github.com/walisser/2a9af35ad47bb4d21fb021e6a3655d1f) is ref version (left) vs de-ref'd (const locals removed). Smaller still, 1434 lines. 

I timed each version and found no appreciable difference between them. 

Based on that finding, I think the best is to remove the local variables completely and go through the class/struct. I would prefer this since it reduces line count significantly, and I think it would be easier to understand the code.

On the squashing, can you do it when [merging the PR?](https://github.com/blog/2141-squash-your-commits). I'm happy to do whatever, but not sure if you knew about this option.
 =||= Rebased and squashed. Removed the references change for now. Added fisheye support.
 =||= I am satisfied with the changes now.  Thank you.  And thank you for alerting me to the squash and merge button.

The failed test noted on this GitHub page was a compilation error unrelated to this change.

I have also learned that the variable-sized arrays you originally used cause a warning with appropriate clang options, that it is a C99 feature.  I am not acquainted with C99, but it is not standard C++, though it seems some compilers incorporate some of its features as nonstandard extensions, which is why the construct might never have been a problem in your experience.  But for portability I would rather avoid it.
 =||= "OpenMP TrackArtist::DrawSpectrum Take 2Darrell Walisserwalisser09/20/16, 11:15:18 AM"Update to PR #163. 

Using vector now instead of dynamic array size. I've never seen where this didn't work in years, but better to keep standard compliant. This is not critical to performance so better to forget using alloca() as well.

Also w0, w1 recalculated every iteration so it can work with new fisheye feature. I did not special case this for the non-openmp as it was before since its very small component of the total and I imagine the compiler can do that for us.

I left the const ref change alone per James' comment. IMO it is just a bizarre thing to do. I think we can be pretty sure the code generated is not any worse as there is nothing to dereference in the loops."NaNDarrell Walisser09/10/16, 06:19:51 PM"OpenMP TrackArtist::DrawSpectrum

- make 2nd loop parallelizable
- remove number scale from both loops, only calculate one time
- initialize Acolor::GetColorGradient separately"1
166Fix references to sourceforge.netRichard Ashrichardash198109/21/16, 09:08:10 AMFix a bunch of old references I have come across before next release."Merged into master.  Thanks.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
167mMessage FixMark Youngtip2tail09/19/16, 01:16:03 PMAssign mMessage to the first column wxStaticText control to allow non-TimerRecord usages to work correctly."I tested Normalize on an hour-long track.  No crash.  I'm satisfied too.
 =||= "mMessage FixMark Youngtip2tail09/19/16, 01:16:03 PMAssign mMessage to the first column wxStaticText control to allow non-TimerRecord usages to work correctly.NaNMark Young09/18/16, 09:15:54 PMAssign mMessage to the first column wxStaticText control to allow non-TimerRecord usages to work correctly.1
168"Fix Bug 1402, ""and"" is now only added if required"Mark Youngtip2tail09/23/16, 12:51:59 PM"Resolved issue in TimerRecord Disk Space Warning message where ""and"" was included in a sentance despite not being required."NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
169Bug 1402Mark Youngtip2tail10/02/16, 10:16:10 PMRewrite logic for the display of hours and minutes in status bar and dialog and ensure we use one routine for this."_(""%d %s and %d %s."") must have a translation hint.  A translator will not have a clue what is being translated otherwise.
 =||= Hi James,

Just to clarify you mean have a comment above this line indicating an
example of the English text here?

Thanks,
Mark

On 30 September 2016 at 12:52, James Crook notifications@github.com wrote:

> _(""%d %s and %d %s."") must have a translation hint. A translator will not
> have a clue what is being translated otherwise.
> 
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> https://github.com/audacity/audacity/pull/169#issuecomment-250725928,
> or mute the thread
> https://github.com/notifications/unsubscribe-auth/ABo9yhrdq_grS6KAJ3yfQAHQO3gDA3Skks5qvPf4gaJpZM4KIh7T
> .
 =||= Hi Mark,

I believe you should format the hint such as in this example so it will show up in poedit and other tools:

/\* i18n-hint: A time in hours and minutes. Only translate the ""and"". */
 =||= Merged into audacity:master,
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
170Add support for importing/exporting SubRip subtitlesMichał Kępieńkempniu11/09/19, 04:48:24 PM"As I find Audacity to be a fantastic tool for synchronising text subtitles and there is [apparent community interest](http://wiki.audacityteam.org/wiki/Movie_subtitles_%28*.SRT%29) in adding support for the most common [SubRip format](https://en.wikipedia.org/wiki/SubRip#SubRip_text_file_format), I thought I will give it a shot.

This pull request enables Audacity to both import SubRip subtitles as labels and export labels as SubRip subtitles.

The gotchas I am aware of:
- My way of integrating SubRip code with current label code is pretty heavy-handed, i.e. extending this code with further input/output formats will not be pleasant.  On the other hand, it is not as if there are a dozen of these waiting to be implemented.  If you would like to see this done differently, any pointers will be welcome.
- I had to introduce a variable called `sindex` and pass it to `LabelTrack::Export()` so that a valid SubRip subtitle is produced when multiple label tracks are present in a project.  Audacity's own label format does not treat this case specially because labels are not assigned sequence numbers of any kind, just start and stop times.
- The output format used for label export is determined by the extension of the target filename, not the filter index picked by the user in the file selection dialog.  This can be misleading, e.g. the user might choose to export labels as SubRip subtitles but then supply a filename ending with _.txt_, which will result in exporting labels in Audacity's own format.  Let me know if you would like this corrected as it would require reworking label export actions so that they use something more sophisticated than `FileSelector`, which only returns a filename.
- While it is technically possible for labels to be multi-line, it looks awkward and Audacity is not currently suited for comfortable editing of such subtitles, so I settled for `|` being a line separator for multi-line subtitles.  This should not cause a lot of trouble as `|` serves as a line separator in other subtitle formats, e.g. MicroDVD (in which case I am pretty sure it is not even escapable).

Finally, my C++ skills are lacking, so if you see something fishy, your gut is probably right."Sorry, this has sat in the queue too long and is now being closed as we couldn't decide on progressing it. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
171Update Catalan translationRobert Antoni Buj Gelonchrbuj11/20/16, 09:09:21 PMNaN"Applied in this commit:
https://github.com/audacity/audacity/commit/da49dddb0c8473497c4482f60502925627c9b7d4
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
172Generate an AppImage for each buildprobonopd05/14/17, 10:05:19 AM"This PR, when merged, will generate and upload an [AppImage](http://appimage.org/) of each commit. It does so by bundling Audacity and its core dependencies which cannot be expected to be part of each target system (Linux distribution) inside the AppImage.

The URL of the AppImage can be found in the Travis CI build log, it is beginning with `http://bintray...`. Of course you can change this to use the GitHub Releases mechanism for hosting the binaries instead.""The resulting AppImage from df3c21d can be downloaded from
https://transfer.sh/Tdm8O/audacity-travis1993-glibc2.15-x86-64.appimage
as indicated in the [Travis CI build log](https://travis-ci.org/audacity/audacity/builds/175318699#L6577).
 =||= Would appreciate review, feedback, discussion. Even if you end up deciding not to use it in the end :-) =||= No one in team has volunteered to maintain this going forward, and it would be another deliverable we would need to create/test on each release.  Plus it pulls in binary code that we do not have full visibility of. 
 For now we are staying with our current methods for distributing on linux. =||= @JamesCrook it pulls in binary code but only for the sake of speeding up the packaging process, and all is coming from traceable GitHub repository that contain the full source code.

Which ""current methods for distributing on linux"" are as easy for everyone as download one file, make it executable, and run? =||= No one in team has volunteered to maintain this going forward, and it would be another deliverable we would need to create/test on each release. Plus it pulls in binary code that we do not have full visibility of.
For now we are staying with our current methods for distributing on linux. =||= Isn't it a shame that if I was running a proprietary OS rather than Ubuntu LTS, I could be downloading and running Audacity 2.2.0 right now, whereas with Linux I am lost?

![downloads](https://user-images.githubusercontent.com/2480569/32697153-771f0966-c78a-11e7-94a6-1c57db4e37c1.png)
 =||= > No one in team has volunteered to maintain this going forward, and it would be another deliverable we would need to create/test on each release.

Making the AppImage will simply involve bundling up the builds that you are already doing right now on Travis CI, and I am volunteering to help with any AppImage issues that might arise.

> Plus it pulls in binary code that we do not have full visibility of.

AppImageKit is 100% open source under the MIT License. 

> For now we are staying with our current methods for distributing on linux.

What would need to change to make you reconsider?

For one, the AppImage tools have greatly improved since my original request, so that a bash script is no longer needed to do the conversion to AppImage. The https://github.com/probonopd/linuxdeployqt
tool can do it now.

New version here: https://github.com/probonopd/audacity/blob/patch-1/.travis.yml

New build can be downloaded here: https://github.com/probonopd/audacity/releases =||= I'd love to see binaries for Audacity for Linux as well. Big fan of this software, use it a few times a week. AppImage seems like the easiest way for you guys to provide those binaries. I mean, seriously, how many lines of code is the AppImage build compared to the NSIS(?) installer?

And whenever you would have trouble with the AppImage builds, you're free to join #AppImage on Freenode, there's a lot of people who can help you out. =||= Simon, thanks for taking this to the devel list.  That is moving it along faster.  At least now the AppImage build is being reviewed by the people in Audacity who make sure things work well on Linux.  Thanks also for your flexibility in being willing to maintain and host this yourself.  We will never be testing on as many Linux variants as you do! =||= Hi, will audacity release in appimage in the future? that will be awesome!!!!! =||= +Lvaakz, probonopd is providing AppImages at https://github.com/probonopd/audacity/releases .  Audacity team already have our hands full providing and supporting Windows installer, Mac dmg and Linux-src for those three platforms, and as yet it does not make sense for us to officially provide AppImage, Snaps and Flatpak for linux ourselves. =||= Still haven’t given up the hopes of an official AppImage... definitely happy to help :-) =||= There are hundreds of them! Which of all to choose? =||= I would like to see one official :-) =||= > There are hundreds of them! Which of all to choose?

The most recent one that offers the combination of features you need. If people think there are build combinations that make no sense, let me know. Ideally the Audacity team would just decide on one. =||= @JamesCrook you could include in the download page the links of audacity flatpak https://flathub.org/apps/details/org.audacityteam.Audacity of snap https://snapcraft.io/audacity and audacity appimage https://github.com/probonopd/audacity/releases , indicating that they are not maintained by the audacity team, as does krita with the flatpak package?
Is there some problem with that? It would be easier for some users to see from the audacity page that there are such packages.
 =||= Any way, you are not bundling such packages, only indicating a link,  if any body want them. :) =||= Thanks @Lvaskz .  I've passed your comment on to the people who make decisions about Linux. =||= Hi, any progress about it? =||= Let me know if you want me to change anything. =||= any news on official audacity appimage, would really want to have one =||= > 
> 
> any news on official audacity appimage, would really want to have one

I am hopeful that this will happen one day, personally speaking, the appimages are manageable and less irritating when executing them, the terminal is not needed, etc. Although for a linux user of several years, the terminal becomes indispensable. Anyway, appimages is a good option to download binaries and test them on linux. =||= Hi, it would be wonderful to see an official `Audacity.AppImage`. I use three opensource applications for video creation namely Audacity, Kdenlive and OBS Studio.

- Kdenlive already provides AppImages: https://kdenlive.org/en/download/
- OBS is in the process of adopting one: https://github.com/obsproject/obs-studio/pull/2868

I would love to see Audacity move in this direction. It would help a lot of content creators on Linux to get started with Audacity hassle free!

Linked https://github.com/audacity/audacity/issues/695 =||= Thanks @joe733 . I've passed your comment on to the people who make decisions about Linux. =||= I think with this  (https://github.com/appimagecrafters/appimage-builder )appimage builder , create an appimage will be more easier.
To consider too =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
173Update Ukrainian translationYuri Chornoivanyurchor11/21/16, 03:54:11 PM"The update was tested for validity with msgfmt -vc.

Thanks in advance for merging this PR."NaNUpdate Ukrainian translationYuri Chornoivanyurchor11/21/16, 03:54:11 PM"The update was tested for validity with msgfmt -vc.

Thanks in advance for merging this PR."NaNYuri Chornoivan11/21/16, 02:20:55 PMFix merging conflict1
174Update nl.poJan van den Bergjan-vandenberg11/25/16, 05:44:10 PM"Doorrekenen is a weird Dutch word in this context and also not consistent with the menu item below it: ""Mixen en naar nieuw spoor renderen"". So I propose to change ""doorrekenen"" to ""renderen"" to be more logical and consistent."Many thanks for the suggestion. Thomas De Rocker has agreed to make this change when he submits his completed translation, so we can close this pull request.  =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
175Fix truncated decode of mp3 files on importChris Cannamcannam02/24/17, 02:05:24 PM"The MAD decoder will not decode the final frame in an mp3 stream unless
it has a small amount of padding afterwards (MAD_BUFFER_GUARD bytes,
actually 8). Without this, it loses sync before returning any decoded
data from the final frame. The result is that the imported audio is
truncated by up to 1152 samples.

This commit addresses that by using a final round of input callback
calls to provide the last MAD_BUFFER_GUARD bytes after the underlying
file has reached eof. The logic is based on madplay.""You can find a test file at http://all-day-breakfast.com/m/ticks.mp3. It contains two short bursts of noise, one right at the start of the file and the other right at the end, separated by a couple of seconds of silence. If you open this in the Audacity master branch you will find that the second burst is missing; this commit fixes that.

The logic here is surprisingly fiddly, and would benefit from careful review.

(I chanced on this after finding the same problem in my own use of the MAD library in Sonic Visualiser. I suspect that hardly anyone is using this library completely correctly, since everyone copies the minimad example code and that has this problem as well. The official madplay application handles this case and that's what the fix is based on.) =||= Thanks for this Chris.

I can confirm that Audacity does have the problem that you  describe, and that your patch does allow Audacity to import the final frame, but it does not seem to be quite right yet. With your patched version I observe that the imported file is prepended with 1152 additional silent samples.

Audacity  has just gone into freeze in preparation for releasing 2.1.3, so this can't be merged right now. If you can sort out the residual problem (the extra samples at the start) then I'd be keen to see this reviewed and committed when the freeze is ended. =||= Thanks for taking a look.

The effect you describe was already the case, this patch didn't
introduce that problem. I'm just concentrating on one bug at a time.

I discuss both problems here:
https://thebreakfastpost.com/2016/11/26/mp3-decoding-with-the-mad-library-weve-all-been-doing-it-wrong/

This PR is only for the more serious of the two bugs. I may prepare a
patch for the other as well at some point, but I'm focusing on this one
first and I'm not going to incorporate both into a single PR.


On Sun, 27 Nov 2016, at 12:20, Steve Daulton wrote:
> Thanks for this Chris.
> 
> I can confirm that Audacity does have the problem that you  describe, and
> that your patch does allow Audacity to import the final frame, but it
> does not seem to be quite right yet. With your patched version I observe
> that the imported file is prepended with 1152 additional silent samples.
> 
> Audacity  has just gone into freeze in preparation for releasing 2.1.3,
> so this can't be merged right now. If you can sort out the residual
> problem (the extra samples at the start) then I'd be keen to see this
> reviewed and committed when the freeze is ended.
> 
> -- 
> You are receiving this because you authored the thread.
> Reply to this email directly or view it on GitHub:
> https://github.com/audacity/audacity/pull/175#issuecomment-263119250
 =||= Thanks for the additional detail. Yes I see what you're saying about the leading samples. I'll forward your link to the developer's mailing list and log both of these issues on our bug-tracker.
I'd be happy to assign these bugs to you if you'd care to join us on the developer's mailing list (https://lists.sourceforge.net/lists/listinfo/audacity-devel).
As I wrote previously, we're in freeze so we can't merge this right now, but please do come and say hello on-list (the GitHub comments are not heavily monitored - the primary communication channel for the Audacity developers is the mailing list).
Thanks again for your contribution (and by the way, I'm a big fan of Sonic Visualiser :-) =||= "Fix truncated decode of mp3 files on importChris Cannamcannam02/24/17, 02:05:24 PM"The MAD decoder will not decode the final frame in an mp3 stream unless
it has a small amount of padding afterwards (MAD_BUFFER_GUARD bytes,
actually 8). Without this, it loses sync before returning any decoded
data from the final frame. The result is that the imported audio is
truncated by up to 1152 samples.

This commit addresses that by using a final round of input callback
calls to provide the last MAD_BUFFER_GUARD bytes after the underlying
file has reached eof. The logic is based on madplay."NaNChris Cannam11/26/16, 05:41:07 PM"Fix truncated decode of mp3 files on import

The MAD decoder will not decode the final frame in an mp3 stream unless
it has a small amount of padding afterwards (MAD_BUFFER_GUARD bytes,
actually 8). Without this, it loses sync before returning any decoded
data from the final frame. The result is that the imported audio is
truncated by up to 1152 samples.

This commit addresses that by using a final round of input callback
calls to provide the last MAD_BUFFER_GUARD bytes after the underlying
file has reached eof. The logic is based on madplay."1
176Updated Hungarian translationBalázs Úrurbalazs11/28/16, 10:37:37 AMNaNNaNUpdated Hungarian translationBalázs Úrurbalazs11/28/16, 10:37:37 AMNaNNaNBalázs Úr11/28/16, 09:12:51 AMUpdated Hungarian translation1
177Add menu items to toggle midi channels; fix EXPERIMENTAL_MIDI_OUTPokechu22Pokechu2202/10/17, 06:03:34 PM"Right now, while it _is_ possible to toggle midi channels, the process involves randomly clicking within the midi track panel as the positions you need to click to toggle each channel are unlabeled and there's no indication of what channels are enabled or not.

This PR removes the old toggle system and adds menu items to toggle individual channels, along with an item to show all channels and an item to hide all channels.

I'm not too familiar with the audacity codebase (or C++ in general), so if I've done something wrong (either stylistically or functionally), let me know and I'll try to correct it.""I just realized that the ""random click positions"" I was referring to actually _do_ make sense, but only when `EXPERIMENTAL_MIDI_OUT` is enabled.  I still find the option of toggling them channels without midi output useful, but I probably shouldn't remove support for those buttons (they should probably be put in an `#ifdef` instead). =||= I'm closing this PR because I feel like it's not implemented as well as it should be; I'm going to make a second PR like this one except done better. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
178Fix bug 1575Steve DaultonSteveDaulton01/16/17, 05:52:00 PM"Includes fix by PRL:
https://github.com/Paul-Licameli/audacity/commit/cbca44e"NaNFix bug 1575Steve DaultonSteveDaulton01/16/17, 05:52:00 PM"Includes fix by PRL:
https://github.com/Paul-Licameli/audacity/commit/cbca44e"NaNSteve Daulton01/16/17, 12:35:07 PM"Fix bug 1575

Includes fix by PRL:
https://github.com/Paul-Licameli/audacity/commit/cbca44e"1
179Minor translations in FrenchClément Trassoudaineintv0id02/21/17, 11:52:16 PMNaN"Will be in Audacity 2.1.3 =||= Thanks trebmuh.  I've made that change, but adding to a closed github pull request is likely not to be noticed usually.  Please use the audacity-translators email list in future.

Note that the English does not distinguish between shortcuts in &Cut and &Copy.  =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
180Add missing template instantiationDarrell Walisserwalisser02/07/17, 07:50:43 PMThis is needed on Linux GCC 5.4 to fix a link error."Looks harmless to me.  James?
 =||= "Add missing template instantiationDarrell Walisserwalisser02/07/17, 07:50:43 PMThis is needed on Linux GCC 5.4 to fix a link error.NaNDarrell Walisser02/07/17, 06:11:33 PMAdd missing template instantiation1
181Fixed a few typos on pt_BR translation fileLucas Teixeiralucaspontoexe02/21/17, 11:52:17 PMAlso, I have added some missing translations.Will be in Audacity 2.1.3 =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
182Update Ukrainian translationYuri Chornoivanyurchor02/21/17, 11:52:17 PM"Tested for validity with msgfmt -vc

Thanks in advance for merging this PR."Will be in Audacity 2.1.3 =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
183Make this word to be a noun in Spanish, not a verbFrancisco Vilapacovila02/22/17, 08:10:44 PMMake Silence to be a noun in Spanish as in Generate->Silence, not a verb"Thanks. It is probably a good change but our policy is to use the audacity-translation mailing list 

https://lists.sourceforge.net/lists/listinfo/audacity-translation 

for translation changes. Please follow that link to subscribe to the list. 

So I'm closing this.  =||= Thank you but there it says very clearly it's for ""any decent sized pull requests"" or ""anything that is more than a couple of lines"". My patch changes a single word (or rather a fraction of one). I suggest to change those wordings so that people collaborating tiny changes like mine don't get confused for both following a policy and not following it at the same time. =||= Hello, our policy is for translations to be handled on the -translation list  http://wiki.audacityteam.org/wiki/GitHub_Pull_Requests#Milestones .
 =||= Now that 2.1.3 is released I committed this https://github.com/audacity/audacity/commit/64a6fa6 in order to get it done. Looking forwards perhaps to seeing you on the -translation list at some future time.    =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
184configure: add check for gcc 4.9.0 up-frontDarrell Walisserwalisser02/24/17, 09:55:34 PM"Also sets -std=gnu++11 per wxWidgets requirement
Closes bug #1506"Thanks Darrell. =||= configure: add check for gcc 4.9.0 up-frontDarrell Walisserwalisser02/24/17, 09:55:34 PM"Also sets -std=gnu++11 per wxWidgets requirement
Closes bug #1506"NaNDarrell Walisser02/11/17, 05:38:45 AM"configure: add check for gcc 4.9.0 up-front

also sets -std=gnu++11 per wxWidgets requirement
closes bug #1506"1
185Bug 1401 - Wait for window visibility before starting timerDarrell Walisserwalisser02/25/17, 11:07:08 PM"
http://bugzilla.audacityteam.org/show_bug.cgi?id=1401"NaNBug 1401 - Wait for window visibility before starting timerDarrell Walisserwalisser02/25/17, 11:07:08 PM"
http://bugzilla.audacityteam.org/show_bug.cgi?id=1401"NaNDarrell Walisser02/25/17, 09:16:42 PMBug 1401 - Wait for window visibility before starting timer1
186make zoomed in view show evenly-spaced samplesBrian Armstrongbrian-armstrong07/16/17, 05:38:30 PM"Hi,

I love Audacity. Awesome stuff 👍 

I have been using Audacity to debug my modem library. I was thinking how much I'd love to be able to inspect individual samples as a stem plot, so I took a whack at implementing it.

You'd probably want these changes behind some user preference toggle. I'm more than happy to make those changes, *if* you do think this would be something you'd want.

Here's a screenshot of what it looks like http://i.imgur.com/Dqe2ds5.png

I've had to change the zoom behavior a little. This looks weird when the horizontal spacing between samples varies, so this locks the zoom in to be a multiple of the project sample rate.

Cheers!""Related discussion on Audacity forum: http://forum.audacityteam.org/viewtopic.php?f=28&t=94931
As previously discussed, I like the general idea of having ""stem plots"" as an option, but restricting zoom levels to integer multiples of pixels per sample, looks broken. Until audio tracks have sub-pixel rendering (or similar), rounding sample positions to pixels is the lesser evil imo. Please feel free to come and discus this on the developer's mailing list (see: http://www.audacityteam.org/community/developers/) =||= Love the idea, and I agree with Steve's point that we need sub-pixel resolution for the vertical lines.  That shouldn't slow plotting noticeably, because we are drawing fewer lines than in a zoomed out view.  May be able to use http://docs.wxwidgets.org/3.1.0/classwx_graphics_context.html for it.  I also have fast code for sub pixel resolution based on antigrain library.

The code here is proof of concept, so we will close this one shortly unless it is progressed as described by Steve. =||= Sounds good 👍 

Can you help me with what specifically this would need to land? Is it just a matter of enabling Anti-aliasing in WxWidgets? =||= Hm, I don't think it's antialiasing I want. I tried turning it on and the lines get significantly blurrier. =||= The stem plot reminds me of another option for depicting the wave at high
zoom levels that I thought I might try to implement some rainy day.

That is, to interpolate between samples, not with a piecewise linear curve,
but rather to compute the weighted sum of sinc functions.  I understand
that shows the unique band-limited continuous function that fits the given
samples, and is the curve on which new samples will fall if you do a
high-quality resampling to a higher rate.

It's one of those interesting mostly math-y projects that wouldn't upset
large amounts of code.

PRL


On Sun, Apr 9, 2017 at 6:43 PM, Brian Armstrong <notifications@github.com>
wrote:

> Hm, I don't think it's antialiasing I want. I tried turning it on and the
> lines get significantly blurrier.
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/186#issuecomment-292818931>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/ALITYWcVI3x7ImGpsqOkFlwCLb6k4vQHks5ruV8NgaJpZM4MWi4Y>
> .
>
 =||= @Paul-Licameli Although it's true that you could represent the signal in multiple ways, I believe the one I have provided is considered to be canonical within DSP.

For example, the following two pages appear in Richard Lyon's Understanding Digital Signal Processing
http://i.imgur.com/Y1JMH5g.jpg
http://i.imgur.com/T0GVbRB.jpg

On the second page, it explicitly says ""Do not be tempted to draw lines between the dots in Figure 1-1(b). For some reason, people ... want to connect the dots with straight lines, or the stairstep lines shown in Figure 1-1(c). Don't fall into this innocent-looking trap.""

Or to use another example, we can look at some arbitrarily-chosen plots from Proakis and Manolakis's Digital Signal Processing
http://i.imgur.com/KR8qA9r.jpg
http://i.imgur.com/7kSKGXp.jpg

It seems all of the plots in this book are rendered this way when they contain discrete-time signals. And as far as I know, this stem method is also commonly chosen for DSP plots generated by MATLAB.

I think given the abundance of this particular plot, it would be handy to be able to render this way in Audacity as well, at least as an option :) After all, what is 44.1kHz audio if not discrete samples? =||= Can you share a screenshot of the 'blurrier' lines?  When anti-aliasing works well the lines ARE blurrier, and the overall effect (from screen distance) is better.  Have a look at the ruler lines in the 'zoomable ruler' section of http://wiki.audacityteam.org/wiki/Proposal_TrackPanel_Evolution . Have a look up close, and then from normal distance.  Those ruler lines are drawn with anti-aliasing in order to be able to draw them at any spacing.  They look evenly spaced and of even width.   =||= @JamesCrook Ok, I've pushed an update with AA turned on. Your explanation makes sense, thanks!

Here's a preview
http://i.imgur.com/SKPAwF7.png
http://i.imgur.com/w8lCH6V.png =||= Unfortunately I'm getting a segmentation fault when zooming in.
Tested with debug build on Linux.
I've not yet had chance to investigate further but will post on devel@ when I have. =||= @SteveDaulton I'm guessing that wxGraphicsContext is not always available. I pushed a change that should skip setting AA if it isn't. =||= I'd just quickly tested with pretty much the same:
if (dc.GetGraphicsContext()) {
and that works. =||= @SteveDaulton Ok, that makes sense. I'm not so familiar with wxWidgets. Just from what I can tell from some googling, it seems that AA won't be an option for OSes without a GraphicsContext then.

If that's a blocker, that may require a fairly substantial amount of work unless @JamesCrook's antigrain code can be used here? =||= I've started a thread to discus this on devel@ mailing list.
https://sourceforge.net/p/audacity/mailman/message/35797568/
Please join the discussion by registering on the mailing list: https://lists.sourceforge.net/lists/listinfo/audacity-devel =||= Stem plots are in now, and may not always have even spacing, but that is OK.  So I am closing this pull request, which had some work on even spacing too. =||= Thank you all for helping to land this one, and for the thoughtful discussion. I'm really excited that this made it 👍  =||= Brian, thank you for this contribution.  We wish to credit your contribution in the About Audacity... dialog of the next version, if you have no objections.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
187Cross-compile Support: libnyquistDarrell Walisserwalisser03/31/17, 05:02:46 PMCherry-picking commits under lib-src/libnyquist from #161 per Paul's suggestion.NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
188Update Catalan translationRobert Antoni Buj Gelonchrbuj03/21/17, 03:12:08 AMNaN"Thanks, but please read https://github.com/audacity/audacity/wiki:

> Translation changes must be submitted by subscribing to the [audacity-translation] (https://lists.sourceforge.net/lists/listinfo/audacity-translation) list, even if only changing one or two words. =||= How often is updated https://sourceforge.net/p/audacity/mailman/audacity-translation/? I've sent an email one hour ago which is not shown. =||= @rbuj  Thank you for subscribing to the -translation list. I don't know why the SourceForge archive of the list is oudated, but we have received your message to the list:
http://audacity.238276.n2.nabble.com/Update-Catalan-translation-for-Audacity-td7578860.html  so it will be dealt with in due course.   
 =||= Thanks for the clarification @windinthew and I apologize for the inconvenience. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
189Fix Italian translation typosLorenzo PiniGnafu03/23/17, 08:54:16 AMNaN"Thanks.  Merged into github.
I'd encourage you to subscribe to audacity-translation@lists.sourceforge.net and post updates to the .po (and questions about translation) there, =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
190Update Ukrainian translationYuri Chornoivanyurchor03/23/17, 08:54:42 AM"Tested with msgfmt -vc for validity.

Thanks for merging this PR.""Thanks.  Merged into github.
I'd encourage you to subscribe to audacity-translation@lists.sourceforge.net and post updates to the .po (and questions about translation) there, =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
191Speccache for reassignment and performance improvementsDarrell Walisserwalisser04/10/17, 08:00:46 AM"There is a comment in the code that reassignment spectrum could not work with speccache partial updates. However, I could not see a reason why not after reading the code, and so now it works and produces the same results as before. This is a big win when scrolling the reassignment spectrum.

In addition, the Resize() method reduces allocation and zero filling of buffers. Zero fill is only needed for reassignment case, and std::vector::resize() can efficiently resize without copying. This has a fairly big impact as the OpenMP case allows practical usage of much larger buffers.

I've also stripped the profiling code, it isn't very useful anymore.""I don't approve. =||= I had a reason for doing what I did for reassignment.  I believe the caching may give some different results from recomputation at extreme zoom levels and large window sizes.  Though I have not tested this. =||= OK.  I reverted the commit in head. =||= I will give this a more detailed review.  There may be parts I agree with.
 =||= Paul, I did a test with high frequency pluck (Midi note 120) and window 32k, I see gaps in the spectrum when scrolling. So I can confirm as-is the patch doesn't work for reassignment. My hypothesis is the number of lookahead/lookbehind windows (set to a maximum of 100) is insufficient. If so, do you think this logic could change to remedy the issue?

Please consider the other parts, they are worthwhile even though sadly the reassignment cache isn't perfect.

 =||= Darrell, I am catching up with a review of this.

1) SpecCache::Resize has an error, assigning start_ to itself rather than to start.
2) As already said, it is not yet acceptable to skip the reinitialization of cache in case of reassignment.  I don't yet know what is the smarter thing to do in case of large window sizes and high magnification.
3) In WaveClip::GetSpectrogram, in the new block governed by   if (settings.algorithm == SpectrogramSettings::algReassignment), is it correct to assume that the un-copied part of the cache that needs zeroing is contiguous, at either the start or the end?  And not in two pieces?  Add the assertion
      wxASSERT(
         (copyBegin >= 0 && copyEnd == numPixels) ||
         (copyBegin == 0 && copyEnd <= numPixels)
      );
And prove informally in comments that this assertion is correct.
4) I think the whole point of this commit was to make horizontal scrolling faster.  So you remove the lines
  std::unique_ptr<SpecCache> oldCache(std::move(mSpecCache));
... and ...
  if (!(copyEnd > copyBegin))
      oldCache.reset(0);
But now each WaveClip's cache is reallocated to larger sizes as needed, but never shrinks.

Can you write a more conservative fix that skips the deleting of the old cache, only in case the spectrogram window size has not been reduced -- but otherwise, reallocates as before?

PRL
 =||= Another minor point is that we prefer three spaces of indentation, not four.

PRL
 =||= Thanks, Paul. 3 spaces is the only 'law' we've ever enforced! -- V

On Tue, May 2, 2017 at 4:52 PM, Paul Licameli <notifications@github.com>
wrote:

> Another minor point is that we prefer three spaces of indentation, not
> four.
>
> PRL
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/191#issuecomment-298793049>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/ACIgbyz_TVDtsPEA9SmEK213WAvljt2vks5r18HYgaJpZM4MlfLK>
> .
>
 =||= "Speccache for reassignment and performance improvementsDarrell Walisserwalisser04/10/17, 08:00:46 AM"There is a comment in the code that reassignment spectrum could not work with speccache partial updates. However, I could not see a reason why not after reading the code, and so now it works and produces the same results as before. This is a big win when scrolling the reassignment spectrum.

In addition, the Resize() method reduces allocation and zero filling of buffers. Zero fill is only needed for reassignment case, and std::vector::resize() can efficiently resize without copying. This has a fairly big impact as the OpenMP case allows practical usage of much larger buffers.

I've also stripped the profiling code, it isn't very useful anymore."NaNDarrell Walisser03/22/17, 03:17:58 PMSpeccache for reassignment and performance improvments1
192Windows compileMark Youngtip2tail03/30/17, 01:12:55 AMNaN"Thanks, Mark. Actually we usually bump the version number to the current release after the release has been made, so 2.1.3 as now. When we gave the current version being developed, people compiling the current release complained.    

Perhaps we should say now ""This document is for Audacity release 2.1.3 and for 2.2.0-alpha"". Mostly, compile.txt would be correct for previous release and the following alpha at any given time.    
 =||= Hi Gale,

Sorry - I misunderstood and thought we'd missed it on 2.1.3 release.  Do
you want me to change it to what you mentioned above?  Or do you want to
make the change?

Thanks,

Mark

On 24 March 2017 at 18:58, Gale Andrews <notifications@github.com> wrote:

> Thanks, Mark. Actually we usually bump the version number to the current
> release after the release has been made, so 2.1.3 as now. When we gave the
> current version being developed, people compiling the current release
> complained.
>
> Perhaps we should say now ""This document is for Audacity release 2.1.3 and
> for 2.2.0-alpha"". Mostly, compile.txt would be correct for previous release
> and the following alpha at any given time.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/192#issuecomment-289115056>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/ABo9yp61yQr7WUJ3KVIyP8I0lY3eXkG4ks5rpBJggaJpZM4MoZFo>
> .
>
 =||= We had missed it for 2.1.3 release and it is certainly wrong now.  Bumping the version 
number in win/compile.txt should be done when setting IS_ALPHA back to 1 and 
updating the version numbers in src/Audacity.h. OTOH we don't mention Audacity
version at all in mac/Build.txt. Perhaps we should.

I'd say don't trouble to recommit. Whoever commits this to MASTER can decide.
I do think you should move your extra line in .gitignore under # Windows specific
but I assume whoever commits this will do that. Do you know if VS2015 adds the
same hidden folder to /win?  
 =||= To get this out the way I committed a slightly modified version at https://github.com/audacity/audacity/commit/930e834 , with the ignore moved into Windows-specific files and compile.txt saying it is for 2.1.3 but also works (currently)  with 2.2.0-alpha. Thanks.    =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
193Fix clang buildDarrell Walisserwalisser04/09/17, 09:31:32 PM"Sample configuration:

```bash
CC=clang-4.0 CXX=clang++-4.0 ./configure
```"NaNFix clang buildDarrell Walisserwalisser04/09/17, 09:31:32 PM"Sample configuration:

```bash
CC=clang-4.0 CXX=clang++-4.0 ./configure
```"NaNDarrell Walisser03/31/17, 04:48:30 PMupdate autoconf script1
194Speccache Improvements, Take 2Darrell Walisserwalisser05/31/17, 01:11:48 AMRebase and resolve #191 stuff."Rebased, sqaushed to one commit, and pushed.  Thank you, Darrell.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
195Resolved Bug 1523 from BugzillaBunelBerkane05/14/17, 09:58:39 AM"Hello,

This change resolves Bug 1523 described here: http://bugzilla.audacityteam.org/show_bug.cgi?id=1523
The modification prevents Preferences from being changed if ""Language"" was set to ""System"" and unchanged.""Thanks.  Committed.
https://github.com/audacity/audacity/commit/4c3455c2c7beb16d370549ffb226eaf56268437c =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
196Add custom DTMF pluginaliask05/16/17, 09:18:34 AM"A new plugin I created, based on the original DTMF generator which can generate arbitrary DTMF tones rather than limited to the telephone keypad type only.

Useful for generating [other](https://en.wikipedia.org/wiki/Special_information_tones) telephony DTMF tones, and [SELCAL tones ](https://en.wikipedia.org/wiki/Selective_calling)for radio communication.""Thank you for your proposal. Please discus this with us on the forum: https://forum.audacityteam.org/viewforum.php?f=42

Steve =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
197Properly handle supplementary characters when saving XML filesYarn36611/06/17, 09:23:48 PM"This fixes the problem experienced by a number of users, including [this one](http://forum.audacityteam.org/viewtopic.php?f=46&t=95866), where supplementary characters (which includes many emoji) are written as pairs of escaped surrogate code points.

 Note that the problem only affects platforms like Windows where `wchar_t` is 2 bytes.""Thanks for this proposal.
I am not familiar with details of character sets, but I understand that on Windows, the loss of
information happens on Windows only at the line
wxUChar c = s.GetChar(i);

Would it not be simpler to change the type of c to something sure to be 32 bits wide on all platforms?  Could it be the char32_t type, which is standard since C++11?

http://en.cppreference.com/w/cpp/language/types
 =||= The problem appears to be much deeper than I originally thought.

If you look up the return type of `s.GetChar(i);`, you'll notice that it returns not `wxUChar` but `wxUniChar`. From what I gather from the [documentation](http://docs.wxwidgets.org/3.0.2/classwx_uni_char.html) and personal testing, `wxUniChar` is always 4 bytes, not the size of `wchar_t`. However, Audacity doesn't seem to use this type anywhere and instead always uses `wxChar` and its variants, which are typecasts of `wchar_t`, and thus can store characters differently depending on the platform. This results in wxString only storing character values that `wchar_t` can store, at least some of the time.

It looks like the real solution here is to change the entire source code over from `wxChar` and its variants to `wxUniChar`, which appears to be no small task, considering how often the former occurs.

EDIT: Or maybe I'm completely wrong there. What's definitely true, though, is that if I switch just that one function to use a 32-bit character type, it would still be necessary to deal with surrogate pairs, and additionally it would be necessary to decode and encode them in that function, which isn't necessary with the code that I submitted.

The code also uses `wxL()` everywhere, whose use has, [according to the documentation](http://docs.wxwidgets.org/3.0.2/group__group__funcmacro__string.html#ga437ea6ba615b75dac8603e96ec864160), been discouraged since wxWidgets 2.9.0. I don't know how important it is to change this, but I do know that the cases of the switch statement in `XMLEsc` use `wlL()` and cause compiler errors if the type of `c` is simply changed to `wxUniChar`. Unfortunately, I'm not aware of an alternative. (And I actually have very little experience with wxWidgets, for that matter; I learned most of this only today.) EDIT: According to [this page](http://docs.wxwidgets.org/3.0.2/overview_changes_since28.html#overview_changes_unicode), `wxL()` not only is harmless but can simply be removed. =||= In case any developers see this, I posted this issue on audacity-devel (here: https://sourceforge.net/p/audacity/mailman/message/35931978/) almost two weeks ago; it has yet to get a response. =||= Thanks Yarn. This fix has now been committed. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
198Accessible version of Audacity 2.1.1 (for Mac OSX)zhoupengxunpengxun52306/27/17, 02:02:49 PM" I run Audacity source code on MAC, found compile error：
  Showing Recent IssuesSRC/Audacity. H: 194:10: fatal error: 'wx/defs. h' file not found""Hi.  I don't see the actual changed files you are proposing, so closing this pull request.  If you want to report a problem with compiling please do so on audacity-devel mailing list. =||= This may be the same error about wx/defs.h missing, that I fixed at 4fab7365e5b634d01fd761a9259cf4b62097b1ca
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
199Update appveyor.ymlHenric Jungheimhenricj07/16/17, 05:30:59 PM"Fix the appveyor.yml project path and produce a basic build artifact.
RevisionIdent.h is updated so the about dialog can show where the file came from."NaNUpdate appveyor.ymlHenric Jungheimhenricj07/16/17, 05:30:59 PM"Fix the appveyor.yml project path and produce a basic build artifact.
RevisionIdent.h is updated so the about dialog can show where the file came from."NaNHenric Jungheim06/29/17, 06:46:50 PMUpdate appveyor.yml1
200Rework locale VS project to use CustomBuildStep.Henric Jungheimhenricj04/02/18, 07:51:40 PM"The Clean, Build, and Build targets all work.
We use NuGet to provide gettext for msgfmt.
The wxWidgets ""gl_ES"", ""ko_KR"" and ""pt"" exceptions are handled automatically (by putting them in the right place to begin with).

The existing locale.vcxproj is far more complicated that it needs to be.  It first compiles the Audacity *.po files with a UI-enabled MSBuild task, then it compiles the wxWidgets *.po files with a dos batch file.  The UI does allow one to change the arguments passed to msgfmt, but relies on the PATH to provide the path to the executable."NaNRework locale VS project to use CustomBuildStep.Henric Jungheimhenricj04/02/18, 07:51:40 PM"The Clean, Build, and Build targets all work.
We use NuGet to provide gettext for msgfmt.
The wxWidgets ""gl_ES"", ""ko_KR"" and ""pt"" exceptions are handled automatically (by putting them in the right place to begin with).

The existing locale.vcxproj is far more complicated that it needs to be.  It first compiles the Audacity *.po files with a UI-enabled MSBuild task, then it compiles the wxWidgets *.po files with a dos batch file.  The UI does allow one to change the arguments passed to msgfmt, but relies on the PATH to provide the path to the executable."NaNHenric Jungheim07/01/17, 01:00:23 AM"Rework locale VS project to use CustomBuildStep.
Make sure Clean, Build, and Build targets work.
Use NuGet to provide gettext for msgfmt."1
201Added a few lines to OnNewLabelTrack which try to find the name of th…Justin Hallsjathalls01/18/18, 06:09:33 AM"…e currently selected track and use that as the name for the new label track.  If unsuccessful then the existing default of LabelTrack is used.When creating a new label track it is generally to make labels that apply to an existing track, and it therefore makes sense to default the name of the label track tobe the same as the name of the currently selected track.  If it needs changing it is no more difficult than changing the existing name of 'Label Track' which is unlikely ever to be helpful.""Too many problems, and too little activity on this pull request.  I'm closing it.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
202Add danish translationscootergrisen07/07/17, 09:56:06 PM"I would prefer these strings be added to the po files and then extracted from there to make a .desktop file.
That way translators will only have to think about one file."NaNAdd danish translationscootergrisen07/07/17, 09:56:06 PM"I would prefer these strings be added to the po files and then extracted from there to make a .desktop file.
That way translators will only have to think about one file."NaNscootergrisen07/07/17, 02:42:21 PM"Add danish translation

I would prefer these strings be added to the po files and then extracted from there to make a .desktop file.
That way translators will only have to think about one file."1
203Make exported label tracks locale-independentAntonio Ospiteao211/29/17, 04:30:49 PM"Currently, when Audacity exports labels tracks numbers are formatted
with the ""%f"" specifier, which relies on the current user locale to pick
up the decimal separator.

This means that the numbers indicating the start and the end of the
labeled interval could end up using a comma as a decimal separator.

This makes the exported file less portable, especially in the case of
parsing the exported file with an external tool.

Audacity is already able to _import_ labels tracks independently of the
locale because it uses Internat::CompatibleToDouble(), so do something
symmetric at _export_ time, using Internat::ToString() to make the
exported data locale-independent (i.e. always using a dot as the decimal
separator).

Proposed in https://sourceforge.net/p/audacity/mailman/message/35534945/

NOTE:

When converting numbers to strings FLT_DIG is passed as the
digitsAfterDecimalPoint argument of Internat::ToString(), this is in
order to preserve the look and the alignment of the previous ""%f"" format
specifier; without that Internat::ToString() would strip trailing zeros.

Audacity requires C++11, this ensures that FLT_DIG is defined.""I like the idea of exported labels being locale independent, but not yet had chance to test as we are currently preparing for the next release. Would like this to pull request be considered soon after the release. =||= Note that, as mentioned in the commit message, Audacity can already import the labels file regardless of what the decimal separator is, so this feature (assuming it's implemented correctly 😄) should not cause any compatibility problems, at least not with Audacity itself (external tools which parse the labels file could make different assumptions).

That said, it's entirely up to you when to merge it.

Keep up the good work.

Ciao ciao,
   Antonio =||= I rebased the branch on top of the latest master.

I am going to write a message to audacity-devel to ask for comments.

Ciao,
   Antonio =||= Steve said it's a good idea at Devel, and I tried it with Italian locale and confirmed that it works, exporting and importing.  Also that previously exported files with the comma also work.

So it seems harmless, and consistent with the emphasis in RC2 on improving translation matters.
 =||= 👍  =||= Awesome, thanks. =||= "Make exported label tracks locale-independentAntonio Ospiteao211/29/17, 04:30:49 PM"Currently, when Audacity exports labels tracks numbers are formatted
with the ""%f"" specifier, which relies on the current user locale to pick
up the decimal separator.

This means that the numbers indicating the start and the end of the
labeled interval could end up using a comma as a decimal separator.

This makes the exported file less portable, especially in the case of
parsing the exported file with an external tool.

Audacity is already able to _import_ labels tracks independently of the
locale because it uses Internat::CompatibleToDouble(), so do something
symmetric at _export_ time, using Internat::ToString() to make the
exported data locale-independent (i.e. always using a dot as the decimal
separator).

Proposed in https://sourceforge.net/p/audacity/mailman/message/35534945/

NOTE:

When converting numbers to strings FLT_DIG is passed as the
digitsAfterDecimalPoint argument of Internat::ToString(), this is in
order to preserve the look and the alignment of the previous ""%f"" format
specifier; without that Internat::ToString() would strip trailing zeros.

Audacity requires C++11, this ensures that FLT_DIG is defined."NaNAntonio Ospite07/19/17, 02:49:49 PM"Make exported label tracks locale-independent

Currently, when Audacity exports labels tracks numbers are formatted
with the ""%f"" specifier, which relies on the current user locale to pick
up the decimal separator.

This means that the numbers indicating the start and the end of the
labeled interval could end up using a comma as a decimal separator.

This makes the exported file less portable, especially in the case of
parsing the exported file with an external tool.

Audacity is already able to _import_ labels tracks independently of the
locale because it uses Internat::CompatibleToDouble(), so do something
symmetric at _export_ time, using Internat::ToString() to make the
exported data locale-independent (i.e. always using a dot as the decimal
separator).

Proposed in https://sourceforge.net/p/audacity/mailman/message/35534945/

NOTE:

When converting numbers to strings FLT_DIG is passed as the
digitsAfterDecimalPoint argument of Internat::ToString(), this is in
order to preserve the look and the alignment of the previous ""%f"" format
specifier; without that Internat::ToString() would strip trailing zeros.

Audacity requires C++11, this ensures that FLT_DIG is defined."1
204Fix compiling on Linux/GCC 4.9 with older distributionsDarrell Walisserwalisser10/14/18, 11:18:32 AM"Fixes errors which can be worked around by passing CXXFLAGS=""--std=gnu++11"" to ./configure. The errors seem limited to older GCC and/or wxwidgets (tested on Ubuntu 14.04, GCC 4.9, wxwidgets 3.0.2).

This change was already added to top-level ./configure where it only affects files under src/. It is not possible to cleanly apply the fix to sub-directories from there, so it must go into each subdir that requires it."Thanks.  I've pulled this into master now. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
205Updated translation for Koreansheppaul08/18/17, 09:43:51 PM"As the translation from transifex seems not properly reflected in the release version, I decided to try updating translation manually. This is the latest translation from transfiex. I'm not good at using github. So if there is something wrong here, please take a right action for me.

Thanks."This has been merged into Audacity.  Thanks! =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
206src/widget/OverlayPanel: PVS-Studio: fixes bug with remove function.Sviatoslav RazmyslovSvyatoslavRazmyslov10/11/17, 11:47:41 PM"We have found and fixed a bug using PVS-Studio tool. PVS-Studio is a static code analyzer for C, C++ and C#: https://www.viva64.com/en/pvs-studio/

Analyzer warning: [V530](https://www.viva64.com/en/w/v530/) The return value of function 'remove' is required to be utilized. 

All errors: [Code Defects in Music Software. Part 2. Audacity](https://www.viva64.com/en/b/0532/)""Thank you, Svyatoslav!  This is merged now.

Shame on me, I should have known better.  That blunder was my own, and will now be a textbook example of yours.

The consequences were not serious though, because in fact the function was only ever called when the OverlayPanel object was soon to be destroyed along with the entire Audacity project window.

I am reading the other things on the linked page with interest.

""To see the complete log, the project authors are welcome to email us for a temporary registration key so they can check the project themselves.""

I would like to take up that offer.

PRL
 =||= @Paul-Licameli,

> I would like to take up that offer.

Please, write to my the email, stated in a profile, on Monday (October, 16).  =||= "src/widget/OverlayPanel: PVS-Studio: fixes bug with remove function.Sviatoslav RazmyslovSvyatoslavRazmyslov10/11/17, 11:47:41 PM"We have found and fixed a bug using PVS-Studio tool. PVS-Studio is a static code analyzer for C, C++ and C#: https://www.viva64.com/en/pvs-studio/

Analyzer warning: [V530](https://www.viva64.com/en/w/v530/) The return value of function 'remove' is required to be utilized. 

All errors: [Code Defects in Music Software. Part 2. Audacity](https://www.viva64.com/en/b/0532/)"NaNSvyatoslav10/11/17, 11:16:33 AMsrc/widget/OverlayPanel: PVS-Studio: fixes bug with remove function.1
207[WIP] Note track pitch bend displayPokechu22Pokechu2202/24/18, 03:01:33 AM"This pull request adds support for displaying pitch bends in note tracks, and fixes a rendering issues with them as well.

<dl>
<dt>8a01491 &mdash; Stop rounding in NoteTrack::PitchToY</dt>
<dd>Initial setup that was needed to implement pitch bends.</dd>
<dt>d09530d &mdash; Remove unused (and unimplemented) TrackArtist::GetBottom</dt>
<dd>Removes some old method signatures that were unused.</dd>
<dt>da4c6a3 &mdash; Get rid of redundant horizontal note clipping</dt>
<dd>The first commit that has actual rendering changes.  Basically note rects were shortened so that they wouldn't go outside of the track area, but this meant that there would also be vertical lines on the edge that make it look as if the note ends there.  By getting rid of this shortening, the edge is gone, so it is clear that the note doesn't actually start/stop right at the edge of the track.

I've got a sample image of the changes at Pokechu22/general-test-repo@9393dc4 (abusing GitHub's image diff tool for this).</dd>
<dt>9f1db7b &mdash; Fix edges of the note track vruler not redrawing</dt>
<dd>This fixes a small rendering issue with the note track vruler (the piano).  Basically, it originally wasn't redrawing the rightmost edge, which would occasionally get overwritten by the blue measure lines (more common when using pinned playback).  Then the horizontal lines between piano keys would draw over that, and to make things worse it'd move those lines if you resized the track, but not redraw the now blue area.  Check [this image](https://alphamanual.audacityteam.org/m/images/b/b2/TCP_and_VS_-_Note_Track.png) (from the manual) for an example.

The fix is to just always draw both of them black.</dd>
<dt>67983b0 &mdash; Add support for displaying pitch bends</dt>
<dd>The actual main event.  Pitch bends are now rendered correctly.

Before:

![Image without pitch bend (BFD id $58)](https://user-images.githubusercontent.com/8334194/32139403-1e3a8a8a-bbfc-11e7-9460-2363403e4f13.PNG)

After:

![Image showing pitch bend successfully (BFD id $58)](https://user-images.githubusercontent.com/8334194/32139402-1df03b9c-bbfc-11e7-9822-5129d064b589.PNG)


The way this is done is by calculating, for each channel, the location all pitch bend changes, and the new value at that point.  Then for each note I get the current offset, and any changes in the middle of the note, drawing the starting line once and the end line only on the last segment.

I also handle the pitch bend range RPN, so taller pitch bends are correctly handled.  I might not be handling it correctly in 100% of the cases though (there is the data increment controller, which I haven't implemented).  Here's a simple file I used to test this: [PitchBendRPN.zip](https://github.com/audacity/audacity/files/1424696/PitchBendRPN.zip).
</dl>

This is a WIP as I'm not entirely happy with the quality of the code I've written.  I'm sure it could be written better with fancier C++ stuff, but I'm not completely experienced with C++ yet.  Also ideally I'd cache the pitch bend offsets, but doing that seems complicated (since I don't know when the backing sequence is changed).

(Also, obviously this is intended for being merged after 2.2.0 is released)""Closing this for now.  I don't see myself finishing this any time soon, and I'm not happy with it as-is.

I do think it's a useful feature, albeit a very niche one (I've used it once or twice), but when I need it I can just use the branch as-is.  The implementation isn't ready for mainstream use. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
208Fix Russian translationVort11/20/17, 01:42:53 AM"Typo fixes.
It is also needed to replace _some_ ""все"" with ""всё"", but that is another task.

Did not checked build, but it should be fine."NaNFix Russian translationVort11/20/17, 01:42:53 AM"Typo fixes.
It is also needed to replace _some_ ""все"" with ""всё"", but that is another task.

Did not checked build, but it should be fine."NaNVort11/02/17, 05:08:27 PMFix Russian translation1
209"Fix German translation for ""light"" theme"Tobias Markustobbi11/20/17, 01:40:00 AM"Current translation is wrong (means light as in ""opposite of heavy"" instead of ""opposite of dark"").""Thanks Tobias.  We'll make sure this fix gets in AND we'll update the internationalization hints that warn translators too. =||= Coincidentally, today I got a different update of de.po from J. Huffer, for the few new strings in 2.2.1.  I can make sure this is merged with that.

In fact ""Light"" used to be present also meaning ""not heavy"" in the Leveller effect, but that is obsolete.

It's because of this that internationalizations can also specify ""context"" with msgid, but we don't use that feature anywhere, yet, and I think wxWidgets gives the interface to this only beginning in 3.1.0.


 =||= @JamesCrook The l10n hint is perfectly fine and states ""Light meaning the opposite of dark"".  =||= This one-line correction is included in the latest de.po with other updates.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
210PortMIDI build changes + use Pa_GetStreamTime instead of PaUtil_GetTimePokechu22Pokechu2205/31/20, 05:40:16 PM"These changes adjust building, fix a few compile errors when features are disabled, and most importantly, switches to `Pa_GetStreamTime` instead of `PaUtil_GetTime`.

<dl>
<dt>1d32b0306 &mdash; Fix PortMidi automake files and update PortMidi's m4</dt>
<dd>Corrections of some typos and other mistakes needed to use includes correctly that I made earlier.</dd>
<dt>ed5bc5b04 &mdash; Include headers via automake instead of via hardcoded paths</dt>
<dd>Replaces e.g. <code>#include ""../lib-src/portmidi/pm_common/portmidi.h""</code> with just <code>#include ""portmidi.h""</code>, which is possible due to the above change.</dd>
<dt>f5f29d886 &mdash; Manually regenerate windows and mac configs</dt>
<dd>I manually updated the mac and windows configs to match the new template (which was generated in the first commit) - they were both missing <code>USE_PORTMIDI</code>.</dd>
<dt>0495ed56d &mdash; Check for both <code>USE_MIDI</code> and <code>USE_PORTMIDI</code> for <code>EXPERIMENTAL_MIDI_OUT</code></dt>
<dd>Allows compiling <code>--without-portmidi</code> without manually editing <code>Experimental.h</code>.</dd>
<dt>0c51ba734 &mdash;  Fix more missing checks for USE_MIDI</dt>
<dd>Adds more missing checks relating to USE_MIDI (those that were missed in #257 since they didn't break compilation).</dd>
<dt>ab9429c8a &mdash; Remove unused mAudioCallbackClockTime</dt>
<dd>Removes a now-unused field (and one use of <code>PaUtil_GetTime</code>).</dd>
<dt>21e55934d &mdash; Completely replace <code>PaUtil_GetTime</code> with <code>Pa_GetStreamTime</code></dt>
<dd>This change is probably the most important in terms of building.  It means that <code>PaUtil_GetTime</code> is no longer directly linked by audacity, which means that the <code>extern ""C""</code> change in portaudio is no longer necessary (and thus system portaudio should be usable again!).</dd>
<dd>The change basically just uses <code>Pa_GetStreamTime</code> with <code>mPortStreamV19</code> &ndash; but since that requires a non-null stream, some logic needs to be reordered to ensure that the stream isn't <code>NULL</code>.</dd>
<dt>15f82ff &mdash; Check <code>USE_PORTMIDI</code> instead of <code>EXPERIMENTAL_MIDI_OUT</code> for MIDI device info</dt>
<dd>Since <code>USE_PORTMIDI</code> now exists, it makes more sense to use that to govern the MIDI device info option &ndash; especially since the option reports the status of that experimental flag.</dd>
</dl>""Looks like I originally missed one case (MIDI import via drag-and-drop or File&rarr;Open).  Will squash.  **EDIT: Squashed.**

A side effect of disabling MIDI import the way I did there is that the low quality FFMPEG MIDI (/mod) import applies.  Since this would only be when `USE_MIDI` is disabled (and thus there's no other way for it to import), that is fine, but it's worth noting. =||= Seems stable enough from my testing, could maybe use some more but I think it's safe to no longer mark it as WIP.

Also went in and made a few small changes - using `wxASSERT_MSG` instead of just `wxASSERT` (for context), and using `USE_PORTMIDI` for MIDI device info. =||= Rebased off of latest master.  The changes that were already made in #257 aren't included.

I haven't yet completely tested this for all build combos, currently doing that (but it takes a while since one of them involves building on my pi).

Cases I'm testing:

- [x] MSVC with both EXPERIMENTAL_MIDI_OUT and USE_MIDI
- [x] MSVC with just USE_MIDI
- [x] MSVC with none
- [x] MSVC with just EXPERIMENTAL_MIDI_OUT (no USE_MIDI)
- [x] Ubuntu bash on windows with no special args
- [x] Ubuntu bash on windows with `--without-portmidi`
- [x] Ubuntu bash on windows with `--without-midi` and `--without--portmidi`
- [x] Ubuntu bash on windows with `--without-midi` but not without portmidi
- [x] Raspberry Pi with all enabled (this takes several hours so I'm not going to test them all) =||= Ah, glad I'm doing this testing, seems like I did actually make a mistake here, with the midi device info commit.  I only updated the defines for the definitions of the methods, not the ones in the headers.  Should be fixed now, still running the rest of the tests.  **EDIT**: fixed that =||= Found another case where it was broken, `PlayableTrack::DoSetHeight(h);` in `NoteTrack::DoSetHeight` is incorrect when `EXPERIMENTAL_MIDI_OUT` is disabled as `NoteTrack` extends `AudioTrack` in that case, instead of `PlayableTrack`. =||= Took a while, but all of the build configurations I listed above have succeeded. =||= Thanks.  We've moved to CMake, so would now need different build changes for this. =||= Is there a reason nobody reviewed this in 2.5 years until it was closed because the project switched to a different build system before anybody reviewed or merged it? Why close it rather than ask the author to rebase and switch the branch to the new build system? =||= > Is there a reason nobody reviewed this in 2.5 years

Probably because over the last 2.5 years there has been so many things that 'must' be done, and so few people to do them, that many things that 'should' be done don't get done. Hopefully that will improve in the future.
 =||= That's no excuse for not even acknowledging the existence of a pull request. You also haven't given any explanation for why this was closed rather than asking the author to update it for the new build system. The least you could do is leave a comment like ""Hi, thanks for working on this! We're really busy with X, Y, and Z right now, so it may be a while before we're able to review this. Feel free to ping us in a few weeks/months if we haven't reviewed it yet.""

This pull request fixes a major issue of using a library's private API (#871) which is preventing Audacity from complying with Linux distributions' packaging policies.

As for the technical matters in this pull request, I am copying over a [comment](https://github.com/audacity/audacity/issues/840#issuecomment-838316089) from @rbdannenberg:
> Pa_GetStreamTime and PaUtil_GetTime are different clocks running at (slightly) different rates. If you replaced one with the other, then you either created or fixed a problem.

I leave it to the maintainers and @Pokechu22 to investigate whether this creates a problem. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
211Update defaultTempDir path in AudacityApp.cppDani Llewellyndiddledani05/31/18, 04:40:00 PM"- Add a check against the `TMPDIR` environment variable and use it when it is defined to set the `defaultTempDir`.

This is part of my attempt at getting audacity working in [snappy](https://snapcraft.io). There are still more issues to tackle, but this patch gets past the temporary folder restrictions imposed by confined snaps."NaNUpdate defaultTempDir path in AudacityApp.cppDani Llewellyndiddledani05/31/18, 04:40:00 PM"- Add a check against the `TMPDIR` environment variable and use it when it is defined to set the `defaultTempDir`.

This is part of my attempt at getting audacity working in [snappy](https://snapcraft.io). There are still more issues to tackle, but this patch gets past the temporary folder restrictions imposed by confined snaps."NaNDaniel Llewellyn11/07/17, 04:07:04 PM"Update defaultTempDir path in AudacityApp.cpp

- Add a check against the `TMPDIR` environment variable and use it when it is defined to set the `defaultTempDir`."1
212Update pl.po translation for Audacity 2.2.1Grzegorz PruchniakowskiGootector11/20/17, 01:41:25 AMUpdate pl.po translation for Audacity 2.2.1"Updated Polish by our previous translators was taken instead from Transifex.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
213Replace AC_CHECK_FILE to enable cross buildnewbluemoon11/09/17, 10:49:14 PMThe `audacity_checklib_*.m4` macros use AC_CHECK_FILE to test a file’s existence. I don’t know if there is a reason to use this method, but it breaks `configure` when cross compiling for other linux platforms. So my proposal is to just change it into a simple if/else statement. I’m not sure if some further messages should be added."Just curious, what are the ""other linux platforms"" that are broken?

Note, the same changes in PR #161, among others for cross compiling: [ef728277](https://github.com/audacity/audacity/pull/161/commits/ef728277b6cb826b9d5070b4670905b9e54c7c54) =||= Sorry, apparently I didn’t look thoroughly enough! Guess I can close this now then.
Regarding “other linux platforms”: I’m using Void linux and packages for arm architectures are cross compiled. I was just trying to make audacity work and thought that this patch could be useful for others, too. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
214Fix building without libid3tagDeleted userghost01/07/18, 05:43:44 PMNaNThank you for the fix for this! It has been merged as part of #230 (added missing fix for MP2 export), so closing this one. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
215Add Arabic translation for audacity.desktop.in.Hussam al-HomsiSawuare11/21/17, 12:04:15 PMNaN"Thank you again, Hussam.
 =||= "Add Arabic translation for audacity.desktop.in.Hussam al-HomsiSawuare11/21/17, 12:04:15 PMNaNNaNHussam Eddin Alhomsi11/21/17, 11:29:57 AMAdd Arabic translation for audacity.desktop.in.1
216Update French translationOlivier Humberttrebmuh11/22/17, 09:32:30 AM"Update the French translation.

I was on my way to update it to 100% but I noticed a reference to transifex. Since I'm not on transifex and I'm reluctant to be so and, before continuing to update the translation further, I'd like someone with commit access to the audacity git repo to confirm that it's OK for me to send a pull request with the full French GUI translation here on github.

Please advise. Thanks.""Thanks Olivier!  Yes we can and will take it from GitHub.  Or from a .po file posted to the translators list.  Paul is coordinating the 2.2.1 release and managing deadlines for a .po to get into that release. =||= Awesome. I'll update the French translation and will update this pull request on the coming days. I'll ping you then.
 =||= Great thanks, Olivier!

But I still see in your file:

POT-Creation-Date: 2017-07-22 11:50+0100\n

This tells me you did not start with the most up-to-date version of audacity.pot.

Please do so to complete the work.

Please subscribe, if you have not yet, to this mailing list:

https://sourceforge.net/p/audacity/mailman/audacity-translation/

PRL
 =||= @Paul-Licameli :
I've subscribed to the mailing list you mentioned above and I've sent a message to check if my subscription was correct.

About the fr.po, I didn't started from a fresh POT file since there is already a fr.po in the repo. So I started from the current fr.po where I can see a bunch of non-translated file. Shouldn't I do so ?
 =||= Olivier,

I did see your email to the translation list.

I suggest you talk to other translators there, who know the editing tools for .po files better than I do.  But I know this much:

There are command-line tools:

msgcmp fr.po audacity.pot

lists error messages when the .po is incomplete.  There is also msgmerge that updates a .po to a .pot, marking some strings obsolete and putting new blank msgids in place.  Details in this long page:  

https://www.gnu.org/software/gettext/manual/gettext.html#msgmerge-Invocation

And there is also the graphical program poedit, which I know less about, but it is meant to aid the translator in finding the unfinished work and in other tasks.

PRL

 =||= CLOSED.  This pull request was created to have a conversation, and communication and progress is now on the translation list and continuing there.  Audacity will later take either a pull request or an attached .po file for french at the translators list. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
217Update FR translation (3279 first lines)Olivier Humberttrebmuh11/25/17, 07:43:38 PM...and a few others bits."Thank you, but I still see:

""POT-Creation-Date: 2017-07-22 11:50+0100\n""

That is still not the most up-to-date .pot file.

The latest is

""POT-Creation-Date: 2017-11-06 13:24-0500\n""
 =||= @Paul-Licameli : I'm currently writing an email on audacity-translator about it.
 =||= @Paul-Licameli : message sent to the ML list =||= I made other changes to all the .po files, that now make conflicts here that can't be easily solved with git, but they may be solved with msgmerge.

I will close this pull request but put these changes in with msgmerge.

The merged .po file will be based on the latest .pot file, with more empty msgstrs for you to fill in.

However there are still abundant errors from

msgcmp fr.po audacity.po

I see in this diff that in many places you add a #, fuzzy comment.

You do understand that a fuzzy translation will not be used by the program.  If your translation of a string is not in doubt, then you shoudl remove that #, fuzzy line.

Some of these lines are added automatically by the msgmerge program too.


 =||= Olivier,

Please see commit 81f9bf77628c71b6c0afc5cef4a22e5846978565 which merged these updates.

Please base your further work on that version of fr.po.

If you had other updates that you did not yet share, I suggest you rename that version to fr1.po, get the latest fr.po, then on a Unix command line:

msgmerge -U --previous --add-location=file fr1.po fr.po
mv fr1.po fr.po

If you continue this work, I request that you first complete the translation by eliminating #, fuzzy lines where that is correct, and filling in new empty msgstr """" lines.  This is more important than making corrections to messages that already exist.

The goal is to reduce the number of errors reported by

msgcmp fr.po audacity.pot

Thank you for this effort!

Paul


 =||= Hi @Paul-Licameli 

> I see in this diff that in many places you add a #, fuzzy comment.
> You do understand that a fuzzy translation will not be used by the program.
> If your translation of a string is not in doubt, then you shoudl remove that #, fuzzy line.

Yes I added those. My original plan was to make a whole review of the file, leaving some fuzzy when I need to double-check something, and make a last overview of all the fuzzy lines at the end of the review. That said, given the short timeline and the impression I have you're pushing me to do so ( :-) ), I'm fine to move from this plan to the other way around: ""get the rid of the fuzzy strings, then make complete review"". So, on my next run through the (new) fr.po, I'll get the rid of the fuzzy and untranslated lines (and put some translator-comment instead of for my future needs).

Thanks for the updates of the fr.po . By experience with other audio/midi software translations, it makes it much easier for translators if it can be done regularly by a dev' as a part of the usual maintenance.

Cheers =||= Apologies if I seem ""pushy,"" but I'm just letting you know what I think is best for you to do with limited time to improve the experience of French speaking users of Audacity.  We are trying to hold 2.2.1 to a tight schedule, but it is also very desirable to get our fr.po more up to date after a period of neglect, and we are thankful to you.

To repeat, besides eliminating the fuzzies, now fr.po is updated to latest audacity.pot, and so there are new blank msgstr lines for you to fill.  That is also priority work.

PRL

 =||=  No worries. I do understand that you're giving a direction for the translators team. Be sure there is no offense taken 👍  =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
218Update the French translationOlivier Humberttrebmuh11/28/17, 02:05:34 AM"@Paul-Licameli : with this batch of translation, I did focused more on the fuzzy and untranslated strings as requested. Still I did some corrections/fixes/improvements on other strings while scrolling the file.

I'll certainly not have time to work on it tomorrow (but maybe a bit) and will continue on Monday/Tuesday.

Feel free to merge it right now or to wait for me to add more commits to this PR. No preference from me.

HTH

**Edit:** I forgot to let you know that I put some _translator-comments_ as defined in [the gettext manuel](https://www.gnu.org/software/gettext/manual/html_node/PO-Files.html#PO-Files). I did so when I've had a doubt about different topics (accelerators management is one of those) to ease a future revision for me when it requires a deeper reflexion. **Please, do not strip these (_you can see those with searching for ""trebmuh"" in the file_).**""Made Travis happy eventually. :)

Looking [at its log here](https://travis-ci.org/audacity/audacity/builds/307346157#L5586) tells us: `fr.po: 2759 translated messages, 94 fuzzy translations, 251 untranslated messages.` which enlighten me since I'm sure it's doable to have a great French coverage for the upcoming version (2.2.1, right ?) and start a whole review afterward (because, even when we'll have reached the ""0 fuzzy translations, 0 untranslated messages"", I can ensure you that there is a much bigger job to do in the French translation, consistency across it is really needed I can swear).

HTH =||= With this I now see only 345 errors from

msgcmp fr.po audacity.pot

Formerly, over 1000.  This is good.

You are making rapid progress, and it seems still in flux, so I will wait a little more for more word from you.  Add more commits to this branch.

PRL
 =||= Thanks again for the effort.

I see what you are doing:  replacing #, fuzzy with your own note-to-self
comments, for later review.  If I rebuilt the product today with only those
changes, that would expose those French strings to users choosing French
locale.

What would seem worse to the Francophone user who is not good with English
-- some inconsistency in the French terminology or punctuation, or the
grosser inconsistency of having only some things translated, but many other
things left in English?  The second is what you get leaving the #, fuzzy in
place.

But perhaps you really do think that much of the existing French
translation was very bad and misleading, even worse then sending people to
their French-English dictionaries?

PRL


On Sat, Nov 25, 2017 at 10:31 PM, Olivier Humbert <notifications@github.com>
wrote:

> Made Travis happy eventually. :)
>
> Looking at its log here
> <https://travis-ci.org/audacity/audacity/builds/307346157#L5586> tells
> us: fr.po: 2759 translated messages, 94 fuzzy translations, 251
> untranslated messages. which enlighten me since I'm sure it's doable to
> have great French coverage for the upcoming version (2.2.1, right ?) and
> start a whole review afterward (because, even when we'll have ""0 fuzzy
> translations, 0 untranslated messages"", I can ensure you that there is a
> much bigger job to do in the French translation, consistency across it is
> really needed I can swear).
>
> HTH
>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/218#issuecomment-346981542>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/ALITYSp1f9PDPzMgtBHqPgbhmktfa_uoks5s6NudgaJpZM4QqogY>
> .
>
 =||= > With this I now see only 345 errors from

Yes, this looks to be like the ""94 + 251"" [reported by the Travis build](https://travis-ci.org/audacity/audacity/builds/307346157#L5586).

> You are making rapid progress, and it seems still in flux, so I will wait a little more for more word from you. Add more commits to this branch.

Thanks for that, I might have a bit of time later today to work on continuing the translation. I'll push another commit to this PR then.

>  I see what you are doing: replacing #, fuzzy with your own note-to-self comments, for later review.

Exact.

> If I rebuilt the product today with only those changes, that would expose those French strings to users choosing French locale.

Really ? Just to be sure that I get it and not misunderstand what you said above, you mean that if you rebuilt Audacity with this commit, users will then see the `# trebmuh to check` strings in the GUI interface? If yes, it shouldn't work like that if reading at the [gettext manual here](https://www.gnu.org/software/gettext/manual/html_node/PO-Files.html#PO-Files) where we can see:

```
 One PO file entry has the following schematic structure:

white-space
#  translator-comments
#. extracted-comments
#: reference…
#, flag…
#| msgid previous-untranslated-string
msgid untranslated-string
msgstr translated-string
```
Anyway, if the `# trebmuh to check` are to be shown on the GUI, it's a pita and I suggest to remove those before building the final next Audacity version. I'll still keep those in my branch fork on github and will then be able to re-merge these in after 2.2.1 publication if needed. What do you think?

> But perhaps you really do think that much of the existing French translation was very bad and misleading, even worse then sending people to their French-English dictionaries?

Reading that, I realize that I might have be a bit too strong on my last message here. The actual translation is not that bad (it's good, I've seen much much bad than that, like when I started reviewing the FR translation for mhwaveedit), but I can find a bunch of incorrect translations, some being misleading.

I'll keep it going and keep pushing commit to this PR.
Cheers
 =||= I do not mean that users will see

#trebmuh to check

Oh no!  What I mean is, there are certain strings in the msgstr directives, and there are #comment lines associated with the strings.  When there is an associated #, fuzzy comment, then the string will not be seen by users.  If you remove that comment or replace the comment with some other, then the string will be seen by users.

But surely the comments themselves are not seen!

PRL
 =||= So if that is understood, what I meant about priorities is this:

Looking quickly at commit 81f9bf77628c71b6c0afc5cef4a22e5846978565 I see examples like this:

-msgstr ""Récupération automatique de crash""
+msgstr ""Récupération automatique de plantage""

While I understand it's good to correct such ugly ""franglais"" into better French, or fix spelling and grammar and punctuation mistakes, still, if bad strings are not very frequent, then I would rather first complete the translation, supplying the missing strings.

There were hundreds of those.  And while any string is still marked fuzzy, consider it missing.

Some fuzzy strings, you may have marked as such.  Others might have been marked such by the msgmerge program, which makes guesses in case one untranslated msgid is similar to another translated one -- but it may guess wrongly and suggest something with a very unrelated meaning.

Those may need more attention -- don't remove ""fuzzy"" indiscriminately.  I think they should also be marked with automatic #| comments, if I ran msgmerge correctly.

PRL
 =||= Those 3 last commits:
- gets the rid of all ""fuzzy"" string (yeah!)
- translates a few ""untranslated"" strings (still a bunch to go)
- corrects a few typos I spotted on
- checks (and changes when needed) consistencies around the following topics:
1) unification : the ""preset"" words are now all translated to ""préréglage"" rather than ""présélection"" or ""pré-réglage"" or others (it's the commonly used translation for ""preset"")
2) CC (""courant continu"" in French) rather than ""DC"" (""direct current"" in English)
3) accentuated capital letters in the French translated strings such as ""Éditer"" instead of the wrong ""Editer"", or ""A"" -> ""À"" when relevant
4) correct a mistake : ""decay"" was wrongly translated to ""délai"" in French which is the translation for ""delay"" (this was very misleading). It is now correctly translated to ""déclin"".

@Paul-Licameli , re: ""#trebmuh to check"", OK, I'm happy that those comments doesn't shows up in the GUI ! :o) _(In order to ensure you that we are on the same page: yes, I understand that when a ""#, fuzzy"" line is present, then the translation is not shown in the GUI, and when I remove it, the translation is shown)_

About my translation method, I'm working with a simple text editor (pluma from the MATE environment) which is showing me the whole text file. This is making me reading at a lot of strings, so when I can see some mistake/typo/punctuation, it's easy and quick to just correct those. Taking the example in your previous message (crash->plantage) when I encountered the first one, I used then a search & replace (not fully automatic, it asks me each time for the replacing confirmation), then it doesn't take a lot of time either. That's pretty much why, even if specialized software (like poeditor or other) are useful for certain cases/persons, I found myself being much more happy with working with a simple text editor when doing translation.

> Those may need more attention -- don't remove ""fuzzy"" indiscriminately.

Do not worry, I'm not doing that. When I remove a ""fuzzy"", this is because I checked the correctness of the translation first.

Travis is saying that there are only 202 untranslated left. I might be able to finish most of those by the 29th.
 =||= In these 3 last ones:
- a bunch of untranslated strings
- disambiguation: ""decay"" (EN) -> ""déclin"" (FR)
- disambiguation: ""save"" (EN) -> ""sauvegarder"" (FR) and ""record"" (EN) -> ""enregistrer"" (FR)
- consistency around ""preset"" (EN) -> ""préréglage"" (FR)
- consistency around the ""are you sure?"" (EN) strings
- consistency around ""discard"" (EN) -> ""abandonner"" (FR)
- consistency around ""batch chain"" (EN) -> ""traitement par lot"" (FR)
- consistency around ""presmooth"" (EN) -> ""prélissage"" (FR)
- fixes ""sample rate"" which was incorrectly translated with ""fréquence d'échantillonnage"" while the correct translation is ""taux d'échantillonnage""
- fixes ""bit rate"" which was incorrectly translated with ""débit"" while the correct translation is ""débit binaire""
- fixes a misleading translation where a ""bit  rate"" (EN) was translated to ""taux d'échantillonnage"" instead of ""débit binaire""
- a few typos/punctuations/...

+ updates the header's timestamp

During that, I've found a few typos (I think) in the sources and made a Pull Request: https://github.com/audacity/audacity/pull/219 hoping that'd be useful for Audacity.

Travis is saying that there are 98 remaining untranslated strings.

 =||= - French translation updated to 100% (yeah !)
- improvements of a bunch of `#trebmuh to check` annotations
- consistency around ""preset"" -> ""préréglage""
- consistency around ""library"" -> ""bibliothèque""
- fixes a few typos/mistakes/punctuations

Travis seems happy and reports that all the 3104 strings are translated.

@Paul-Licameli : it seems to me to be in a pretty good shape for the 2.2.1 release. Feel free to merge it to master. If I find some stuff to be changed, I'll update this PR (if not yet merged) with more commits or I'll open another PR (if this one is merged).
 =||= Those 4 ones includes:
- get the rid off the (useless now) ""#| msgid"" (which were ancient translations)
- better translation for 3 strings
- a bunch of note-to-self precisions
- a bunch of missing accelerators
- a couple of better accelerators
- a few typos
- consistency around ""range"" (EN) -> gamme/éventail (FR)
- adds Christian Brochec in the header
- updates the timestamp in the header
 =||= @Paul-Licameli : I took the liberty to mention the LibraZiK project [on line 517](https://github.com/audacity/audacity/pull/218/files#diff-93e30190dec4ab6cb403e6cfd69043e7R515) which is why I started this translation effort first. I hope it's correct to do so. If it wasn't, please let me know.
 =||= Catching up now.  Good work!

I still get one error from
msgcmp fr.po audacity.pot

But I see that is because you accidentally changed one msgid:

msgid ""Confirm Cncel""

I will fix that.

 =||= We are very pleased to get fr.po up to 100% !  Thank you!

I notice that you updated lines that start with
#~ msgstr

I regret to say, that was unnecessary work, because #~ lines are for obsolete messages for msgids that the program no longer uses.  These lines are generated by msgmerge when I update fr.po to audacity.pot .  It's your choice to keep them in the file for reference, or just delete them.

I will ""squash"" and commit your changes to fr.po and audacity.iss, with the one correction to a msgstr that I last mentioned.

I still see 320 ""trubmuh to check"" comments.  Do you intend to address more of these very soon?

PRL

 =||= This work is now committed at b69a272ad97fbb5a0eee61bd784e7003fb1e6987
 =||= > I still get one error from `msgcmp fr.po audacity.pot` But I see that is because you accidentally changed one msgid: `msgid ""Confirm Cncel""`. I will fix that.

Sorry for that, and thanks for fixing it. It's a bit strange that Travis didn't catch it.

> I notice that you updated lines that start with `#~ msgstr` I regret to say, that was unnecessary work, because #~ lines are for obsolete messages for msgids that the program no longer uses. These lines are generated by msgmerge when I update fr.po to audacity.pot . It's your choice to keep them in the file for reference, or just delete them.

Yes I know I did that :) That said, I have a doubt. I kind of vaguely remember reading somewhere that if the `msgid` from one of those `#~ msgstr` is re-enable in the sources, then gettext will automatically pick it up back automatically. That said, I might be wrong here. Can you please confirm/infirm?

> I still see 320 ""trubmuh to check"" comments. Do you intend to address more of these very soon?

Absolutely. Most of those 320 comments string (roughly ~ 200 of those) are about improving the accelerators in the GUI. To make a proper work with accelerators, one needs to have the GUI running (in order to check the consistency of the accelerators). This needs to have a rebuild of the software according to the sources where those accelerators are defined.

Given (1) the short time frame I had to review this translation, (2) the time needed to do a proper job with accelerators, and (3) following your advice (translates first the ""fuzzy"" and the untranslated strings), I choose to leave this part uncompleted for the moment (although I've already been improving this part a bit while doing this translation review) and to wait for the 2.2.1 release to have a proper build with the translation included to work with.

In other words, I plan to remove the `# trebmuh to check` for the 2.2.2 release.

Lastly, to give you a more thorough understanding of my work here, I intend to monitor the GUI French translation of the GUI from now on.

Cheers, and thanks for the merge @Paul-Licameli . =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
219typos in the sourceOlivier Humberttrebmuh11/28/17, 04:23:24 AM"While doing the FR translation, I spotted those which looks to be typos to me. Please double-check carefully.""@Pokechu22 : commits incorporates your comment. Thank you. =||= Plus two fixes for the same 2 typos in comments lines. =||= Another typo found.
 =||= Consistency. Really a small one. Quality sake.
 =||= Thanks.

See commit 0d89bc3f150384916bb0a02172b124ec1ef1debc.

 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
220French translation improvementsOlivier Humberttrebmuh11/28/17, 05:22:04 PM"- fixes 2 accelerators as asked by @Paul-Licameli in the ""Please fix duplicate & accelerator characters"" message in the audacity-translation ML
- precisions for a bunch of comments-to-self
- adds a few comments-to-self
- +1 accelerator
- 38 typos/punctuations
- 7 slightly betters translations
- 5 misleading translation
- consistency around ""export"" (EN) -> ""export"" (FR) and ""exporting"" (EN) -> ""exportation"" (FR)
- update the header's timestamp"👍  =||= French translation improvementsOlivier Humberttrebmuh11/28/17, 05:22:04 PM"- fixes 2 accelerators as asked by @Paul-Licameli in the ""Please fix duplicate & accelerator characters"" message in the audacity-translation ML
- precisions for a bunch of comments-to-self
- adds a few comments-to-self
- +1 accelerator
- 38 typos/punctuations
- 7 slightly betters translations
- 5 misleading translation
- consistency around ""export"" (EN) -> ""export"" (FR) and ""exporting"" (EN) -> ""exportation"" (FR)
- update the header's timestamp"NaNOlivier Humbert11/28/17, 03:40:14 PMFrench translation improvements1
221Update French translators credits + timestampOlivier Humberttrebmuh11/29/17, 02:21:29 AMNaN"Do these individuals deserve a user-visible credit in the msgstr for translator_credits ? =||= @Paul-Licameli : I don't know. I know that Christian Brochec have been ""the one"" for a long time but I don't know about those 2 persons. I simply took their names from [your commit](https://github.com/audacity/audacity/commit/c55ad8552707b607b49a0af1e5b0090332fb753f) in order for them to be still credited somewhere.
 =||= and ... I realize that I forgot one person...

The 2 last commits:
- adds Lionel to the translators in the header
- removes a few legacy translation strings
- corrects a few typos/punctuations/better_translations/... in the legacy translation strings
- updates header's timestamp
 =||= 👍  =||= "Update French translators credits + timestampOlivier Humberttrebmuh11/29/17, 02:21:29 AMNaNNaNOlivier Humbert11/28/17, 08:32:23 PMfixes timestamp1
222One typoOlivier Humberttrebmuh12/09/17, 02:02:57 PM"This one [is coming](https://anonscm.debian.org/git/pkg-multimedia/audacity.git/tree/debian/patches/0003-spelling.patch) from the debian-multimedia team and more precisely, from Jaromír Mikeš.""Done at 8a1f5bb748030890db910af252add91b86ece726

Thank you
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
223FR translation improvementsOlivier Humberttrebmuh01/06/18, 02:03:10 AM"- fixes for a few typos in the FR translation
- a few general improvements
- some punctuations
- min/maj
- updates the header's timestamp""@Paul-Licameli : I've used `&nbsp;` to provide the non-breakable spaces to the translation in French. That said, I've rebuild a 2.2.0 version with such a fr.po and the `&nbsp;` are displayed as this:

![capture du 2017-12-10 15-23-53](https://user-images.githubusercontent.com/8705846/33805846-5164b0f4-ddbf-11e7-8a3c-55a8fe362d12.png)

A strange thing is the `&nbsp;` are taken in account in other places such as ([in the code](https://github.com/audacity/audacity/blob/master/locale/fr.po#L594)):

![capture du 2017-12-10 15-31-55](https://user-images.githubusercontent.com/8705846/33805876-9d4ccc86-ddbf-11e7-81d7-793027b92f00.png)

Any idea? =||= @Paul-Licameli ping =||= Olivier, I am very sorry I missed your messages so long.

I took the first seven of these commits, squashed as one.

I cannot take the commits in which you added &nbsp;

Translations should not contain markup, unless the msgid has markup.

Almost all translated strings are used in contexts where they are not interpreted as HTML.

I am sorry for your confusion on this point. =||= Olivier, I also took and squashed the other seven commits, but I replaced most of the &nbsp; with spaces.

What I said is not quite correct:  a minority of the msgids with no markup really are still in HTML context.  But you don't know which.  Assume they are not.

Perhaps in future I can add i18n-hint comments for the few that are.

So, relax, you work so far is saved.  But now there is a new audacity.pot to merge your fr.po with.
 =||= Thank you @Paul-Licameli 
No worries about the spaces. They can stay like that.

   =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
224A little mistake here for using incorrect scriptmkpoli01/06/18, 12:46:21 AMThat was probably caused by me forgetting to switch between input methods."Rebase-and-merge from Github didn't work for unknown reasons.

So I fetched your repo and rebase by hand and pushed it.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
225Standardize on an rDNS-style AppStream IDNate GrahamPointedstick12/29/17, 11:14:50 PM"Audacity's AppStream file currently defines an AppStream ID equal to the name of its desktop file: `audacity.desktop` (https://github.com/audacity/audacity/blob/master/help/audacity.appdata.xml#L3)

The AppStream folks [recommend using a reverse-DNS-style](url) AppStream ID instead. This patch changes it to `org.audacityproject.Audacity`). If accepted, it will make Audacity's AppStream ID match between Linux distro packages and what's on Flathub, as they actually enforce this requirement and use `org.audacityproject.Audacity` (https://github.com/flathub/org.audacityteam.Audacity/blob/master/org.audacityteam.Audacity.json#L2)

When the AppStream IDs match between versions of Audacity that come from different sources, then Linux software center programs like GNOME Software and KDE Discover can correctly de-duplicate the multiple sources and show the user a nice UI that allows them to choose which source to install from. Without this, the programs confusingly show duplicates. Here's what it looks like in KDE discover:

![two audacities](https://user-images.githubusercontent.com/1097249/34447881-5a0110c8-eca5-11e7-9be9-3405def5c03f.png)

The top one is from Flathub, and the bottom one is from my distro's package repository.

If you accept this patch and use `org.audacityproject.Audacity` as your AppStream ID then Discover and GNOME Software (and similar apps) can perform de-duplication correctly."Thanks Nate.  Committed  =||= Thanks so much! =||= Standardize on an rDNS-style AppStream IDNate GrahamPointedstick12/29/17, 11:14:50 PM"Audacity's AppStream file currently defines an AppStream ID equal to the name of its desktop file: `audacity.desktop` (https://github.com/audacity/audacity/blob/master/help/audacity.appdata.xml#L3)

The AppStream folks [recommend using a reverse-DNS-style](url) AppStream ID instead. This patch changes it to `org.audacityproject.Audacity`). If accepted, it will make Audacity's AppStream ID match between Linux distro packages and what's on Flathub, as they actually enforce this requirement and use `org.audacityproject.Audacity` (https://github.com/flathub/org.audacityteam.Audacity/blob/master/org.audacityteam.Audacity.json#L2)

When the AppStream IDs match between versions of Audacity that come from different sources, then Linux software center programs like GNOME Software and KDE Discover can correctly de-duplicate the multiple sources and show the user a nice UI that allows them to choose which source to install from. Without this, the programs confusingly show duplicates. Here's what it looks like in KDE discover:

![two audacities](https://user-images.githubusercontent.com/1097249/34447881-5a0110c8-eca5-11e7-9be9-3405def5c03f.png)

The top one is from Flathub, and the bottom one is from my distro's package repository.

If you accept this patch and use `org.audacityproject.Audacity` as your AppStream ID then Discover and GNOME Software (and similar apps) can perform de-duplication correctly."NaNNathaniel Graham12/29/17, 09:25:57 PMStandardize on an rDNS-style AppStream ID1
226Small changesBryan Slatnerbslatner01/04/18, 03:14:46 PM" I added a missing library to the appveyor file, and added an ignore for nuget package binaries to .gitignore.

The ignoring of the nuget package binaries is important if you're building based on the appveyor definition, which gets msgfmt from NuGet.""I am about to reject this because of the very large commit in it, d40643b.  The title of this pull request 'Small Change' is misleading.  There is a lot to read through and analyse in that commit.

Please rebase your commits off Audacity master, if you want this pull request to be accepted. =||= Ah,  I'm a stupid git. I missed the merge. I'll rebase and re-do. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
227Small changes (part deux)Bryan Slatnerbslatner01/04/18, 03:53:14 PM"Trying again :)

A summary of changes:

- Add ""xml"" to list of targets in appveyor.yml. It's required.
- Add ""win/packages"" to .gitignore. The appveyor build process uses NuGet to fetch msgfmt.exe, which gets installed to this directory."Thanks Bryan.  Work to get automated Windows builds is much appreciated. =||= Small changes (part deux)Bryan Slatnerbslatner01/04/18, 03:53:14 PM"Trying again :)

A summary of changes:

- Add ""xml"" to list of targets in appveyor.yml. It's required.
- Add ""win/packages"" to .gitignore. The appveyor build process uses NuGet to fetch msgfmt.exe, which gets installed to this directory."NaNBryan Slatner11/07/17, 02:59:59 PMIgnore NuGet package binaries1
228Update Ukrainian translationYuri Chornoivanyurchor01/24/18, 02:00:59 PM"Tested with msgfmt -vc for validity, synced with audacity.pot.

Many thanks in advance for merging this PR.""I have copied this to master (with later updates).  Thank you.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
229Two small fixes for automation commandsDjMorgul01/06/18, 07:25:36 PMNaNThanks.  These look useful.  Merged. =||= You're welcome. Thank you also, James. =||= Two small fixes for automation commandsDjMorgul01/06/18, 07:25:36 PMNaNNaNJosé Manuel Ferrer Ortiz01/06/18, 06:50:11 PMObtain file extension starting from the last . (rather than the first) on Export command1
230Fix building without libid3tagRichard Ashrichardash198101/07/18, 05:06:34 PM"This is a super-set of https://github.com/audacity/audacity/pull/214, because it's sitting in Gentoo's bugzilla here https://bugs.gentoo.org/636722. Evidently some people do compile Audacity without libid3tag, judging by the number of CCs on the bug!

I've built this both ways and it works fine without libid3tag."NaNFix building without libid3tagRichard Ashrichardash198101/07/18, 05:06:34 PM"This is a super-set of https://github.com/audacity/audacity/pull/214, because it's sitting in Gentoo's bugzilla here https://bugs.gentoo.org/636722. Evidently some people do compile Audacity without libid3tag, judging by the number of CCs on the bug!

I've built this both ways and it works fine without libid3tag."NaNRichard Ash12/29/17, 09:15:13 PM"Fix building without libid3tag

Extend the pull Audacity#214 from torto9 to fix building
with twolame but without libid3tag"1
231Make a dynamic check of misuse of _ that works in Windows too...Paul LicameliPaul-Licameli01/14/18, 07:55:44 PM"see commit f57fdc99d7a1cd0cf4aa5818382b6b0ffcd2fa83

Note:  I think this should work on Windows, both compiling, and also trapping in the debugger in case
you add to some file

static wxString foo = _(""Foo"");

I ask that someone verify this for me and merge it.  Thanks.

PRL""I don't know whether it will require that you insert

#include ""Streams.h""

which includes the Win32 header Wxdebug.h

See:

https://msdn.microsoft.com/en-us/library/windows/desktop/dd388378(v=vs.85).aspx
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
232Note track vertical zooming changes (fixes to Bugs 1815, 1819, and 1820)Pokechu22Pokechu2204/15/19, 12:49:59 AM"A rework of how note track vertical zooming internally works, and some other rendering changes.  The commit messages should generally summarize them pretty well.

Includes fixes for the following bugs:

* [Bug 1815](http://bugzilla.audacityteam.org/show_bug.cgi?id=1815): fixed by importing zooming to include all notes; this may need to be reconsidered when MIDI recording is implemented though, although that's far off
* [Bug 1819](http://bugzilla.audacityteam.org/show_bug.cgi?id=1819): fixed by checking the track (as is done with other things)
* [Bug 1820](http://bugzilla.audacityteam.org/show_bug.cgi?id=1820): fixed by saving the top note &mdash; may want to retitle that bug because the pitch height isn't exactly what is saved""I see nine commits.  Are they all relevant to this project, and you are following the good practice I like too, of committing things as many small increments, each one coherent and compilable alone?

But I see Travis isn't taking it yet (quick look suggests inheritance of NoteTrack from Track isn't known in some places, probably just a missing #include):
https://api.travis-ci.org/v3/job/329261383/log.txt

For a detailed review, I'd like to leave that to James.
 =||= > Are they all relevant to this project, and you are following the good practice I like too, of committing things as many small increments, each one coherent and compilable alone?

Yep, each one should be usable on its own (though I haven't gone through and tested it), assuming the ones before it are present (attempting to apply them out of order won't work for some, but that's pretty normal).

> But I see Travis isn't taking it yet

Travis issue does seem to be missing an include; I think I've fixed that with the next commit but I'll wait for the build to finish.  MSVC doesn't seem to care about that missing include for some reason.
 =||= Hm, no, that didn't solve it.  The code that's failing is the code for bug 1819, which was basically just me copying code that regular tracks use (from `ButtonHandle`) so that I can check tracks.  However I guess because `NoteTrackButtonHandle` doesn't actually inherit `ButtonHandle` (there's a TODO about that) and the fields are different types, copying the code as-is wouldn't work.  I've pushed a second commit, maybe that's better.  If that does work, I'll rebase and squash both of those onto the first commit (which is where that actual change belongs). =||= Probably should also clarify: a few of these commits aren't directly relevant to note track zooming (in particular, the one for bug 1819 and to a lesser extent the margin fixes (but those actually matter more now that zooming behaves better)).  However I wrote the fixes while working on the rest of this and they do make sense to be bundled together. =||= Alright, fixed ([old build result](https://travis-ci.org/audacity/audacity/builds/329272327)) and squashed those fixups onto the appropriate commit. =||= I just looked over the commits to see what new internationalized strings there are.

I see

""Down &Octave""

but that modifies the existing

""Down Octa&ve""

and it's a wrong modification, because the &O conflicts with the shortcut in existing ""Up &Octave""

So I would emend that if I merged it.

I see:
 _(""Max Zoom"")

But that one already exists.

I see no other _(""..."") in the added lines.

Summary:  make the correction noted above, and then, none of these commits imply any changes for audacity.pot.  Therefore, these commits have no implications for string freeze, so it can be decided after that whether to merge all or some of them.  I have not examined further yet to decide whether to do that.  I might not be the one who does.
 =||= Thanks, I see you made the string change, but Travis still reports that the Linux build won't work.
PRL
 =||= I'm not sure what broke with it, given that the previous build succeeded (and it doesn't seem reasonable for the string change to break anything), and the only thing I see in [the log](https://api.travis-ci.org/v3/job/329607104/log.txt) is `null`.

I'll squash those two changes together, which should also force a rebuild.  One sec. =||= Sometimes the Travis build is really broken, but sometimes the build is ""errored"" which means some sort of glitch on the servers.  Maybe it was only that.  I didn't see which from the pull request page.
PRL
 =||= Yep, it was errored ([here's the build](https://travis-ci.org/audacity/audacity/builds/329607103), for reference).  After forcing a rebuild everything seems to have gone fine. =||= I have cherry-picked the first of these commits, which fixes bug 1819.

No judgment implied for the rest of the changes.
 =||= Rebased off of latest master. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
233Update sv.poA. RegnanderRegnander01/16/18, 12:52:40 PM"Translated the strings lacking a translation and updated all fuzzy strings. I fear that there might be more strings in need to be updated that I've missed, since many of them wasn't marked as ""fuzzy""."NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
234Update sv.poA. RegnanderRegnander01/18/18, 05:31:33 PM"Translated the strings lacking a translation and updated all fuzzy strings. I fear that there might be more strings in need to be updated that I've missed, since many of them wasn't marked as ""fuzzy"" when I opened this .po file in Poedit.

The reason why I closed my previous pull request is because I fixed a typo.""Thank you, regnander.

audacity.pot saw a few more updates since you did this.  The latest update is at d38f3752d0264aeb8ca2cb7686b2f3ced44b95de and is final for version 2.2.2.

Please merge your sv.po with the latest audacity.pot and supply translations for the very few new strings.

PRL
 =||= Said and done. I'll close this pull request and create a new one right away. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
235Remove some double spacesscootergrisen02/22/18, 05:31:04 PMNaN"I think they should be removed from the source files the .pot file is made of.
 =||= Paul will pull #236 (which is same thing) when he is ready.   =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
236Remove some double spacescootergrisen10/14/18, 10:30:01 AM"If some of these double spaces are meant to be newlines feel free to change it.""Thanks, but I will wait until 2.2.3 development opens to merge this.
PRL
 =||= Apologies for the very long time taken to merge this pull request.  It is now merged, ready for 2.3.1. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
237"Remove a space before a ""?"""scootergrisen03/24/18, 11:15:42 AMNaN"Merged
https://github.com/audacity/audacity/commit/cd06f86619731e54fcf73386b7bcff28f3398b59 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
238"Remove space before ""?"" x 2"scootergrisen03/24/18, 11:16:01 AMNaN"Merged
https://github.com/audacity/audacity/commit/cd06f86619731e54fcf73386b7bcff28f3398b59 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
239Update French translationOlivier Humberttrebmuh01/24/18, 01:03:06 PM"I updated the fr.po file from the pot file using:
```
git clone https://github.com/audacity/audacity.git
cd audacity/locale
msgmerge -U fr.po audacity.pot
```
I hope this is correct (please @Paul-Licameli , tell me).

This translation:
- updates all untranslated+fuzzy against current pot file (from 18/01/2018)
- fixes one typo
- improves a few strings already translated previously
- updates timestamps
- updates (c) Olivier Humbert to 2018
- removes most of the old translation (at the end of file)""I have copied this to master.  Thank you.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
240Update sv.poA. RegnanderRegnander01/24/18, 01:02:55 PM"Translated the strings lacking a translation and updated all fuzzy strings using the latest .pot file. I fear that there might be more strings in need to be updated that I've missed, since many of them wasn't marked as ""fuzzy"" when I opened the .po file in Poedit.""I have copied this to master.  Thank you.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
241Fix by Bobby Kent m4a export errorSteve DaultonSteveDaulton01/19/18, 10:05:03 PM"As discussed on QA list (https://sourceforge.net/p/audacity/mailman/message/36194968/)
This fixes an old problem in m4a export.

Prior to the fix, the problem is very easy to reproduce:
Generate 30 second Chirp, then export as m4a. The error occurs every time.

With Bobby Kent's fix, the error never occurs and the exported files look exactly as expected.""Closing because of the doubts about the correctness of this fix, as discussed at the -quality mailing list.
 =||= Thanks for the pull request Bobby, Although your patch was not used in the end, it lead to the discovery of a broader issue with FFmpeg exports which has now been resolved. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
242Fix for building without portmixerv2e05/31/20, 05:39:01 PMI am not sure the proposed changes are correct, but they allow me to build Audacity both with portmixer enabled and disabled. So I hope, it will work for other people as well.Thanks.  This was a nice idea.  We've since moved to a CMake system so we won't be using this.  Thanks for offering it. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
243Fix timeshift and length discrepency in M4A export.Darrell Walisserwalisser01/29/18, 05:36:12 PM"encode_audio() was incorrectly ignoring the frame->pts and
as a result, the encoder output had no PTS/DTS values, which are
essential to maintain correct timing in the output container.

My findings with FFmpeg AvCodec/AvFormat v57. Differences are in samples between Audacity export (AU) and ffmpeg transcoding (FF). Positive start means time shifted forward, positive end means longer duration compared to original. Measurement using Audacity import function.

*Note it has now become clear this patch doesn't fix the length/truncation bug, only the timeshift.

## Before Patch
| Format | Start (AU) | End (AU) | Start(FF) | End(FF)
|-------|------------|----------|-----------|--------
|M4A    | +1024 | +1024 | 0     | 0
|AC3    | +256  | 0     | +256  | 0
|WMA    | +2048 | -1024 | +2048 | +1024

## After Patch
| Format | Start (AU) | End (AU)
|-------|------------|---------
|M4A    | 0     | 0
|AC3    | +256  | 0
|WMA    | +2048 | -1024

As for the AC3/WMA timeshift... this is intrinsic to how FFmpeg works and would need a workaround. AC3 for example, cannot store a negative PTS value (it needs to start the file at -256, not 0, to offset the preroll in the codec). And the decoder/importer needs to recognize that offset and discard the first 256 samples. This would be fine (and correctly handled) if the ac3 was exported/imported in another container format that could preserve the offset.""Why closed?  Do you think it is incorrect now?

Do not consider it rejected.  But this was not essential to 2.2.2 so it was not yet merged.

PRL
 =||= I'm sure it was correct, but doesn't seem important right now. I think it
would also have to be combined with ensuring the same care was taken with
the PTS on the import side as well.

On Mon, Jan 29, 2018 at 1:00 PM, Paul Licameli <notifications@github.com>
wrote:

> Why closed? Do you think it is incorrect now?
>
> Do not consider it rejected. But this was not essential to 2.2.2 so it was
> not yet merged.
>
> PRL
>
> —
> You are receiving this because you modified the open/close state.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/243#issuecomment-361331441>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AA8r1daVtmnhBW2JBTTknBEeTuUfwdS2ks5tPgdYgaJpZM4RlnqP>
> .
>
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
244Fix truncation on FFmpeg exportDarrell Walisserwalisser01/22/18, 10:54:50 PM"This fixes the file truncation (missing last ~1000-2000 samples)
on file export. It will also eliminate error dialog some users
have witnessed. Does not address timeshift issue (other PR must be rebased on this)

Also cleans up the code
- simplified the Finalize function
- add error dialog for encoder errors
- encodes all audio even if it has to pad with silence
- correctly determine when a codec supports short final frame
- update comments or remove irrelevant ones
 
CODEC_CAP_VARIABLE_FRAME_SIZE does not have anything to do with CODEC_CAP_SMALL_LAST_FRAME

""encodeResult"" is a better variable name, the return value has nothing to do with bytes.

control flow is clearly split between emptying the fifo and flushing, with muxing on every iteration.
""I committed this at f4c8920e23176fff8a65e5c2cd9e4e48ee4570c4, with some modifications for error reporting consistent with other such changes I have lately made.

New strings with _() should not be introduced at this point of the release cycle, because there is a code freeze while translators update the message catalogs.

Whenever errors are detected in Finalize, the user will see an error message and Finalize will return false, which will cause the caller to remove any incompletely written file.

I verified that even with my older version of FFmpeg libraries, I can export and reimport a file without any loss of final samples.

Thank you, Darrell.

 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
245Update icon and installer imagesPokechu22Pokechu2201/24/18, 07:56:09 PM"Fixes [bug 1789](https://bugzilla.audacityteam.org/show_bug.cgi?id=1789).

There were actually two things that needed to be updated, which I've done in separate commits.

* The `audacity.ico` file: this is the icon used on the first page of the installer (the one for choosing a language); however it is also used in a number of other places, including as the actual icon for the app and the installer.  So all of those have been updated with this change.

    PRL mentioned:

    > I look in GIMP and see it's actually many image layers, each showing the old
icon with various magnifications, and some sub-pixel half-toning going on in each.

    To clarify about that, ICO contains a bunch of different sizes and bit depths.  The sizes that are provided in the audacity icon are 256x256, 128x128, 96x96, 64x64, 48x48, 32x32, 24x24, 16x16, 14x14, 10x10, and 8x8.  The original icon included bit depths of 4, 8, and 32; I've gotten rid of all but 32 since I find it extremely unlikely that anyone's using a 4 or 8 bit-per-pixel display (and couldn't find a proper way to generate those depths either).

    I generated the icon using the following script (which uses [imagemagick](https://imagemagick.org/) and the logo from [here](http://wiki.audacityteam.org/wiki/File:Audacity_Logo_large_transparent.png)):

    ```bash
    base=Audacity_Logo_large_transparent.png
    out=audacity.ico
    files=
    for size in 256 128 96 64 48 32 24 16 14 10 8; do
        file=""tmp_icon_${size}.bmp""
        convert ""$base"" -resize ${size}x${size} -extent ${size}x${size} ""$file""
        files+="" $file""
    done
    convert $files ""$out""
    rm $files
    ```

    This new icon should maybe also be used on the various websites, as they're also using the old icon.

* The installer images: these are used on the other pages of the installer.  I made audacity_InnoWizardImage.bmp using [the wiki logo](https://www.audacityteam.org/wp-content/uploads/2016/01/NEW_AudacityTransMediaWiki_sans_serif.png), and the other one using a resized version of the icon.

I have not attempted to handle the mac icon, as I don't know how to edit those (I don't even know which files are needed for the mac installer).""Poke,

Look in mac/Resources and find eight image files.  One is .png (the background that opens for the Mac .dmg).

The other seven are .icns files.  A little Googling tells me ImageMagick might not support that one.  But maybe that is out of date information.

PRL

 =||= It seems it's not hard to find programs to interconvert that format, even if ImageMagick won't.  For instance:  https://iconverticons.com/online/#
 =||= It does seem like ImageMagick doesn't work for icns, and gimp also doesn't seem to have saving support for it (but there is [a plugin](https://github.com/brion/gimp-icns) to read them).

According to [this article](http://applehelpwriter.com/2012/12/16/make-your-own-icns-icons-for-free/) there's a program built in to MacOS, which converts a bunch of specially-named PNGs of various sizes -- PNGs which I can generate with ImageMagick.  I do have access to a mac so I should be able to run that on a different machine.

I've updated the DMG background, though, using [this image](http://wiki.audacityteam.org/wiki/File:Audacity_Logo_signika_512_transparent.png). =||= I have rebased and pushed these changes, thanks.

Poke, look in mac/Resources.  There is one .png file and seven files with extension .icns.  Can you figure out edits for those too?
 =||= Currently working on those right now =||= I'll create a new pull request with them, to make this a bit less confusing =||= Sorry, our updates crossed, and I closed this PR.  Please open another for the Mac images.

PRL
 =||= Or, I can just reopen.  Done!
 =||= I merged the change for the background .png.  It looked good -- the important thing being that the positions of the arrow and the blank spaces are unchanged.

I hope some solution for the .icns files can also be found, perhaps converting to .ico, editing, and converting back?
 =||= I see with Preview on macOS that win/audacity.ico had 27 images, but now has only 9.  You explained that as using only a 32 bit depth, not supplying three depths.

All right.
 =||= "Update icon and installer imagesPokechu22Pokechu2201/24/18, 07:56:09 PM"Fixes [bug 1789](https://bugzilla.audacityteam.org/show_bug.cgi?id=1789).

There were actually two things that needed to be updated, which I've done in separate commits.

* The `audacity.ico` file: this is the icon used on the first page of the installer (the one for choosing a language); however it is also used in a number of other places, including as the actual icon for the app and the installer.  So all of those have been updated with this change.

    PRL mentioned:

    > I look in GIMP and see it's actually many image layers, each showing the old
icon with various magnifications, and some sub-pixel half-toning going on in each.

    To clarify about that, ICO contains a bunch of different sizes and bit depths.  The sizes that are provided in the audacity icon are 256x256, 128x128, 96x96, 64x64, 48x48, 32x32, 24x24, 16x16, 14x14, 10x10, and 8x8.  The original icon included bit depths of 4, 8, and 32; I've gotten rid of all but 32 since I find it extremely unlikely that anyone's using a 4 or 8 bit-per-pixel display (and couldn't find a proper way to generate those depths either).

    I generated the icon using the following script (which uses [imagemagick](https://imagemagick.org/) and the logo from [here](http://wiki.audacityteam.org/wiki/File:Audacity_Logo_large_transparent.png)):

    ```bash
    base=Audacity_Logo_large_transparent.png
    out=audacity.ico
    files=
    for size in 256 128 96 64 48 32 24 16 14 10 8; do
        file=""tmp_icon_${size}.bmp""
        convert ""$base"" -resize ${size}x${size} -extent ${size}x${size} ""$file""
        files+="" $file""
    done
    convert $files ""$out""
    rm $files
    ```

    This new icon should maybe also be used on the various websites, as they're also using the old icon.

* The installer images: these are used on the other pages of the installer.  I made audacity_InnoWizardImage.bmp using [the wiki logo](https://www.audacityteam.org/wp-content/uploads/2016/01/NEW_AudacityTransMediaWiki_sans_serif.png), and the other one using a resized version of the icon.

I have not attempted to handle the mac icon, as I don't know how to edit those (I don't even know which files are needed for the mac installer)."NaNPokechu2201/24/18, 07:48:49 PMUpdate DMG background1
246Simplification in av_log_wx_callback, because wxLogDebug is threadsafe.Raphaël MarinierRaphaelMarinier01/24/18, 06:22:26 PM"wxLogDebug is threadsafe since wxWidgets 2.9.1 (releated in 2010)
according to
http://docs.wxwidgets.org/3.0/overview_log.html#overview_log_mt.

Note also that wxLogDebug could already have been called from multiple
threads even with EXPERIMENTAL_OD_FFMPEG unset. According to FFmpeg
doc, the logging callback can be called from multiple threads because
some codecs are multithreaded:
https://ffmpeg.org/doxygen/2.5/group__lavu__log.html#ga14034761faf581a8b9ed6ef19b313708""Thank you.
 =||= "Simplification in av_log_wx_callback, because wxLogDebug is threadsafe.Raphaël MarinierRaphaelMarinier01/24/18, 06:22:26 PM"wxLogDebug is threadsafe since wxWidgets 2.9.1 (releated in 2010)
according to
http://docs.wxwidgets.org/3.0/overview_log.html#overview_log_mt.

Note also that wxLogDebug could already have been called from multiple
threads even with EXPERIMENTAL_OD_FFMPEG unset. According to FFmpeg
doc, the logging callback can be called from multiple threads because
some codecs are multithreaded:
https://ffmpeg.org/doxygen/2.5/group__lavu__log.html#ga14034761faf581a8b9ed6ef19b313708"NaNRaphaël Marinier01/24/18, 05:58:29 PM"Simplification in av_log_wx_callback, because wxLogDebug is threadsafe.

wxLogDebug is threadsafe since wxWidgets 2.9.1 (releated in 2010)
according to
http://docs.wxwidgets.org/3.0/overview_log.html#overview_log_mt.

Note also that wxLogDebug could already have been called from multiple
threads even with EXPERIMENTAL_OD_FFMPEG unset. According to FFmpeg
doc, the logging callback can be called from multiple threads because
some codecs are multithreaded:
https://ffmpeg.org/doxygen/2.5/group__lavu__log.html#ga14034761faf581a8b9ed6ef19b313708"1
247Update mac iconsPokechu22Pokechu2201/25/18, 11:12:29 PM"This was a lot harder to do than the previous one, mostly because the majority of the needed tools only work on mac (I did find [libicns](http://icns.sourceforge.net/) (which is what is used for iconverticons.com), but ended up not using it).

There are two groups of icons here:

Audacity.icns - this is the main app icon.  I'm fairly certain I did this one correctly; apple has [an article](https://developer.apple.com/library/content/documentation/GraphicsAnimation/Conceptual/HighResolutionOSX/Optimizing/Optimizing.html) explaining how you're supposed to generate it.  I ended up with this script that renders [the SVG version of the logo](http://wiki.audacityteam.org/w/images/5/52/Audacity_Logo_large.zip) using [Inkscape](http://inkscape.org/).

```bash
mkdir ""Audacity.iconset""

for size in 512 256 128 32 16; do
    for scale in 1 2; do
        realsize=$(($size * $scale))
        file=""icon_${size}x${size}""
        if [ $scale -ne 1 ]
        then
            file+=""@${scale}x""
        fi
        /Applications/Inkscape.app/Contents/Resources/script --without-gui --export-png=Audacity.iconset/$file.png --export-width=$realsize --export-height=$realsize Audacity_Logo_large.svg
    done
done

iconutil -c icns -o ""Audacity.icns"" ""Audacity.iconset""
```

For the other files, things were a bit more annoying.  I ended up using [docerator](https://code.google.com/archive/p/docerator/) to generate them, since that produces file icons that look reasonable (and I don't have the knowledge to actually draw the file icons myself, though for reference the page template is `/System/Library/CoreServices/CoreTypes.bundle/Contents/Resources/GenericDocumentIcon.icns`).  However, this has a major issue of not supporting the 2x scale icons, which I just chose to live with (the previous icons had a the largest size at 128, so only supporting 512 isn't that much of a problem).  Here's the script I used for that (assuming that [`docerator-2.0.zip`](https://storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/docerator/docerator-2.0.zip) has been extracted into the same folder):

```bash
for ext in AIFF AU MP3 OGG Project WAV; do
    generated=""Audacity-${ext}.icns"" # format that docerator uses
    text=$ext
    if [ ""$ext"" == ""Project"" ]
    then
        generated=""Audacity-Generic.icns""
        text=
    fi
    python docerator-2.0/docerator.py --appicon=Audacity.icns --background=default-unsplit --makeicns=docerator-2.0/makeicns --text=$text
    mv ""$generated"" ""Audacity${ext}.icns""
done
```""I notice that each of the file icon files has only five images, while previously there were twelve, but those used many more bit depths, which we might not need, and some of the images did not look good.  I did not take a close look at the sizes.

I wonder if we ought to define more image files for more file extensions that could be associated with Audacity.  A task for the future maybe.

I am less sure the new Audacity.icns came out correctly.  When I open the old in Preview, I see nine images, and two of them are just white silhouettes (did they serve any purpose?).  Sizes 128 square, and 48, 48, 32, 32, 32, 16, 16, 16.  The last six seem to be two triples of bright, dim, and monochrome outline versions.  But the first three don't make a similar triad.  I don't get it.

But in the new version, there are ten, all RGB, and the sizes are 1024, 512, 512, 256, 256, 128, 64, 32, 32, 16.

I have not yet built and installed to see what happens.


 =||= I think preview might be broken for the old icons.  Using `icns2png -l <file>` (from libicns), I get the following lists for before and after (though it doesn't like some of the new ones -- but [Wikipedia](https://en.wikipedia.org/wiki/Apple_Icon_Image_format#Icon_types) does explain what the meanings should be for those).

<dl>
<dt><code>Audacity.icns</code> before these changes</dt>
<dd><pre>Reading icns family from Audacity.icns...
 Extracting icons from Audacity.icns...
 Icon family size is 55010 bytes (including 8 byte header)
 Listing icon elements...
  'ICN#' 32x32 1-bit icon with mask (256 bytes)
  'icl8' 32x32 8-bit icon (1024 bytes)
  'il32' 32x32 32-bit icon (4096 bytes compressed to 2093)
  'l8mk' 32x32 8-bit mask (1024 bytes)
  'ich#' 48x48 1-bit icon with mask (576 bytes)
  'ich8' 48x48 8-bit icon (2304 bytes)
  'ih32' 48x48 32-bit icon (9216 bytes compressed to 4284)
  'h8mk' 48x48 8-bit mask (2304 bytes)
  'ics#' 16x16 1-bit icon with mask (64 bytes)
  'ics8' 16x16 8-bit icon (256 bytes)
  'is32' 16x16 32-bit icon (1024 bytes compressed to 630)
  's8mk' 16x16 8-bit mask (256 bytes)
  'it32' 128x128 32-bit icon (65536 bytes compressed to 23435)
  't8mk' 128x128 8-bit mask (16384 bytes)
14 elements total found in Audacity.icns.</pre></dd>
<dt><code>Audacity.icns</code> after these changes</dt>
<dd><pre>Reading icns family from Audacity.icns...
 Extracting icons from Audacity.icns...
 Icon family size is 580963 bytes (including 8 byte header)
 Listing icon elements...
  'ic09' 512x512 32-bit icon (1048576 bytes compressed to 101992)
libicns: icns_get_image_info_for_type: Unable to parse icon type 'ic07'
  'ic07' 0x0 0-bit (13801 bytes)
libicns: icns_get_image_info_for_type: Unable to parse icon type 'ic12'
  'ic12' 0x0 0-bit (5043 bytes)
  'ic10' 1024x1024 32-bit icon (4194304 bytes compressed to 277046)
libicns: icns_get_image_info_for_type: Unable to parse icon type 'ic14'
  'ic14' 0x0 0-bit (101992 bytes)
  'l8mk' 32x32 8-bit mask (1024 bytes)
  's8mk' 16x16 8-bit mask (256 bytes)
  'ic08' 256x256 32-bit icon (262144 bytes compressed to 37814)
libicns: icns_get_image_info_for_type: Unable to parse icon type 'ic13'
  'ic13' 0x0 0-bit (37814 bytes)
libicns: icns_get_image_info_for_type: Unable to parse icon type 'ic11'
  'ic11' 0x0 0-bit (1923 bytes)
libicns: icns_get_image_info_for_type: Unable to parse icon type 'info'
  'info' 0x0 0-bit (259 bytes)
  'il32' 32x32 32-bit icon (4096 bytes compressed to 1457)
  'is32' 16x16 32-bit icon (1024 bytes compressed to 430)
13 elements total found in Audacity.icns.</pre></dd>
<dt><code>AudacityProject.icns</code> before these changes</dt>
<dd><pre>Reading icns family from AudacityProject.icns...
 Extracting icons from AudacityProject.icns...
 Icon family size is 52123 bytes (including 8 byte header)
 Listing icon elements...
  'ICN#' 32x32 1-bit icon with mask (256 bytes)
  'icl4' 32x32 4-bit icon (512 bytes)
  'icl8' 32x32 8-bit icon (1024 bytes)
  'il32' 32x32 32-bit icon (4096 bytes compressed to 1933)
  'l8mk' 32x32 8-bit mask (1024 bytes)
  'ich#' 48x48 1-bit icon with mask (576 bytes)
  'ich4' 48x48 4-bit icon (1152 bytes)
  'ich8' 48x48 8-bit icon (2304 bytes)
  'ih32' 48x48 32-bit icon (9216 bytes compressed to 3878)
  'h8mk' 48x48 8-bit mask (2304 bytes)
  'ics#' 16x16 1-bit icon with mask (64 bytes)
  'ics4' 16x16 4-bit icon (128 bytes)
  'ics8' 16x16 8-bit icon (256 bytes)
  'is32' 16x16 32-bit icon (1024 bytes compressed to 656)
  's8mk' 16x16 8-bit mask (256 bytes)
  'icm#' 16x12 1-bit icon with mask (48 bytes)
  'icm4' 16x12 4-bit icon (96 bytes)
  'icm8' 16x12 8-bit icon (192 bytes)
  'it32' 128x128 32-bit icon (65536 bytes compressed to 18912)
  't8mk' 128x128 8-bit mask (16384 bytes)
20 elements total found in AudacityProject.icns.</pre></dd>
<dt><code>AudacityProject.icns</code> after these changes</dt>
<dd><pre>Reading icns family from AudacityProject.icns...
 Extracting icons from AudacityProject.icns...
 Icon family size is 152918 bytes (including 8 byte header)
 Listing icon elements...
  'TOC ' table of contents
  'is32' 16x16 32-bit icon (1024 bytes compressed to 533)
  's8mk' 16x16 8-bit mask (256 bytes)
  'il32' 32x32 32-bit icon (4096 bytes compressed to 1612)
  'l8mk' 32x32 8-bit mask (1024 bytes)
  'it32' 128x128 32-bit icon (65536 bytes compressed to 15954)
  't8mk' 128x128 8-bit mask (16384 bytes)
  'ic08' 256x256 32-bit icon (262144 bytes compressed to 30482)
  'ic09' 512x512 32-bit icon (1048576 bytes compressed to 86529)
9 elements total found in AudacityProject.icns.</pre></dd>
</dl>

I don't really know how to interpret this data, but maybe it'll be useful.  I'm not a mac user, though. =||= I don't follow all of the details, but all observed behavior seems as expected when I build with these.

I have cherry-picked and pushed it.

Thank you.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
248Update most of the other iconsPokechu22Pokechu2202/24/18, 09:08:11 PM"Updates the remaining icons to use the new logo.

* `audacity.svg`: just a direct save of [the SVG](http://wiki.audacityteam.org/w/images/5/52/Audacity_Logo_large.zip) found on the wiki.
* `icons/*/audacity.png`: I created these using imagemagick and the large SVG render (I didn't want to manually resize, and using the large image avoids the issues relating to continuously downscaling from lower resolution files).  Script I used:

    ```
    base=Audacity_Logo_large_transparent.png
    for size in 16 22 24 32 48; do
        convert ""$base"" -resize ${size}x${size} -extent ${size}x${size} ""icons/${size}x${size}/audacity.png""
        files+="" $file""
    done
    ```
* `icons/*.xpm`: I used GIMP to generate these from the PNGs.  In each case, I used alpha level of 1 when GIMP prompted for it.  In retrospect it looks like imagemagick can also generate XPM, but I didn't realize that until I'd already manually done it.
* `MusicalInstruments/_default_instrument.xpm`: manually edited.  This is the icon found in the mixer board, which was still using the old logo.
* `AudacityLogo.xpm`, `AudacityLogo48x48.xpm`, `AudacityLogoAlpha.xpm`: all manually edited and saved with GIMP, making sure to keep the same size.  **EDIT**: However, I will note that originally these files had a shadow behind the logo, which I didn't keep because I don't know how to make such a shadow.

I have _not_ updated `gnome-mime-application-x-audacity-project.xpm`; I couldn't find a template for it (and the icon itself doesn't look that great: ![gnome-mime-application-x-audacity-project](https://user-images.githubusercontent.com/8334194/35424871-8afeed76-024e-11e8-98b5-4d543160997b.png)).

I've also figured out how these icons are used: when running `make install` in images, I saw the following printed:

> ```
> /bin/mkdir -p '/usr/local//share/icons/hicolor/16x16/apps'
> /usr/bin/install -c -m 644 icons/16x16/audacity.png '/usr/local//share/icons/hicolor/16x16/apps'
> /bin/mkdir -p '/usr/local//share/icons/hicolor/22x22/apps'
> /usr/bin/install -c -m 644 icons/22x22/audacity.png '/usr/local//share/icons/hicolor/22x22/apps'
> /bin/mkdir -p '/usr/local//share/icons/hicolor/24x24/apps'
> /usr/bin/install -c -m 644 icons/24x24/audacity.png '/usr/local//share/icons/hicolor/24x24/apps'
> /bin/mkdir -p '/usr/local//share/icons/hicolor/32x32/apps'
> /usr/bin/install -c -m 644 icons/32x32/audacity.png '/usr/local//share/icons/hicolor/32x32/apps'
> /bin/mkdir -p '/usr/local//share/icons/hicolor/48x48/apps'
> /usr/bin/install -c -m 644 icons/48x48/audacity.png '/usr/local//share/icons/hicolor/48x48/apps'
> /bin/mkdir -p '/usr/local//share/icons/hicolor/scalable/apps'
> /usr/bin/install -c -m 644 audacity.svg '/usr/local//share/icons/hicolor/scalable/apps'
> /bin/mkdir -p '/usr/local//share/pixmaps'
> /usr/bin/install -c -m 644 gnome-mime-application-x-audacity-project.xpm icons/16x16/audacity16.xpm icons/32x32/audacity32.xpm '/usr/local//share/pixmaps'
> /bin/mkdir -p '/usr/local//share/pixmaps'
> /usr/bin/install -c -m 644 icons/48x48/audacity.xpm '/usr/local//share/pixmaps'
> ```""Hm, build failure because

```
MixerBoard.cpp: In member function ‘void MixerBoard::LoadMusicalInstruments()’:
MixerBoard.cpp:1443:4: error: invalid conversion from ‘char**’ to ‘const char**’ [-fpermissive]
    };
    ^
```

which seems to be because `MusicalInstruments/_default_instrument.xpm` previously was `static const char` but now is `static char` - not something I intentionally changed, just what GIMP changed.  I see the same change happened in other files too, though some already were non-const.  I could manually change it back, but it seems odd. =||= Ah, it looks like there are actually scripts for the purpose of making the images const (rather 3 copies of it: [ControlButtons/degimpify](https://github.com/audacity/audacity/blob/master/images/ControlButtons/degimpify), [TranscriptionImages/degimpify](https://github.com/audacity/audacity/blob/master/images/TranscriptionImages/degimpify), [EditButtons/degimpify](https://github.com/audacity/audacity/blob/master/images/EditButtons/degimpify)).  So they're supposed to be changed to const. =||= Closing this as it was implemented with 35e947fa2f6691f1417b09d3663dac1639c7b3db (the only change that wasn't performed was the change here to the darkaudacity logo, which was just making it const; that probably doesn't matter). =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
249Update for FFmpeg 3.5Darrell Walisserwalisser01/28/18, 08:49:45 PM"
Summary of changes in v3.5 this accounts for:

- VOXWARE codec is removed
- AVCodecContext->codec_name is removed, replaced with avcodec_get_name()
- channel_layout is required to be set. Using av_get_default_channel_layout()
- some constants have AV_ prefix, using #define to account for old constant names

Additionally:
- fixes format string asserts in wxString::Printf (only tripped in debug build)

Assuming 2.2.x is the oldest we are supporting, tested with 2.2.9 and current git master. Versions in-between are assumed to work.""This looks like less work than I feared.  Thanks for the rapid work.

So, this can conditionally compile the right things either with the present contents of lib-src/ffmpeg, or at such time as we upgrade our lib-src.  Yes?

PRL
 =||= Darrell, please answer some questions.

Do you know how we can discover, since which version a file was in the interface?  I can't find such information here.  https://ffmpeg.org/doxygen/2.1/group__lavu__audio.html#gacb84f3e93a583e1f84a5283162a606a2

You add two FFMPEG_INITDYN calls.  So this may increase the possibilities that Audacity refuses to continue with an old FFmpeg library if it can't find either of the two new functions.  This did no happen with the version I have.  Is it likely with anybody else's versions?

You use the new functions in two places.  One is in import but only to get some information for logging messages.  The other sets a channel layout for export.  So, this is necessary to make export work in the new version.  It was not necessary with the old.  Could it cause any important change of behavior in the old?

I have tried this out on a simple mono track and confirmed that I can still export an .m4a and re-import it.  So, ""First do no harm.""

PRL
 =||= On Fri, Jan 26, 2018 at 7:20 PM, Paul Licameli <notifications@github.com>
wrote:

> Darrell, please answer some questions.
>
> Do you know how we can discover, since which version a file was in the
> interface? I can't find such information here.
> https://ffmpeg.org/doxygen/2.1/group__lavu__audio.html#
> gacb84f3e93a583e1f84a5283162a606a2
>
Not sure how you would do that besides stepping through each version. There
is an ""APIChanges"" doc in FFmpeg but these aren't listed there.

https://ffmpeg.org/doxygen/2.0/group__lavu__audio.html#gacb84f3e93a583e1f84a5283162a606a2
https://ffmpeg.org/doxygen/2.2/group__lavu__audio.html#gacb84f3e93a583e1f84a5283162a606a2
​
https://ffmpeg.org/doxygen/2.4/group__channel__mask__c.html#gacb84f3e93a583e1f84a5283162a606a2
https://ffmpeg.org/doxygen/3.2/group__channel__mask__c.html#gacb84f3e93a583e1f84a5283162a606a2
https://ffmpeg.org/doxygen/3.4/group__channel__mask__c.html#gacb84f3e93a583e1f84a5283162a606a2

I'm not git expert, but I found this technique that seems suitable,
although a bit painful. Find the header with the symbol and use git log
with ""show patch"" option and release tag. But this won't notice a function
that moved from a different header in the past, in which case the search
could be expanded to more of the header files.

git log -p n1.2.9 libavutil/channel_layout.h | grep
av_get_default_channel_layout
+ *   av_get_default_channel_layout);
+uint64_t av_get_default_channel_layout(int nb_channels);

​Shows av_get_default_channel_layout() is present in the log, but not here:

git log -p n1.0.9 libavutil/channel_layout.h | grep
av_get_default_channel_layout
​

​Similarly:
​git log -p n0.8.9 libavcodec/avcodec.h | grep avcodec_get_name
​*nothing*
​

git log -p n0.9.4 libavcodec/avcodec.h | grep avcodec_get_name
   The table is queried using the avcodec_get_name function.
   If CONFIG_SMALL is true, the table is not compiled in; the
avcodec_get_name
+const char *avcodec_get_name(enum CodecID id);

You add two FFMPEG_INITDYN calls. So this may increase the possibilities
> that Audacity refuses to continue with an old FFmpeg library if it can't
> find either of the two new functions. This did no happen with the version I
> have. Is it likely with anybody else's versions?
>
​Based on my git search, not likely.​ These are both old APIs. Also I don't
see any breaking signature changes (the enum CodecID was renamed to
AVCodecID at some point, was the one change).

I think the best way to validate is to compile against the versions we need
to support and do an import/export check. This isn't a huge deal for me,
takes about 5 minutes per version to check. I don't know how far back I
needed to go, I believe cutoff is still 2.2 due to the Windows and OS X
builds using the lib-src version.

> You use the new functions in two places. One is in import but only to get
> some information for logging messages. The other sets a channel layout for
> export. So, this is necessary to make export work in the new version. It
> was not necessary with the old. Could it cause any important change of
> behavior in the old?
>
I think we can safely assume that channels == 1 or 2 will not cause any
change in behavior.

​It would be difficult to validate exactly what was happening before v3.5,
but a quick search shows av_get_default_channel_layout() was being used
heavily in the library and example programs even in v2.2

I have tried this out on a simple mono track and confirmed that I can still
> export an .m4a and re-import it. So, ""First do no harm.""
>
> PRL
>
 =||= On Sat, Jan 27, 2018 at 1:57 PM, Darrell Walisser <notifications@github.com>
wrote:

> On Fri, Jan 26, 2018 at 7:20 PM, Paul Licameli <notifications@github.com>
> wrote:
>
> > Darrell, please answer some questions.
> >
> > Do you know how we can discover, since which version a file was in the
> > interface? I can't find such information here.
> > https://ffmpeg.org/doxygen/2.1/group__lavu__audio.html#
> > gacb84f3e93a583e1f84a5283162a606a2
> >
> Not sure how you would do that besides stepping through each version. There
> is an ""APIChanges"" doc in FFmpeg but these aren't listed there.
>
> https://ffmpeg.org/doxygen/2.0/group__lavu__audio.html#
> gacb84f3e93a583e1f84a5283162a606a2
> https://ffmpeg.org/doxygen/2.2/group__lavu__audio.html#
> gacb84f3e93a583e1f84a5283162a606a2
> ​
> https://ffmpeg.org/doxygen/2.4/group__channel__mask__c.html#
> gacb84f3e93a583e1f84a5283162a606a2
> https://ffmpeg.org/doxygen/3.2/group__channel__mask__c.html#
> gacb84f3e93a583e1f84a5283162a606a2
> https://ffmpeg.org/doxygen/3.4/group__channel__mask__c.html#
> gacb84f3e93a583e1f84a5283162a606a2
>
> I'm not git expert, but I found this technique that seems suitable,
> although a bit painful. Find the header with the symbol and use git log
> with ""show patch"" option and release tag. But this won't notice a function
> that moved from a different header in the past, in which case the search
> could be expanded to more of the header files.
>
> git log -p n1.2.9 libavutil/channel_layout.h | grep
> av_get_default_channel_layout
> + * av_get_default_channel_layout);
> +uint64_t av_get_default_channel_layout(int nb_channels);
>
> ​Shows av_get_default_channel_layout() is present in the log, but not
> here:
>
> git log -p n1.0.9 libavutil/channel_layout.h | grep
> av_get_default_channel_layout
> ​
>
> ​Similarly:
> ​git log -p n0.8.9 libavcodec/avcodec.h | grep avcodec_get_name
> ​*nothing*
> ​
>

Thanks for this research.  So, we must go back in time to an FFmpeg version
from 2013, to lose either of those functions.  That's far enough I'll call
it safe.


>
> git log -p n0.9.4 libavcodec/avcodec.h | grep avcodec_get_name
> The table is queried using the avcodec_get_name function.
> If CONFIG_SMALL is true, the table is not compiled in; the
> avcodec_get_name
> +const char *avcodec_get_name(enum CodecID id);
>
> You add two FFMPEG_INITDYN calls. So this may increase the possibilities
> > that Audacity refuses to continue with an old FFmpeg library if it can't
> > find either of the two new functions. This did no happen with the
> version I
> > have. Is it likely with anybody else's versions?
> >
> ​Based on my git search, not likely.​ These are both old APIs. Also I don't
> see any breaking signature changes (the enum CodecID was renamed to
> AVCodecID at some point, was the one change).
>
> I think the best way to validate is to compile against the versions we need
> to support and do an import/export check. This isn't a huge deal for me,
> takes about 5 minutes per version to check. I don't know how far back I
> needed to go, I believe cutoff is still 2.2 due to the Windows and OS X
> builds using the lib-src version.
>
> > You use the new functions in two places. One is in import but only to get
> > some information for logging messages. The other sets a channel layout
> for
> > export. So, this is necessary to make export work in the new version. It
> > was not necessary with the old. Could it cause any important change of
> > behavior in the old?
> >
> I think we can safely assume that channels == 1 or 2 will not cause any
> change in behavior.
>
> ​It would be difficult to validate exactly what was happening before v3.5,
> but a quick search shows av_get_default_channel_layout() was being used
> heavily in the library and example programs even in v2.2
>

Do I understand that you discovered that export did not work in 3.5 unless
this call was added?  It's not needed for compilation.

Earlier versions may not have enforced it.  It appears to do no harm to add
the call.  Perhaps there is some subtle bug we haven't discovered that is
fixed by adding it.

I'm persuded to commit this now.  It should also satisfy the Debian people
that they won't need to wait for version 2.2.3 for a version that builds
with the coming FFmpeg.

Thank you Darrell.

PRL




>
> I have tried this out on a simple mono track and confirmed that I can still
> > export an .m4a and re-import it. So, ""First do no harm.""
> >
> > PRL
> >
>
> —
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/249#issuecomment-361006723>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/ALITYZ-vOsq3l9mGvn9Zq9hkNSZD6I2uks5tO3GLgaJpZM4RvBOz>
> .
>
 =||= I added a guard for those, and tested the even release versions
(2.2,2.4,2.6,2.8,3.0,3.2) with import/export test on each.

Rebased and pushed to the current branch. On hindsight I should have opened
a new PR?

On Sun, Jan 28, 2018 at 11:17 AM, Paul Licameli <notifications@github.com>
wrote:

> *@Paul-Licameli* commented on this pull request.
> ------------------------------
>
> In src/FFmpeg.h
> <https://github.com/audacity/audacity/pull/249#discussion_r164303854>:
>
> > @@ -128,6 +128,13 @@ extern ""C"" {
>        }
>        #endif
>     #endif
> +
> +   #if LIBAVCODEC_VERSION_MAJOR < 58
>
> Section A.12.3 of my good old K & R book (ANSI C version) says that when a
> a macro is expanded, occurrences of the same macro name in the resulting
> token sequence are not re-expanded. So this will not produce undefined
> results from the preprocessor. Rather AV_CODEC_FLAG_QSCALE will expand to
> CODEC_FLAG_QSCALE which will expand to AV_CODEC_FLAG_QSCALE again and then
> it stops.
>
> Still, I'd agree we should not rely on that, and instead invent a third
> constant name to use in those few places in Audacity.
>
> PRL
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/249#discussion_r164303854>, or mute
> the thread
> <https://github.com/notifications/unsubscribe-auth/AA8r1TMkat989ND6iYxZjF0k2hzLU5sMks5tPJ2ZgaJpZM4RvBOz>
> .
>
 =||= No need for a new PR.  Thanks, I have merged it again.
 =||= > I added a guard for those, and tested the even release versions (2.2,2.4,2.6,2.8,3.0,3.2) with import/export test on each.

Not sure what you tested, but I (along with [many other people](https://superuser.com/questions/1211211/import-ffmpeg-into-audacity)) cannot load any version newer than 2.2, or api 55 if you'd like =||= "Update for FFmpeg 3.5Darrell Walisserwalisser01/28/18, 08:49:45 PM"
Summary of changes in v3.5 this accounts for:

- VOXWARE codec is removed
- AVCodecContext->codec_name is removed, replaced with avcodec_get_name()
- channel_layout is required to be set. Using av_get_default_channel_layout()
- some constants have AV_ prefix, using #define to account for old constant names

Additionally:
- fixes format string asserts in wxString::Printf (only tripped in debug build)

Assuming 2.2.x is the oldest we are supporting, tested with 2.2.9 and current git master. Versions in-between are assumed to work."NaNDarrell Walisser01/26/18, 05:13:54 PMUpdate for FFmpeg 3.51
250Fix OpenMP buildDarrell Walisserwalisser10/14/18, 10:52:06 AMMake WaveTrackCache return smart pointer for GetTrack() so it may be referenced in OpenMP thread context. Propagate this change elsewhere."""may be referenced"" but apparently isn't yet.  Is this commit only a piece of something bigger yet to be shared with us?
 =||= Nope, this is for a build breaker only. Since each thread has its own
WaveTrackCache it needs to construct one for each thread, which takes the
smart pointer to WaveTrack.

On Tue, Jan 30, 2018 at 2:25 PM, Paul Licameli <notifications@github.com>
wrote:

> ""may be referenced"" but apparently isn't yet. Is this commit only a piece
> of something bigger yet to be shared with us?
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/250#issuecomment-361705807>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AA8r1eMeKy5-2mDXNzszKZ2b8ReNLlUUks5tP2zCgaJpZM4Ry3Wi>
> .
>
 =||= I never did figure out all the steps for making OpenMP builds for myself.

I don't mind if you want to parellelize a few loops with some easy
#pragmas, but as I have said elsewhere, if we want to do more serious
concurrency work in Audacity, it will need much more hard work and thought
than this.  Such as a higher-level task-based decomposition of the work to
allow progressive rendering of spectrograms, that other view navigation and
playback operations don't block on.

PRL
 =||= On Tue, Jan 30, 2018 at 2:38 PM, Paul Licameli <notifications@github.com>
wrote:

> I never did figure out all the steps for making OpenMP builds for myself.
>
>
​On GCC it's simple, just add -fopenmp to cflags. On VC++, and XCode, won't
work out of the box, (deprecated support, or in Apple's case, disabled). Of
course it *will* work on those if you can get the right compiler (Intel
compiler or clang with OpenMP enabled). So it looks like the open standards
are losing the battle for the desktop. Which is surprising given Intel is
the main backer of OpenMP.
The cross-compiled version from my branch works too, but probably needs to
be rebased and fixed up again.
​

> I don't mind if you want to parellelize a few loops with some easy
> #pragmas, but as I have said elsewhere, if we want to do more serious
> concurrency work in Audacity, it will need much more hard work and thought
> than this.


​Yes, and it took a lot just to make this work. I wouldn't even know where
to start with something that actually could work well. Maybe throwing out
all the display logic and starting over would be easier than attempting to
refactor.
​
 =||= Thanks Darrell.
Apologies for the long delay before committing this.
As far as I can see this has minimal if any downside for normal compilation, and so if it helps OpenMP there is no reason not to have it in master.  Accordingly I committed it and it will be in 2.3.1. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
251Fix Ukrainian translationYuri Chornoivanyurchor02/03/18, 02:23:18 PMFixes according to a review by Olexander Pylypchuk.NaNFix Ukrainian translationYuri Chornoivanyurchor02/03/18, 02:23:18 PMFixes according to a review by Olexander Pylypchuk.NaNYuri Chornoivan02/01/18, 08:26:06 AMFix Ukrainian translation1
253Update pl.po from TransifexGrzegorz PruchniakowskiGootector02/08/18, 10:33:36 PMUpdate pl.po from Transifex"Thanks.  I commit it at a76fd3d44cb14c59e91fb046a45ced6309f59293, with the normalization of line breaks done by

msgmerge pl.po audacity.pot

which makes the diff of pl.po versions very small.
 =||= Thank You very much, Paul :D

Greetings,
Gootector =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
254Updated and migrated the file to the latest appstream specsDeleted userghost02/22/18, 05:27:41 PM"+ Added GPL2 to project license
+ Added required metadata license
+ Added required nametag
+ Added required summary
+ Added categories
+ Changed url's to https
+ Added url for bugtracker, faq, help, donate and translate
+ Fixed broken screenshot url's"NaNUpdated and migrated the file to the latest appstream specsDeleted userghost02/22/18, 05:27:41 PM"+ Added GPL2 to project license
+ Added required metadata license
+ Added required nametag
+ Added required summary
+ Added categories
+ Changed url's to https
+ Added url for bugtracker, faq, help, donate and translate
+ Fixed broken screenshot url's"NaNGitHaarek02/12/18, 11:19:57 PM"Updated and migrated the file to the latest appstream specs

+ Added GPL2 to project license
+ Added required metadata license
+ Added required nametag
+ Added required summary
+ Added categories
+ Changed url's to https
+ Added url for bugtracker, faq, help, donate and translate
+ Fixed broken screenshot url's"1
255Warning fixesandheh02/25/18, 06:47:33 PMFixed a couple of easy-to-fix compiler warnings (GCC on Linux)."Thanks.
We're keen to remove warnings.
Please don't include changes to lib-src in the revised pull request.  We try not to patch third party libs if we can help it. =||= Hi James!
Ok, sure.
What about files in lib-src/header-substitutes/, are these third-party files as well? =||= Changes in header-substitutes are fine.

There will likely be a delay before we apply the patch as we are in code freeze prior to releasing 2.2.2.  Hopefully within 2 weeks.  Also I work on Windows, only occasionally Linux, so someone more familiar with linux, probably Steve, will be checking/approving this. =||= Sounds good. All changes in lib-src have been reverted.

I guess you should also check https://github.com/audacity/audacity/pull/255/commits/e044ef3f8088e6364ba6df7a36fc8c73cffcc185 on Windows.
I'm not sure if MSVC will complain about unused variables there... =||= Windows does complain about the unused function parameters.  
Please use WXUNUSED() around the parameter instead.  

The 'compiler food' idiom arose from some case once upon a time, when a parameter was used in Mac, but not windows, so using WXUNUSED was 'too coarse'. =||= Could I also use a cast to void in the function body instead, or is WXUNUSED preferred in the audacity code?

Adding WXUNUSED to the unused parameters makes the function parameter list look very cluttered in my opinion. =||= cast to void is fine.

The competing forces are that (a) we mostly use wxWidgets WXUNUSED() so for consistency one might and (b) we are moving over to avoiding wxisms like wxARRAY and similar more and more in our code.

So your preference to use cast to void is probably better, and it was just old habits that made me suggest WXUNUSED. =||= I created a revised version of this pull request. See pull request https://github.com/audacity/audacity/pull/260. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
256Update pl.po from TransifexGrzegorz PruchniakowskiGootector02/22/18, 05:57:31 AM"File fixes a two typos. Ready to merge.

Thanks and greetings,
Gootector""I'm sorry this was too late for inclusion in version 2.2.2.  I will merge it soon.

PRL
 =||= "Update pl.po from TransifexGrzegorz PruchniakowskiGootector02/22/18, 05:57:31 AM"File fixes a two typos. Ready to merge.

Thanks and greetings,
Gootector"NaNGrzegorz Pruchniakowski02/19/18, 04:05:04 AM"Update pl.po from Transifex - ready to merge

File fixes a two typos. Ready to merge.

Thanks and greetings,
Gootector"1
257Fix --without-midi buildLars WendlerPolynomial-C02/22/18, 05:26:57 PMSee downstream bug: https://bugs.gentoo.org/637110See also #210 =||= Fix --without-midi buildLars WendlerPolynomial-C02/22/18, 05:26:57 PMSee downstream bug: https://bugs.gentoo.org/637110NaNMatt Whitlock02/21/18, 11:19:19 AM"Fix --without-midi build

See downstream bug: https://bugs.gentoo.org/637110"1
258ScriptingJames CrookJamesCrook02/24/18, 07:32:44 PM"This adds (more) scripting via mod-script-pipe, via chains and via the menu extra->scriptables.  The scriptables are much extended, with new functions and new parameters.  Also new example scripts to fetch images for the manual.

Deliberately does NOT include the (aud-do) Nyquist command.""Rebased and merged now at 05de90d4a76d54580fa1f3add48e063bf09c74a4
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
259Update sv.poA. RegnanderRegnander08/12/18, 03:01:57 PM"Fixed a few typos, adjusted the ampersand for the ""Extra"" context menu, updated an old string, rewrote some strings"NaNUpdate sv.poA. RegnanderRegnander08/12/18, 03:01:57 PM"Fixed a few typos, adjusted the ampersand for the ""Extra"" context menu, updated an old string, rewrote some strings"NaNA. Regnander03/17/18, 08:29:31 PMUpdate sv.po1
260GCC warning fixesandheh03/06/18, 10:10:44 PM"Fixed a couple of easy-to-fix compiler warnings (GCC on Linux).
(Revised version of pull request https://github.com/audacity/audacity/pull/255)"Rebased and merged.  Thanks! =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
261Fix minor typosYuri Chornoivanyurchor03/21/18, 02:00:50 PMThanks for fixing these typos."Thanks.  Committed by Paul.
8918744e62fae0c432dd1a442c104ac7d607a904 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
262refactor SeekLeftOrRightEva Shortevashort03/14/18, 01:56:20 PMNaN"Is this to serve some other purpose?  Do you wish to add other commands?
 =||= No, I just offered to clean it up as a familiarization task.

On Thu, Mar 8, 2018 at 1:26 PM, Paul Licameli <notifications@github.com>
wrote:

> Is this to serve some other purpose? Do you wish to add other commands?
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/262#issuecomment-371629738>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AHSDffo9AQy4tia_TyL_mUJ96xoSg17mks5tcaHpgaJpZM4SjVtU>
> .
>
 =||= I submitted an email to audacity-devel about it but I'll put it here as well:

I finished my initial refactor of SeekLeftOrRight. I managed to remove 41 lines of code while making it (in my opinion) more readable.

I removed some dead code for seeking by pixels while the audio is playing, but it would be very easy to restore in the future.

I noticed the slightly odd behavior that when the audio is playing, shift+ctrl+arrow still constrains on the current selection even though shift+arrow is overridden to move the playback cursor. I disabled shift+ctrl+arrow during playback.

Aside from that, all the existing behavior should be preserved. I made a spreadsheet describing the existing behavior: https://gist.github.com/evanshort73/0b130c923edc12196ea1480a6c3d0188

Of course I am open to any feedback about this pull request and I would greatly appreciate anyone who takes the time to review it. =||= Thanks.  I've pulled #263 instead. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
263Second refactor of seekLeftOrRightEva Shortevashort03/14/18, 01:57:07 PMUpdated version of https://github.com/audacity/audacity/pull/262 using enums instead of bool flags and replacing some else clauses with early returns. I'm just offering this as an alternative to the first refactor to find out whether the team thinks it's a step in the right direction.Thanks.  This is now in HEAD. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
264Translate command namesPaul LicameliPaul-Licameli03/14/18, 11:34:50 PM"Complete the translation of choices in the Select Command dialog:  for Special commands, Effects, commands, and the two built-in Macros.

Suppress the added short (CamelCase) command name in non-English locales, as unhelpful to monolingual foreign users.  (If you don't like this, leave it out, but please cherry-pick the other parts.)"NaNTranslate command namesPaul LicameliPaul-Licameli03/14/18, 11:34:50 PM"Complete the translation of choices in the Select Command dialog:  for Special commands, Effects, commands, and the two built-in Macros.

Suppress the added short (CamelCase) command name in non-English locales, as unhelpful to monolingual foreign users.  (If you don't like this, leave it out, but please cherry-pick the other parts.)"NaNPaul Licameli03/14/18, 11:23:25 PM"Translate the two built-in macro names...

... If you only ever use one Audacity locale, then the two persistent macro
files will be created with appropriately translated names.

If you ever do use more than one locale and open Macros... , then
you will get duplicate files differing only by translation of the name.
Nothing causes an automatic purge of the macros in the non-current language."1
265Migrate old chains...Paul LicameliPaul-Licameli03/15/18, 12:19:28 PM"... Copy old Chains files to Macros, once only per session, never overwriting.

Leave old files in place in case the user downgrades their Audacity.

Please consider this for merge!  A very small amount of extra code that will eliminate a nuisance for established Chains users and keep them happy.

I tested this, and indeed the old Chain file format is (so far) still interpreted by Audacity 2.3.0 once the file is in the right place.""What about:

**Zombie Chains**
Where a user had, say 'Noise Removal' chain in 2.2.2, and in 2.3.0 creates a 'Noise Reduction' chain.  In 2.3.0 he then deletes 'Noise Removal' which he does not want any more.  However, it keeps being resurrected.  =||= Yep, this problem occurred to me as I was going to sleep, but will be
easily fixed too.

PRL


On Thu, Mar 15, 2018 at 4:49 AM, James Crook <notifications@github.com>
wrote:

> What about:
>
> *Zombie Chains*
> Where a user had, say 'Noise Removal' chain in 2.2.2, and in 2.3.0 creates
> a 'Noise Reduction' chain. In 2.3.0 he then deletes 'Noise Removal' which
> he does not want any more. However, it keeps being resurrected.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/265#issuecomment-373302997>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/ALITYXL_ASE6faGSWs8RSjgnJBT29ouUks5teisagaJpZM4SrXbO>
> .
>
 =||= Revised commit handles removal of macros, and also does not create an empty Chains folder where none existed =||= Thanks!
At some future date we will likely retire the checking-of-chains subdirectory. 
Merged into master. =||= On 15 March 2018 at 12:19, James Crook <notifications@github.com> wrote:

> Thanks!
> At some future date we will likely retire the checking-of-chains
> subdirectory.
> Merged into master.
>
I presume that until then, users could continue to ""install"" chains /
macros into their ""Chains"" folder?
I don't see that this has really solved anything. It's just delayed the
impact and added a bit of clutter in the meantime.

Steve



> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/265#issuecomment-373357225>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/ALI9SblOJThebPYkPu17ovVVtMGGe0zYks5telxbgaJpZM4SrXbO>
> .
>
 =||= Steve - they could, but said chains will be copied across to macros, so they will not lose them when we do retire the check.  We're not getting dups like Nyquist, and we are not risking losing macros when we do retire the feature.

I think things will be even better when Import and Export buttons are actually implemented, since those buttons will go to the new directory, not the old.  Most users will go there to install chains provided to them by others. =||= On Thu, Mar 15, 2018 at 8:41 AM, Steve Daulton <notifications@github.com>
wrote:

> On 15 March 2018 at 12:19, James Crook <notifications@github.com> wrote:
>
> > Thanks!
> > At some future date we will likely retire the checking-of-chains
> > subdirectory.
> > Merged into master.
> >
> I presume that until then, users could continue to ""install"" chains /
> macros into their ""Chains"" folder?
> I don't see that this has really solved anything. It's just delayed the
> impact and added a bit of clutter in the meantime.
>
> Steve
>

I repeat that users of 2.2.2 and earlier who rely on their favorite Chain
files can simply continue using them without the nuisance of finding the
files and moving them to a new place.

I urge this as a very important requirement of the Macros project, not to
be neglected if we want users to receive version 2.3.0 without grumbling
about the migration.

I don't know what you mean by delating the ""impact.""

PRL



>
>
>
> > —
> > You are receiving this because you are subscribed to this thread.
> > Reply to this email directly, view it on GitHub
> > <https://github.com/audacity/audacity/pull/265#issuecomment-373357225>,
> > or mute the thread
> > <https://github.com/notifications/unsubscribe-auth/
> ALI9SblOJThebPYkPu17ovVVtMGGe0zYks5telxbgaJpZM4SrXbO>
>
> > .
> >
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/265#issuecomment-373362578>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/ALITYYcsqoMDgBiT49POeHivU1qRfp9Oks5temGOgaJpZM4SrXbO>
> .
>
 =||= On Thu, Mar 15, 2018 at 8:46 AM, James Crook <notifications@github.com>
wrote:

> Steve - they could, but said chains will be copied across to macros, so
> they will not lose them when we do retire the check. We're not getting dups
> like Nyquist, and we are not risking losing macros when we do retire the
> feature.
>

What's this talk of ""retirement""?  Is the Macros feature only a step to
something else I don't know about?


> I think things will be even better when Import and Export buttons are
> actually implemented, since those buttons will go to the new directory, not
> the old. Most users will go there to install chains provided to them by
> others.
>
That is the hope.  It is important that macros have Import and Export.  I
recollect I was told by someone in this group, I don't recall when or by
whom, maybe Peter, that locating the Chains files was an undocumented
feature of the old Audacity, not in the manual, and users shouldn't do it.
Well sorry, they did do that and it was cumbersome but useful to them to
share chains, and it's good that there will now be a supported and
documented way to do that.

I suggested drag and drop of chains files onto the Macros dialog as a way
to make the Import even simpler.  James approved the idea, but I have not
attempted the implementation.


PRL

—
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/265#issuecomment-373363810>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/ALITYVBL1EznoGYDLp_qmjB4cktShTlkks5temKjgaJpZM4SrXbO>
> .
>
 =||=  Clarification: ""Retire the checking-of-the-chains subdirectory feature"" (and so only checking the macros subdirectory). =||= On Thu, Mar 15, 2018 at 2:38 PM, James Crook <notifications@github.com>
wrote:

> Clarification: ""Retire the checking-of-the-chains subdirectory feature""
> (and so only checking the macros subdirectory).
>

So you are saying what I said?  This checking of Chains should be in at
least one Audacity version, so that users who upgrade to each new version
will have the copy of files done automatically.

I don't see the harm of leaving this small amount of code in there
""forever,"" meaning anyway several versions, until such time as we might
want to rename the Macros directory to something else again.

PRL



> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/265#issuecomment-373481052>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/ALITYdzsXCTp8bLYVbZK6m5qgTqK-d1-ks5terUngaJpZM4SrXbO>
> .
>
 =||= "Migrate old chains...Paul LicameliPaul-Licameli03/15/18, 12:19:28 PM"... Copy old Chains files to Macros, once only per session, never overwriting.

Leave old files in place in case the user downgrades their Audacity.

Please consider this for merge!  A very small amount of extra code that will eliminate a nuisance for established Chains users and keep them happy.

I tested this, and indeed the old Chain file format is (so far) still interpreted by Audacity 2.3.0 once the file is in the right place."NaNPaul Licameli03/15/18, 12:07:36 AM"Migrate old chains...

... Copy old Chains files to Macros, once only per session, never overwriting.

Leave old files in place in case the user downgrades their Audacity.

When removing a Macro, remove also any like-named legacy chain."1
267Ellipsis problemPaul LicameliPaul-Licameli03/16/18, 08:20:09 AM"Fix wrong inclusion of menu commands ending in ... in the Select Commands dialog, when locale is not English but (e.g.) Ukrainian.

Don't test for ""..."" in the translated menu item name -- it might not be there.  (Was Unicode single ellipsis character instead for uk.po, who knows how else it might translate.)

Instead, pass a boolean into CommandManager functions when the untranslated name contains ""..."", along with the translated name, and record that boolean, and later use it.

This is rather a lot of work for the result, but some similar amount of work seemed unavoidable.""Thanks.



On Fri, Mar 16, 2018 at 4:20 AM, James Crook <notifications@github.com>
wrote:

> Merged #267 <https://github.com/audacity/audacity/pull/267>.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/267#event-1524988684>, or mute
> the thread
> <https://github.com/notifications/unsubscribe-auth/ALITYRuJYCdK0Ux02E3bnr9XTlW2oDYLks5te3W_gaJpZM4StNVC>
> .
>
 =||= "Ellipsis problemPaul LicameliPaul-Licameli03/16/18, 08:20:09 AM"Fix wrong inclusion of menu commands ending in ... in the Select Commands dialog, when locale is not English but (e.g.) Ukrainian.

Don't test for ""..."" in the translated menu item name -- it might not be there.  (Was Unicode single ellipsis character instead for uk.po, who knows how else it might translate.)

Instead, pass a boolean into CommandManager functions when the untranslated name contains ""..."", along with the translated name, and record that boolean, and later use it.

This is rather a lot of work for the result, but some similar amount of work seemed unavoidable."NaNPaul Licameli03/16/18, 03:39:27 AM"Exclude dialog commands from Macro editing not by translated name...

... Don't assume ""..."" in the untranslated name will still be there in the
translated."1
268"Fix typo ""Linkus"""Double-A-9203/24/18, 11:23:55 AMNaN"Merged
https://github.com/audacity/audacity/commit/0fb08f74c8cc301ba0a400abbacce5eb9a6e6347 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
269fixed some warnings (GCC/Linux)andheh03/24/18, 10:50:19 AMthree minor fixes for GCC in debug mode"added fixes in VSTEffect.cpp affect debug and release mode =||= Merged
https://github.com/audacity/audacity/commit/ef5cc132efd8a6a37c661a7ddca07b27851056f1 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
270Const'ify xpmHenric Jungheimhenricj03/27/18, 09:36:03 AMThe arrays storing the pointers to the XPM strings can be const.  This change moves a surprising chunk of data from read/write to read-only memory (several hundred kilobytes on 64-bit builds, presumably about half that for 32-bit builds)."Thank you, Henric!
 =||= "Const'ify xpmHenric Jungheimhenricj03/27/18, 09:36:03 AMThe arrays storing the pointers to the XPM strings can be const.  This change moves a surprising chunk of data from read/write to read-only memory (several hundred kilobytes on 64-bit builds, presumably about half that for 32-bit builds).NaNHenric Jungheim01/14/18, 10:22:55 AMConst'ify images1
271Choice control namesPaul LicameliPaul-Licameli03/27/18, 08:35:17 PMNaN"Oops, that was hasty.

I was expecting details to be critiqued and that the merge would wait.

Did you read the email I wrote to -quality?

PRL
 =||= "Choice control namesPaul LicameliPaul-Licameli03/27/18, 08:35:17 PMNaNNaNPaul Licameli03/27/18, 06:47:47 PM"Naming conventions for Nyquist choice controls too...

... see previous commit comment.  Also some i18n-hints"1
272Update from originalJNylsonJNylson08/12/18, 02:36:47 PMNaN"Updating audacity.pot directly is wrong, because it is generated from source files.  The source files should be corrected instead.

If these corrections are good to make, but you have not explaiend why.

PRL
 =||= These commits are based on very out-of-date versions that conflict with other updates to pt_BR.po done by others.  Also, as I explained, changing msgids directly in audacity.pot is wrong.  They are generated from C++ and must be consistent with the strings in those source code files.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
273Update to Lithuanian languagejjimmyleo08/12/18, 02:26:17 PMI have noticed that the lithuanian language file has not been updated for ages and was only a few percent completed so I pushed the completion to about 50 percent. I'll fully complete it soon but just wanted to have half of it out there"Thank you for this effort.

Please be aware that audacity.pot is not in a final form for the next release and will surely be updated again, requiring more work from translators.  I hope you will follow the audacity-translation mailing list to get notifications.

 =||= Thank you for your response. 

Just wanted to ask also will it still get merged or should I just wait for the updated form until i finish the translation? =||= This commit brings lt.po from 10% complete to 46%.

Thanks, and I hope you will find time to complete it still further.
 =||= "Update to Lithuanian languagejjimmyleo08/12/18, 02:26:17 PMI have noticed that the lithuanian language file has not been updated for ages and was only a few percent completed so I pushed the completion to about 50 percent. I'll fully complete it soon but just wanted to have half of it out thereNaNjjimmyleo03/29/18, 09:21:59 PM"Update to Lithuanian language

I have noticed that the lithuanian language file has not been updated for ages and was only a few percent completed so I pushed the completion to about 50 percent. I'll fully complete it soon but just wanted to have half of it out there"1
274Update pl.po from Transifex - 100% completedGrzegorz PruchniakowskiGootector08/12/18, 02:57:49 PM"This is the latest polish translation from Transifex - 100% completed.

Greetings,
Gootector (Grzegorz Pruchniakowski)""I took instead another version of pl.po available from Transifex, that is 100% up-to-date with an even more recent version of audacity.pot.
 =||= Yes, the recent version of translation is on the Transifex. Now, in the Audacity repo :D Thank you very much for update!

Greetings,
Gootector =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
275Mac: script to build wx 3.1.1 & change xcodeproj to use 10.7 minimumPaul LicameliPaul-Licameli04/16/18, 09:06:13 AM"Changes that worked for me to build wxWidgets 3.1.1 and then build Audacity using it and the 10.7 SDK."I'd love to pull this, but am concerned about checking the steps to get 10.7 SDK - which are in our old  https://github.com/audacity/audacity/blob/master/mac/Build.txt .  Could you check they work, and update Build.txt too with any changes needed and add it to this pull request?  Then the scripts, pbxproj and the instructions stay in step. =||= Mac: script to build wx 3.1.1 & change xcodeproj to use 10.7 minimumPaul LicameliPaul-Licameli04/16/18, 09:06:13 AMChanges that worked for me to build wxWidgets 3.1.1 and then build Audacity using it and the 10.7 SDK.NaNPaul Licameli04/14/18, 05:46:56 PMMac: script to build wx 3.1.1 & change xcodeproj to use 10.7 minimum1
276Typos fixes in the French translationOlivier Humberttrebmuh06/08/18, 05:57:20 PMNaN"@Paul-Licameli : as discussed on the -translation ML, could you please merge this one before I start the FR translation against the new pot file? Thanks. =||= @Paul-Licameli @JamesCrook : ping? =||= Hi Olivier.
It should have been Paul responding as he is managing translations.  He may have a reason why he didn't merge this, but as he hasn't given you a reason, I went ahead and merged it.  Sorry you had to wait for this. =||= My apologies for neglecting this.  The notifications were going to a spam folder and I overlooked them.

PRL
 =||= Thanks @JamesCrook and @Paul-Licameli  =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
277Add TransportOSC feature that sends OSC message on transport button triggeringGrégory DAVIDgroolot11/09/19, 04:40:10 PM"# Description
Based on the Transport buttons triggering, OSC messages are sent to a configurable (through Preferences settings) target.

Each button is configurable seperatly.

# Goal
The aim of this feature is to help, in a school webradio studio, drive a Raspberry PI light switch to advise people outside the studio that RECORDING is ON.

By simply send an OSC message when triggering button, no more switch handling is necessary."Discussion initiated in https://sourceforge.net/p/audacity/mailman/audacity-devel/?viewmonth=201805&viewday=24 =||= Thanks.  We're not going to pull this.  It's too specialised a special use case. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
278updated and renamed appdata.xml filejoergister05/30/18, 10:32:00 AM"renamed the appdata.xml file to match the appstream-spec, added release information, addet OARS information (Open Age Ratings Service), changed `<launchable type=""desktop"">audacity.desktop</launchable>` to `<launchable type=""desktop-id"">audacity.desktop</launchable>` to match the appstream spec."Rejected.  It breaks the Travis build.  Please check more carefully before making a pull request. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
279Update ko.pochanu4808/12/18, 02:13:15 PMI changed some words and I hope Korean users can use this program a little more easily becuase of my changes."Unfortunately this commit has merge conflicts with commit 506f6c3a2a12654d7cd59a0fefac1d0659ca5c56, where the work of another Korean translator was added.  That commit brought the translation up to 90% completion.

Please download latest ko.po and recreate these few corrections in your editor, then make another pull request.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
280fix typos and fuzzys in it l10nValerio Bozzolanvalerio-bozzolan08/12/18, 02:39:21 PMNaNNaNfix typos and fuzzys in it l10nValerio Bozzolanvalerio-bozzolan08/12/18, 02:39:21 PMNaNNaNValerio Bozzolan06/28/18, 11:45:50 PMfix typos and fuzzys in it l10n1
281[WIP] Meson portSalamandarSalamandar11/01/18, 11:25:18 PM"As you may know, Meson presents itself as a replacement for Autotools, while staying ""Gnu-compliant"" and having a clearer syntax than CMake or autoconf/automake (and being incredibly faster).

I started to port Audacity to Meson and it's almost complete. I just need to add some tweaks to use the internal dependencies.

What do you think about that ?"Discussion should happen on audacity-devel mailing list.  Not many devs visit the pull requests.  =||= No author response, so closed. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
282Update Lithuanian translationwelaq07/13/18, 12:12:44 AMNaNNaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
283Add lt language to audacity.desktop.inwelaq07/13/18, 08:24:02 AMNaNThanks. =||= Add lt language to audacity.desktop.inwelaq07/13/18, 08:24:02 AMNaNNaNwelaq07/13/18, 12:20:37 AMAdd lt language to audacity.desktop.in1
284Fix double spacescootergrisen08/12/18, 02:27:09 PMNaNNaNFix double spacescootergrisen08/12/18, 02:27:09 PMNaNNaNscootergrisen07/20/18, 09:05:42 PMFix double space1
285Update Russian translationAlexandre Prokoudineprokoudine08/12/18, 01:53:43 PMHad to use Audacity again, got a bit frustrated over some user-visible untranslated entries, did a quick update."Thanks Alexandre, but this failed to pass Travis.  There is at least one error to fix:

ru.po:8971: number of format specifications in 'msgid' and 'msgstr' does not match
/usr/bin/msgfmt: found 3 fatal errors
 =||= Thanks! Fixed =||= Well, should I close this PR and open a new one? =||= Don't do that, I will catch up with this today.
 =||= "Update Russian translationAlexandre Prokoudineprokoudine08/12/18, 01:53:43 PMHad to use Audacity again, got a bit frustrated over some user-visible untranslated entries, did a quick update.NaNAlexandre Prokoudine07/24/18, 08:48:18 AMMore fixes to ru.po1
286EBU R128 loudness normalization and normalize progress bar bugfixMax Maiselmmmaisel07/24/18, 07:13:00 PM"This pull request implements EBU R128 loudness normalization in the Normalize effect.

It also refactors some parts of Biquad to allow code reuse in the 
loudness weighting filter implementation and fixes an existing bug in the
Normalize progress bar when normalizing stereo tracks.

More details about the changes can be found in the individual commit messages."NaNEBU R128 loudness normalization and normalize progress bar bugfixMax Maiselmmmaisel07/24/18, 07:13:00 PM"This pull request implements EBU R128 loudness normalization in the Normalize effect.

It also refactors some parts of Biquad to allow code reuse in the 
loudness weighting filter implementation and fixes an existing bug in the
Normalize progress bar when normalizing stereo tracks.

More details about the changes can be found in the individual commit messages."NaNMax Maisel07/24/18, 03:35:18 PM"Implement EBU R128 loudness normalization.

Please note that normalizing to large LUFS values may introduce clipping
of large peaks. However, the recommended target value in EBU R128 of
-23 LUFS should be totally safe but only uses a small amount of the
possible quantization range. For tracks with normal dynamic range,
normalizing to about -10 LUFS should be possible without clipping."1
287Normalize fixes and improvementsMax Maiselmmmaisel07/26/18, 03:42:09 PM"This Pull Request fixes an regression introduced by Normalize effect refactoring and
separates user preset values for LUFS and peak normalization.
It also improves the EBU R128 sample rate adaption source references."NaNNormalize fixes and improvementsMax Maiselmmmaisel07/26/18, 03:42:09 PM"This Pull Request fixes an regression introduced by Normalize effect refactoring and
separates user preset values for LUFS and peak normalization.
It also improves the EBU R128 sample rate adaption source references."NaNMax Maisel07/26/18, 03:01:45 PMAdded missing bias value in Normalize LUFS calculation.1
288Don't expose non-translatable strings for translationsDeleted userghost08/12/18, 02:17:28 PMThere are a few strings that (IMO) probably shouldn't be exposed to translators (things like numbers, pure printf commands, window class names).  I changed the _() macros to wxT()."Thanks.  I leave it to Paul to decide whether to apply these changes.  Sometimes we do need to offer unexpected things for translation - for example commas are not used the same in all languages. =||= James is right:  even strings containing only punctuation may require localization because languages may have slightly different conventions.

But thank you for finding ""ToolDock"".  I think the correct change there is the opposite:  it should be a user-visible string, so should keep the _ macro but insert a space instead.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
289Fix too low loudness normalization levels.Max Maiselmmmaisel07/27/18, 03:13:42 PM"LUFS are defined as the power of the signal, not as the root mean square.
Accidential use of the RMS caused incorrect normalization to only half
of the LUFS value."NaNFix too low loudness normalization levels.Max Maiselmmmaisel07/27/18, 03:13:42 PM"LUFS are defined as the power of the signal, not as the root mean square.
Accidential use of the RMS caused incorrect normalization to only half
of the LUFS value."NaNMax Maisel07/27/18, 02:50:27 PM"Fix too low loudness normalization levels.

LUFS are defined as the power of the signal, not as the root mean square.
Accidential use of the RMS caused incorrect normalization to only half
of the LUFS value."1
290Rewrite commit 1bc0f0f without further changes to lib-src...Paul LicameliPaul-Licameli08/02/18, 08:16:27 AM"... Reuse the external function registration added earlier in 2.3.0
development, for support of internationalization in Nyquist.

This way, we avoid making cyclic static linkage dependencies between the
library and the application."NaNRewrite commit 1bc0f0f without further changes to lib-src...Paul LicameliPaul-Licameli08/02/18, 08:16:27 AM"... Reuse the external function registration added earlier in 2.3.0
development, for support of internationalization in Nyquist.

This way, we avoid making cyclic static linkage dependencies between the
library and the application."NaNPaul Licameli08/02/18, 03:06:43 AM"Rewrite commit 1bc0f0f without further changes to lib-src...

... Reuse the external function registration added earlier in 2.3.0
development, for support of internationalization in Nyquist.

This way, we avoid making cyclic static linkage dependencies between the
library and the application."1
291Scrubbing rewrite 1Paul LicameliPaul-Licameli08/22/18, 12:58:00 AM"This includes preliminaries for rewriting scrubbing without the condition variable, by having only two threads left to contend for the relevant mutex -- not three.

It also rewrites the update of play head position drawn during scrubbing, anticipating other developments of improved seeking and adjusting loop play, though these may be seen as irrelevancies to the more immediate problems of 2.3.0.
""I'll retract this request and wait for 2.3.1.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
292Seek fixPaul LicameliPaul-Licameli08/22/18, 12:59:53 AM"The place in the PortAudio callback that detects a dried-up RingBuffer really shouldn't be hit.  We should eliminated all identifiable causes of that.

James lately fixed the case where it happened with scrubbing on WASAPI.

These changes fix it in case of seeking (with mouse, not arrow keys).  First, it happened most of the time seeking; then after some of the fix, there remained the cases of very slow mouse movement, and of moving the mouse past the end of track.

Incidentally some of the breaking-up of very big AudioIO functions is accomplished here:  first I split out AudioIO::AllocateBuffers, then in other commits I make modifications.

These modifications attempt to maintain a certain minimum occupancy in the RingBuffer, and will be a preliminary to eliminating the use of a condition variable, perhaps in the next Audacity version.
""Closing this, will reopen a pull request for a rebased branch, with a typo fixed in one commit comment.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
293Seek fixPaul LicameliPaul-Licameli08/26/18, 12:46:50 PM"(rebased onto more recent master)

The place in the PortAudio callback that detects a dried-up RingBuffer really shouldn't be hit. We should eliminated all identifiable causes of that.

James lately fixed the case where it happened with scrubbing on WASAPI.

These changes fix it in case of seeking (with mouse, not arrow keys). First, it happened most of the time seeking; then after some of the fix, there remained the cases of very slow mouse movement, and of moving the mouse past the end of track.

Incidentally some of the breaking-up of very big AudioIO functions is accomplished here: first I split out AudioIO::AllocateBuffers, then in other commits I make modifications.

These modifications attempt to maintain a certain minimum occupancy in the RingBuffer, and will be a preliminary to eliminating the use of a condition variable, perhaps in the next Audacity version."NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
295TyposOlivier Humberttrebmuh08/30/18, 03:11:22 AM"Doing the French translation update, I've meet those.
Hope that helps.
Olivier""Thank you.

I cherry-picked the two commits that change the C++ source code.

One corrects spelling in an i18n-hint comment.  The other changes http: to https: in a URL that was part of an internationalized string.  So that other requires a small update to audacity.pot.

The other changes, to audacity.pot and to the .po files, should instead by regenerated by the gettext tools from these source code changes.
 =||= :+1:  =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
296French translation update for the upcoming 2.3.0Olivier Humberttrebmuh08/30/18, 09:30:31 AMStrings update + typos fixes"@JamesCrook @Paul-Licameli : there is [on error on the travis build](https://travis-ci.org/audacity/audacity/builds/422322306#L5904) that I don't understand and thus, don't know how to fix.

This is related to [this translation entry](https://github.com/trebmuh/audacity/blob/patch-1/locale/fr.po#L17068).

Any advice welcome. =||= Sorry Olivier, I think we made some procedural errors in updating our audacity.pot.  All the generated lines
#, elisp-format
should instead have been
#, lisp-format

I think we need to correct our audacity.pot first and then ask you to merge and update again.
 =||= Hi @Paul-Licameli and all.

I've manually replaced the `#, elisp-format` by `#, lisp-format` (they were only 3 occurrences in the file) and the travis build now passes. Thanks for the hint.

Can you please merge this PR before updating the pot file? I fear having to redo all the string translations if not. =||= Thanks @JamesCrook :+1: 
@Paul-Licameli let me know on the translation mailing list when/if a new .pot file is available and then the French translation .po file needs an update.
 =||= "French translation update for the upcoming 2.3.0Olivier Humberttrebmuh08/30/18, 09:30:31 AMStrings update + typos fixesNaNOlivier Humbert08/30/18, 07:35:22 AM"Update fr.po

fixes"1
297Update fr.poOlivier Humberttrebmuh08/30/18, 05:32:05 PMrefinements + timestamp update + typos + fixes + personal comments + min/MAJThanks.  I've merged this. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
298Update fr.poOlivier Humberttrebmuh08/30/18, 06:27:19 PMfixes a fuzzy + timestamp update + remove the transifex link which is longggggg outdated (it's rating the translation at 59.4% finished while it's 100% translated here)NaNUpdate fr.poOlivier Humberttrebmuh08/30/18, 06:27:19 PMfixes a fuzzy + timestamp update + remove the transifex link which is longggggg outdated (it's rating the translation at 59.4% finished while it's 100% translated here)NaNOlivier Humbert08/30/18, 05:56:46 PMUpdate fr.po1
299French translation updateOlivier Humberttrebmuh08/31/18, 01:05:21 PM2 strings finished + timestamp updateThanks.  Merged to master. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
300Update the French translationOlivier Humberttrebmuh09/01/18, 08:08:29 AMNaNMerged =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
301Update polish translation from TransifexGrzegorz PruchniakowskiGootector09/02/18, 11:02:08 AMUpdate polish translation from TransifexThanks. =||= I added update for pl translation from Transifex (#303 ). Could you merge it? =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
302Update Ukrainian translationYuri Chornoivanyurchor09/02/18, 10:09:42 AM"Tested with ""msgfmt -vc"" for validity.

Thanks in advance for merging this PR."Thanks Yuri! =||= Update Ukrainian translationYuri Chornoivanyurchor09/02/18, 10:09:42 AM"Tested with ""msgfmt -vc"" for validity.

Thanks in advance for merging this PR."NaNYuri Chornoivan09/02/18, 09:41:57 AMUpdate Ukrainian translation1
303Update polish translation from TransifexGrzegorz PruchniakowskiGootector09/15/18, 01:32:00 PMUpdate polish translation from TransifexThanks committed. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
304Update issue templatesJames CrookJamesCrook09/10/18, 06:16:34 PMNaNPlease hold off on merging this!  A pull request was the only way to get editable versions of the defaults. =||= Committed. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
305wxWidgets as a submoduleMartin DelilleMartinDelille05/31/20, 05:27:49 PM"This is a work in progress because I couldn't test the compilation on my laptop (unable to find Xcode 4.3.3).

I opened a thread on the audacity-devel@lists.sourceforge.net list so feel free to speak about it here or there.""Martin, we have not forgotten you!

I hope to cooperate with you during the 2.3.1 development cycle to try out submodules for Audacity.

But right now, of course, the 2.3.0 release is imminent and takes priority.

PRL
 =||= No worries! I'm currently focus on an OMF import/export library: https://github.com/MartinDelille/libomf/ =||= Should this be under ""vendor/wxWidgets"" or ""lib-src/wxWidgets""?  Perhaps there will be ""lib-src"" directories that will switch to submodules in the future (since that makes managing changes much easer), if so, should they move from ""lib-src"" to ""vendor""? =||= @henricj Changing from `lib-src` to `vendor` would imply changing 178 files. I would suggest to go step by step and putting only submodules in the `vendor` folder.

`lib-src` folder could contains external sources that haven't been converted to submodules yet. =||= > @henricj Changing from lib-src to vendor would imply changing 178 files. I would suggest to go step by step and putting only submodules in the vendor folder.
> lib-src folder could contains external sources that haven't been converted to submodules yet.

Which 178 files?  One can add a submodule to the lib-src directory without changing anything else in that directory.  For example, see the [Add wxWidgets as a submodule under lib-src](https://github.com/henricj/audacity/commit/6a5ded289aecc5c387037000b782a680899c3bcf) commit in my [global-settings](https://github.com/henricj/audacity/commits/global-settings) branch. =||= @henricj Sorry I misunderstand you: I thought you wanted me moving all the files in `lib-src` to `vendor`. =||= Thanks.  We've decided against wxWidgets as a submodule.  We sometimes like to have two different wxWidgets builds around, and switch between them.  Doing wxWidgets as a module reduces our flexibility too much, and potentially causes considerable confusion. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
306French translation updateOlivier Humberttrebmuh09/29/18, 05:54:47 PM"This fixes a minuscule/capital letter typo, hence so small that there is no needs to update this file for 2.3.0 final.

I'm currently trying the 2.3.0 RC2 version on a Debian Stretch linux system and, if I would be to find other issue with the current state of the French translation, I'll add a commit for such here.

Note that if a typo/error which is big enough to be considered as very annoying for a 2.3.0 finale version would be found, I'd mention here that the translation update needs to be merged before the 2.3.0 finale release."Thanks.  Committed. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
307Bug1988: Don't lose data in unusual inter-project copy-paste casePaul LicameliPaul-Licameli09/26/18, 04:43:06 PMNaN"RM has decided to let the fix for this improbable use case wait after 2.3.0.  So I will push it myself after 2.3.1 development opens.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
308Translated time (& freq & bandwidth) formats in numeric controls...Paul LicameliPaul-Licameli09/26/18, 11:00:12 PMNaNNaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
309[WIP] Add travis CI for OSXMartin DelilleMartinDelille11/01/18, 11:24:16 PM"Here is what I plan to achieve in this PR:

- [ ] Use a build matrix to support linux and osx
- [ ] Compile wxWidget with a SDK support by travis (no Xcode 4.3.3 unfortunately)
- [ ] Compile Audacity

Here is a link to a helpful article: https://wiki.audacityteam.org/wiki/Building_On_Mac

What could benefit if this PR is a success would be posting a compiled DMG here: https://github.com/audacity/audacity/releases"This is work in progress isn't it?  So it is not ready to pull.  Also what it does does not match the title.  It's mostly about submodules, without the changes to compile on OSX.  We're likely to want to take the changes to do CI builds on OSX **_before_** we take any changes for submodules, so those should be separated out for now. =||= I think there is too much work trying to make OSX build without submodules. That is why this PR is blocked by https://github.com/audacity/audacity/pull/305 =||= Not updated, so closed. =||= This is not updated because my other PR hasn't been tested. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
310Add EBU-R128 loudness gating and RMS to Normalize effectMax Maiselmmmaisel10/11/18, 05:45:44 PM"This pull request adds RMS normalization option and EBU-R128 / ITU BS.1770-4
loudness gating to the normalize effect."NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
311Bug 1832: Fix adjusting time track when in logarithmic scalePokechu22Pokechu2210/03/18, 01:13:25 AM"https://bugzilla.audacityteam.org/show_bug.cgi?id=1832

The typo that caused this appears to have been introduced when this code was restructured in 9e0010ec5f.  This ended up causing zoomMin to usually be larger than zoomMax, which caused the hit test to always fail.""Thanks, you caught a mistake of mine.
 =||= "Bug 1832: Fix adjusting time track when in logarithmic scalePokechu22Pokechu2210/03/18, 01:13:25 AM"https://bugzilla.audacityteam.org/show_bug.cgi?id=1832

The typo that caused this appears to have been introduced when this code was restructured in 9e0010ec5f.  This ended up causing zoomMin to usually be larger than zoomMax, which caused the hit test to always fail."NaNPokechu2210/02/18, 10:54:20 PM"Bug 1832: Fix adjusting time track when in logarithmic scale

The typo that caused this appears to have been introduced when this code was restructured in 9e0010ec5f."1
312pretty README.mdMartin DelilleMartinDelille10/10/18, 04:40:31 PMHere is a proposal for a nicer README.md"@trebmuh It looks like we are involved in the same projects :-) =||= Rejected.
Travis build fails with this because Linux make files were not updated. =||= @JamesCrook this PR was just about documentation... I don't understand why I should update the documentation of a plateform I don't use... 😢  =||= If Audacity fails to build on Windows, macOS or Linux, then that is automatically a P1 bug (priority 1).
If you don't fix that, then someone else would have to do so straight away because it blocks all testing on the affected platform.

Personally, I like md files with markup, but I think this change would need to be discussed and agreed by the team. IF it is agreed that we want to change from plain text to markup (and there's pros and cons to both), then additional changes are required beyond what is included in these commits. For example, I think that the file MUST read correctly in a normal text viewer / text editor, because most users that download Audacity will not be viewing the README with a markdown viewer. So, as a specific, I think that numbered lists must retain sequential numbering.

Also, the README.txt file is used in the Windows installer as InfoAfterFile=..\README.txt
According to http://www.jrsoftware.org/ishelp/index.php?topic=setup_infobeforefile it must be "" in .txt or .rtf (rich text) format"".

So to answer your question briefly, this is not just a cosmetic change in the documentation. It would need to be discussed, agreed, fixed and tested. If you are interested in pursuing this, then the first step is to raise the question on the developer's mailing list (as James has already noted: https://github.com/audacity/audacity/milestone/1 ) =||= That makes sense. =||= Closing the pull request is not cool, especially for a first contribution.

I didn't realized that the README.txt was a build dependency and could have tried to fix that (like I did [here](https://github.com/MartinDelille/audacity/commit/0c876c2485bedaf642d225d963b813f4cd753c86) but since the PR is closed, there is no more travis build)

I correct the numbered list [here](https://github.com/MartinDelille/audacity/commit/8168a1c1722ca4765d15a17158d86136bf49536d)

I did spoke about this change in the mailing list. =||= Martin, now perhaps you understand better why discussion on the mailing list is required?

Your pull request simply had too many problems.  It was an un-necessary un-asked-for format change that creates several problems.  Please read over Steve's comments, and mine.  I agree with everything Steve says there.  If a pull request breaks the build it's a candidate for speedy rejection.

312 is by the way not a first pull request from you.  305 and 309 are still pending.  You have also been given and accepted write access to https://github.com/audacity/portaudio so that, if you want to, you can experiment with making our patched version of it into a submodule.  It would be strange to have wxWidgets as a submodule (pull 305) and not portaudio.
 =||= Ok sorry for that. I'll be respecting the project policies in the futur. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
313Link with -latomic if using clang on Linux.Max Maiselmmmaisel10/10/18, 04:35:09 PM"Clang (tested with v7.0 on Arch Linux) needs to link with -latomic on Linux. Otherwise there will be linker errors about undefined references.
This can be easily fixed by checking if we are using clang and conditionally adding ""-latomic"" to LDFLAGS in configure.ac."Merged. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
314Appdata enhacements (fix component type and add release information)Jorgejgarciao10/10/18, 04:34:27 PM"With component type = desktop Audacity's information will be updated in [Audacity s page](https://flathub.org/apps/details/org.audacityteam.Audacity) at Flathub

Release info will be shown in the same page and also in Gnome Software and other software

"Merged. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
315Added Pro Tools themeJonatã Bolzan Lossjonata10/16/18, 10:59:16 AMJust an optional theme for those familiar with the Avid DAW."Hi Jonata.  Please discuss on our devel email list.
This pull request is probably not suitable, as the graphics are likely to be copyright protools.
 =||= This also fails the CI build so is a candidate for speedy rejection. =||= Looks like you've got an unresolved merge conflict in src/Theme.cpp =||= That is just some tweak we made on a customised build we use here. The graphics does not contain any copyrighted material as it uses Audacity logo, just from another iconset/style. I just wanted to offer it for the team, but certainly this is not something essential to Audacity. So, no problem rejecting it. =||= Jonta, before I close this, can I encourage you to make your Pro Tools theme into an ImageCache.png file and provide it for download somewhere for people who are interested?  If you already do so, tell us where.

If you are using Pro Tools styles and icons, I would expect them to be covered by Pro Tools copyright.  If you aren't, and from what you say it sounds like you aren't, then calling it 'Pro Tools' theme is not very accurate, so you would need a different name. =||= Hi James! I will look at some more information about copyright use of the icon styles, and hopefully make it available for download somewhere with a different name. I fully understand the implications you presented. Anyway, thank you so much for your consideration. =||= Thanks Jonata. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
317Print position in seconds to stoutJonatã Bolzan Lossjonata09/05/19, 12:07:01 PM"This gives the option to build Audacity that prints to stdout the cursor position in seconds (preceded with the str ""(seek)"". Useful for use with xjadeo, for example.""Please discuss the use case on audacity devel mailing list.
We might want to extend this to a way to record many more events (for automation) rather than a special case mechanism just for selection changes.  For example, expose history list to automation queries. =||= Per conversation on audacity-devel, we won't take this change, and instead are interested in something more general at a future date. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
318Updated the Norwegian translation quite heavilyImre Kristoffer EilertsenDandelionSprout10/14/18, 09:04:34 AM"I've updated the Norwegian translation considerably, making it 100% completed once again.

Having previously worked on translating Audacity back in 2016, I wasn't very comfortable with the mailing list system, as it made it difficult to ensure that messages were reaching the relevant individual persons properly, made me a recipient of E-mails from other translators that were irrelevant to me, and also left me open to receive spam messages from bots. Therefore I hope that it's possible for me to submit this on GitHub instead.""Thank you so much for the Norwegian translation.  It's really appreciated.  I've merged it into master.

Myself and Paul do monitor pull requests for updated translations here, so there is no problem with us taking translations from GitHub pull requests.  By not being on the translator mailing list you will miss out on some information.  For example the current plan is that we will have a string and code freeze on 15th November, in preparation for actual release of 2.3.1 before the end of 2018.  It is likely that the cut off date for translations for 2.3.1 will be morning of 1st December.  Schedule information is also at https://wiki.audacityteam.org/wiki/Next_Release and usually kept up to date there.



 =||= Ah, so there is a webpage that keeps track of upcoming versions of Audacity? That's pretty convenient, actually. It's nice for me to know that 2.3.1 isn't too far away, and that there may be more strings for me to translate in late November. 🙂  =||= "Updated the Norwegian translation quite heavilyImre Kristoffer EilertsenDandelionSprout10/14/18, 09:04:34 AM"I've updated the Norwegian translation considerably, making it 100% completed once again.

Having previously worked on translating Audacity back in 2016, I wasn't very comfortable with the mailing list system, as it made it difficult to ensure that messages were reaching the relevant individual persons properly, made me a recipient of E-mails from other translators that were irrelevant to me, and also left me open to receive spam messages from bots. Therefore I hope that it's possible for me to submit this on GitHub instead."NaNImre Kristoffer Eilertsen10/14/18, 04:33:18 AMFixed 4 spelling errors1
319Missing <wx/sizer.h> includeVitaly Kirsanovkrokoziabla10/20/18, 11:19:36 AM"Without it build on my Windows host fails

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"NaNMissing <wx/sizer.h> includeVitaly Kirsanovkrokoziabla10/20/18, 11:19:36 AM"Without it build on my Windows host fails

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"NaNVitaly Kirsanov10/20/18, 07:48:39 AM"Missing <wx/sizer.h> include

Without it build on my Windows host fails"1
320Experimental Loudness effectMax Maiselmmmaisel11/07/18, 11:50:58 PM"See audacity-devel mailing list for details.

In conclusion, the changes are:
* Refactored parts of the Normalize effect for concurrent stereo processing (commit 2ff76bb667e...). This also adds the AllocBuffers(), LoadBufferBlock() and StoreBufferBlock() memory helper functions.
* Splitted Normalize into Normalize and Loudness effect on the same code base.
* Add EBU R 128 Loudness gating as described in ITU BS.1770-4.
* Add RMS normalization.
* Replace ""Use Loudness"" checkbox with dropdown menu.
* Added ""Treat mono as dual-mono"" checkbox.
* All new features can be easily disabled from Experimental.h"I'm closing this pull request because RMS Normalize gives incorrect level on stereo tracks. I have posted details on audacity-devel mailing list. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
321Cosmetic changes to help build from scratchMikhail Korbakovmikekmv11/06/18, 01:00:39 AM"When building audacity from scratch (following the instructions of course),
I ran into two minor problems:
1. In Ubuntu 16.04: Not all header files was installed.
2. In Windows, when creating the installer the file Vietnamese.isl is missing ,
but I installed the files from the repository https://github.com/jrsoftware/issrc/tree/master/Files/Languages/Unofficial as recommended."Nothing changed for Travis )) =||= Thanks. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
323Update ru.poEvropa110/30/18, 06:57:25 PM"# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"Thanks.  Committed. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
324Tweak appdata XMLRobert McQueenramcq06/14/20, 05:33:07 PMCorrect launchable type syntax, add OARS content ratings. This will improve handling in Flathub and app centers such as GNOME Software and KDE Discover which are starting to gain ability to filter by age-appropriateness."Any update on this? =||= We are about to start a new release cycle. Now would be a good time to come over talk with us at the audacity devel email list, explain what the benefit of this pull request is, and how it accomplishes it's aim. (See: https://github.com/audacity/audacity/milestone/1)
For what it's worth, this looks good to me, though I know very little about appdata.xml or OARS. =||= > explain what the benefit of this pull request is, and how it accomplishes it's aim

Everything is explained in this PR.

> come over talk with us at the audacity devel email list

This erects a needless hurdle for such simple drive-by patches. =||= It would be great if this PR could be merged. The current AppData file has invalid syntax and is [broken in Fedora](https://bugzilla.redhat.com/show_bug.cgi?id=1810509#c13). This PR fixes it. =||= "Tweak appdata XMLRobert McQueenramcq06/14/20, 05:33:07 PMCorrect launchable type syntax, add OARS content ratings. This will improve handling in Flathub and app centers such as GNOME Software and KDE Discover which are starting to gain ability to filter by age-appropriateness.NaNRobert McQueen11/22/18, 10:02:33 AM"Tweak appdata XML

Correct launchable type syntax, add OARS content ratings."1
325Darkaudacityromusprime11/23/18, 10:33:01 AM"# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
""Thanks romusprime but we keep darkaudacity separate intentionally.
This pull request also has conflicts, so it would not be merged in any case. =||= Will DarkAudacity be updated with the latest Audacity release? =||= @YodaEmbedding - it's unlikely.  What's more likely is that Audacity will pick up the LED meter and other changes from DarkAudacity. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
326Fix 66 misleading-indentation warnings by g++ 6.3Themroc11/24/18, 05:41:53 PM"# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
""Thanks Themroc, but I am closing this.
We currently don't change third party libs in lib-src unless we have to.

We are looking into being much freer with changes to lib-src in future.  We'll probably/possibly be happier to make changes in lib-src when we have good communications with 'upstream' established. =||= Okay, lets see what happens upstream...

https://sourceforge.net/p/portmedia/discussion/697912/thread/c37cd11790/ =||= Btw. here

https://sourceforge.net/p/portmedia/mailman/portmedia-updates/?limit=250

it looks like portsmf hasn't changed at all since 2010-10-09 16:48:27 ...  =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
327French translation updateOlivier Humberttrebmuh11/24/18, 09:05:54 PMNaNThanks.  Squash committed. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
328Final touches on the Norwegian translationImre Kristoffer EilertsenDandelionSprout11/29/18, 07:52:15 PMAs per #318, here's the last few strings for the Norwegian translation. 🙂 Thank You! =||= Final touches on the Norwegian translationImre Kristoffer EilertsenDandelionSprout11/29/18, 07:52:15 PMAs per #318, here's the last few strings for the Norwegian translation. 🙂 NaNImre Kristoffer Eilertsen11/29/18, 02:54:01 PMUpdate nb.po1
329Update Polish translation from TransifexGrzegorz PruchniakowskiGootector12/01/18, 12:27:02 PM"Update pl.po from Transifex.

Greetings,
Gootector

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"Thanks! =||= Update Polish translation from TransifexGrzegorz PruchniakowskiGootector12/01/18, 12:27:02 PM"Update pl.po from Transifex.

Greetings,
Gootector

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"NaNGrzegorz Pruchniakowski12/01/18, 02:36:29 AM"Update Polish translation from Transifex

Update pl.po from Transifex.

Greetings,
Gootector"1
331Update sv.poA. RegnanderRegnander12/20/18, 10:53:50 PM"Translated all untranslated strings and corrected some existing strings

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"Thanks.  Committed. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
332Fix bug 2053Pokechu22Pokechu2204/11/19, 07:04:54 PM"https://bugzilla.audacityteam.org/show_bug.cgi?id=2053

Simply adding the FixScrollbars refresh code is sufficient.

This obviously isn't needed for 2.3.1; it's just something that I noticed and figured it would be better to PR before I forgot about it."Thanks. =||= Fix bug 2053Pokechu22Pokechu2204/11/19, 07:04:54 PM"https://bugzilla.audacityteam.org/show_bug.cgi?id=2053

Simply adding the FixScrollbars refresh code is sufficient.

This obviously isn't needed for 2.3.1; it's just something that I noticed and figured it would be better to PR before I forgot about it."NaNPokechu2201/05/19, 04:22:43 AM"Fix bug 2053

Simply adding the FixScrollbars refresh code is sufficient."1
333Don't declare snprintf macro for MSVC 2015 and 2017 in lv2Vitaly Kirsanovkrokoziabla03/14/19, 11:57:53 AM"That declaring breaks build on MSVC 2015/17 (2013 is ok). There is a note about
changed behaviour of snprintf beginning from VS 2015 here:
https://docs.microsoft.com/ru-ru/cpp/c-runtime-library/reference/snprintf-snprintf-snprintf-l-snwprintf-snwprintf-l?view=vs-2017#remarks

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"This snprintf change is similar to one of the [changes made](https://github.com/audacity/audacity/commit/8bf2071fddb398d4b9f1c02dbc0cec6177bb20c7) when support for VS2017 was added.  There were other MSBuild file (.vcxproj) changes that were pushed at around the same time (June 26, 2018) that might also be relevant for CMake. =||= Don't declare snprintf macro for MSVC 2015 and 2017 in lv2Vitaly Kirsanovkrokoziabla03/14/19, 11:57:53 AM"That declaring breaks build on MSVC 2015/17 (2013 is ok). There is a note about
changed behaviour of snprintf beginning from VS 2015 here:
https://docs.microsoft.com/ru-ru/cpp/c-runtime-library/reference/snprintf-snprintf-snprintf-l-snwprintf-snwprintf-l?view=vs-2017#remarks

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"NaNВиталий Кирсанов01/13/19, 04:08:43 PM"Don't declare snprintf macro for MSVC 2015 and 2017 in lv2/CMakeLists.txt

That declaring breaks build on MSVC 2015/17 (2013 is ok). There is a note about
changed behaviour of snprintf beginning from VS 2015 here:
https://docs.microsoft.com/ru-ru/cpp/c-runtime-library/reference/snprintf-snprintf-snprintf-l-snwprintf-snwprintf-l?view=vs-2017#remarks"1
334Update Italian translationMichele Locatimlocati03/15/19, 12:30:07 PMNaN"Hi Michele,

Please join the translators list and talk with Carmelo Battaglia there.  He is coordinating translation for Italian. =||= @JamesCrook I already contacted him via email (a couple of months ago) =||= @mlocati what did Carmelo say about your changes?  Has he reviewed them? =||= @JamesCrook we discussed a bit about writing rules. He prefers to use a more personal approach when writing strings, I prefer to use the well established and discussed [rules defined by the Italian section of the Free Translation Project](http://tp.linux.it/buona_traduzione.html).
Anyway, we also wrote:

> hai un grande merito nell’aver eseguito una revisione completa di tutte le stringhe di Audacity e sarei veramente felice che tu voglia continuare in futuro l’aggiornamento delle prossime versioni perché io comincio a essere stanco di tale impegno e volentieri ti cederei il lavoro.

Which, transladed, sounds more or like a go for my strings, and he expresses the wish to delegate to me the maintenance of the Italian translations. =||= Thanks Michele.  I merged it.  For future updates to .pot file I have a preference for receiving them on the translation mailing list.  Announcements about when we are needing updates (and when we are NOT taking them due to release in progress) are made there. =||= > For future updates to .pot file I have a preference for receiving them on the translation mailing list.

Why? I think that seeing here on GitHub is much nicer, since you (and everybody) can see the differences very easily.

> Announcements about when we are needing updates (and when we are NOT taking them due to release in progress) are made there.

I'd prefer a more continuous system (like I suggested [in the mailing list](https://sourceforge.net/p/audacity/mailman/message/36526610/)): developers update the code, a [TravisCI job](https://github.com/audacity/audacity/pull/335) updates the .pot file, an online tool (like Transifex) can be configured to fetch the .pot file on a regular (daily) basis, translators translate strings as soon as they are available in Transifex (or whatever).
That way, we'd have a collaborative, continuous (we don't have to translate tons of strings on a hurry right before a release) way to translate Audacity.
The nice stuff of Transifex is that is allows translators to work with .po files (they can download/upload them). =||= I'm against using transifex (private business, non-free). I could cope with weblate but am not a big fan, and I'm fine with the current system using the mailing-list allowing translators to discuss when needed. =||= > I'm against using transifex (private business, non-free).

@trebmuh I also am not a great supporter of closed source projects (that's one of the reasons why I developed [CommunityTranslation](https://github.com/concrete5/addon_community_translation), an online collaborative tool currently used by [translate.concrete5.org](https://translate.concrete5.org) to translate concrete5).
Nevertheless, IMHO online collaborative translation is much more powerful than offline translation... =||= Depends, a badly configured online service (such as transifex, weblate, ...whatever) can be very less useful, more errors-prone, and more selfish-oriented than a mailing list which has proven being useful in Audacity's case for a bunch of years now.

Anyway, this discussion shouln't happen here on github but on the translators mailing-list. Please, switch it to there. =||= @mlocati please, as trebmuh says, have such discussion about tools for translation on the translators list.

As a practical matter, I personally find it easier to handle po files that arrive at the email address.  So if you do post here, they are likely to sit for much longer without comment from anyone.  Your choice though. =||= "Update Italian translationMichele Locatimlocati03/15/19, 12:30:07 PMNaNNaNMichele Locati01/18/19, 08:23:42 AMSpell-check1
335Automatically refresh language files when pushing to masterMichele Locatimlocati11/09/19, 04:39:03 PM"As discussed in the audacity-translation mailing list, it'd be useful to automatically update the `locale/audacity.pot` language file, so that it's always up-to-date.

This is implemented by executing a script whenever a push to `master` occurs, which updates the .pot file and commits it back to the repository.
This requires to setup an encrypted environment variable named `GITHUB_ACCESS_TOKEN`, containing a GitHub token created at https://github.com/settings/tokens/new with write access to this repository.
This encrypted `GITHUB_ACCESS_TOKEN` variable should then be added to the `.travis.yml` file ([example](https://github.com/punic/punic/blob/3.3.1/.travis.yml#L18)), or to the administration area of the TravisCI project.""One other thing that I am slightly concerned about is that the build for this PR hasn't finished at all, but I'm not sure if it's your fault (it says it's queued but it's been like that for several hours; I don't know enough about travis to say whether that's normal).  Do you know why that's happening? =||= I don't know why the TravisCI job is still pending. Maybe someone with admin rights could try to stop and restart it =||= I've cancelled the build and restarted it.

Steve

On Thu, 24 Jan 2019 at 19:35, Michele Locati <notifications@github.com>
wrote:

> I don't know why the TravisCI job is still pending. Maybe someone with
> admin rights could try to stop and restart it
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/335#issuecomment-457327685>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/ALI9SfyCBNmbIIg45Z-b_f923nME1UjXks5vGgr1gaJpZM4aQs6M>
> .
>
 =||= It seems it's hung again: https://travis-ci.org/audacity/audacity/jobs/483883182

Tomorrow I'll contact the TravisCI support asking why this occurs. =||= I contacted the TravisCI support, and they suggested to change
```yaml
language:
    - cpp
```
to
```yaml
language: cpp
```
And now the job started (see https://travis-ci.org/audacity/audacity/builds/484335545). =||= Thanks.  We're not going to do this though.  Updating .pot and .po files is part of the documented release process.  We don't want extra (somewhat spurious) automated GitHub commit messages for language file updates. =||= I don't understand why it's a bad/spurious thing if language files are automatically kept in sync with the source files... =||= It means an extra GitHub commit. =||= And is it a problem? =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
336Fix1899Mike BarkerMikeOnEvelynB04/02/19, 08:17:30 PM"# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
""This fixes Bugs 1899 and 2007.  It also incorporates a fix for the problem where the Documents\Audacity folder is created in the wrong directory when the user has moved 'Documents' out of their 'home' directory, this was discussed in my e-mail of 11th January 2019. =||= Thanks.  We'll consider this for 2.3.2 =||= Merged into master with 44fde0a90 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
338Fix hard linkMike BarkerMikeOnEvelynB01/29/19, 02:03:05 PM"# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
""Fix for Bug 1979.  See Line 78 in src\Filenames.cpp.  The arguments to CreateHardLinkA are in the wrong order - which means it always fails and therefore we always revert to a more expensive copy operation. In addition the use of CreateHardLinkA is incorrect as it forces a conversion to Ascii which can fail. Since the Windows version of Audacity is compiled in Unicode then CreateHardLinkW is the correct call to use (or let the pre-processor decide). =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
339Correct config macro for expat lib on MacOSVitaly Kirsanovkrokoziabla03/14/19, 11:57:54 AM"Otherwise build breaks

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"NaNCorrect config macro for expat lib on MacOSVitaly Kirsanovkrokoziabla03/14/19, 11:57:54 AM"Otherwise build breaks

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"NaNVitaliy Kirsanov03/01/19, 08:34:39 PM"Correct config macro for expat lib on MacOS

Otherwise build breaks"1
340Update French translationOlivier Humberttrebmuh03/14/19, 11:57:54 AMFixes a typo. Please, merge ASAP.NaNUpdate French translationOlivier Humberttrebmuh03/14/19, 11:57:54 AMFixes a typo. Please, merge ASAP.NaNOlivier Humbert03/09/19, 01:44:28 AMUpdate fr.po1
341Fix loading of LV2 effects that have Event ports (Calf Plugins)Geoffrey McRaegnif11/24/19, 09:55:44 PMThe Calf plugin suite exposes Event ports which is currently not supported or defined in `liblilv`, so instead of flat rejecting the filter, test the port name for `Events` and allow them to load."Thanks for the pull request gnif. Please come and talk to us about this on the developer's mailing list (see: https://sourceforge.net/projects/audacity/lists/audacity-devel ) =||= Thank you.  
This has now been merged. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
342Add tr language to audacity.desktop.inYaşar Çivyasarciv03/15/19, 01:55:51 PMNaNThanks! =||= Add tr language to audacity.desktop.inYaşar Çivyasarciv03/15/19, 01:55:51 PMNaNNaNYaşar03/15/19, 01:17:00 PMUpdate for Turkish1
343Use native CMakeLists.txt for libexpatVitaly Kirsanovkrokoziabla03/16/19, 01:10:22 PM"cmake-proxies/expat/CMakeLists.txt seems to make more problems than it
solves. But the native one appears doing its job well on multiple
platforms. Tested on Windows, OSX, Linux and FreeBSD.

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
""Sorry Vitaly, but we try to avoid changing our 3rd part libs.  That's the reason for the cmake-proxies directory.  We can make changes there.  Our problem is we have to back patch our changes to 3rd party libs, if we update them.  

If you don't like our plan/strategy, discus on audacity-devel mailing list NOT here. =||= Reopened since the change to the '3rd party lib' is not strictly our own, but rather a back-port of a future change.  Therefore will not be 'blown away' when we later upgrade the library. =||= "Use native CMakeLists.txt for libexpatVitaly Kirsanovkrokoziabla03/16/19, 01:10:22 PM"cmake-proxies/expat/CMakeLists.txt seems to make more problems than it
solves. But the native one appears doing its job well on multiple
platforms. Tested on Windows, OSX, Linux and FreeBSD.

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"NaNVitaliy Kirsanov03/14/19, 04:03:29 PM"Use native CMakeLists.txt for libexpat

cmake-proxies/expat/CMakeLists.txt seems to make more problems than it
solves. But the native one appears doing its job well on multiple
platforms. Tested on Windows, OSX, Linux and FreeBSD.

# Please enter the commit message for your changes. Lines starting
# with '#' will be ignored, and an empty message aborts the commit.
#
# Author:    Vitaliy Kirsanov <krokoziabla@yandex-team.ru>
# Date:      Thu Mar 14 19:03:29 2019 +0300
#
# On branch tmp
# Your branch is up to date with 'my/tmp'.
#
# Changes to be committed:
#	modified:   cmake-proxies/CMakeLists.txt
#	deleted:    cmake-proxies/expat/CMakeLists.txt
#	modified:   lib-src/expat/CMakeLists.txt
#
# Changes not staged for commit:
#	modified:   lib-src/expat/CMakeLists.txt
#"1
344Bug 2079: FreeBSD compilation broken by -latomic use.Vitaly Kirsanovkrokoziabla05/25/20, 06:50:04 AM"To cut a long story short the least painful way to fix this is to link
against libatomic if it is present and to not otherwise.

clang needs libatomic if either:
  1. it's using libstdc++ during build;
  2. it's using libc++ but libcomiler-rt has been built without support of
     atomic functions.

It seems quite a job to find out how clang has been set up. Therefore
I'm prorosing this simpler patch which gives the desired result both on
FreeBSD and Archlinux.

Also I've updated AX_COMPILER_VENDOR macro. Now it supports clang and
thus detecting the type of the compiler can be expressed more elegantly.

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
""@krokoziabla I'm seeing this bug on OpenBSD too, but your fix does not work for me. I'd suggest something like the following, which should work regardless of the compiler vendor:

```
AC_LINK_IFELSE([AC_LANG_SOURCE([[
  #include <atomic>
  #include <cstdint>
  std::atomic<std::int64_t> v;
  int main() {
    return v;
  }
]])], STD_ATOMIC_NEED_LIBATOMIC=no, STD_ATOMIC_NEED_LIBATOMIC=yes)
if test ""x$STD_ATOMIC_NEED_LIBATOMIC"" = xyes; then
   LDFLAGS=""${LDFLAGS} -latomic""
fi
``` =||= @RJVB: I didn't test yet, but the approach from @rrrapha looks like it might solve our problem as well (for which you wrote a quick-and-dirty workaround patch). Are you willing to test on both your Linux & Mac? =||= I can probably fit that in.

Edit: an autoreconf of the configure scripts takes forever because it recurses into all contrib directories. That's overkill but there may not be any way to avoid it (I'll have to wait for this call to complete before trying with `--no-recursive`)?
Edit2: autoreconf failed after 21 minutes (on my Linux rig), tripping over a missing AC_PROG_OBJCXX in the toplevel configure.ac because my other patches introduce ObjC++ code in src/Makefile.am. Another thing to take into account: all files (re)generated by autoreconf are tracked in git, so triggering a regenerate is going to make patch management a nightmare.

Note that my own patch adds a simple platform check to determine whether or not -latomic might be required. *Are* there any platforms beyond Linux which do, and what guarantee is there that they will need a libatomic and not some other library? Because that's the assumption of the above patch...
And btw, the test succeeds with clang, meaning even on Linux -latomic isn't always required?!

Anyway, this patch looks like it should work (build now running). Note how one has to remove the special handling of clang (which according to the result of the new test is redundant anyway?!)

```
--- a/configure
+++ b/configure
@@ -19205,10 +19788,6 @@ if test x$enable_universal_binary = xyes; then
    esac
 fi
 
-if ($CXX --version | grep 'clang version' > /dev/null); then
-    LDFLAGS=""${LDFLAGS} -latomic""
-fi
-
 if test x$enable_sse = xyes; then
 
    if test ""${ax_cv_cxx_compiler_vendor}"" = ""gnu""; then
@@ -23741,6 +24320,35 @@ fi
          as_fn_error $? ""dlopen not found, required by Audacity"" ""$LINENO"" 5
       fi
 
+                  { $as_echo ""$as_me:${as_lineno-$LINENO}: checking if std::atomic requires libatomic"" >&5
+$as_echo_n ""checking if std::atomic requires libatomic... "" >&6; }
+      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+        #include <atomic>
+        #include <cstdint>
+        std::atomic<std::int64_t> v;
+        int main() {
+          return v;
+        }
+
+_ACEOF
+if ac_fn_cxx_try_link ""$LINENO""; then :
+  STD_ATOMIC_NEED_LIBATOMIC=no
+else
+  STD_ATOMIC_NEED_LIBATOMIC=yes
+fi
+rm -f core conftest.err conftest.$ac_objext \
+    conftest$ac_exeext conftest.$ac_ext
+      if test ""x$STD_ATOMIC_NEED_LIBATOMIC"" = xyes; then
+         LDFLAGS=""${LDFLAGS} -latomic""
+         { $as_echo ""$as_me:${as_lineno-$LINENO}: result: adding -latomic to LDFLAGS"" >&5
+$as_echo ""adding -latomic to LDFLAGS"" >&6; }
+      else
+         { $as_echo ""$as_me:${as_lineno-$LINENO}: result: no"" >&5
+$as_echo ""no"" >&6; }
+      fi
+
       { $as_echo ""$as_me:${as_lineno-$LINENO}: checking for gtk3 use in wxWidgets"" >&5
 $as_echo_n ""checking for gtk3 use in wxWidgets... "" >&6; }
       CPPFLAGS=""${WX_CXXFLAGS}""
diff --git a/configure.ac b/configure.ac
index 40fc326685dca2bd159321283d3d09bb0e8b7d55..dbb0c7a6672bae9c4a935c66fb7426ff1425f26f 100644
--- a/configure.ac
+++ b/configure.ac
@@ -200,14 +200,6 @@ if test x$enable_universal_binary = xyes; then
    esac
 fi
 
-dnl Check if $CXX is clang by evaluating the version string because
-dnl $ax_cv_cxx_compiler_vendor seems not to work (it is either ""gnu"" or just empty).
-dnl If $CXX is clang (string is found), grep returns 0 and the if is executed.
-dnl Use /dev/null to suppress grep output to shell.
-if ($CXX --version | grep 'clang version' > /dev/null); then
-    LDFLAGS=""${LDFLAGS} -latomic""
-fi
-
 if test x$enable_sse = xyes; then
 
    if test ""${ax_cv_cxx_compiler_vendor}"" = ""gnu""; then
@@ -605,6 +597,24 @@ case ""${host_os}"" in
          AC_MSG_ERROR([dlopen not found, required by Audacity])
       fi
 
+      dnl Check if we need to pull in libatomic
+      dnl (assuming std::atomic is provided by libatomic in that case)
+      AC_MSG_CHECKING([if std::atomic requires libatomic])
+      AC_LINK_IFELSE([AC_LANG_SOURCE([[
+        #include <atomic>
+        #include <cstdint>
+        std::atomic<std::int64_t> v;
+        int main() {
+          return v;
+        }
+      ]])], STD_ATOMIC_NEED_LIBATOMIC=no, STD_ATOMIC_NEED_LIBATOMIC=yes)
+      if test ""x$STD_ATOMIC_NEED_LIBATOMIC"" = xyes; then
+         LDFLAGS=""${LDFLAGS} -latomic""
+         AC_MSG_RESULT([adding -latomic to LDFLAGS])
+      else
+         AC_MSG_RESULT([no])
+      fi
+
       AC_MSG_CHECKING([for gtk3 use in wxWidgets])
       CPPFLAGS=""${WX_CXXFLAGS}""
       AC_EGREP_CPP(wxWidgets built with GTK3,

``` =||= Verdict:

```
audacity-AudioIO.o: In function `AudioIO::AudioIO()':
/usr/lib/gcc/x86_64-linux-gnu/8/../../../../include/c++/8/atomic:220: undefined reference to `__atomic_is_lock_free'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[2]: *** [audacity] Error 1
```

Means the test should probably check for something in addition; I'll come back to this tonight. =||= This works:

```
diff --git a/configure b/configure
index e9f23be5471f718b42e290c44d19634e16bc2610..810d7088245c4173efecf94991d8c1cb7230f66e 100755
--- a/configure
+++ b/configure
@@ -19205,10 +19205,6 @@ if test x$enable_universal_binary = xyes; then
    esac
 fi
 
-if ($CXX --version | grep 'clang version' > /dev/null); then
-    LDFLAGS=""${LDFLAGS} -latomic""
-fi
-
 if test x$enable_sse = xyes; then
 
    if test ""${ax_cv_cxx_compiler_vendor}"" = ""gnu""; then
@@ -23741,6 +23737,36 @@ fi
          as_fn_error $? ""dlopen not found, required by Audacity"" ""$LINENO"" 5
       fi
 
+                  { $as_echo ""$as_me:${as_lineno-$LINENO}: checking if std::atomic requires libatomic"" >&5
+$as_echo_n ""checking if std::atomic requires libatomic... "" >&6; }
+      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+        #include <atomic>
+        #include <cstdint>
+        std::atomic<std::int64_t> v;
+        int main() {
+          bool f = std::atomic<double>{}.is_lock_free();
+          return v;
+        }
+
+_ACEOF
+if ac_fn_cxx_try_link ""$LINENO""; then :
+  STD_ATOMIC_NEED_LIBATOMIC=no
+else
+  STD_ATOMIC_NEED_LIBATOMIC=yes
+fi
+rm -f core conftest.err conftest.$ac_objext \
+    conftest$ac_exeext conftest.$ac_ext
+      if test ""x$STD_ATOMIC_NEED_LIBATOMIC"" = xyes; then
+         LDFLAGS=""${LDFLAGS} -latomic""
+         { $as_echo ""$as_me:${as_lineno-$LINENO}: result: adding -latomic to LDFLAGS"" >&5
+$as_echo ""adding -latomic to LDFLAGS"" >&6; }
+      else
+         { $as_echo ""$as_me:${as_lineno-$LINENO}: result: no"" >&5
+$as_echo ""no"" >&6; }
+      fi
+
       { $as_echo ""$as_me:${as_lineno-$LINENO}: checking for gtk3 use in wxWidgets"" >&5
 $as_echo_n ""checking for gtk3 use in wxWidgets... "" >&6; }
       CPPFLAGS=""${WX_CXXFLAGS}""
diff --git a/configure.ac b/configure.ac
index 40fc326685dca2bd159321283d3d09bb0e8b7d55..dbb0c7a6672bae9c4a935c66fb7426ff1425f26f 100644
--- a/configure.ac
+++ b/configure.ac
@@ -200,14 +200,6 @@ if test x$enable_universal_binary = xyes; then
    esac
 fi
 
-dnl Check if $CXX is clang by evaluating the version string because
-dnl $ax_cv_cxx_compiler_vendor seems not to work (it is either ""gnu"" or just empty).
-dnl If $CXX is clang (string is found), grep returns 0 and the if is executed.
-dnl Use /dev/null to suppress grep output to shell.
-if ($CXX --version | grep 'clang version' > /dev/null); then
-    LDFLAGS=""${LDFLAGS} -latomic""
-fi
-
 if test x$enable_sse = xyes; then
 
    if test ""${ax_cv_cxx_compiler_vendor}"" = ""gnu""; then
@@ -605,6 +597,25 @@ case ""${host_os}"" in
          AC_MSG_ERROR([dlopen not found, required by Audacity])
       fi
 
+      dnl Check if we need to pull in libatomic
+      dnl (assuming std::atomic is provided by libatomic in that case)
+      AC_MSG_CHECKING([if std::atomic requires libatomic])
+      AC_LINK_IFELSE([AC_LANG_SOURCE([[
+        #include <atomic>
+        #include <cstdint>
+        std::atomic<std::int64_t> v;
+        int main() {
+          bool f = std::atomic<double>{}.is_lock_free();
+          return v;
+        }
+      ]])], STD_ATOMIC_NEED_LIBATOMIC=no, STD_ATOMIC_NEED_LIBATOMIC=yes)
+      if test ""x$STD_ATOMIC_NEED_LIBATOMIC"" = xyes; then
+         LDFLAGS=""${LDFLAGS} -latomic""
+         AC_MSG_RESULT([adding -latomic to LDFLAGS])
+      else
+         AC_MSG_RESULT([no])
+      fi
+
       AC_MSG_CHECKING([for gtk3 use in wxWidgets])
       CPPFLAGS=""${WX_CXXFLAGS}""
       AC_EGREP_CPP(wxWidgets built with GTK3,

``` =||= Thank you, it looks like a reasonable patch to me.

I guess this means that the flag is required for clang on Linux, but not on macOS?

@krokoziabla, @rrrapha: does @RJVB's patch solve the issue for you?

Btw: if you put `diff` immediately after the backticks, you get some nice syntax highlighting here as well. Partial example:

```diff
--- a/configure.ac
+++ b/configure.ac
@@ -200,14 +200,6 @@ if test x$enable_universal_binary = xyes; then
    esac
 fi
 
-dnl Check if $CXX is clang by evaluating the version string because
-dnl $ax_cv_cxx_compiler_vendor seems not to work (it is either ""gnu"" or just empty).
-dnl If $CXX is clang (string is found), grep returns 0 and the if is executed.
-dnl Use /dev/null to suppress grep output to shell.
-if ($CXX --version | grep 'clang version' > /dev/null); then
-    LDFLAGS=""${LDFLAGS} -latomic""
-fi
-
 if test x$enable_sse = xyes; then
 
    if test ""${ax_cv_cxx_compiler_vendor}"" = ""gnu""; then
@@ -605,6 +597,25 @@ case ""${host_os}"" in
          AC_MSG_ERROR([dlopen not found, required by Audacity])
       fi
 
+      dnl Check if we need to pull in libatomic
+      dnl (assuming std::atomic is provided by libatomic in that case)
+      AC_MSG_CHECKING([if std::atomic requires libatomic])
+      AC_LINK_IFELSE([AC_LANG_SOURCE([[
+        #include <atomic>
+        #include <cstdint>
+        std::atomic<std::int64_t> v;
+        int main() {
+          bool f = std::atomic<double>{}.is_lock_free();
+          return v;
+        }
+      ]])], STD_ATOMIC_NEED_LIBATOMIC=no, STD_ATOMIC_NEED_LIBATOMIC=yes)
+      if test ""x$STD_ATOMIC_NEED_LIBATOMIC"" = xyes; then
+         LDFLAGS=""${LDFLAGS} -latomic""
+         AC_MSG_RESULT([adding -latomic to LDFLAGS])
+      else
+         AC_MSG_RESULT([no])
+      fi
+
       AC_MSG_CHECKING([for gtk3 use in wxWidgets])
       CPPFLAGS=""${WX_CXXFLAGS}""
       AC_EGREP_CPP(wxWidgets built with GTK3,
```
 =||= On Sunday November 10 2019 21:31:58 Mojca Miklavec wrote:

>I guess this means that the flag is required for clang on Linux, but not on macOS?

That's the assumption (or rather, observation) on which my earlier patch was based. A quick check suggests it rather means that the required functions are provided either by libatomic or some library G++ always pulls in, or by libc++. Now rebuilding audacity on Linux with clang and `-stdlib=libc++` to confirm.
The interesting question would be what happens when you get G++ to build against libc++ (I still have a set of patches lying around adding `-stdlib=libc++` support to GCC).


 =||= BTW, I realise that the test may need `return v && f;` or something of the sort, to make certain the lock-free check isn't optimised away! =||= > @krokoziabla, @rrrapha: does @RJVB's patch solve the issue for you?

Yes :) =||= We will be switching to CMake builds shortly and I have added a check for libatomic. Do you want to give it a try? =||= We've now deleted the old build system, so closing =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
345CMakeLists.txt for FileDialog's been rewrittenVitaly Kirsanovkrokoziabla03/18/19, 09:39:42 PM"It appeared to be usable on Windows but still wasn't flexible. I've
updated it with commands based on the autotools configs and now
filedialog can be built on linux, macos and freebsd using cmake.

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"Thanks! =||= CMakeLists.txt for FileDialog's been rewrittenVitaly Kirsanovkrokoziabla03/18/19, 09:39:42 PM"It appeared to be usable on Windows but still wasn't flexible. I've
updated it with commands based on the autotools configs and now
filedialog can be built on linux, macos and freebsd using cmake.

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"NaNVitaliy Kirsanov03/17/19, 07:39:46 PM"CMakeLists.txt for FileDialog's been rewritten

It appeared to be usable on Windows but still wasn't flexible. I've
updated it with commands based on the autotools configs and now
filedialog can be built on linux, macos and freebsd using cmake."1
346Use native CMakeLists.txt for portaudioVitaly Kirsanovkrokoziabla03/20/19, 08:22:24 PM"The same story as libexpat's one--native CMakeLists.txt does its job better
than the proxy. Also it seems to be able to otionally build with ASIO support
on Windows. And it successfully builds on linux, freebsd and osx.

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"Thanks. =||= Use native CMakeLists.txt for portaudioVitaly Kirsanovkrokoziabla03/20/19, 08:22:24 PM"The same story as libexpat's one--native CMakeLists.txt does its job better
than the proxy. Also it seems to be able to otionally build with ASIO support
on Windows. And it successfully builds on linux, freebsd and osx.

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"NaNVitaly Kirsanov03/20/19, 06:33:35 AM"Use native CMakeLists.txt for portaudio

The same story as libexpat's one--native CMakeLists.txt does its job better
than the proxy. Also it seems to be able to otionally build with ASIO support
on Windows. And it successfully builds on linux, freebsd and osx."1
347Use native CMakeLists.txt for portmidiVitaly Kirsanovkrokoziabla03/24/19, 06:29:54 PM"Seems to work fine on Windows, OSX and Linux

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"Thanks. =||= Use native CMakeLists.txt for portmidiVitaly Kirsanovkrokoziabla03/24/19, 06:29:54 PM"Seems to work fine on Windows, OSX and Linux

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"NaNVitaliy Kirsanov03/24/19, 12:48:38 PM"Use native CMakeLists.txt for portmidi

Seems to work fine on Windows, OSX and Linux"1
348CMakeLists.txt for libFLAC been rewrittenVitaly Kirsanovkrokoziabla04/05/19, 05:47:29 PM"I've reproduced the commands from FLAC's configure.ac. Seems to build fine on Windows, MacOS, Linux and FreeBSD. Also in [this PR](https://github.com/xiph/flac/pull/97) I've added commands to build tests so the built library should work good either.

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"Please fix the conflicts and as a new pull request.  Thanks! =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
349Connected libFLAC with liboggVitaly Kirsanovkrokoziabla04/05/19, 09:11:51 PM"# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"Thank you for this. =||= Connected libFLAC with liboggVitaly Kirsanovkrokoziabla04/05/19, 09:11:51 PM"# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"NaNVitaliy Kirsanov04/05/19, 05:49:33 PMConnected libFLAC with libogg1
350CMakeLists.txt for portmixer and portaudioVitaly Kirsanovkrokoziabla04/11/19, 09:35:22 PM"The support of ALSA, OSS and CoreAudio was added to portaudio. portmixer
was updated accordingly.

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"NaNCMakeLists.txt for portmixer and portaudioVitaly Kirsanovkrokoziabla04/11/19, 09:35:22 PM"The support of ALSA, OSS and CoreAudio was added to portaudio. portmixer
was updated accordingly.

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"NaNVitaliy Kirsanov04/06/19, 08:33:24 AM"CMakeLists.txt for portmixer and portaudio

The support of ALSA, OSS and CoreAudio was added to portaudio. portmixer
was updated accordingly."1
351Fixed library names and dependencies for FLAC, portaudio and portmidiVitaly Kirsanovkrokoziabla04/14/19, 08:29:36 PM"# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"NaNFixed library names and dependencies for FLAC, portaudio and portmidiVitaly Kirsanovkrokoziabla04/14/19, 08:29:36 PM"# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"NaNВиталий Кирсанов04/14/19, 07:48:09 AMFixed library names for FLAC and portmidi1
352Note track vertical zooming changes reduxPokechu22Pokechu2204/15/19, 07:11:32 PM"An updated version of #232.  Contains fixes for [bug 1820](https://bugzilla.audacityteam.org/show_bug.cgi?id=1820), [bug 1815](https://bugzilla.audacityteam.org/show_bug.cgi?id=1815), and [bug 2093](https://bugzilla.audacityteam.org/show_bug.cgi?id=2093) (the fix for [bug 1819](https://bugzilla.audacityteam.org/show_bug.cgi?id=1819) was cherry-picked separately a while back).

Each commit should be relatively self-explanatory.  Do note that I removed the the two rendering-only commits ([1](https://github.com/audacity/audacity/pull/232/commits/e2d4b0424e1e55fb162f08bf1784829884faaafe), [2](https://github.com/audacity/audacity/pull/232/commits/d0ffdeb24a4e9ea37d429b7a7621499f8d087c56)), since I'm not completely sure their implementation is correct and the things they address are fairly minor."Merged at fe6afb91 =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
353Update build.txtgfilippini8311/09/19, 04:43:31 PM"# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

The main idea behind this PR is to highlight some of the commands used in UNIX to complete the developer install correctly. Additionally, I have added a key command that wasn't included in the previous iteration. When doing the build of wxWidgets, we need to add at the end 'sudo make install'. It is listed when doing the install for the overall Audacity project, but not within the wxWidgets repository. 

Please consider these changes for the future iterations of Audacity.

Thanks!"Thanks, but we don't need these changes.  It is too easy to pick up the 'quotes' when cut and pasting commands to use them. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
354Updated French translation for Audacity 2.3.2Olivier Humberttrebmuh04/20/19, 06:06:02 PMNaNClosing since merged [here](https://github.com/audacity/audacity/commit/9df28dc5719436813c4a6bb4c1227abe9d734987) =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
355Add Slovak translationscootergrisen04/24/19, 07:10:02 PMNaNNaNAdd Slovak translationscootergrisen04/24/19, 07:10:02 PMNaNNaNscootergrisen04/24/19, 05:59:46 PMAdd Slovak translation1
356Update polish translation from TransifexGrzegorz PruchniakowskiGootector04/26/19, 09:35:32 PM"Update polish translation from Transifex. All strings translated - 100% done.

Greetings,
Gootector

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"Thanks =||= Update polish translation from TransifexGrzegorz PruchniakowskiGootector04/26/19, 09:35:32 PM"Update polish translation from Transifex. All strings translated - 100% done.

Greetings,
Gootector

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"NaNGrzegorz Pruchniakowski04/26/19, 08:04:30 PM"Update polish translation from Transifex

Update polish translation from Transifex. All strings translated - 100% done.

Greetings,
Gootector"1
357Don't destroy auto-save file written by different architecture...Paul LicameliPaul-Licameli04/30/19, 08:59:24 PM"... the error checking might not be complete, but it is sufficient for the
observed cases, where switching between 32 and 64 bit Mac builds causes
auto-recovery in one build to destroy the data saved by the other build.

Now instead, you will see the (previously existing) message
""Could not decode file: %s"" which comes from AudacityProject::OpenFile.

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
""Is there any risk of this rejecting a normally created auto recovery file?  If I recall correctly, the handling of matching tags is done in a special way for recordings.  Might the tag checking in Lookup in some circumstance reject a file from a crash during recording? =||= Is there any risk of 'stuck with autosave' where a user who has a bad autosave file gets prompted with it every time they start Audacity?  (and no guidance what to do to recover from that) =||= Answering the first comment, no.

Where the tag lookup quietly failed previously, what happened was that the map mIds associated a number with the empty string, and the result would be a malformed empty XML tag ""<>"" written to the file -- causing exactly the original symptom of this bug.

If a recovery file is correct, this lookup failure will not happen.

Besides all of which, the recording recovery handling is quite separate from the saving and reinterpreting of the binary file format used by autosave.

 =||= Regarding the second question, when there is autosave file, the user is given the choice to recover (which may fail), discard the files, or quit the program.  If recovery fails, the directories are left in their prior state, so the dialog will appear again when you restart.

Discarding the recovery files would cause the dialog not to happen again at startup.

Since we are after string freeze, we can't improve the guidance.  ""Could not decode file: <path>"" is all you will see if recovery fails.

Maybe we could improve that now if we accept the non-translation of that message in other locales.
 =||= If this is a P2 bug, then an English-only (for 2.3.2) error message with better guidance is OK.  The error message will have a help button, and this will in any case take us to an English language help page.  The English message will get translated in 2.3.3.

Since the fix is intended to avoid dataloss, I think better guidance is called for, for the fix to actually avoid dataloss.  So if you want to continue with this, please provide an updated pull request. =||= Rebased and updated the error message.

Also can write the changed error message to standard out when recovery is invoked via command line.  That was the only other place in the program where the decoding of the binary autosave file happens.
 =||= Thanks.  Let's get this to QA and see how it fares.  Committed.   =||= "Don't destroy auto-save file written by different architecture...Paul LicameliPaul-Licameli04/30/19, 08:59:24 PM"... the error checking might not be complete, but it is sufficient for the
observed cases, where switching between 32 and 64 bit Mac builds causes
auto-recovery in one build to destroy the data saved by the other build.

Now instead, you will see the (previously existing) message
""Could not decode file: %s"" which comes from AudacityProject::OpenFile.

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"NaNPaul Licameli04/29/19, 12:51:24 AM"Don't destroy auto-save file written by different architecture...

... the error checking might not be complete, but it is sufficient for the
observed cases, where switching between 32 and 64 bit Mac builds causes
auto-recovery in one build to destroy the data saved by the other build.

Now instead, you will see an error message, recommending that you run the
same version of Audacity that produced the file.

Note that decoding of autosave files can also (less commonly) happen with
a command-line argument, and a message is written to standard out.  Give the
same message in that case.

Localization of this changed message unfortunately can't happen this late in
2.3.2 development."1
358Bug2105: Enable TAB to sliders on Mac...Paul LicameliPaul-Licameli04/30/19, 08:50:24 PM"... I think this is a defect in wxWidgets, but one we can work around with a
simple wrapper class around wxSlider overriding one method.

To make the fix complete, change all occurrences of ""safenew wxSlider""
but the one in ShuttleGui.cpp covers most cases

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"Wow.  Love this.  Thanks. =||= Bug2105: Enable TAB to sliders on Mac...Paul LicameliPaul-Licameli04/30/19, 08:50:24 PM"... I think this is a defect in wxWidgets, but one we can work around with a
simple wrapper class around wxSlider overriding one method.

To make the fix complete, change all occurrences of ""safenew wxSlider""
but the one in ShuttleGui.cpp covers most cases

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"NaNPaul Licameli04/30/19, 02:41:05 PM"Bug2105: Enable TAB to sliders on Mac...

... I think this is a defect in wxWidgets, but one we can work around with a
simple wrapper class around wxSlider overriding one method.

To make the fix complete, change all occurrences of ""safenew wxSlider""
but the one in ShuttleGui.cpp covers most cases"1
359Bug2104: Mac: don't get trapped in radio button group when TABbing...Paul LicameliPaul-Licameli04/30/19, 09:07:07 PM"... This is a fix for something mentioned already in the comment at
7d25dedafd3827340d4e8c54dfc8c3c7848be72d before 2.1.3

As also mentioned there:  the reason we still need this hook function, is that
without it, you can't tab between the panes of the Preference dialog, although
without it, this bug would not have happened

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
""This fix isn't good enough.

Though you don't get trapped in the radio button group, still the Tab key cycle visits only one of the buttons.  That's not as good as the behavior in Audacity 2.1.1.

 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
360Fix Tab key navigation on Mac in presence of static boxesPaul LicameliPaul-Licameli05/01/19, 06:50:35 AM"# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"Committed.   Thanks. =||= Fix Tab key navigation on Mac in presence of static boxesPaul LicameliPaul-Licameli05/01/19, 06:50:35 AM"# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"NaNPaul Licameli04/30/19, 11:12:06 PMFix Tab key navigation on Mac in presence of static boxes1
361Bug2107: Mac Enter should press def. button when text entry focusedPaul LicameliPaul-Licameli11/10/19, 11:59:18 AM"# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
""Amended as suggested by David to test that the event is char hook, not key up.

 =||= This is a very recently reported P4 and is going to wait for review/assessment until 2.3.3. =||= On Wed, 1 May 2019 at 23:36, James Crook <notifications@github.com> wrote:

> This is a very recently reported P4 and is going to wait for
> review/assessment until 2.3.3.
>
Additional info:
When I recently added a number of mac accessibility bugs, I just left them
on the default p4 level. I was going to let Q&A change this if required.
If this fix works, then I presume it would fix bug 1329, which is a P2.

David.

> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/361#issuecomment-488465536>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC2WDLLQTMISDE5X5TZZIOLPTILOBANCNFSM4HJUJ3PA>
> .
>
 =||= Thanks David.  We have 36 accessibility bugs recorded in Bugzilla.  This possible fix for (now) two issues, one of which has not even yet been assessed as to its priority, can and will wait until 2.3.3. =||= Tracked in Bugzilla, bug 2107.  Paul's fix applied and works.  Thanks Paul.
https://bugzilla.audacityteam.org/show_bug.cgi?id=2107 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
362Compile Audacity for Windows with CYGWIN and MINGWCarlo Braminicarlo-bramini11/09/19, 04:51:14 PM"Hello,
I did some fixes for adding support for Windows to the autoconf scripts.
After applying the fixes in this PR, it will be possible to compile all sources of Audacity with CYGWIN.
Unfortunately, it prints these messages when doing the final linking:

```
../lib-src/portmixer/src/.libs/libportmixer.a(libportmixer_la-px_win_endpoint.o)
: In function `open_ep_mixers':
/home/Carlo/a/lib-src/portmixer/src/../../../../org/audacity/lib-src/portmixer/src/px_win_endpoint.c:103: undefined reference to `_imp__CoCreateInstance@20'
/home/Carlo/a/lib-src/portmixer/src/../../../../org/audacity/lib-src/portmixer/src/px_win_endpoint.c:163: undefined reference to `_imp__CoTaskMemFree@4'
/home/Carlo/a/lib-src/portmixer/src/../../../../org/audacity/lib-src/portmixer/src/px_win_endpoint.c:139: undefined reference to `_imp__CoTaskMemAlloc@4'
/home/Carlo/a/lib-src/portmixer/src/../../../../org/audacity/lib-src/portmixer/src/px_win_endpoint.c:163: undefined reference to `_imp__CoTaskMemFree@4'
/home/Carlo/a/lib-src/portmixer/src/../../../../org/audacity/lib-src/portmixer/src/px_win_endpoint.c:197: undefined reference to `_imp__CoTaskMemAlloc@4'
/home/Carlo/a/lib-src/portmixer/src/../../../../org/audacity/lib-src/portmixer/src/px_win_endpoint.c:221: undefined reference to `_imp__CoTaskMemFree@4'
/home/Carlo/a/lib-src/portmixer/src/../../../../org/audacity/lib-src/portmixer/src/px_win_endpoint.c:221: undefined reference to `_imp__CoTaskMemFree@4'
../lib-src/portmixer/src/.libs/libportmixer.a(libportmixer_la-px_win_endpoint.o)
: In function `open_ep_mixers_byid':
/home/Carlo/a/lib-src/portmixer/src/../../../../org/audacity/lib-src/portmixer/src/px_win_endpoint.c:258: undefined reference to `_imp__CoCreateInstance@20'
../lib-src/libnyquist/libnyquist.a(sndread.o):sndread.c:(.text+0x36f): undefined reference to `sf_open'
../lib-src/libnyquist/libnyquist.a(sndread.o):sndread.c:(.text+0x384): undefined reference to `sf_strerror'
../lib-src/libnyquist/libnyquist.a(sndwritepa.o):sndwritepa.c:(.text+0x405): undefined reference to `Pa_WriteStream'
../lib-src/libnyquist/libnyquist.a(sndwritepa.o):sndwritepa.c:(.text+0x887): undefined reference to `sf_open'
../lib-src/libnyquist/libnyquist.a(sndwritepa.o):sndwritepa.c:(.text+0xa46): undefined reference to `sf_open'
../lib-src/libnyquist/libnyquist.a(sndwritepa.o):sndwritepa.c:(.text+0xa7f): undefined reference to `sf_error'
../lib-src/libnyquist/libnyquist.a(sndwritepa.o):sndwritepa.c:(.text+0xa87): undefined reference to `sf_error_number'
../lib-src/libnyquist/libnyquist.a(sndwritepa.o):sndwritepa.c:(.text+0xc18): undefined reference to `sf_open'
../lib-src/libnyquist/libnyquist.a(sndwritepa.o):sndwritepa.c:(.text+0x14e6): undefined reference to `Pa_WriteStream'
../lib-src/libnyquist/libnyquist.a(sndwritepa.o):sndwritepa.c:(.text+0x1bbe): undefined reference to `Pa_WriteStream'
../lib-src/portmidi/libportmidi_s.a(ptwinmm.o):ptwinmm.c:(.text+0x49): undefined reference to `_imp__timeBeginPeriod@4'
../lib-src/portmidi/libportmidi_s.a(ptwinmm.o):ptwinmm.c:(.text+0x5b): undefined reference to `_imp__timeGetTime@0'
../lib-src/portmidi/libportmidi_s.a(ptwinmm.o):ptwinmm.c:(.text+0xa4): undefined reference to `_imp__timeSetEvent@20'
../lib-src/portmidi/libportmidi_s.a(ptwinmm.o):ptwinmm.c:(.text+0xfa): undefined reference to `_imp__timeKillEvent@4'
../lib-src/portmidi/libportmidi_s.a(ptwinmm.o):ptwinmm.c:(.text+0x12a): undefined reference to `_imp__timeEndPeriod@4'
../lib-src/portmidi/libportmidi_s.a(ptwinmm.o):ptwinmm.c:(.text+0x14b): undefined reference to `_imp__timeGetTime@0'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0x7): undefined reference to `_imp__midiInGetNumDevs@0'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0x5e): undefined reference to `_imp__midiInGetDevCapsA@12'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0xdb): undefined reference to `_imp__midiInGetDevCapsA@12'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0x125): undefined reference to `_imp__midiOutGetNumDevs@0'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0x17c): undefined reference to `_imp__midiOutGetDevCapsA@12'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0x1f7): undefined reference to `_imp__midiOutGetDevCapsA@12'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0x32a): undefined reference to `_imp__midiInGetErrorTextA@12'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0x3c7): undefined reference to `_imp__midiOutGetErrorTextA@12'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0x71c): undefined reference to `_imp__midiInPrepareHeader@12'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0x75b): undefined reference to `_imp__midiInAddBuffer@12'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0x8b8): undefined reference to `_imp__midiInOpen@20'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0x917): undefined reference to `_imp__midiInStart@4'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0x942): undefined reference to `_imp__midiInReset@4'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0x957): undefined reference to `_imp__midiInClose@4'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0x99d): undefined reference to `_imp__midiInGetErrorTextA@12'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0xa20): undefined reference to `_imp__midiInStop@4'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0xa40): undefined reference to `_imp__midiInReset@4'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0xa52): undefined reference to `_imp__midiInClose@4'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0xa66): undefined reference to `_imp__midiInReset@4'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0xa86): undefined reference to `_imp__midiInClose@4'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0xa9a): undefined reference to `_imp__midiInClose@4'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0xaf2): undefined reference to `_imp__midiInGetErrorTextA@12'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0xcac): undefined reference to `_imp__midiInPrepareHeader@12'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0xcf8): undefined reference to `_imp__midiInAddBuffer@12'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0xd59): undefined reference to `_imp__midiInUnprepareHeader@12'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0xe20): undefined reference to `_imp__midiStreamPosition@12'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0xfd7): undefined reference to `_imp__midiOutOpen@20'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0x1015): undefined reference to `_imp__midiStreamOpen@24'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0x10c4): undefined reference to `_imp__midiStreamProperty@12'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0x1105): undefined reference to `_imp__midiStreamProperty@12'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0x114c): undefined reference to `_imp__midiStreamRestart@4'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0x1180): undefined reference to `_imp__midiOutClose@4'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0x11c6): undefined reference to `_imp__midiOutGetErrorTextA@12'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0x12ec): undefined reference to `_imp__midiOutClose@4'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0x1305): undefined reference to `_imp__midiStreamClose@4'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0x1340): undefined reference to `_imp__midiOutGetErrorTextA@12'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0x13b0): undefined reference to `_imp__midiStreamStop@4'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0x143b): undefined reference to `_imp__midiOutPrepareHeader@12'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0x149e): undefined reference to `_imp__midiOutLongMsg@12'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0x14cc): undefined reference to `_imp__midiStreamOut@12'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0x1574): undefined reference to `_imp__midiOutShortMsg@8'
../lib-src/portmidi/libportmidi_s.a(pmwinmm.o):pmwinmm.c:(.text+0x1961): undefined reference to `_imp__midiOutUnprepareHeader@12'
collect2: error: ld returned 1 exit status
```

This happens because portmidi, portmixer and libnyquist need to be linked with some extra libraries and it does not seem that they could be added in the current state.
I think that the most effective way is to migrate also those libraries to libtool.
In this way, the required libraries for Windows, but it may be applied also to other platforms, will be included and the link will succeded.
However, this seems to be a bit more invasive change, so I provided these first simple changes for starting.
I hope that you could give me your opinion for these changes.
These fixes cover also some parts of the MINGW port, but more are required, here I isolated the ones that made a working Audacity with CYGWIN.

Sincerely.""Thanks for this PR.  It would probably be a good idea to talk about it more on [the audacity-devel mailing list](https://sourceforge.net/projects/audacity/lists/audacity-devel).

I've never attempted to build audacity in cygwin and I haven't attempted to build on linux in quite some time, so I can't say too much about your actual changes.  However, I do know that there has been [some recent work by krokoziabla](https://github.com/audacity/audacity/pulls?q=is%3Apr+author%3Akrokoziabla) to build with cmake.  I don't know much about it, just that it's been worked on; I'm sure some of the other people on audacity-devel know more. =||= Sorry, I noticed immediately after I did the PR that portmixer already uses libtool.
So I added the missing `-lole32` to `LIBADD` and now portmixer does not give linking errors anymore.
portmidi and libnyquist are the only one left with this issue.

Sincerely. =||= I have seen that the travis  ci build failed with this message:

```
../../../lib-src/portmidi/pm_linux/pmlinuxalsa.c: In function ‘alsa_write_byte’:
../../../lib-src/portmidi/pm_linux/pmlinuxalsa.c:204:32: error: too many arguments to function ‘Pt_Time’
                                Pt_Time(NULL));
                                ^
In file included from ../../../lib-src/portmidi/pm_linux/pmlinuxalsa.c:16:0:
../../../lib-src/portmidi/porttime/porttime.h:79:22: note: declared here
 PMEXPORT PtTimestamp Pt_Time(void);
                      ^
make[2]: *** [pmlinuxalsa.o] Error 1

```
which happens after a change that I did in the sources.
Actually, after searching inside the sources, Pt_Time() function is called with and without parameter in some files. What is the correct usage to assume? =||= Please introduce yourself on the audacity devel mailing list and tell us also why YOU are  wanting to build with Cygwin and MinGW on Windows (and not using MSVC).  Why would WE want to support an additional way to build? =||= Thanks.  We decided not to pull this.  We don't officially support cross compilation and don't have man/woman-power to maintain it. =||= > Thanks. We decided not to pull this. We don't officially support cross compilation and don't have man/woman-power to maintain it.

Thank you for your reply.
I understand the reasons for not pulling this.
However, I was wondering if somebody could evaluate at least the two litte fixes that I made to  `lib-src/libnyquist/nyx.c`  and `src/AudacityApp.cpp`, because IMO those lines were bugged.
I can do a separate PR if you think that they could be accepted.

Sincerely. =||= Yes, if those are bugs please provide as a separate pull request.
Probably we will pull them just after we release 2.3.3 which is planned for one week's time.

You may be interested that we have a project to get CMake working on Linuux, Windows and Mac, and we hope to get this done for 2.4.0 (the release after 2.3.3). =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
363Fix for bug 1539heldw11/09/19, 04:49:23 PM"Hi All,
I believe I have a fix for bug 1539. When the system country is set to US, the timed recording will now display the date in mm/dd/yyyy format. I know there has been some discussion on whether or not this is actually an issue, but I thought I would leave it here just incase you want to go through with the change.

Thanks!
Will Held

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests."Thanks!  We decided not to pull this. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
364Add missing #include for wxTreeCtrl.Adam Sampsonatsampson11/24/19, 09:11:46 PM"Building with wxwidgets 3.1.2 results in the following error:

```
In file included from /gar/include/wx-3.1/wx/treebook.h:20,
                 from prefs/PrefsDialog.cpp:35:
/gar/include/wx-3.1/wx/treebase.h:57:35: note: forward declaration of ‘class wxTreeCtrl’                                                                        
prefs/PrefsDialog.cpp:659:75: error: invalid use of incomplete type ‘class wxTreeCtrl’                                                                          
In file included from /gar/include/wx-3.1/wx/treebook.h:20,                     
                 from prefs/PrefsDialog.cpp:35:                                 
/gar/include/wx-3.1/wx/treebase.h:57:35: note: forward declaration of ‘class wxTreeCtrl’                                                                        
```

This is the result of [this commit in wxwidgets](https://github.com/wxWidgets/wxWidgets/commit/bb492b99bd969629a52235fb8abbeb88d487a93a). Adding the `#include` explicitly fixes it."Thank you.  We're currently compiling for wx3.1.1.  We plan to move to wx3.1.3 for Audacity 2.4.0 and will need/use this fix then. =||= Thank you. =||= Add missing #include for wxTreeCtrl.Adam Sampsonatsampson11/24/19, 09:11:46 PM"Building with wxwidgets 3.1.2 results in the following error:

```
In file included from /gar/include/wx-3.1/wx/treebook.h:20,
                 from prefs/PrefsDialog.cpp:35:
/gar/include/wx-3.1/wx/treebase.h:57:35: note: forward declaration of ‘class wxTreeCtrl’                                                                        
prefs/PrefsDialog.cpp:659:75: error: invalid use of incomplete type ‘class wxTreeCtrl’                                                                          
In file included from /gar/include/wx-3.1/wx/treebook.h:20,                     
                 from prefs/PrefsDialog.cpp:35:                                 
/gar/include/wx-3.1/wx/treebase.h:57:35: note: forward declaration of ‘class wxTreeCtrl’                                                                        
```

This is the result of [this commit in wxwidgets](https://github.com/wxWidgets/wxWidgets/commit/bb492b99bd969629a52235fb8abbeb88d487a93a). Adding the `#include` explicitly fixes it."NaNAdam Sampson05/13/19, 09:07:35 PM"Add missing #include for wxTreeCtrl.

This isn't transitively included with wxwidgets 3.1.2."1
365Fix bug 2140Pokechu22Pokechu2206/30/19, 03:32:20 AM"Fixes [bug 2140](https://bugzilla.audacityteam.org/show_bug.cgi?id=2140).  `mbShowTrackNameInTrack` just was not checked anymore after b05acc32daea72018084ded1dccb21884dd5f6ba.

I also tidied up some of the other code I saw while figuring out what caused the bug.

One thing to note is that the show track names as overlay preference is also used in `LabelTrackView::ComputeLayout`, but not via the `TrackArtist` field:

https://github.com/audacity/audacity/blob/68c1637bd334c51991666439e0edae5616842a95/src/tracks/labeltrack/ui/LabelTrackView.cpp#L379-L382

I'm not sure which way is preferable.  I don't think `TrackArtist` can be used for that one since it isn't rendering, but I'm not certain of that."NaNFix bug 2140Pokechu22Pokechu2206/30/19, 03:32:20 AM"Fixes [bug 2140](https://bugzilla.audacityteam.org/show_bug.cgi?id=2140).  `mbShowTrackNameInTrack` just was not checked anymore after b05acc32daea72018084ded1dccb21884dd5f6ba.

I also tidied up some of the other code I saw while figuring out what caused the bug.

One thing to note is that the show track names as overlay preference is also used in `LabelTrackView::ComputeLayout`, but not via the `TrackArtist` field:

https://github.com/audacity/audacity/blob/68c1637bd334c51991666439e0edae5616842a95/src/tracks/labeltrack/ui/LabelTrackView.cpp#L379-L382

I'm not sure which way is preferable.  I don't think `TrackArtist` can be used for that one since it isn't rendering, but I'm not certain of that."NaNPokechu2206/29/19, 09:54:16 PMMisc. cleanup1
366Enable OpenMP on WindowsPokechu22Pokechu2211/09/19, 04:55:04 PM"I've had the first commit sitting around for a while, and I only just now remembered it.

`#pragma omp atomic` is defined in [section 2.6.4](https://www.openmp.org/wp-content/uploads/cspec20.pdf#page=25) of the spec for 2.0, and is the only way it can be used.  It is defined in [section 2.8.5](https://www.openmp.org/wp-content/uploads/OpenMP3.1.pdf#G4.1057349) of the spec for 3.1, and optionally also accepts `read`, `write`, `update`, or `capture`.  If none is specified, it is the same as if update has been specified, so simply getting rid of `update` makes it compatible with 2.0.

The second commit enables OpenMP support in Visual Studio.  Adding [the `/Zc:twoPhase-` option](https://docs.microsoft.com/en-us/cpp/build/reference/zc-twophase?view=vs-2017) is required, as otherwise I get `c1xx : warning C4199: two-phase name lookup is not supported for C++/CLI, C++/CX, or OpenMP; use /Zc:twoPhase-`.  I enable it for both the main code and soxr, as those are the only places where OpenMP is used.""Disabling two-phase lookup would re-enable non-compliant C++ parsing.  See details here:
[Two-phase name lookup support comes to MSVC](https://devblogs.microsoft.com/cppblog/two-phase-name-lookup-support-comes-to-msvc/)
As of 2019-03-28, Microsoft is ""working on a fix"":
[SIMD Extension to C++ OpenMP in Visual Studio](https://devblogs.microsoft.com/cppblog/simd-extension-to-c-openmp-in-visual-studio/#comments-135) =||= Indeed.  I'm not sure if that will actually cause any real problems, though (everything seems to work fine for me and it compiles properly). =||= My main concern would be causing headaches for folks assuming that gcc, clang, and MSVC will interpret a given piece of code in the same way.

For improving performance, __restrict, __assume(...) (for alignment) , declspec(noalias), and declspec(restrict) can help (and similar directives for gcc/clang).  ""/fp:fast"" can help by allowing the optimizer to change the order of floating point operations:  [Do You Prefer Fast or Precise?](https://devblogs.microsoft.com/cppblog/do-you-prefer-fast-or-precise/)

Even so, [FFTW](http://www.fftw.org/) is going to be faster for FFTs.  Matrix/vector operations are usually  faster when delegated to some optimized library (e.g. [Eigen](http://eigen.tuxfamily.org/)).

Perhaps my crankiness has more to do with seeing code that uses both wxWidgets (implying it is UI code) and low-level, specialized mathematical code (OpenMP, SpecCache::CalculateOneSpectrum()) all in the same file.  This is a serious code smell, but obviously not something caused by this PR.

Out of curiosity, have you benchmarked these changes?  It seems like a good idea to make sure there is a significant improvement before risking bugs (given MS' lack of enthusiasm for OpenMP) and giving up ground--at least temporarily--on C++ language standard compliance. =||= For some reason I'd assumed that the spec was ambiguous about how it should be parsed until C++17, but the first article you linked (which I had skimmed before) says it was formalized more than two decades ago.  (I only realized that after looking up `temp.res` in the [C++14](http://open-std.org/JTC1/SC22/WG21/docs/papers/2013/n3797.pdf#section.14.6) and [C++17](http://open-std.org/JTC1/SC22/WG21/docs/papers/2017/n4659.pdf#section.17.6) standard drafts and seeing that they matched).  So I guess it is a bigger deal than I'd thought...

I haven't done any strong benchmarking, but it feels roughly twice as fast when rendering the spectrogram.  My weak test is to import a rather long stereo audio file, make a 15-second selection and zoom to selection, select all, and enable pinned playback.  Then I also configure the track to show as a spectrogram, and use the largest window size (32768) and the Hann window type.  Then I start playback, and keep track of how often it finishes redrawing.  I get between 1 and 2 redraws a second before this change, and between 3 and 4 after (however, due to compilation time, I am testing with release 2.3.2 instead of master for comparison).  I also observe the rest of the UI updating infrequently with the change, with the timeline only updating around every 5 seconds (while before it updated every re-render).  I'm not sure if that's from this change or from other changes.  It's also important to note that I'm using a rather old laptop, and I'm sure more modern machines would have a less noticeable difference because it already updates frequently enough.

I've heard of FFTW and it's something I want to look into further at some point.  I just haven't gotten around to it yet.

And yeah, that code is definitely a mess.  This is more an attempt to make it a bit faster, but a real rework would probably be better. =||= If you want to see what effect ""/fp:fast"" might have on what you are looking at, then you can try one of [these builds](https://github.com/henricj/audacity/releases).  There are also x64 and x64/AVX2 binaries available.  Those builds use wxWidgets 3.1.2 and most use the VS2019 compiler, so ""/fp:fast"" isn't the only thing that is different.

What could also be useful and shouldn't take much in the way of code changes would be to add some low-overhead instrumentation.  For example, being able to turn on something like an FPS indicator for the UI would save the user from having to count, ""one one thousand, two one thousand...""

Also, the particular places where OpenMP is used seem really simple.  All the work appears to be CPU bound and broken into identical chunks.  A trivial thread pool should do about as well as OpenMP for that sort of thing, and wouldn't require anything beyond what is available in standard C++.  Granted that making assumptions about performance often makes fools of us, something like a thread pool with CPU-1 threads and a ""parallel_batch"" class or function should be able to implement something like [MS' concurrency:parallel_for()](https://docs.microsoft.com/en-us/cpp/parallel/concrt/how-to-write-a-parallel-for-loop) without requiring the PPL, TBB, or YetAnotherThreadPool(TM) library.

Going forwards, one would want to split the math from the UI, and leverage code that has already been optimized for performing that low level math, but perhaps some simple threading stuff like what was described in the previous paragraph could be useful in the meantime. =||= Thanks.  We decided not to pull this. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
367Simplified some boolean expressionsDeleted userghost07/13/19, 06:11:27 AM"Optimizations that make the code simpler and faster

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"Thanks Pi, but in my opinion these changes neither make the expressions simpler nor faster. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
368French translation: Accurate notch translationValentin Vallsvallsv07/17/19, 11:17:37 AM"I spend many minutes to found this filter in Audacity. As ""filtre à peigne"" is about ""comb filter"".

Using the translation of ""band stop filter"" is i think easier for a reader.

On side note, sorry, I read your key points about translation. But i am sorry, i don't want to register to a mailing list for this kind of contribution.""Thanks. =||= On Wed, Jul 17, 2019 at 7:08 AM Valentin Valls <notifications@github.com>
wrote:

> I spend many minutes to found this filter in Audacity. As ""filtre à
> peigne"" is about ""comb filter"".
>
> Using the translation of ""band stop filter"" is i think easier for a reader.
>

The effect might either cut or boost a band.

PRL



> On side note, sorry, I read your key points about translation. But i am
> sorry, i don't want to register to a mailing list for this kind of
> contribution.
> ------------------------------
> You can view, comment on, or merge this pull request online at:
>
>   https://github.com/audacity/audacity/pull/368
> Commit Summary
>
>    - Accurate notch translation to french
>
> File Changes
>
>    - *M* locale/fr.po
>    <https://github.com/audacity/audacity/pull/368/files#diff-0> (4)
>
> Patch Links:
>
>    - https://github.com/audacity/audacity/pull/368.patch
>    - https://github.com/audacity/audacity/pull/368.diff
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/368?email_source=notifications&email_token=ACZBGYKCLT2ZAUIRJ56R64DP734TDA5CNFSM4IEPFXRKYY3PNVWWK3TUL52HS4DFUVEXG43VMWVGG33NNVSW45C7NFSM4G7WLSLQ>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/ACZBGYLNGK2P73YQU4ZKI73P734TDANCNFSM4IEPFXRA>
> .
>
 =||= Thanks @vallsv , good catch. =||= "French translation: Accurate notch translationValentin Vallsvallsv07/17/19, 11:17:37 AM"I spend many minutes to found this filter in Audacity. As ""filtre à peigne"" is about ""comb filter"".

Using the translation of ""band stop filter"" is i think easier for a reader.

On side note, sorry, I read your key points about translation. But i am sorry, i don't want to register to a mailing list for this kind of contribution."NaNValentin Valls07/17/19, 10:49:06 AMAccurate notch translation to french1
369Make ffmpeg message to locate/download libraries clearerHassan Chassan-c07/25/19, 12:50:57 PM"Just a small change to make this particular dialogue box a little clearer. At the moment it implies ""Preferences"" is a top level menu, when in fact it is an option under the ""Edit"" menu."Thanks. =||= Make ffmpeg message to locate/download libraries clearerHassan Chassan-c07/25/19, 12:50:57 PM"Just a small change to make this particular dialogue box a little clearer. At the moment it implies ""Preferences"" is a top level menu, when in fact it is an option under the ""Edit"" menu."NaNHassan C07/25/19, 12:38:02 PMMake ffmpeg message clearer1
370I translated whole part of Korean po file.Hwanyong Leehwan-ajou08/02/19, 12:29:56 PM"# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
371Add option to export with silence from the beginningJonatã Bolzan Lossjonata08/17/19, 11:15:32 AMThis is an option to enable export the audio starting with silence from the beginning of the track (from 0.0s or from the start of selection) and not from the beginning of the audio (from the first sample of the first block).Thanks Jonatã, and thanks for discussing on audacity-devel.  I've applied this. =||= Great! 😀 Thank you so much! =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
372Fix building with wxWidgets 3.1.2mikhailnov08/19/19, 08:39:23 PM"From changelog:
- wx/treebook.h doesn't include wx/treectrl.h (and, via it, wx/textctrl.h) any
  more, include these headers explicitly from your code if necessary."Thanks.  Merged. =||= Fix building with wxWidgets 3.1.2mikhailnov08/19/19, 08:39:23 PM"From changelog:
- wx/treebook.h doesn't include wx/treectrl.h (and, via it, wx/textctrl.h) any
  more, include these headers explicitly from your code if necessary."NaNMikhail Novosyolov08/19/19, 04:09:25 AM"Fix building with wxWidgets 3.1.2

From changelog:
- wx/treebook.h doesn't include wx/treectrl.h (and, via it, wx/textctrl.h) any
  more, include these headers explicitly from your code if necessary."1
373Fix compilation without USE_MIDIAlexander Tsoypuleglot08/27/19, 09:51:50 PMNaNThank you!  Merged. =||= Fix compilation without USE_MIDIAlexander Tsoypuleglot08/27/19, 09:51:50 PMNaNNaNAlexander Tsoy08/27/19, 04:12:43 PMFix compilation without USE_MIDI1
374Fix some compile issuesStormBytePPStormBytePP08/30/19, 07:51:02 PM"While compiling audacity with clang and libc++ instead of libstdc++ I came across some bugs that prevented compilation to be successful.

This pull request addresses those compilation failures."Thank You!  Committed. =||= Fix some compile issuesStormBytePPStormBytePP08/30/19, 07:51:02 PM"While compiling audacity with clang and libc++ instead of libstdc++ I came across some bugs that prevented compilation to be successful.

This pull request addresses those compilation failures."NaNDavid C. Manuelda08/30/19, 07:05:24 PMEnsure EXPERIMENTAL_MIDI_OUT is not defined if midi is disabled1
375Fix compilation without USE_LAMEAlexander Tsoypuleglot09/04/19, 06:46:43 PMNaNScratch that, this also requires changes to Win and Mac build system which I cannot test. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
376Fix exporting soloed trackJonatã Bolzan Lossjonata09/05/19, 09:29:31 PMThis fix an issue where you are not able to export a project that intentionally have solo tracks.NaNFix exporting soloed trackJonatã Bolzan Lossjonata09/05/19, 09:29:31 PMThis fix an issue where you are not able to export a project that intentionally have solo tracks.NaNJonatã Bolzan Loss09/05/19, 08:54:45 PMFix exporting soloed track1
377Added project name on filename when exporting tracksJonatã Bolzan Lossjonata05/31/20, 05:24:53 PM"https://sourceforge.net/p/audacity/mailman/message/36757390/

This add the project name + the label track name on the suggested txt filename field of the Export dialog."Thanks.  We've decided against this.  If we do do this we will likely do it in a different way, with more flexibility.  We're not keen to get this special case code in. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
378Update French translation back to 100%Olivier Humberttrebmuh10/03/19, 02:29:28 PMNaNThanks.  Merged.   =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
379Updated polish translation from TransifexGrzegorz PruchniakowskiGootector10/03/19, 02:29:58 PM"Updated polish translation from Transifex. 100% complete.

Greetings,
Gootector

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"Thanks.  Merged. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
380Possible fix for bug #590Leland Luciuslllucius10/02/19, 04:02:34 PM"This change reduces the risk of LADSPA plugins referencing
Audacity symbols by using the RTLD_DEEPBIND flag when loading
the plugins.

It also addresses an issue specific to the ""blop"" plugins where
they load their own libraries (without RTLD_DEEPBIND).

A much better solution would be to change Audacity's default
symbol visibility to ""hidden"" which would expose ONLY symbols
specificially marked as visible."NaNPossible fix for bug #590Leland Luciuslllucius10/02/19, 04:02:34 PM"This change reduces the risk of LADSPA plugins referencing
Audacity symbols by using the RTLD_DEEPBIND flag when loading
the plugins.

It also addresses an issue specific to the ""blop"" plugins where
they load their own libraries (without RTLD_DEEPBIND).

A much better solution would be to change Audacity's default
symbol visibility to ""hidden"" which would expose ONLY symbols
specificially marked as visible."NaNLeland Lucius10/02/19, 03:17:00 PM"Possible fix for bug #590

This change reduces the risk of LADSPA plugins referencing
Audacity symbols by using the RTLD_DEEPBIND flag when loading
the plugins.

It also addresses an issue specific to the ""blop"" plugins where
they load their own libraries (without RTLD_DEEPBIND).

A much better solution would be to change Audacity's default
symbol visibility to ""hidden"" which would expose ONLY symbols
specificially marked as visible."1
381Fix Ru translation of 'signed' and 'float'mikhailnov10/04/19, 06:18:48 PM"Suggested to fix 'signed' at https://bugzilla.altlinux.org/show_bug.cgi?id=37238
See e.g. https://www.quora.com/What-do-the-16-bit-PCM-samples-in-a-wav-file-actually-represent/answer/Ian-Hendry-11
if you don't believe that it's correct.

Also translate 'float', it was not translated."Merged. Thank you. =||= Fix Ru translation of 'signed' and 'float'mikhailnov10/04/19, 06:18:48 PM"Suggested to fix 'signed' at https://bugzilla.altlinux.org/show_bug.cgi?id=37238
See e.g. https://www.quora.com/What-do-the-16-bit-PCM-samples-in-a-wav-file-actually-represent/answer/Ian-Hendry-11
if you don't believe that it's correct.

Also translate 'float', it was not translated."NaNMikhail Novosyolov10/04/19, 05:35:08 PM"Fix Ru translation of 'signed' and 'float'

Suggested to fix 'signed' at https://bugzilla.altlinux.org/show_bug.cgi?id=37238
See e.g. https://www.quora.com/What-do-the-16-bit-PCM-samples-in-a-wav-file-actually-represent/answer/Ian-Hendry-11
if you don't believe that it's correct.

Also translate 'float', it was not translated."1
382Update audacity.desktop.inAvokeneajkenny12210/07/19, 09:39:49 AM"Korean translation has been added.
(ko)

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
""Thanks.  Merged. =||= Thank you!

2019년 10월 7일 (월) 오후 6:40, James Crook <notifications@github.com>님이 작성:

> Thanks. Merged.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/382?email_source=notifications&email_token=ANNDXLJVSB7FQGGFDP4SOP3QNL7XTA5CNFSM4I5723W2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEAPUP7A#issuecomment-538920956>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/ANNDXLLYLBSVJZUKDSPZXFTQNL7XTANCNFSM4I5723WQ>
> .
>
 =||= "Update audacity.desktop.inAvokeneajkenny12210/07/19, 09:39:49 AM"Korean translation has been added.
(ko)

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"NaNajkenny12210/07/19, 05:25:42 AM"Update audacity.desktop.in

Korean translation has been added.
(ko)"1
383Add support for exporting labels in SubRip formatPokechu22Pokechu2210/14/19, 07:51:08 AM"Not intended for the 2.3.3; this is just something I needed for my own use (for [Wikimedia Commons](https://commons.wikimedia.org/wiki/Commons:Timed_Text)) and now that I've implemented it, I might as well put it out.

This adds support for importing and exporting label track context in the format used by [SubRip](https://en.wikipedia.org/wiki/SubRip) (with some weak documentation [here](http://fileformats.archiveteam.org/wiki/SubRip_text_file_format)), and also exporting in the related [WebVVT](https://en.wikipedia.org/wiki/WebVTT) format (but not importing due to [the increased complexity of that format](https://w3c.github.io/webvtt/)).""As a minimum this sequence should be made into a subroutine:

   LabelFormat format = LabelFormat::TEXT;
   if (fName.Right(4).CmpNoCase(wxT("".srt"")) == 0) {
      format = LabelFormat::SUBRIP;
   } else if (fName.Right(4).CmpNoCase(wxT("".vtt"")) == 0) {
      format = LabelFormat::WEBVVT;
   }

I think also that we need an #ifdef EXPERIMENTAL_SUBRIP_FORMATS.  We should support import of our own exported SRT, even if we don't support the full WebVVT format.  Closed for a resubmit with these corrections. =||= > We should support import of our own exported SRT, even if we don't support the full WebVVT format.

Importing exported SRT files works; it's only WebVVT that can't be imported again. =||= OK. =||= As another note, I feel like there must already be some timestamp parsing code somewhere in audacity that I could re-use (since the UI has timestamps), but I couldn't find it. =||= The UI that draws the time ruler converts raw times into formatted timestamps.  It does not do the reverse conversion. =||= This looks like a very specialist use case, which would be better as an optional plug-in or module rather than a  core feature. Could we at least discus this on the QA list? =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
384Implementation of Timer ToolbarJonatã Bolzan Lossjonata02/16/20, 08:04:43 PMThis code implements a Timer Toolbar, freely resizable."Thank you.  We have another implementation of this where the Toolbar is bigger but not resizable.  We'll be using your resizable version, possibly adapted slightly, in Audacity 2.4.0 =||= Closing this pull request as a modified version of it has been merged.
Thank you for this jonata. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
385Add new colors for WaveColorJonatã Bolzan Lossjonata11/09/19, 04:33:14 PMThis commit adds 20 colors to Wave Color selection."Thanks, but we're not going to go with this change.
When we add more colours, we won't be extending the menu.  We'll provide some different interface that is easier to use (and easier to customise).  We can discuss that on audacity-devel email list or on Discord. =||= Sorry to dig into an old ticket but what about this feature ? I was looking for exactly this feature (searched options, played with the .aup XML file to try, even looked if some plugins exists). Having only 4 colors makes the audio edition not very visual in a project with dozens tracks.
Does this feature still planned ? =||= I'm not keen on the interface for this @Nozalys .  Four colours covers basic to mid level users.  For advanced users with large numbers of tracks we need to use colour more systematically, or the extra colour will start to get confusing rather than be helpful.  Also we would want to get coloured labels in at the same time, possibly coordinating label colours and clip colours in some way, to show a relation when there is one.  

Going to more colours - we need to think systematically about how colours are used.  

If you'd like to talk more about colour customisation, can I encourage you to start a conversation on audacity-devel email list where more people can join in? =||= Ok I see. I'll take a try with audacity-devel email list. Let's see. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
386l10n(zh_TW): update translationspan93412pan9341211/09/19, 05:20:03 PM"# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"Build checks failed, so pull request closed. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
387Autotools are not aware of ObjectiveCMojca Miklavecmojca06/03/20, 09:37:10 PM"**Describe the bug**

When building Audacity on macOS with a configure script rather than Xcode, some files are not built correctly due to the use of ObjectiveC. (The Xcode project explicitly marks those files as ObjectiveC, but automake doesn't know anything about the file types.)

The autotools would probably at least need to define `AC_PROG_OBJC`, but further changes might be needed. A quick-and-dirty workaround for us was to rename some files from `.cpp` to `.mm`, but that's probably not suitable to be upstreamed as these files are regular C++ files for any other platform. Another dirty workaround might be to simply always add `-ObjC` when using wxWidgets with Cocoa.

Clang as the default compiler on macOS builds ObjectiveC if one either passes the `-ObjC` compiler flag, or if the file ends with a suitable extension.

Even if the CMake support gets added, the problem will not simply disappear as CMake would call the compiler based on file ending as well.

The list of affected files is roughly the following:
```
src/KeyboardCapture
src/VSTControlOSX
src/commands/CommandManager
src/effects/Effect
src/effects/lv2/LV2Effect
src/menus/WindowMenus
```

A slightly related problem is the following piece of code blindly assuming that everyone using VST must be using GTK. We work around it by replacing `VSTControlGTK.cpp` with `VSTControlOSX.mm`, but this needs some conditional on WXMAC as well.

```automake
if USE_VST
audacity_CPPFLAGS += $(VST_CFLAGS)
audacity_LDADD += $(VST_LIBS)
audacity_SOURCES += \
	effects/VST/aeffectx.h \
	effects/VST/VSTEffect.cpp \
	effects/VST/VSTEffect.h \
	effects/VST/VSTControlGTK.cpp \
	effects/VST/VSTControlGTK.h \
	$(NULL)
endif
```

**To Reproduce**
Build Audacity on macOS with autotools.

**Additional information (please complete the following information):**
- OS: macOS (version not important)
- Version: master branch as of November 19

@RJVB @Paul-Licameli ""On Saturday November 09 2019 15:41:25 Mojca Miklavec wrote:

>Even if the CMake support gets added, the problem will not simply disappear as CMake would call the compiler based on file ending as well.

It will however be easier with CMake to add file-specific compiler arguments.

>A slightly related problem is the following piece of code blindly assuming that everyone using VST must be using GTK. We work around it by replacing `VSTControlGTK.cpp` with `VSTControlOSX.mm`, but this needs some conditional on WXMAC as well.

Conditionals are easy with CMake too.

A related, future problem which could be taken into account: wxQt is being rebooted and starting to get somewhere, esp. on MS Windows from what I can see. It definitely has the advantage of hiding a lot more platform-specific issues. At the moment Audacity doesn't support this wx variant at all but it would probably be a good idea to keep its existence in mind when overhauling code that juggles different wx variants (and the build system).
 =||= It would be most pleasing to segregate all mac-specific Objective-C++ into
.mm files not included in the Windows and Linux builds.  It would be a
pleasing separation.

I won't have time to consider the details of that until later this week.

PRL


On Sun, Nov 10, 2019 at 4:13 AM René Bertin <notifications@github.com>
wrote:

> On Saturday November 09 2019 15:41:25 Mojca Miklavec wrote:
>
> >Even if the CMake support gets added, the problem will not simply
> disappear as CMake would call the compiler based on file ending as well.
>
> It will however be easier with CMake to add file-specific compiler
> arguments.
>
> >A slightly related problem is the following piece of code blindly
> assuming that everyone using VST must be using GTK. We work around it by
> replacing `VSTControlGTK.cpp` with `VSTControlOSX.mm`, but this needs some
> conditional on WXMAC as well.
>
> Conditionals are easy with CMake too.
>
> A related, future problem which could be taken into account: wxQt is being
> rebooted and starting to get somewhere, esp. on MS Windows from what I can
> see. It definitely has the advantage of hiding a lot more platform-specific
> issues. At the moment Audacity doesn't support this wx variant at all but
> it would probably be a good idea to keep its existence in mind when
> overhauling code that juggles different wx variants (and the build system).
>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/issues/387?email_source=notifications&email_token=ACZBGYPEJLPSGJZBCPAB3FTQS7GDTA5CNFSM4JLKCSS2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEDUYZ5A#issuecomment-552176884>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ACZBGYNRYLFBTFXUO65R5HDQS7GDTANCNFSM4JLKCSSQ>
> .
>
 =||= On Sunday November 10 2019 03:14:38 Paul Licameli wrote:

>.mm files not included in the Windows and Linux builds.  It would be a
>pleasing separation.

The way we'd do that in KDE is by copying (instead of renaming) the required .cpp files to .mm, strip the ObjC code from the old .cpp files, and rewrite the build formula to include the .mm files on Mac instead of the .cpp files. Mostly trivial with CMake ....

 =||= On Sun, Nov 10, 2019 at 7:19 AM René Bertin <notifications@github.com>
wrote:

> On Sunday November 10 2019 03:14:38 Paul Licameli wrote:
>
> >.mm files not included in the Windows and Linux builds. It would be a
> >pleasing separation.
>
> The way we'd do that in KDE is by copying (instead of renaming) the
> required .cpp files to .mm, strip the ObjC code from the old .cpp files,
> and rewrite the build formula to include the .mm files on Mac instead of
> the .cpp files. Mostly trivial with CMake ....
>

I hope that does not mean duplication of the C++ needed in both builds.  Do
you mean the .mm file could #include the common code remaining in the .cpp
file?

PRL



>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/issues/387?email_source=notifications&email_token=ACZBGYJJI3Z3K4LZAK3LXETQS7353A5CNFSM4JLKCSS2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEDU35FA#issuecomment-552189588>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ACZBGYPNQPHXPU4VXSOMMX3QS7353ANCNFSM4JLKCSSQ>
> .
>
 =||= >I hope that does not mean duplication of the C++ needed in both builds.  Do
>you mean the .mm file could #include the common code remaining in the .cpp
>file?

Yes. You can of course also put only the ObjC++ code in .mm files which you pull in in addition to the .cpp files. Maybe a bit more work initially but indeed easier to maintain afterwards if only a small proportion is ObjC++ code .
 =||= cmake 3.16 will have support for Objective C/C++:

https://cmake.org/cmake/help/v3.16/release/3.16.html =||= I know, but that doesn't help in any way at the moment. If files have wrong extension and you don't provide any explicit hints to it, CMake will also not magically recognise the need for objective C. Most importantly though the CMake build system is not yet ready. =||= >cmake 3.16 will have support for Objective C/C++:
>
>https://cmake.org/cmake/help/v3.16/release/3.16.html

> > CMake learned to support the Objective C (OBJC) and Objective C++ (OBJCXX)
> > languages. They may be enabled via the project() and enable_language()
> > commands. When OBJC or OBJCXX is enabled, source files with the .m or .mm,
> > respectively, will be compiled as Objective C or C++. Otherwise they will
> > be treated as plain C++ sources as they were before.

I've been using ObjC/ObjC++ with cmake for quite a while now, I wasn't aware this didn't work?! Or maybe it just worked because at the very least clang looks at the file extension (I cannot recall having tried to build ObjC++ enabled projects with GCC).
 =||= CMake is now used to build Audacity, so this issue closed.  Thanks to all who contributed to it. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
388Changes made in Line 184 in WaveformVRulerControls.cpp to fix BUG ID …AnshulKiyawat11/19/19, 03:40:23 PM"…1734

Co-authored-by: Hrishik Joshi <hrishik719@gmail.com>
Co-authored-by: Hardik Jain <jainhardik1107@gmail.com>
Co-authored-by: Piyush Chhalani <17ucs110@lnmiit.ac.in>
Co-authored-by: Ritik Mishra <ritik.fcb@gmail.com>
Co-authored-by: Anmol Garg <anmol.garg428@gmail.com>
Co-authored-by: Akshit Devpura <akshitdevpura007@gmail.com>
Co-authored-by: Sheetal Chaturvedi <sheetal1998chaturvedi@gmail.com>

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
""Please see https://sourceforge.net/p/audacity/mailman/message/36856192/

Audacity QA team have reviewed the bug - THANK YOU for your work, which led to QA team doing that.  QA team decided the current behaviour is actually better, and that the 'bug' is a 'WONT-FIX'.  In other words, it is better if the code stays as it is now and the bug closed rather than making the change.

This does not lessen your contribution.  It led to one more bug being closed.  According to the 'WONT-FIX' status of the bug, and the comments in the bug tracker, that does though mean this pull request will shortly be closed.  Thank you all for your work on it. =||= Following discussion by the QA team, bug 1734 has been closed as ""won't fix"", on the basis that the current behaviour is preferable to the old behaviour on several counts. Consequently this pull request becomes obsolete. However, I would like to thank AnshulKiyawat and team for submitting this pull request, which brought the issue into scrutiny and has allowed it to be closed.  =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
389"Add ""Toggle Mute Recording Volume"" on Extra - Mixer menu"Jonatã Bolzan Lossjonata05/31/20, 05:23:38 PM"This PR implements an option to toggle the recording input volume to mute and back in Extra - Mixer menu."Thanks.  We've decided against this feature.  There is too much risk of new users toggling the recording volume to 0 and then wondering why their recording is flatlining.  The feature isn't sufficiently useful (not previously requested by users) to merit that risk. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
390Fix (again) TAB key navigation to graphic EQ sliders on Mac...Paul LicameliPaul-Licameli11/14/19, 11:28:16 PM"... original fix was at c8d95e1

regression was at 3e98a10

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
""Thanks for spotting and fixing this Paul. =||= Rebasing my shuttlegui branch to recent master exposed it.

PRL


On Thu, Nov 14, 2019 at 6:28 PM James Crook <notifications@github.com>
wrote:

> Thanks for spotting and fixing this Paul.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/390?email_source=notifications&email_token=ACZBGYKCYEBD55W3GFITZS3QTXNKLA5CNFSM4JNS6TAKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEEDWL7I#issuecomment-554132989>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ACZBGYIDIG6KCRVIDYOKKLLQTXNKLANCNFSM4JNS6TAA>
> .
>
 =||= "Fix (again) TAB key navigation to graphic EQ sliders on Mac...Paul LicameliPaul-Licameli11/14/19, 11:28:16 PM"... original fix was at c8d95e1

regression was at 3e98a10

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"NaNPaul Licameli11/14/19, 10:54:17 PM"Fix (again) TAB key navigation to graphic EQ sliders on Mac...

... original fix was at c8d95e1

regression was at 3e98a10"1
391"Add ""Toggle waveform/spectrogram view"" on focused track"Jonatã Bolzan Lossjonata11/16/19, 02:54:33 PMThis adds a new item on Extra menu Track - Toggle Focused Track View, to change the view from Waveform to Spectrogram and back."I down vote this proposal.  It would conflict with my intentions to turn spectrogram into an optional plug-in.
 =||= As discussed on devel@ mailing list, this feature proposal will be redundant when simultaneous waveform / spectrogram views (""split views"") are available. ""Split views"" is planned for the next version of Audacity (2.4.0), so closing this pull request. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
392Vertical zoom incdec commandsJonatã Bolzan Lossjonata05/31/20, 05:20:44 PMThis implements vertical zoom increase and decrease for use in Extra menu and/or commands.I don't see a strong case for why we need a menu command and keyboard shortcut in addition to mouse zoom. If you would like to promote the merits of this addition, please come and discuss it with us on the developer's mailing list (https://sourceforge.net/projects/audacity/lists/audacity-devel). =||= Closed.  We've decided against this feature / enhancement. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
393Prevent heap-use-after-free crashPhilipp Claßenphilipp-classen11/24/19, 09:09:40 PM"Quickly opening and closing windows can trigger a use-after-free memory violation.

I'm able to reliably reproduce on Arch Linux with i3 as the window manager. To understand what happens, I created a debug build with `-fsanitize=address`. The crash happens in `ProjectWindow::FixScrollbars` (more information can be found in the attached stack trace).

[address-sanitizer-report.txt](https://github.com/audacity/audacity/files/3881612/address-sanitizer-report.txt)

I cannot guarantee that the fix will cover all possible races, but in the situation where the callback is executed and deletion is already in progress, it reliably crashes but with the patch, I was no longer able to reproduce it."Thank you! =||= Prevent heap-use-after-free crashPhilipp Claßenphilipp-classen11/24/19, 09:09:40 PM"Quickly opening and closing windows can trigger a use-after-free memory violation.

I'm able to reliably reproduce on Arch Linux with i3 as the window manager. To understand what happens, I created a debug build with `-fsanitize=address`. The crash happens in `ProjectWindow::FixScrollbars` (more information can be found in the attached stack trace).

[address-sanitizer-report.txt](https://github.com/audacity/audacity/files/3881612/address-sanitizer-report.txt)

I cannot guarantee that the fix will cover all possible races, but in the situation where the callback is executed and deletion is already in progress, it reliably crashes but with the patch, I was no longer able to reproduce it."NaNPhilipp Claßen11/22/19, 10:02:57 PMPrevent heap-use-after-free crash1
395build: Fix bad include pathLars WendlerPolynomial-C11/24/19, 09:04:11 PM"```
  tracks/labeltrack/ui/LabelTextHandle.cpp:25:10: fatal error: ../../../images/Cursors.h: No such file or directory
     25 | #include ""../../../images/Cursors.h""
        |          ^~~~~~~~~~~~~~~~~~~~~~~~~~~
  compilation terminated.
```
Signed-off-by: Lars Wendler <polynomial-c@gentoo.org>

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
""The include path did not stop our builds, so something is different in your build environment with default paths.  However I/we are happy to make this change as the actual path is clearer your way.  Maybe we should get rid of some of our default paths.

Thanks for the pull request. =||= "build: Fix bad include pathLars WendlerPolynomial-C11/24/19, 09:04:11 PM"```
  tracks/labeltrack/ui/LabelTextHandle.cpp:25:10: fatal error: ../../../images/Cursors.h: No such file or directory
     25 | #include ""../../../images/Cursors.h""
        |          ^~~~~~~~~~~~~~~~~~~~~~~~~~~
  compilation terminated.
```
Signed-off-by: Lars Wendler <polynomial-c@gentoo.org>

# Pull Requests

If you are submitting a pull request, read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 


## The key points: 

* Come over talk with us at the audacity devel email list. If you just rely on the GitHub pull request messages, you may find we ignore or close the pull request for what does not seem to you to be a good reason. Please come and talk. 

* Translators should subscribe to audacity translators email list instead.  The translators list is also the right place for most translation discussion. 

There is a bit more on our wiki about how we use the pull requests and the labels that can be attached to pull requests.
"NaNLars Wendler11/24/19, 06:46:54 PM"build: Fix bad include path

  tracks/labeltrack/ui/LabelTextHandle.cpp:25:10: fatal error: ../../../images/Cursors.h: No such file or directory
     25 | #include ""../../../images/Cursors.h""
        |          ^~~~~~~~~~~~~~~~~~~~~~~~~~~
  compilation terminated.

Signed-off-by: Lars Wendler <polynomial-c@gentoo.org>"1
396Error while recording to the end of existing trackgroowyCZ02/17/20, 12:36:31 PM"Audacity version: 2.3.3-0build1~ubuntu18.04
Error:
```
Expression 'err' failed in 'src/hostapi/alsa/pa_linux_alsa.c', line: 3355
Expression 'ContinuePoll( self, StreamDirection_In, &pollTimeout, &pollCapture )' failed in 'src/hostapi/alsa/pa_linux_alsa.c', line: 3896
Expression 'PaAlsaStream_WaitForFrames( stream, &framesAvail, &xrun )' failed in 'src/hostapi/alsa/pa_linux_alsa.c', line: 4274```"Could not reproduce.  Please give enough details so that we can. =||= I cannot reproduce this on W10 or on macOS 10.51.2 Catalina - with either 2.3.3 or that latest alpha builds I have for 2.4.0 =||= Could not reproduce. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
398Request: update FFmpeg librariesl00tzOMG09/24/21, 06:03:22 PM"Please be so kind to allow the use of newer FFmpeg libraries, e.g. 4.2. The currently used version (2.2.2) has issues with e-ac3.

Thank you very much in advance,""https://forum.audacityteam.org/viewtopic.php?t=105590#p373215 seems to explain how to do it. I don't have time to prioritize this myself right now, but it sounds straightforward enough. =||= Yes, as said in the audacity forum, overwriting the ffmpeg lib-src/ffmpeg/{libavcodec,libavformat,libavutil}/ headers (I did it on bdcd907b5) worked for me

My local builded ffmpeg : version N-97687-gd0705ecb2b built with gcc 9 (Debian 9.3.0-11)

![auda](https://user-images.githubusercontent.com/39339802/82296432-7a663080-99b1-11ea-9a88-aa4d1d303555.png)




 =||= I get your point, but if it is so easy to update, why don't developers make it available for the broad audience of users, who don't wish to bother with compiling from source (thinking of Windows users here...)? Also, if you make a pull request of your changes would probably speed up this process... =||= I can't believe they still haven't updated it. =||= Why does this have no priority? I've been waiting a long time to be able to use the new ffmpeg and not the old garbage 2.2

It is impossible to download version 2.2 of Ffmpeg from the guide. Error 403 =||= > Why does this have no priority? I've been waiting a long time to be able to use the new ffmpeg and not the old garbage 2.2
> 
> It is impossible to download version 2.2 of Ffmpeg from the guide. Error 403

The sad thing is that there's already a pull request, which updates it to 4.2.3. The only effort needed from the authors is to check and merge... =||= :-( =||= 

I am not sure how much attention do the audacity developers put into the conversation here. 
According to [this audacity forum post](https://forum.audacityteam.org/viewtopic.php?f=20&t=68196&sid=15fe1125d989d5155cfcd9b6b47c4cf7), feature request should be sent on the forum. 
Join [this forum discussion](https://forum.audacityteam.org/viewtopic.php?f=20&t=116912). Your voice will be helpful! =||= They just don't care. All they would have to do is push the merge button. =||= ""All they would have to do is push the merge button.""  LOL.  Try running an open source project that way and then come back and say it in all seriousness.

We have updates to FFmpeg, Portaudio and wxWidgets planned.  See #741.  That's by Leland who has commit rights.  When we are ready it will go in. =||= Now that #741 has been merged, I think this issue can be closed, right?

> ""All they would have to do is push the merge button."" LOL. Try running an open source project that way and then come back and say it in all seriousness.

To be fair, no maintainers responded to #608 until close to 9 months after it was opened. It's totally reasonable to reject or delay pull requests because the maintainers have other priorities, but it's not cool to provide no explanation for why a pull request addressing an issue that many users have raised concerns about doesn't get merged for 9 months. =||= Before closing: another important thing would be to add the `-drc_scale 0` switch upon importing (e)ac3 files, as FFmpeg applies DRC on these automatically and this should be avoided. =||= @l00tzOMG - Please explain more.

Is it already covered by this: https://ffmpeg.org/pipermail/ffmpeg-devel/2015-March/170985.html ?? =||= Hmmm, maybe I have missed something..., then it is already fixed :) =||= Closing per:
> Now that #741 has been merged, I think this issue can be closed, right?

and:

> then it is already fixed :) =||= #741 was reverted so reopening. =||= > Is it already covered by this: https://ffmpeg.org/pipermail/ffmpeg-devel/2015-March/170985.html ??

This was not applied and is not going to be applied. see patch more modern try to do it. https://patchwork.ffmpeg.org/project/ffmpeg/patch/20200201193443.22419-1-rcombs@rcombs.me/ =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
399Updated Slovak translation of AudacityGiovani9312/06/19, 12:09:25 PM"Hello.
# Pull Requests
There is My latest slovak translation of Audacity. There were a lot of misstakes and technical translations using technical translator.
[sk.zip](https://github.com/audacity/audacity/files/3914973/sk.zip)


If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests ""Hi Giovani,

For a translation we just want the updated .po file.  This pull request has a load of changes to code in it too.  I think you may be new to using GitHub.  Please either try again, with just one file changed for us.  To do that you may need to 'rebase' your change on current Audacity head.  Or perhaps more simply, use the translators email list and send the single changed .po file to us there.

Thanks. =||= Updated slovak .po file committed 8947463 via translation email list  =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
400UI states, such as tracks height or expanded toggle, are not restored on loadElia Sartieligt12/27/19, 04:23:36 PM"**Describe the bug**
When you change tracks height or set a track to collapse rather than expanded, save the project and re-open it, the tracks' heights are all set to a default value and all tracks are expanded. These UI states used to be restored on project load on the older version of Audacity (2.2.0 I think?) but is not working in the recent version 2.3.3.
""Thank you for this report - yes I can readily reproduce this on Windows 10 - so I shall be logging this on our bugtracker (I'll post back here for you with a Bugzilla link when I've done that).

It is even worse than you report as not only do you lose non-default track heights - you also lose any setting of the track view type to Waveform dB or Spectrogram.

Peter (Audacity QA) =||= These are two different bugs that I shall log.

1) The track size issue was present in 1.2.6 and fixed at some stage in the 1.3.x Beta Audacity series.  It was fine all the way up to  2.3.2 - so what we have with 2.3.3 (and my latest 2.4.0 alpha build) is a regression on 2.3.2 - so this will be a high priority bug.

2) The issue with the track view type seems to have been present all the way back to 1.2.6 and 1.0.0 - so not a regression but a VERY longstanding bug.

Peter. =||= Logged them both

1)  P1 2265
https://bugzilla.audacityteam.org/show_bug.cgi?id=2265
Track heights are reset to default on project re-opening

2) P3 2266
https://bugzilla.audacityteam.org/show_bug.cgi?id=2266
Audio track view types are reset to default on project re-opening

So is it OK if I now close this Github entry in favor of the more trackable Bugzilla entry? =||= Yup, sounds good. =||= OK closing this - Thanks Elia - and once again thanks for the report, much appreciated,

Peter =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
401year tag gets doubledcubetronic01/22/20, 10:33:40 AM"id3v3.2 or whatever, for example...  
i edit a song and export it, it already has tag data, i click ok.  
but what was date `2010-01-01` is now `2010-01-01; 2010-01-01`  
audacity added an extra `; 2010-01-01`
so now when i try to view the year on some mp3 players, like vanilla music player, it won't show the year. (and to make matters worse, flushing the cache in vanilla music player is not working either, so even though i've fixed the file, it still shows the old metadata)

used latest release of audacity downloaded like a few days ago""Are you on mac or windows?
Perhaps you could send us a small example, and tell us the exact steps to make the problem happen.  Thanks. =||= I could not reproduce this on W10 =||= I just reproduced it. 
Audacity 2.3.3 
Windows 10 Pro Version 10.0.18363 Build 18363 (Nov 2019) 
id3v2.3  
  
1. Start with an mp3 file tagged with id3v2.3, with a date like `1998` for example.
2. Drag that file into Audacity.
3. Edit the file however you wish. For me, I like to split it and remove audio I don't want.
4. Highlight the audio you want, like with Ctrl-A for everything.
5. Click on File | Export > Export as mp3
6. I just went with the quality presets, renamed the file, selected a folder, and clicked Save.
7. Current mp3 tag info will be displayed (note year `1998`). I just click OK.
8. Now open that file in a DIFFERENT MUSIC PLAYER, like Foobar2000 (Windows 10), or Vanilla Music (Android) and you will see `1998; 1998` in the Date tag. The duplicate year will NOT be shown if you drag the new file into Audacity and view Metadata... (technically this is *another bug*, because Audacity should be showing what is truly there).

Foobar2000 renders the new date as `1998, 1998` in the player but `1998; 1998` in the Properties Editor. This may be similar to how Audacity is only showing one year when the actual tag data is `1998; 1998`.

Vanilla Music fails to understand the date `1998; 1998`, so when sorting music by date, it is not sorted properly. I think it treats it as an invalid date.

 =||= Thanks.  We'll look into it. =||= As before I cannot reproduce this (using these latest Steps to reproduce) testing on W10 with 2.3.3.

My music player of choice (iTunes) as Step 8 shows only a single ""1998""

When I examine the MP3 file's properties with Windows Explored it too shows only a single ""1998"" =||= As before I cannot reproduce this (using these latest Steps to reproduce)
testing on W10 with 2.3.3.

My music player of choice (iTunes) as Step 8 shows only a single ""1998""

When I examine the MP3 file's properties with Windows Explored it too shows
only a single ""1998""

Peter.

On Mon, Jan 20, 2020 at 10:10 AM James Crook <notifications@github.com>
wrote:

> Thanks. We'll look into it.
>
> —
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/issues/401?email_source=notifications&email_token=AL7BKIA5LHZB7Z7L5SVHZE3Q6V2AVA5CNFSM4JXJFFGKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEJMCJ3I#issuecomment-576201965>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AL7BKIHNYOFMSMQF2TGCX4DQ6V2AVANCNFSM4JXJFFGA>
> .
>
 =||= Windows Explorer is not showing you the actual content of the data - but instead giving you a nicely formatted version of that data. I believe iTunes is doing the same thing, but I don't use iTunes.

Like I said, this is noticeable in the 3rd Party Programs I use:
- Foobar2000
- Vanilla Music Player

For good measure, I just went ahead and downloaded an mp3 tag program:
- *Mp3tag*  
This confirms the bug, **and** the hard-to-detect nature of the bug
If you drag your newly-created mp3 file into Mp3tag...
`Mp3tag version:
[2019-10-19]  REL: VERSION 2.99a (for Windows 10/8.1/8/7/2008/Vista/2003/XP SP3)`
Then it will show `1998\\1998` on the left panel, but if you right-click on the file and go to Properties, it will just show `1998`. WHEREAS, if you use an un-altered file, it will show just `1998` in both places.
Of course this is a bit different, with two backslashes. I honestly don't know what's *actually* in that data field. But I do know the data is mangled after exporting from Audacity.

Also, some programs call it ""date"", some ""year""... whatever
 =||= So I installed MP3tag to investigate this further

And yes at step 8 with MP3tag (invoked from Windows Explorer
The Year field indeed shows 1998\\1998

But the so does the MP3 file that I created at Step 5 (the original MP3 I
created)
show as 1998\\1998

So it appears your Step 8 is not adding an extra ""1998"" as far as MP3tag is
concerned.

So I remain puzzled .

-----------------------------------------------

BTW - we know that Audacity is a poor manager of metadata, particularly of
pr-existing
metadata when an MP3 is imported - for example the artwork is discarded.

I have a QA page on the Audacity Wiki (in addition to our Bigtracker) to
keep an eye on
metadata issues in Audacity:
https://wiki.audacityteam.org/wiki/User:PeterSampson/Metadata_issues

Peter.

On Tue, Jan 21, 2020 at 12:59 AM cubetronic <notifications@github.com>
wrote:

> Windows Explorer is not showing you the actual content of the data - but
> instead giving you a nicely formatted version of that data. I believe
> iTunes is doing the same thing, but I don't use iTunes.
>
> Like I said, this is noticeable in the 3rd Party Programs I use:
>
>    - Foobar2000
>    - Vanilla Music Player
>
> For good measure, I just went ahead and downloaded an mp3 tag program:
>
>    - *Mp3tag*
>    This confirms the bug, *and* the hard-to-detect nature of the bug
>    If you drag your newly-created mp3 file into Mp3tag...
>    Mp3tag version: [2019-10-19] REL: VERSION 2.99a (for Windows
>    10/8.1/8/7/2008/Vista/2003/XP SP3)
>    Then it will show 1998\\1998 on the left panel, but if you right-click
>    on the file and go to Properties, it will just show 1998. WHEREAS, if
>    you use an un-altered file, it will show just 1998 in both places.
>    Of course this is a bit different, with two backslashes. I honestly
>    don't know what's *actually* in that data field. But I do know the
>    data is mangled after exporting from Audacity.
>
> Also, some programs call it ""date"", some ""year""... whatever
>
> —
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/issues/401?email_source=notifications&email_token=AL7BKIG4JWTCEGEPAL6RMOTQ6ZCG5A5CNFSM4JXJFFGKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEJOE3QQ#issuecomment-576474562>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AL7BKIFSCM6CHAD7AY4Q5UTQ6ZCG5ANCNFSM4JXJFFGA>
> .
>
 =||= I have discussed this with James and we have logged this in our Bugzilla bugtracker:  https://bugzilla.audacityteam.org/show_bug.cgi?id=2291 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
402Says a bug has happened.noahdiamond412/31/19, 03:42:09 PM"
Deletes files in the middle of recording
![Single Parent Families Edits (1) 12_11_2019 8_49_40 PM](https://user-images.githubusercontent.com/58823273/70733101-9e716780-1cd7-11ea-9284-9724f6307554.png)
""Is there more detail needed? =||= Which version of Audacity?
Did this appear during recording, or when you reopened the project?
Was the project on a USB key?
Had you moved the project from its original location?
 =||= This message normally appears on project opening when you have a corrupted project.  Is this when it occurred for you? 

You would be better off raising this issue on the Audacity Forum:  https://forum.audacityteam.org/index.php =||= I have now added a page for this in the Audacity Manual - it will be in the upcoming 2.4.0 Manual (as I cannot edit or modify released Manuals).  You can get a preview of that page here:  https://alphamanual.audacityteam.org/man/Warning_-_Missing_Audio_Data_Block_Files
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
403l10n: zh_TW: update translationpan93412pan9341201/02/20, 04:33:35 AM"<!-- # Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 
-->

- [x] Passed `msgfmt`
- [x] Updated base"could @Paul-Licameli take a look with this? :) =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
404Scrollbars in dark modelocness3locness309/20/21, 02:47:05 PM"**Is your feature request related to a problem? Please describe.**
Scrollbars in dark interface themes aren't dark colored an stay in the system colors.

**Describe the solution you'd like**
I'd like the scrollbars to be themed with the rest of the interface.

**Additional context**
macOS :
![Capture d’écran 2019-12-20 à 15 20 57](https://user-images.githubusercontent.com/37651007/71260931-60f68500-233c-11ea-9efe-0f03a7323e30.png)
"Thanks for creating an issue.  Yes, we would like this too.  At the moment it looks like we would need to draw the scrollbars ourselves to get the desired result. =||= Yeah, I understand. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
405Recording audio with Audacity, BlackHole and multi output deviceTobias Soloschenkoklopfdreh12/27/19, 01:26:01 PM"**Describe the bug**
When I try to record audio with BlackHole audio mapping it is not working properly. QuickTime however is recording everything correctly, so the internal audio mapping is working correctly.

**To Reproduce**
Steps to reproduce the behavior:
1. Install BlackHole like explained here: https://github.com/ExistentialAudio/BlackHole
2. Created a multi output device within the Audio-Midi-Setup with the primary device being set to the internal speakers - drift correction applied to BlackHole 16ch
3. Started the system preferences for audio and set the input to BlachHole 16ch
4. Started Audacity and set the recording device to BlackHole 16ch and the output to the multi output device

**Expected behavior**
The audio should be recorded like with QuickTime

**Additional information (please complete the following information):**
- macOS 10.15.2
- Audacity 2.3.3
- BlackHole v0.2.5

**Additional context**
- Related bug issue: https://github.com/ExistentialAudio/BlackHole/issues/39
- Audacity setup with BlackHole: https://github.com/ExistentialAudio/BlackHole/wiki/Audacity
- Micro access has been granted to Audacity
"Thanks.  For now we are treating this as the same as the 'not supporting Catalina' bug.  So am closing (as a duplicate).  If when we do support Catalina, expected with 2.4.0, and if it still does not work, then may be time to revisit it. =||= Okay - I am going to check it and report back here when 2.4.0 is released. Thanks for the reply. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
406l10n: zh_TW.po: update audacity translationpan93412pan9341204/08/20, 05:49:42 PM"Co-authored-by: pan93412 <pan93412@gmail.com>

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "closed #403 =||= @SteveDaulton @Paul-Licameli  =||= @SteveDaulton @Paul-Licameli =||= l10n: zh_TW.po: update audacity translationpan93412pan9341204/08/20, 05:49:42 PM"Co-authored-by: pan93412 <pan93412@gmail.com>

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNWalter Cheuk12/31/19, 05:55:56 PM"l10n: zh_TW.po: update audacity translation

Co-authored-by: pan93412 <pan93412@gmail.com>"1
408Shown an error if loudness could not be calculated.Max Maiselmmmaisel01/04/20, 05:34:13 PM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests ""I don't think this is the right fix. The error occurs much earlier in
double EBUR128::IntegrativeLoudness()

The line:
double Gamma_R = log10(sum_v/sum_c) - 1;
has a division by zero error (""sum_c"" is zero for very small selections).

 =||= Better fix comes later. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
409[Request] Add Support for FFMPEG AVCONF58Cubuzzcubuzz01/05/20, 01:45:25 PM"**Is your feature request related to a problem? Please describe.**
FFMPEG version required by Audacity is out of date. The program requires AVCONF55.DLL whilst the newest version is AVCONF58.DLL

**Describe the solution you'd like**
Please add support for AVCONF55.DLL

**Describe alternatives you've considered**
Alternatively, allow different filenames for Audacity to try and find FFMPEGs .dll and don't have it snap back to AVCONF55.DLL as it does now."Duplicate of #398. Closed. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
410Fix two bugs in loudness effectMax Maiselmmmaisel01/24/20, 06:04:20 PMAs discussed on audacity-quality list.NaNFix two bugs in loudness effectMax Maiselmmmaisel01/24/20, 06:04:20 PMAs discussed on audacity-quality list.NaNMax Maisel01/06/20, 07:03:52 AM"Fix loudness effect bug when selection includes a gap.

If the selected audio in a track contained a gap between two clips,
an incorrect amount of samples was processed."1
411"Macro/Scripting Method ""Export2:"" shows a dialog on windows 10 instead of being silent"Ruben Kleppkrupper05/13/21, 09:34:41 PM"**Bug Description**
The ""Export2:"" Method from the macro / scripting section opens an export dialog.

**To Reproduce**
Steps to reproduce the behavior:
1. Go to 'Tools'
2. Go to 'Macros'
3. Click on 'New'
4. Enter a name
5. Add a new Step
6. Select ""Export2""
7. Apply macro on Project
8. See export dialog

The bug also ocours if you trigger the method via scripting (through the pipe).

**Expected behavior**
The export should be done in the background without promting a dialog.
The method is documented here: [https://manual.audacityteam.org/man/scripting_reference.html](https://manual.audacityteam.org/man/scripting_reference.html)

**Additional information (please complete the following information):**
 - OS: Windows 10
 - Version: Audacity 2.3.3

Thank you guys for your work! :-)""Thanks for the report, but I'm not able to reproduce this issue (testing with the latest Audacity 2.4.0 alpha source code). Please note that Export2: requires that ""Filename"" needs to be a fully qualified file name (including the full path and file extension). If you still have problems with this, please come and discus it with us on the Audacity forum and I think we should be able to get it working for you. https://forum.audacityteam.org/viewforum.php?f=69 =||= Did you ever enable debug output? I sometimes found that the same function will continue to output debug info even when deselected =||= Closed could not reproduce.  (also request to move to forum) =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
412Support XDG base directory specificationshmerl02/03/20, 05:23:11 PMCurrently on Linux, Audaicty creates `$HOME/.audacity-data` directory. Please follow XDG base directory specification to avoid cluttering `$HOME`."Yes please! The correct destination for ""data"" should be `~/.local/share`. Additionally, `~/.config` is the right directory for configs, `~/.cache` is the right directory for cache. If there's strong resistance to the full correct thing, then at least please put everything in `~/.config/audacity`.

On another note. The directory `.audacity-data` can by itself also be misleading, because it is normally read as ""audacity directory that stores binary data, like audios and exports/imports"". In reality, however, it also stores configuration, which is a completely different thing to the user. Having the name of the directory as just `.audacity` would avoid the wrong meaning and make it more clear that it's a directory that tries to hold everything together. (That being said, the best approach is still to follow XDG specs.) =||= Thank you for your comments. This issue is logged on the Audacity bug tracker. =||= For the reference: https://bugzilla.audacityteam.org/show_bug.cgi?id=2201

Is there any plan to implement it? =||= We would, of course, like to fix every bug and issue, but resources are limited. Patches are welcome. =||= We also have to conscious of compatibility with previous versions of Audacity.  If we make this change, do we automatically ""migrate"" the existing folder contents to the XDG folder(s)?  What do we do if the user switches back to a previous version of Audacity? =||= I'd say it's a very unlikely scenario to support (switching to previous version). But I suppose you should know better what usage patterns are common. =||= Regarding forward compatibility. Yeah, as always in these cases, automatic migration should be there. It means more code to write than just changing default paths indeed.

(Also, the sooner standards are fully followed, the better, if new files/directories are introduced. Not trying to be too pushy here, just saying.) =||= Not saying it's impossible.  Might just be a simple matter of providing guidance in the release notes or something like that for those types of situations. =||= I've successfully managed to point Audacity to the correct directories in a locally patched copy. I still need to fix the backwards/forwards compatibility, though. Any suggestions for how I should handle it? =||= @serebit if you want real forward compatibility, then only (relative) symlinks I guess? =||= That's not going to be easy, but I'll give it a shot seeing as it's realistically the best way forward. =||= Had a different idea-- if the `.audacity_data` directory *already exists*, use that. If it doesn't, use the XDG dirs (i.e. on a new install). This covers all use cases I can think of other than someone installing Audacity on a new machine, running it, and then immediately downgrading it to an older version (which seems pretty rare). =||= yes, clearly. If it doesn't exist you don't need to create any symlinks and such. That's the whole point. Use XDG only, in such case, don't clutter $HOME. =||= I don't think you need to worry about downgrading, that's just too much work for not valuable use case. Such cases can be covered in the release notes. =||= Yes, I was arguing for symlinks if the old destination existed and was replaced by a new one, or just standard XDG -- otherwise. I do feel that complying with XDG is better than making audacity work with both directories though, but that's somewhat subjective, and I'd be very happy with either change! =||= (I would also think that omitting downgrading support is okay, in which case audacity only needs to move data to the new destination if the new destination doesn't exist (but old one does).) =||= #632  =||= #632 has adressed this issue, can it be merged? =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
413[Bug] Mac save file window fail to use Command+V ect' properlyzxzxzzz805/14/21, 12:51:53 PM"MacOS High-Sierra 10.13.6, audacity version 2.3.3.

in the saving-project-as window....
when i try to use all the keyboard commands, like copy, paste or Command+a [mark all], it fail or screw things up:
when i try to paste something into the text, it instead reset it and paste my thing INSTEAD of what was in the box already, for example if i wrote ''some file name from today'' and i mark only the ''today'' or the spot after the word, in either case when i try to paste something like ''2020-01-12'' it instead erasing everything up and putting just the ''2020-01-12'' over,
like so:
some file name from today .aup
turn to
2020-01-12.aup
instead of 
some file name from today 2020-01-12.aup
or
some file name from 2020-01-12 .aup

as for all the other stuff like copy and mark all, they just make some system sound and fail....
right click and choosing the options like copy and paste from the menu work fine btw.

its been really bugging me for a while now, giving me so much hell, and also so many times i forgot audacity do it, writing some long name and then pasting something in the end only to get all what i wrote beforehand deleted, and i can't undo ect' coz the undo also fail like copy and mark-all and just do the system sound, and undo don't even exist in the rightclick menu....

i tried to update right now from 2.3.2 to 2.3.3 in hopes you fixed it, but sense you didn't then you might not be aware about this bug....

so please fix? its driving me like crazy, thanks for reading.""This now works on my Macbook Pro with macOS 11.2.3 Big Sur on 3.0.2 and the latest alpha test build I have for the upcoming 3.0.3

Cmd+V to paste a filename works for
a) Save Project
b) Save Project AS
c) Backup Project.

IIRC I think we fixed this for the 3.0.0 release. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
414Fixed bug 624binarywisdom01/31/20, 11:45:35 AM"Hello,
Here is the fix to Bug 624. The fix follows the agreed behavior (see emails from around October 25) . For the sake of convenience see the agreed behavior below:

_""- first, check the xml-file. If it contains illegal shortcut duplicates, refuse importing. Shortcut duplicates are LEGAL if default settings also have those operations with the matching shortcuts. A refusal to import shortcuts must happen with the message that warns the user of a failure and explains the reason. 

- if the xml-file looks ok, import the shortcuts. As discussed before, because different versions of Audacity might have different sets of operations with shortcuts, it is still possible to end up with illegal shortcut duplicates for a perfectly correct xml-file. This situation must be monitored. In case of any conflicts, the shortcut from the xml-file is used, and the pre-existing shortcut is wiped clean.

When telling the user the commands which have had their shortcut removed, I think it would be useful to tell the user the name of the command, the shortcut, and and name of the command which still has that shortcut.""_

I didn't find a clean way to intercept the imported content before it makes its way to the shortcut preferences, so I had to jump through some hoops right in KeyConfigPrefs::OnImport().
In general, I tried to keep changes minimal."Thanks for the fix. I've done some testing, and the fix looks OK to me. It's possible that there could be some small improvements to the wording of the dialogs, but that would be easier done after the request is pulled. =||= I've squashed the commits, used binarywisdom's description of the commit above as the commit message, and merged it. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
415l10n: zh_CN.po: update audacity translationxingkongxingkong011302/10/20, 12:36:16 PM"Fix the bug that the Simplified Chinese characters are not unified

# Pull Requests
none
thanks""hi @Paul-Licameli 
I submitted this pulls because I was blind and coupled with transifex being unfriendly to screen readers.
Please help review
thanks =||= 另外，这个pr的提交意义就是不让poedit报错。 =||= > 另外，这个pr的提交意义就是不让poedit报错。

Poedit 的警告對於 CJK 支援還不是很好。參考就好。 =||= > 這 PR 建議撤銷，原翻譯是正確的，那 `...` 確實建議直接用 Unicode 的省略號「…」。
> 
> Poedit 誤把原文的 `...` 的最後一個點看成句號了。

好，我关闭此pr感谢。 =||= > 這 PR 建議撤銷，原翻譯是正確的，那 `...` 確實建議直接用 Unicode 的省略號「…」。
> 
> Poedit 誤把原文的 `...` 的最後一個點看成句號了。

阿抱歉我打錯了… 是 Revert 這個 Commit Orz 抱歉qwq =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
416l10n: zh_CN.po: update audacity translationxingkongxingkong011305/13/21, 09:31:43 PM"hello audicity team
my name dingpengyu
I updated the Simplified Chinese translation of Audicity
Major fixes:
Fix the bug that the Simplified Chinese characters are not unified
The problem
thanks
#415 "Closed as #415 was committed.   =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
418F11 / can't exit from full screencsgerg02/17/20, 12:46:01 PM"Audacity 2.3.3-alpha-Nov 22 2019
Manjaro 18.1.5 Xfce
Hi, I tired the full screen mode, it works fine but you cant exit with F11.
You can leave the full screen mode with change workspace.""Works fine on Windows 10 =||= Works fine in Xubuntu 18.04.

Steve

On Thu, 13 Feb 2020 at 16:09, petersampsonaudacity <notifications@github.com>
wrote:

> Works fine on Windows 10
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/issues/418?email_source=notifications&email_token=ACZD2SK342MVFQB4NSBUOGDRCVWCLA5CNFSM4KLTBKZKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOELVSMAI#issuecomment-585836033>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ACZD2SIBUZGK2RZUAR2MBE3RCVWCLANCNFSM4KLTBKZA>
> .
>
 =||= We support Ubuntu linux builds, and not every flavour of Linux, so closing this since it works on Ubuntu. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
419Artist is missing in the metadata after exporting multiple filesBaumGuard05/13/21, 09:32:49 PM"One of my major purposes of using Audacity is to digitize vinyl records. Every track on the record is being exported as a separate file. When I export a part of the recorded audio and fill in the tag-form, the artist is only written to the metadata of the first file. The tags of the following files all don't contain the artist. Except the artist every information standing in the form is written to every file.
To mention a further detail: I always use MP3 to export the audios. I don't know whether that's the reason for the issue.

Steps to reproduce:
1. Select a part of the audio
2. Export the selected part as MP3
3. Fill in the tag-form with the information
4. After exporting this part, select another part of the audio and export it as MP3 as well.

Now you will see that the first file has the artist in its metadata, but not the second one, even though the artist had been displayed in the tag-form.

As you can imagine, I always have to write the artist in to the metadata of the files manually.""I'll have a look into this
 =||= For some reason this doesn't occur every time, but sometimes. =||= I have tested this thoroughly today and I cannot reproduce this.  All seven of the standard metadata tags appear to get passed through:
a) to the next use of the export dialog
b) to the file.

1) Examining the exported files with Windows explorer shows the first six present and carried through, including ""artist"".  WE does not show the ""comments"" metadata

2) I f I import the files into iTunes I see all seven standard metadata tags  carried through =||= I'm using Audacity on my linux system. I've tried it again and now the artist doesn't appear in any track when I open them with Kid3. =||= On Thu, 13 Feb 2020 at 16:18, BaumGuard <notifications@github.com> wrote:

> I'm using Audacity on my linux system. I've tried it again and now the
> artist doesn't appear in any track when I open them with Kid3.
>

Is the file definitely MP3 (and not, for example ""WAV"")?

Steve


> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/issues/419?email_source=notifications&email_token=ACZD2SPANSBF4NGM2MVO4CDRCVXDZA5CNFSM4KLXSME2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOELVTN7I#issuecomment-585840381>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ACZD2SKRSUYER7BDCTIO65LRCVXDZANCNFSM4KLXSMEQ>
> .
>
 =||= Yes. =||= Closed.  Could not reproduce. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
420Port vocoder to SuperColliderbramtayl02/16/20, 02:02:45 PMHello! I was wanting a better vocoder in SuperCollider so I ported your implementation. See the [PR](https://github.com/supercollider/sc3-plugins/pull/273). I wanted to ask your permission first. If anyone is inclined, you might look over the code I wrote in SuperCollider to check whether I ported the implementation correctly."The vocoder effect in Audacity is not a ""traditional"" vocoder. It's a quirky kind of ""vocoder-like"" effect. As such, I doubt that it would be a suitable replacement for SuperCollider's vocoder, though they may accept is as an addition.
As with the main Audacity application, the effect is licensed under the terms of GPL v2. =||= Sorry are you waiting for a response from me? What's the question? See the discussion on the PR =||= I think this ""issue"" is resolved at our end. As far as I'm aware, if your code is licensed as (verbatim) ""GPL v2 or later"", then that protects the full rights of our GPL v2 license, and allows it to be used in GPL v3 or later. The important phrase in GPLv2 with respect to this is in section 6 of the GPL v2 license:
""You may not impose any further restrictions on the recipients' exercise of the rights granted herein.""

As joshpar wrote in the PR, I would suggest including (in the file) a comment that describes where you got it, links to any sources you referenced, and  the name of the original author. I don't think that is legally required, but is generally considered to be courteous and good practice.
 =||= Ok I did that =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
4212.3.3 has been retaggedDavid Rungedvzrv02/17/20, 12:34:50 PM"**Describe the bug**
The tag `Audacity-2.3.3` has apparently been re-done on 2019-11-28 according to the [release notes](https://github.com/audacity/audacity/releases/tag/Audacity-2.3.3).

When packaging 2.3.3 for Arch Linux, I have used a tarball downloaded on *2019-11-22 14:21 CEST*.
However, that one had a different checksum, which breaks reproducibility of the audacity package.

While I understand, that changes to software are inevitably to be done, I urge you to please **not** retag versions, but rather just release a new version (e.g. 2.3.4). After all, the code has been changed!

Thanks for your consideration!

**To Reproduce**
Steps to reproduce the behavior:
1. Be (un)fortunate enough to download a tarball before the version got re-tagged
2. Have [downstream bug reports](https://bugs.archlinux.org/task/65405)
3. Move initially downloaded tarball to backup location
4. Diff old and new version and hope that the resulting patch (see below) doesn't eat your kittens
5. Write an upstream bug report

**Expected behavior**
When downloading a tarball, that was created by a git tag, it will never change in content.

**Screenshots**

```
diff -ruN audacity-2.3.3/mac/scripts/build_dist2.sh audacity-2.3.3-old/mac/scripts/build_dist2.sh
--- audacity-2.3.3/mac/scripts/build_dist2.sh	2019-11-15 12:14:55.000000000 +0100
+++ audacity-2.3.3-old/mac/scripts/build_dist2.sh	1970-01-01 01:00:00.000000000 +0100
@@ -1,105 +0,0 @@
-set -x
-
-# Setup
-VERSION=`awk '/^#define+ AUDACITY_VERSION / {print $3}' build/Info.plist.h`
-RELEASE=`awk '/^#define+ AUDACITY_RELEASE / {print $3}' build/Info.plist.h`
-REVISION=`awk '/^#define+ AUDACITY_REVISION / {print $3}' build/Info.plist.h`
-VERSION=$VERSION.$RELEASE.$REVISION
-
-cd ""${DSTROOT}""
-chmod -RH ""${INSTALL_MODE_FLAG}"" ""${TARGET_BUILD_DIR}""
-chown -RH ""${INSTALL_OWNER}:${INSTALL_GROUP}"" ""${TARGET_BUILD_DIR}""
-
-echo ""Audacity has been installed to: ${DSTROOT}""
-
-cd ..
-
-VOL=""Audacity $VERSION""
-DMG=""audacity-macos-$VERSION""
-
-# Preclean
-rm -rf ""$DMG"" ""$DMG.dmg"" TMP.dmg
-
-# Create structure
-mkdir ""$DMG""
-cp -pR ""${DSTROOT}/"" ""${DMG}""
-
-#Add a custom icon for the DMG
-#cp -p mac/Resources/Audacity.icns ""${DMG}""/.VolumeIcon.icns
-
-# Make sure it's not already attached
-ATTACHED=$(hdiutil info | awk ""/\/Volumes\/${VOL}/{print \$1}"")
-if [ -n ""${ATTACHED}"" ]
-then
-   hdiutil detach ""${ATTACHED}""
-fi
-
-# Create and mount the image
-hdiutil create -ov -format UDRW -srcdir ""$DMG"" -fs HFS+ -volname ""$VOL"" TMP.dmg
-if [ $? -ne 0 ]
-then
-   echo ""Create failed""
-   exit 1
-fi
-
-#Mount the DMG and store the name it was mounted with
-TITLE=$(hdiutil attach TMP.dmg | grep \/Volumes | sed ""s/^.*\/Volumes\///"")
-if [ $? -ne 0 ]
-then
-   echo ""Attach failed""
-   exit 1
-fi
-
-# And wait for it to show up in Finder
-osascript <<EOF
-   tell application ""Finder""
-      repeat until exists disk ""${TITLE}""
-         log ""Waiting for ${TITLE} to appear""
-         delay 0.2
-      end repeat
-   end tell
-EOF
-
-#Set the custom icon flag
-#SetFile -a C /Volumes/""$TITLE""
-
-#Make our DMG look pretty and install the custom background image
-echo '
-   tell application ""Finder""
-     tell disk ""'$TITLE'""
-           open
-           set current view of container window to icon view
-           set toolbar visible of container window to false
-           set statusbar visible of container window to false
-           set the bounds of container window to {400, 100, 1000, 550}
-           set theViewOptions to the icon view options of container window
-           set arrangement of theViewOptions to not arranged
-           set icon size of theViewOptions to 72
-           set background picture of theViewOptions to file "".background:Audacity-DMG-background.png"" 
-           make new alias file at container window to POSIX file ""/Applications"" with properties {name:""Applications""}
-           set position of item ""Audacity"" of container window to {170, 350}
-           set position of item ""Applications"" of container window to {430, 350}
-           close
-           open
-           update without registering applications
-           delay 5
-           eject
-     end tell
-   end tell
-' | osascript
-
-# Compress and prepare for Internet delivery
-hdiutil convert TMP.dmg -format UDZO -imagekey zlib-level=9 -o ""$DMG.dmg""
-
-# Create zip version
-rm -rf ""${DMG}/.background""
-rm -rf ""${DMG}/Audacity.app/help/""
-zip -r9 ""${DMG}.zip"" ""${DMG}""
-
-# Cleanup
-#rm -rf ${DMG} TMP.dmg
-echo 'resizing and openning dmg'
-hdiutil resize -size 200m TMP.dmg
-hdiutil mount TMP.dmg
-echo 'declutter the dmg, sign, compress and sign it'
-
diff -ruN audacity-2.3.3/src/Audacity.h audacity-2.3.3-old/src/Audacity.h
--- audacity-2.3.3/src/Audacity.h	2019-11-15 12:14:55.000000000 +0100
+++ audacity-2.3.3-old/src/Audacity.h	2019-11-15 00:28:15.000000000 +0100
@@ -39,7 +39,7 @@
 // Its value may be more than 0 for pre-release ""Beta"" builds that differ only
 // in the welcome screen, and hiding of some development menu commands, but
 // still link to the alpha manual online.
-#define AUDACITY_BUILD_LEVEL 2
+#define AUDACITY_BUILD_LEVEL 0
 
 // used #ifdef not #if for IS_ALPHA, IS_BETA, IS_RELEASE, USE_ALPHA_MANUAL
 #undef IS_ALPHA
```

**Additional information (please complete the following information):**
 - OS: Arch Linux
 - Version 2.3.3.

**Additional context**
To prevent [supply chain attacks](https://en.wikipedia.org/wiki/Supply_chain_attack) and establish a form of trust in upstreams it is viable to *not* retag a version.

Retagging versions, especially for a repository without any form of author verification (e.g. PGP signed tags and commits) breaks the [reproducible build effort](https://tests.reproducible-builds.org/archlinux/archlinux.html) and trust in a given upstream (e.g. a developer could have been hacked, added malicious code and retagged a version) while introducing unnecessary bug reporting overhead for downstreams.""Unfortunately, when Audacity 2.3.3 was released, the wrong commit was tagged. The tag pointed to the final 2.3.3 alpha (commit eb2161), rather than the first 2.3.3 release (commit 008d8d8). This was spotted a few days later and corrected. As you will see from the build information (Audacity ""Help menu > About Audacity"") you will see  that commit eb2161 is NOT a release version. Apologies for the confusion. =||= I'm getting an Cloudflare 1020 error when trying to access the audacity website, would it have anything to do with this release? =||= Nope, the Cloudflare 1020 error does not have anything to do with this release. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
422Audacity website is blockedInfoLibre02/13/20, 04:04:38 PM"Each time I want to access Audacity website (or forums, wiki...), It's blocked by Cloudflare :


Error 1020 Ray ID: 56357882edda1f39 • 2020-02-11 09:59:33 UTC
Access denied
What happened?

This website is using a security service to protect itself from online attacks.

Cloudflare Ray ID: 56357882edda1f39 • Your IP: 2a01:cb11:1cd:f500:5a3a:d059:82a2:82b5 • Performance & security by Cloudflare""I will review the information using the Ray ID and might get back to you
depending on findings.

On Tue, Feb 11, 2020, 07:02 InfoLibre <notifications@github.com> wrote:

> Each time I want to access Audacity website (or forums, wiki...), It's
> blocked by Cloudflare :
>
> Error 1020 Ray ID: 56357882edda1f39 • 2020-02-11 09:59:33 UTC
> Access denied
> What happened?
>
> This website is using a security service to protect itself from online
> attacks.
>
> Cloudflare Ray ID: 56357882edda1f39 • Your IP:
> 2a01:cb11:1cd:f500:5a3a:d059:82a2:82b5 • Performance & security by
> Cloudflare
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/issues/422?email_source=notifications&email_token=AB2A6NIJ2XI7W6Z46X3DNODRCJZSLA5CNFSM4KS5SWX2YY3PNVWWK3TUL52HS4DFUVEXG43VMWVGG33NNVSW45C7NFSM4IMQDAFA>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AB2A6NKPT36O425H4CIU4DLRCJZSLANCNFSM4KS5SWXQ>
> .
>
 =||= Your IP address belongs to Autonomous System 3215. That system traffics a
number of IP addresses that have consistently attacked our servers. I could
exclude your IP address, or I can temporarily disable the AS3215 filtering
rule on probation.

What do you think?


On Tue, Feb 11, 2020 at 7:15 AM Arturo 'Buanzo' Busleiman <
buanzo@buanzo.com.ar> wrote:

> I will review the information using the Ray ID and might get back to you
> depending on findings.
>
> On Tue, Feb 11, 2020, 07:02 InfoLibre <notifications@github.com> wrote:
>
>> Each time I want to access Audacity website (or forums, wiki...), It's
>> blocked by Cloudflare :
>>
>> Error 1020 Ray ID: 56357882edda1f39 • 2020-02-11 09:59:33 UTC
>> Access denied
>> What happened?
>>
>> This website is using a security service to protect itself from online
>> attacks.
>>
>> Cloudflare Ray ID: 56357882edda1f39 • Your IP:
>> 2a01:cb11:1cd:f500:5a3a:d059:82a2:82b5 • Performance & security by
>> Cloudflare
>>
>> —
>> You are receiving this because you are subscribed to this thread.
>> Reply to this email directly, view it on GitHub
>> <https://github.com/audacity/audacity/issues/422?email_source=notifications&email_token=AB2A6NIJ2XI7W6Z46X3DNODRCJZSLA5CNFSM4KS5SWX2YY3PNVWWK3TUL52HS4DFUVEXG43VMWVGG33NNVSW45C7NFSM4IMQDAFA>,
>> or unsubscribe
>> <https://github.com/notifications/unsubscribe-auth/AB2A6NKPT36O425H4CIU4DLRCJZSLANCNFSM4KS5SWXQ>
>> .
>>
>
 =||= I don't know how my computer could attack your server, as I am working
with Linux and certainly without virus.

But I changed my internet box last month and had a new IP address.
Perhaps all IP addresses from https://www.sosh.fr are banned ?

Do what you think is better but perhaps AS3215 filtering is bad.


Le 11/02/2020 à 14:58, Gale Andrews a écrit :
> Your IP address belongs to Autonomous System 3215. That system traffics a
> number of IP addresses that have consistently attacked our servers. I
> could
> exclude your IP address, or I can temporarily disable the AS3215 filtering
> rule on probation.
>
> What do you think?
>
>
> On Tue, Feb 11, 2020 at 7:15 AM Arturo 'Buanzo' Busleiman <
> buanzo@buanzo.com.ar> wrote:
>
> > I will review the information using the Ray ID and might get back to you
> > depending on findings.
> >
> > On Tue, Feb 11, 2020, 07:02 InfoLibre <notifications@github.com> wrote:
> >
> >> Each time I want to access Audacity website (or forums, wiki...), It's
> >> blocked by Cloudflare :
> >>
> >> Error 1020 Ray ID: 56357882edda1f39 • 2020-02-11 09:59:33 UTC
> >> Access denied
> >> What happened?
> >>
> >> This website is using a security service to protect itself from online
> >> attacks.
> >>
> >> Cloudflare Ray ID: 56357882edda1f39 • Your IP:
> >> 2a01:cb11:1cd:f500:5a3a:d059:82a2:82b5 • Performance & security by
> >> Cloudflare
> >>
> >> —
> >> You are receiving this because you are subscribed to this thread.
> >> Reply to this email directly, view it on GitHub
> >>
> <https://github.com/audacity/audacity/issues/422?email_source=notifications&email_token=AB2A6NIJ2XI7W6Z46X3DNODRCJZSLA5CNFSM4KS5SWX2YY3PNVWWK3TUL52HS4DFUVEXG43VMWVGG33NNVSW45C7NFSM4IMQDAFA>,
> >> or unsubscribe
> >>
> <https://github.com/notifications/unsubscribe-auth/AB2A6NKPT36O425H4CIU4DLRCJZSLANCNFSM4KS5SWXQ>
> >> .
> >>
> >
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/issues/422?email_source=notifications&email_token=AA6FWKYIVXI67GBTYX5RIDLRCKVJPA5CNFSM4KS5SWX2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOELMQAJQ#issuecomment-584646694>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AA6FWK2CR4WMLVLEGZVEQEDRCKVJPANCNFSM4KS5SWXQ>.
>
-- 
Pétition pour le retrait du projet de réforme des retraites : https://onestla.tech

Installer facilement Linux : http://infolib.re

    .--.
   |o_o |
   ||_/ |
  //    \\    Envoyé depuis mon Linux
 (|      |)
/ \_   _/ \
\___)=(___/

 =||= I am willing to whitelist your IP address. Feel free to contact me directly
buanzo at audacityteam dot org



On Tue, Feb 11, 2020 at 11:03 AM InfoLibre <notifications@github.com> wrote:

> I don't know how my computer could attack your server, as I am working
> with Linux and certainly without virus.
>
> But I changed my internet box last month and had a new IP address.
> Perhaps all IP addresses from https://www.sosh.fr are banned ?
>
> Do what you think is better but perhaps AS3215 filtering is bad.
>
>
> Le 11/02/2020 à 14:58, Gale Andrews a écrit :
> > Your IP address belongs to Autonomous System 3215. That system traffics a
> > number of IP addresses that have consistently attacked our servers. I
> > could
> > exclude your IP address, or I can temporarily disable the AS3215
> filtering
> > rule on probation.
> >
> > What do you think?
> >
> >
> > On Tue, Feb 11, 2020 at 7:15 AM Arturo 'Buanzo' Busleiman <
> > buanzo@buanzo.com.ar> wrote:
> >
> > > I will review the information using the Ray ID and might get back to
> you
> > > depending on findings.
> > >
> > > On Tue, Feb 11, 2020, 07:02 InfoLibre <notifications@github.com>
> wrote:
> > >
> > >> Each time I want to access Audacity website (or forums, wiki...), It's
> > >> blocked by Cloudflare :
> > >>
> > >> Error 1020 Ray ID: 56357882edda1f39 • 2020-02-11 09:59:33 UTC
> > >> Access denied
> > >> What happened?
> > >>
> > >> This website is using a security service to protect itself from online
> > >> attacks.
> > >>
> > >> Cloudflare Ray ID: 56357882edda1f39 • Your IP:
> > >> 2a01:cb11:1cd:f500:5a3a:d059:82a2:82b5 • Performance & security by
> > >> Cloudflare
> > >>
> > >> —
> > >> You are receiving this because you are subscribed to this thread.
> > >> Reply to this email directly, view it on GitHub
> > >>
> > <
> https://github.com/audacity/audacity/issues/422?email_source=notifications&email_token=AB2A6NIJ2XI7W6Z46X3DNODRCJZSLA5CNFSM4KS5SWX2YY3PNVWWK3TUL52HS4DFUVEXG43VMWVGG33NNVSW45C7NFSM4IMQDAFA
> >,
> > >> or unsubscribe
> > >>
> > <
> https://github.com/notifications/unsubscribe-auth/AB2A6NKPT36O425H4CIU4DLRCJZSLANCNFSM4KS5SWXQ
> >
> > >> .
> > >>
> > >
> >
> > —
> > You are receiving this because you authored the thread.
> > Reply to this email directly, view it on GitHub
> > <
> https://github.com/audacity/audacity/issues/422?email_source=notifications&email_token=AA6FWKYIVXI67GBTYX5RIDLRCKVJPA5CNFSM4KS5SWX2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOELMQAJQ#issuecomment-584646694
> >,
> > or unsubscribe
> > <
> https://github.com/notifications/unsubscribe-auth/AA6FWK2CR4WMLVLEGZVEQEDRCKVJPANCNFSM4KS5SWXQ
> >.
> >
> --
> Pétition pour le retrait du projet de réforme des retraites :
> https://onestla.tech
>
> Installer facilement Linux : http://infolib.re
>
> .--.
> |o_o |
> ||_/ |
> // \\ Envoyé depuis mon Linux
> (| |)
> / \_ _/ \
> \___)=(___/
>
> —
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/issues/422?email_source=notifications&email_token=AB2A6NNL5XGXZZZYQMRY64TRCKVY7A5CNFSM4KS5SWX2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOELMQO3A#issuecomment-584648556>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AB2A6NOHUOHRWVOMIXSJKK3RCKVY7ANCNFSM4KS5SWXQ>
> .
>
 =||= I ran a short test, and I have temporarily disabled the AR3215 block.


On Tue, Feb 11, 2020 at 11:09 AM Arturo 'Buanzo' Busleiman <
buanzo@buanzo.com.ar> wrote:

> I am willing to whitelist your IP address. Feel free to contact me
> directly buanzo at audacityteam dot org
>
>
>
> On Tue, Feb 11, 2020 at 11:03 AM InfoLibre <notifications@github.com>
> wrote:
>
>> I don't know how my computer could attack your server, as I am working
>> with Linux and certainly without virus.
>>
>> But I changed my internet box last month and had a new IP address.
>> Perhaps all IP addresses from https://www.sosh.fr are banned ?
>>
>> Do what you think is better but perhaps AS3215 filtering is bad.
>>
>>
>> Le 11/02/2020 à 14:58, Gale Andrews a écrit :
>> > Your IP address belongs to Autonomous System 3215. That system traffics
>> a
>> > number of IP addresses that have consistently attacked our servers. I
>> > could
>> > exclude your IP address, or I can temporarily disable the AS3215
>> filtering
>> > rule on probation.
>> >
>> > What do you think?
>> >
>> >
>> > On Tue, Feb 11, 2020 at 7:15 AM Arturo 'Buanzo' Busleiman <
>> > buanzo@buanzo.com.ar> wrote:
>> >
>> > > I will review the information using the Ray ID and might get back to
>> you
>> > > depending on findings.
>> > >
>> > > On Tue, Feb 11, 2020, 07:02 InfoLibre <notifications@github.com>
>> wrote:
>> > >
>> > >> Each time I want to access Audacity website (or forums, wiki...),
>> It's
>> > >> blocked by Cloudflare :
>> > >>
>> > >> Error 1020 Ray ID: 56357882edda1f39 • 2020-02-11 09:59:33 UTC
>> > >> Access denied
>> > >> What happened?
>> > >>
>> > >> This website is using a security service to protect itself from
>> online
>> > >> attacks.
>> > >>
>> > >> Cloudflare Ray ID: 56357882edda1f39 • Your IP:
>> > >> 2a01:cb11:1cd:f500:5a3a:d059:82a2:82b5 • Performance & security by
>> > >> Cloudflare
>> > >>
>> > >> —
>> > >> You are receiving this because you are subscribed to this thread.
>> > >> Reply to this email directly, view it on GitHub
>> > >>
>> > <
>> https://github.com/audacity/audacity/issues/422?email_source=notifications&email_token=AB2A6NIJ2XI7W6Z46X3DNODRCJZSLA5CNFSM4KS5SWX2YY3PNVWWK3TUL52HS4DFUVEXG43VMWVGG33NNVSW45C7NFSM4IMQDAFA
>> >,
>> > >> or unsubscribe
>> > >>
>> > <
>> https://github.com/notifications/unsubscribe-auth/AB2A6NKPT36O425H4CIU4DLRCJZSLANCNFSM4KS5SWXQ
>> >
>> > >> .
>> > >>
>> > >
>> >
>> > —
>> > You are receiving this because you authored the thread.
>> > Reply to this email directly, view it on GitHub
>> > <
>> https://github.com/audacity/audacity/issues/422?email_source=notifications&email_token=AA6FWKYIVXI67GBTYX5RIDLRCKVJPA5CNFSM4KS5SWX2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOELMQAJQ#issuecomment-584646694
>> >,
>> > or unsubscribe
>> > <
>> https://github.com/notifications/unsubscribe-auth/AA6FWK2CR4WMLVLEGZVEQEDRCKVJPANCNFSM4KS5SWXQ
>> >.
>> >
>> --
>> Pétition pour le retrait du projet de réforme des retraites :
>> https://onestla.tech
>>
>> Installer facilement Linux : http://infolib.re
>>
>> .--.
>> |o_o |
>> ||_/ |
>> // \\ Envoyé depuis mon Linux
>> (| |)
>> / \_ _/ \
>> \___)=(___/
>>
>> —
>> You are receiving this because you commented.
>> Reply to this email directly, view it on GitHub
>> <https://github.com/audacity/audacity/issues/422?email_source=notifications&email_token=AB2A6NNL5XGXZZZYQMRY64TRCKVY7A5CNFSM4KS5SWX2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOELMQO3A#issuecomment-584648556>,
>> or unsubscribe
>> <https://github.com/notifications/unsubscribe-auth/AB2A6NOHUOHRWVOMIXSJKK3RCKVY7ANCNFSM4KS5SWXQ>
>> .
>>
>
 =||= It works now, thank you.


Le 11/02/2020 à 15:38, Gale Andrews a écrit :
> I ran a short test, and I have temporarily disabled the AR3215 block.
>
>
> On Tue, Feb 11, 2020 at 11:09 AM Arturo 'Buanzo' Busleiman <
> buanzo@buanzo.com.ar> wrote:
>
> > I am willing to whitelist your IP address. Feel free to contact me
> > directly buanzo at audacityteam dot org
> >
> >
> >
> > On Tue, Feb 11, 2020 at 11:03 AM InfoLibre <notifications@github.com>
> > wrote:
> >
> >> I don't know how my computer could attack your server, as I am working
> >> with Linux and certainly without virus.
> >>
> >> But I changed my internet box last month and had a new IP address.
> >> Perhaps all IP addresses from https://www.sosh.fr are banned ?
> >>
> >> Do what you think is better but perhaps AS3215 filtering is bad.
> >>
> >>
> >> Le 11/02/2020 à 14:58, Gale Andrews a écrit :
> >> > Your IP address belongs to Autonomous System 3215. That system
> traffics
> >> a
> >> > number of IP addresses that have consistently attacked our servers. I
> >> > could
> >> > exclude your IP address, or I can temporarily disable the AS3215
> >> filtering
> >> > rule on probation.
> >> >
> >> > What do you think?
> >> >
> >> >
> >> > On Tue, Feb 11, 2020 at 7:15 AM Arturo 'Buanzo' Busleiman <
> >> > buanzo@buanzo.com.ar> wrote:
> >> >
> >> > > I will review the information using the Ray ID and might get
> back to
> >> you
> >> > > depending on findings.
> >> > >
> >> > > On Tue, Feb 11, 2020, 07:02 InfoLibre <notifications@github.com>
> >> wrote:
> >> > >
> >> > >> Each time I want to access Audacity website (or forums, wiki...),
> >> It's
> >> > >> blocked by Cloudflare :
> >> > >>
> >> > >> Error 1020 Ray ID: 56357882edda1f39 • 2020-02-11 09:59:33 UTC
> >> > >> Access denied
> >> > >> What happened?
> >> > >>
> >> > >> This website is using a security service to protect itself from
> >> online
> >> > >> attacks.
> >> > >>
> >> > >> Cloudflare Ray ID: 56357882edda1f39 • Your IP:
> >> > >> 2a01:cb11:1cd:f500:5a3a:d059:82a2:82b5 • Performance & security by
> >> > >> Cloudflare
> >> > >>
> >> > >> —
> >> > >> You are receiving this because you are subscribed to this thread.
> >> > >> Reply to this email directly, view it on GitHub
> >> > >>
> >> > <
> >>
> https://github.com/audacity/audacity/issues/422?email_source=notifications&email_token=AB2A6NIJ2XI7W6Z46X3DNODRCJZSLA5CNFSM4KS5SWX2YY3PNVWWK3TUL52HS4DFUVEXG43VMWVGG33NNVSW45C7NFSM4IMQDAFA
> >> >,
> >> > >> or unsubscribe
> >> > >>
> >> > <
> >>
> https://github.com/notifications/unsubscribe-auth/AB2A6NKPT36O425H4CIU4DLRCJZSLANCNFSM4KS5SWXQ
> >> >
> >> > >> .
> >> > >>
> >> > >
> >> >
> >> > —
> >> > You are receiving this because you authored the thread.
> >> > Reply to this email directly, view it on GitHub
> >> > <
> >>
> https://github.com/audacity/audacity/issues/422?email_source=notifications&email_token=AA6FWKYIVXI67GBTYX5RIDLRCKVJPA5CNFSM4KS5SWX2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOELMQAJQ#issuecomment-584646694
> >> >,
> >> > or unsubscribe
> >> > <
> >>
> https://github.com/notifications/unsubscribe-auth/AA6FWK2CR4WMLVLEGZVEQEDRCKVJPANCNFSM4KS5SWXQ
> >> >.
> >> >
> >> --
> >> Pétition pour le retrait du projet de réforme des retraites :
> >> https://onestla.tech
> >>
> >> Installer facilement Linux : http://infolib.re
> >>
> >> .--.
> >> |o_o |
> >> ||_/ |
> >> // \\ Envoyé depuis mon Linux
> >> (| |)
> >> / \_ _/ \
> >> \___)=(___/
> >>
> >> —
> >> You are receiving this because you commented.
> >> Reply to this email directly, view it on GitHub
> >>
> <https://github.com/audacity/audacity/issues/422?email_source=notifications&email_token=AB2A6NNL5XGXZZZYQMRY64TRCKVY7A5CNFSM4KS5SWX2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOELMQO3A#issuecomment-584648556>,
> >> or unsubscribe
> >>
> <https://github.com/notifications/unsubscribe-auth/AB2A6NOHUOHRWVOMIXSJKK3RCKVY7ANCNFSM4KS5SWXQ>
> >> .
> >>
> >
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/issues/422?email_source=notifications&email_token=AA6FWK5T232KE53GT3YTX5TRCKZ5XA5CNFSM4KS5SWX2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOELMUYFA#issuecomment-584666132>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AA6FWK2CVA6RYBNWSGJD5XLRCKZ5XANCNFSM4KS5SWXQ>.
>
-- 
Pétition pour le retrait du projet de réforme des retraites : https://onestla.tech

Installer facilement Linux : http://infolib.re

    .--.
   |o_o |
   ||_/ |
  //    \\    Envoyé depuis mon Linux
 (|      |)
/ \_   _/ \
\___)=(___/

 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
423fixed bug 2128binarywisdom04/20/20, 06:03:04 PM"This is a fix for Bug 2128. It is pretty minimalistic and preserves the existing Audacity behavior.

- When recording is initiated, Audacity compares the sampling rates of the selected tracks. If the rates don’t match, Audacity outputs an error message and stops recording. If all selected tracks have the same rate, that rate becomes the recording rate.

- If the selected tracks have a non-project rate, there should be enough tracks selected to accommodate all input channels (to avoid automatic creation of non-project-rate new tracks). If not enough non-project-rate tracks are selected, the recording is stopped and the error message appears. 

The following functionality modified:
1. Standard recording
2. Punch-and-Roll recording
3. Timer recording. Timer recording performs the selected tracks checks from the very start. It is somewhat redundant but needed to let the user know about a bad selection before the timer expires.""Thanks very much for the fix.
This has been committed at 70b748782000f65b52267c96a0b138cf53d83be3 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
424Distortion in DTMF generationNicholas Gregorichngregorich06/03/20, 09:34:49 PM"I have been using Audacity's DTMF Tone generation capabilities and noticed certain samples are distorted, as confirmed in the spectrogram. I have been generating samples with tone durations as low as 20 ms and silence of 5 ms, so I think this issue may only manifest itself in shorter durations. 

**To Reproduce**
Steps to reproduce the behavior:
1. Go to _Generate_
2. Scroll down to _DTMF Tones_
3. Set _DTMF sequence to_ 0000000000 (ten 0s, value not critical)
4. Set _Amplitude_ to 0.5
5. Set _Duration_ to 1 s
6. Set _Tone/Silence ratio Duty cycle_ to 80% (value not critical)
7. Push _OK_ to generate audio
8. Listen to resulting audio, first 6 or so tones will be distorted compared to following 4
9. Go to _Audio Track_
10. Scroll down to _Spectrogram_
11. Observe differences in spectral content of first 6 vs following 4 tones

**Expected behavior**
I expected all 10 tones to sound identical. When I zoom in, it looks like the first 6 tones do not have an envelope applied to ensure the waveform amplitude is at / near 0 at the end of the tone duration. Later tones appear to have a proper envelope applied, as expected.

**Screenshots**
Overview of spectrogram generated from the _To Reproduce_ steps
<img width=""592"" alt=""distorted_vs_clean_overview"" src=""https://user-images.githubusercontent.com/44035038/74767984-a819cd00-523c-11ea-9f2b-4455fc3cacac.png"">

Comparison of distorted and clean tones in time domain
<img width=""1897"" alt=""distorted_vs_clean_zoom_time"" src=""https://user-images.githubusercontent.com/44035038/74768091-d0a1c700-523c-11ea-9c0f-377b97f43b38.png"">

Comparison of distorted and clean tones in frequency domain
<img width=""1897"" alt=""distorted_vs_clean_zoom_freq"" src=""https://user-images.githubusercontent.com/44035038/74768132-e7481e00-523c-11ea-9668-e4e1aa32f57f.png"">

**Additional information:**
 - OS: macOS Mojave 10.14.6
 - Version: Audacity 2.3.3
 - OS: Linux Mint 19.3
 - Version: Audacity 2.2.1
 - Note: issue does not appear identically on both systems / versions

**Additional context**
 - I have been able to work around this issue by generating a longer sequence than required
 - I have just started building Audacity from source and will see if I can aid in debugging""I was able to build and find that the issue is related to the extra sample padding in _DtmfGen.cpp_ as seen below:

```// the statement takes care of extracting one sample from the diff bin and```
```// adding it into the current block until depletion```
```numRemaining += (diff-- > 0 ? 1 : 0);```

I have forked the repo and will try and get on the mailing list to discuss a pull request for this fix. [Here](https://github.com/audacity/audacity/compare/master...ngregorich:Distortion-in-DTMF) is the comparison with master. =||= Thanks for the bug report.
To fix it, why not just change:
   // generate a fade-out of duration 1/250th of second
   if (last == total - len) {
to:
   // generate a fade-out of duration 1/250th of second
   if (last >= total - len) {
 =||= That is about where I started, but after logging _last_, _total_, and _len_ in _MakeDtmfTone_ I found that _last_ was always 0 and that _total_ and _len_ were always equal or differed by 1 with my test cases.

I see now that longer tone durations require the phase preservation provided by _last_, which would be the cases where you wouldn’t want a fade in / out envelope applied to the buffered tone.

I will double check tomorrow to see if your proposed inequality will safely cover both shorter and longer tone durations. 

Thank you =||= I've committed the ""simple"" fix, so you can now test it from the current GitHub code.
I also replaced that ""protect against negative offset"" hack, so that even stupidly short tones now fade out correctly.
Thanks for your help with this. It looks like this bug had been present for years (but never reported until now). =||= I dug pretty deep into this, I’ll post an update late next week. =||= Fix committed, and issue now closed. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
425clang does not have -latomicxxjack12xx05/13/21, 09:30:32 PM"Reading around, it looks like only cmake 3.8+ supports latomic. Need to properly check for it before using.

[https://github.com/fish-shell/fish-shell/commit/45633f4a54f9d04d33406e97e48613066c072d81](https://github.com/fish-shell/fish-shell/commit/45633f4a54f9d04d33406e97e48613066c072d81)
FreeBSD 12 amd64 audacity 2.3.3 has cmake 3.16.4 and llvm 9.0.1 which requires removing -latomic to configure

There's probably a better way to check for this in the previous URL.

```
--- configure.ac.orig   2019-02-24 08:28:05 UTC
+++ configure.ac
@@ -200,14 +200,6 @@ if test x$enable_universal_binary = xyes; then
    esac
 fi
 
-dnl Check if $CXX is clang by evaluating the version string because
-dnl $ax_cv_cxx_compiler_vendor seems not to work (it is either ""gnu"" or just empty).
-dnl If $CXX is clang (string is found), grep returns 0 and the if is executed.
-dnl Use /dev/null to suppress grep output to shell.
-if ($CXX --version | grep 'clang version' > /dev/null); then
-    LDFLAGS=""${LDFLAGS} -latomic""
-fi
-
 if test x$enable_sse = xyes; then

    if test ""${ax_cv_cxx_compiler_vendor}"" = ""gnu""; then

```""This is related to #344 =||= We will be switching to CMake builds shortly and I have added a check for libatomic.  Do you want to give it a try? =||= Sure. Is it part of head or a patch?

On Tue, Feb 25, 2020 at 8:03 AM Leland Lucius <notifications@github.com> wrote:
>
> We will be switching to CMake builds shortly and I have added a check for libatomic. Do you want to give it a try?
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub, or unsubscribe.
 =||= Yes, it's part of HEAD.  I have some stuff in there already for FreeBSD, but I'm by no means an expert on FreeBSD (like I've installed it once ;-)), feel free to make suggestions to the CMake build.  I'll be able to incorporate those now, but I won't be able to incorporate source code changes as we're looking to release 2.4.0 shortly.
 =||= I'm working on testing out 5a2eaf9, if it doesn't crash, would be good
enough for 2.4.4.

I just installed the current HEAD version and the time interface is warped
(screenshot attached). 2.3.3 was not warped. The rest of the interface is
still the same with everything going outside the boundaries from wxgtk
being built with gtk3 instead of 2.

On Tue, Feb 25, 2020 at 2:24 PM Leland Lucius <notifications@github.com>
wrote:

> Yes, it's part of HEAD. I have some stuff in there already for FreeBSD,
> but I'm by no means an expert on FreeBSD (like I've installed it once ;-)),
> feel free to make suggestions to the CMake build. I'll be able to
> incorporate those now, but I won't be able to incorporate source code
> changes as we're looking to release 2.4.0 shortly.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/issues/425?email_source=notifications&email_token=ABONG54HUZTJ44QYTOQ2ZE3REWLBXA5CNFSM4KYYWO42YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEM5YDNI#issuecomment-591102389>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ABONG53ASQQOTQHMZVRJN2TREWLBXANCNFSM4KYYWO4Q>
> .
>
 =||= Wow, you got it working that quickly?!?!  Excellent work.  Would LOVE to see your screenshot.  Did I miss it or did you not attach it?
> 
> I'm working on testing out [5a2eaf9](https://github.com/audacity/audacity/commit/5a2eaf9a527b702f2bb6adb67cb530051c7baf84), if it doesn't crash, would be good enough for 2.4.4. I just installed the current HEAD version and the time interface is warped (screenshot attached). 2.3.3 was not warped. The rest of the interface is still the same with everything going outside the boundaries from wxgtk being built with gtk3 instead of 2.
> […](#)
> On Tue, Feb 25, 2020 at 2:24 PM Leland Lucius ***@***.***> wrote: Yes, it's part of HEAD. I have some stuff in there already for FreeBSD, but I'm by no means an expert on FreeBSD (like I've installed it once ;-)), feel free to make suggestions to the CMake build. I'll be able to incorporate those now, but I won't be able to incorporate source code changes as we're looking to release 2.4.0 shortly. — You are receiving this because you authored the thread. Reply to this email directly, view it on GitHub <#425?email_source=notifications&email_token=ABONG54HUZTJ44QYTOQ2ZE3REWLBXA5CNFSM4KYYWO42YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEM5YDNI#issuecomment-591102389>, or unsubscribe <https://github.com/notifications/unsubscribe-auth/ABONG53ASQQOTQHMZVRJN2TREWLBXANCNFSM4KYYWO4Q> .

 =||= Not sure about if I forgot to attach but here it is again just in case ;)

On Tue, Feb 25, 2020 at 3:37 PM Leland Lucius <notifications@github.com>
wrote:

> Wow, you got it working that quickly?!?! Excellent work. Would LOVE to see
> your screenshot. Did I miss it or did you not attach it?
>
> I'm working on testing out 5a2eaf9
> <https://github.com/audacity/audacity/commit/5a2eaf9a527b702f2bb6adb67cb530051c7baf84>,
> if it doesn't crash, would be good enough for 2.4.4. I just installed the
> current HEAD version and the time interface is warped (screenshot
> attached). 2.3.3 was not warped. The rest of the interface is still the
> same with everything going outside the boundaries from wxgtk being built
> with gtk3 instead of 2.
> … <#m_7500852499965229553_>
> On Tue, Feb 25, 2020 at 2:24 PM Leland Lucius *@*.***> wrote: Yes, it's
> part of HEAD. I have some stuff in there already for FreeBSD, but I'm by no
> means an expert on FreeBSD (like I've installed it once ;-)), feel free to
> make suggestions to the CMake build. I'll be able to incorporate those now,
> but I won't be able to incorporate source code changes as we're looking to
> release 2.4.0 shortly. — You are receiving this because you authored the
> thread. Reply to this email directly, view it on GitHub <#425
> <https://github.com/audacity/audacity/issues/425>?email_source=notifications&email_token=ABONG54HUZTJ44QYTOQ2ZE3REWLBXA5CNFSM4KYYWO42YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEM5YDNI#issuecomment-591102389>,
> or unsubscribe
> https://github.com/notifications/unsubscribe-auth/ABONG53ASQQOTQHMZVRJN2TREWLBXANCNFSM4KYYWO4Q
> .
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/issues/425?email_source=notifications&email_token=ABONG5Y6XUQT377AW35QL6LREWTTBA5CNFSM4KYYWO42YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEM6A7CQ#issuecomment-591138698>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ABONG57EI4WE3TBWUESJUT3REWTTBANCNFSM4KYYWO4Q>
> .
>
 =||= Also during make install, got this:

 /bin/mkdir -p '/usr/obj/usr/ports/audio/audacity-devel/work/stage/usr/local/share/audacity/nyquist'
install  -m 0644  nyquist/aud-do-support.lsp nyquist/dspprims.lsp
nyquist/envelopes.lsp nyquist/equalizer.lsp nyquist/
evalenv.lsp nyquist/fileio.lsp nyquist/init.lsp nyquist/misc.lsp
nyquist/nyinit-dbg.lsp nyquist/nyinit.lsp nyquist/nyqm
isc.lsp nyquist/nyquist-plot.txt
'/usr/obj/usr/ports/audio/audacity-devel/work/stage/usr/local/share/audacity/nyquist'
find: lib-src/lv2/build: No such file or directory

Looks like maybe these are causing it?
audacity-5a2eaf9/Makefile.in:suillib_DATA = $(shell find
lib-src/lv2/build -name \*.so)
audacity-5a2eaf9/Makefile.am:suillib_DATA = $(shell find
lib-src/lv2/build -name \*.so)

On Tue, Feb 25, 2020 at 3:37 PM Leland Lucius <notifications@github.com> wrote:
>
> Wow, you got it working that quickly?!?! Excellent work. Would LOVE to see your screenshot. Did I miss it or did you not attach it?
>
> I'm working on testing out 5a2eaf9, if it doesn't crash, would be good enough for 2.4.4. I just installed the current HEAD version and the time interface is warped (screenshot attached). 2.3.3 was not warped. The rest of the interface is still the same with everything going outside the boundaries from wxgtk being built with gtk3 instead of 2.
> …
> On Tue, Feb 25, 2020 at 2:24 PM Leland Lucius @.***> wrote: Yes, it's part of HEAD. I have some stuff in there already for FreeBSD, but I'm by no means an expert on FreeBSD (like I've installed it once ;-)), feel free to make suggestions to the CMake build. I'll be able to incorporate those now, but I won't be able to incorporate source code changes as we're looking to release 2.4.0 shortly. — You are receiving this because you authored the thread. Reply to this email directly, view it on GitHub <#425?email_source=notifications&email_token=ABONG54HUZTJ44QYTOQ2ZE3REWLBXA5CNFSM4KYYWO42YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEM5YDNI#issuecomment-591102389>, or unsubscribe https://github.com/notifications/unsubscribe-auth/ABONG53ASQQOTQHMZVRJN2TREWLBXANCNFSM4KYYWO4Q .
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub, or unsubscribe.
 =||= Let me look into this.  It's probably something I recently added to the existing build to provide the suil UI wrappers.

> 
> Also during make install, got this: /bin/mkdir -p '/usr/obj/usr/ports/audio/audacity-devel/work/stage/usr/local/share/audacity/nyquist' install -m 0644 nyquist/aud-do-support.lsp nyquist/dspprims.lsp nyquist/envelopes.lsp nyquist/equalizer.lsp nyquist/ evalenv.lsp nyquist/fileio.lsp nyquist/init.lsp nyquist/misc.lsp nyquist/nyinit-dbg.lsp nyquist/nyinit.lsp nyquist/nyqm isc.lsp nyquist/nyquist-plot.txt '/usr/obj/usr/ports/audio/audacity-devel/work/stage/usr/local/share/audacity/nyquist' find: lib-src/lv2/build: No such file or directory Looks like maybe these are causing it? audacity-5a2eaf9/Makefile.in:suillib_DATA = $(shell find lib-src/lv2/build -name \*.so) audacity-5a2eaf9/Makefile.am:suillib_DATA = $(shell find lib-src/lv2/build -name \*.so)
> […](#)
> On Tue, Feb 25, 2020 at 3:37 PM Leland Lucius ***@***.***> wrote: Wow, you got it working that quickly?!?! Excellent work. Would LOVE to see your screenshot. Did I miss it or did you not attach it? I'm working on testing out [5a2eaf9](https://github.com/audacity/audacity/commit/5a2eaf9a527b702f2bb6adb67cb530051c7baf84), if it doesn't crash, would be good enough for 2.4.4. I just installed the current HEAD version and the time interface is warped (screenshot attached). 2.3.3 was not warped. The rest of the interface is still the same with everything going outside the boundaries from wxgtk being built with gtk3 instead of 2. … On Tue, Feb 25, 2020 at 2:24 PM Leland Lucius @.***> wrote: Yes, it's part of HEAD. I have some stuff in there already for FreeBSD, but I'm by no means an expert on FreeBSD (like I've installed it once ;-)), feel free to make suggestions to the CMake build. I'll be able to incorporate those now, but I won't be able to incorporate source code changes as we're looking to release 2.4.0 shortly. — You are receiving this because you authored the thread. Reply to this email directly, view it on GitHub <#425?email_source=notifications&email_token=ABONG54HUZTJ44QYTOQ2ZE3REWLBXA5CNFSM4KYYWO42YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEM5YDNI#issuecomment-591102389>, or unsubscribe https://github.com/notifications/unsubscribe-auth/ABONG53ASQQOTQHMZVRJN2TREWLBXANCNFSM4KYYWO4Q . — You are receiving this because you authored the thread. Reply to this email directly, view it on GitHub, or unsubscribe.

 =||= Interesting.  In your build directory do you not have a lib-src/lv2/suil/build directory?  It should have:
```
[build]$ dir lib-src/lv2/build
total 32
drwxr-xr-x. 8 yam 4096 Feb 24 15:55 .
drwxr-xr-x. 9 yam 4096 Feb 24 15:55 ..
drwxr-xr-x. 2 yam 4096 Feb 24 15:55 bin
drwxr-xr-x. 3 yam 4096 Feb 24 15:55 etc
drwxr-xr-x. 8 yam 4096 Feb 24 15:55 include
drwxr-xr-x. 5 yam 4096 Feb 24 15:55 lib
drwxr-xr-x. 3 yam 4096 Feb 24 15:55 lib64
drwxr-xr-x. 4 yam 4096 Feb 24 15:55 share
```

Here’s where the suil libs should be:

```
[build]$ dir lib-src/lv2/build/lib/suil-0
total 256
drwxr-xr-x. 2 yam  4096 Feb 24 15:55 .
drwxr-xr-x. 5 yam  4096 Feb 24 15:55 ..
-rwxr-xr-x. 1 yam 18296 Feb 24 15:55 libsuil_gtk2_in_qt4.so
-rwxr-xr-x. 1 yam 23696 Feb 24 15:55 libsuil_gtk2_in_qt5.so
-rwxr-xr-x. 1 yam 19160 Feb 24 15:55 libsuil_qt4_in_gtk2.so
-rwxr-xr-x. 1 yam 24344 Feb 24 15:55 libsuil_qt5_in_gtk2.so
-rwxr-xr-x. 1 yam 24368 Feb 24 15:55 libsuil_qt5_in_gtk3.so
-rwxr-xr-x. 1 yam 16304 Feb 24 15:55 libsuil_x11.so
-rwxr-xr-x. 1 yam 28184 Feb 24 15:55 libsuil_x11_in_gtk2.so
-rwxr-xr-x. 1 yam 28360 Feb 24 15:55 libsuil_x11_in_gtk3.so
-rwxr-xr-x. 1 yam 31080 Feb 24 15:55 libsuil_x11_in_qt4.so
-rwxr-xr-x. 1 yam 31360 Feb 24 15:55 libsuil_x11_in_qt5.so
```

Ah wait…just guessing here, but I bet when suil got configured it didn’t find any Qt, Gtk, or X11 devel files.  Reconfigure and look for these lines.  I’d wager that all of your “Support for” lines say “no”.  I’m going to try and simulate there here, but it’d be good if you could confirm.

```
Setting top to                                : /home/yam/audacity/b/lib-src/lv2/suil
Setting out to                                : /home/yam/audacity/b/lib-src/lv2/suil/build
Checking for 'gcc' (C compiler)               : /usr/bin/gcc
Checking for 'g++' (C++ compiler)             : /usr/bin/g++
Checking for flag '-std=c99'                  : yes
Checking for link flags -Wl,-z,-nodelete      : yes
Checking for program 'pkg-config'             : /usr/bin/pkg-config
Checking for 'lv2 >= 1.16.0'                  : yes
Checking for 'x11'                            : yes
Checking for 'gtk+-2.0 >= 2.18.0'             : yes
Checking for 'gtk+-x11-2.0'                   : yes
Checking for 'gtk+-quartz-2.0'                : not found
Checking for 'gtk+-3.0 >= 3.14.0'             : yes
Checking for 'gtk+-x11-3.0 >= 3.14.0'         : yes
Checking for 'QtGui >= 4.4.0'                 : yes
Checking for 'Qt5Widgets >= 5.1.0'            : yes
Checking for header QMacCocoaViewContainer    : not found
Checking for library dl                       : yes
Install prefix                                : /home/yam/audacity/b/lib-src/lv2/build
C Flags                                       : -I/home/yam/audacity/b/lib-src/lv2/suil -DNDEBUG -fshow-column -std=c99
C++ Flags                                     : -I/home/yam/audacity/b/lib-src/lv2/suil -DNDEBUG -fshow-column
Debuggable                                    : no
Build documentation                           : no
Static library                                : yes
Shared library                                : no
Gtk2 Library Name                             : ""libgtk-x11-2.0.so.0""
Gtk3 Library Name                             : ""libgtk-x11-3.0.so.0""
Support for cocoa in gtk2                     : no
Support for gtk2 in qt4                       : yes
Support for gtk2 in qt5                       : yes
Support for qt4 in gtk2                       : yes
Support for qt5 in gtk2                       : yes
Support for win in gtk2                       : no
Support for x11 in gtk2                       : yes
Support for x11 in gtk3                       : yes
Support for qt5 in gtk3                       : yes
Support for x11 in qt4                        : yes
Support for x11 in qt5                        : yes
Support for cocoa in qt5                      : no
'configure' finished successfully (0.294s)
```
 =||= jack@b2:~ % fetch ""
https://codeload.github.com/audacity/audacity/tar.gz/5a2eaf9?

 dummy=/audacity-audacity-5a2eaf9_GH0.tar.gz""
fetch:
https://codeload.github.com/audacity/audacity/tar.gz/5a2eaf9?dummy=/audac

         ity-audacity-5a2eaf9_GH0.tar.gz: size of remote file is not known
audacity-audacity-5a2eaf9_GH0.tar.gz                    60 MB  809 kBps
01m16s
jack@b2:~ % tar -xf audacity-audacity-5a2eaf9_GH0.tar.gz
jack@b2:~ % ls audacity-5a2eaf9/lib-src/lv2/build
ls: audacity-5a2eaf9/lib-src/lv2/build: No such file or directory
jack@b2:~ % ls -1 audacity-5a2eaf9/lib-src/lv2/build/lib/suil-0
ls: audacity-5a2eaf9/lib-src/lv2/build/lib/suil-0: No such file or directory
jack@b2:~ % ls -1 audacity-5a2eaf9/lib-src/lv2
Makefile
configure
lilv
lv2
serd
sord
sratom
suil
unpack-waf
windows
jack@b2:~ % ls -1 audacity-5a2eaf9/lib-src/
FileDialog
Makefile.am
Makefile.in
audacity-patches.txt
dist-libsoxr.mk
dist-libvamp.mk
dist-portaudio.mk
expat
ffmpeg
header-substitutes
lame
lib-widget-extra
libflac
libid3tag
libmad
libmp3lame
libnyquist
libogg
libscorealign
libsndfile
libsoxr
libvamp
libvorbis
lv2
mod-null
mod-nyq-bench
mod-script-pipe
mod-track-panel
mpglib
portaudio-v19
portburn
portmidi
portmixer
portsmf
sbsms
soundtouch
twolame

On Tue, Feb 25, 2020 at 7:48 PM Leland Lucius <notifications@github.com>
wrote:

> Interesting. In your build directory do you not have a
> lib-src/lv2/suil/build directory? It should have:
>
> [build]$ dir lib-src/lv2/build
>
> total 32
>
> drwxr-xr-x. 8 yam 4096 Feb 24 15:55 .
>
> drwxr-xr-x. 9 yam 4096 Feb 24 15:55 ..
>
> drwxr-xr-x. 2 yam 4096 Feb 24 15:55 bin
>
> drwxr-xr-x. 3 yam 4096 Feb 24 15:55 etc
>
> drwxr-xr-x. 8 yam 4096 Feb 24 15:55 include
>
> drwxr-xr-x. 5 yam 4096 Feb 24 15:55 lib
>
> drwxr-xr-x. 3 yam 4096 Feb 24 15:55 lib64
>
> drwxr-xr-x. 4 yam 4096 Feb 24 15:55 share
>
>
> Here’s where the suil libs should be:
>
> [build]$ dir lib-src/lv2/build/lib/suil-0
>
> total 256
>
> drwxr-xr-x. 2 yam  4096 Feb 24 15:55 .
>
> drwxr-xr-x. 5 yam  4096 Feb 24 15:55 ..
>
> -rwxr-xr-x. 1 yam 18296 Feb 24 15:55 libsuil_gtk2_in_qt4.so
>
> -rwxr-xr-x. 1 yam 23696 Feb 24 15:55 libsuil_gtk2_in_qt5.so
>
> -rwxr-xr-x. 1 yam 19160 Feb 24 15:55 libsuil_qt4_in_gtk2.so
>
> -rwxr-xr-x. 1 yam 24344 Feb 24 15:55 libsuil_qt5_in_gtk2.so
>
> -rwxr-xr-x. 1 yam 24368 Feb 24 15:55 libsuil_qt5_in_gtk3.so
>
> -rwxr-xr-x. 1 yam 16304 Feb 24 15:55 libsuil_x11.so
>
> -rwxr-xr-x. 1 yam 28184 Feb 24 15:55 libsuil_x11_in_gtk2.so
>
> -rwxr-xr-x. 1 yam 28360 Feb 24 15:55 libsuil_x11_in_gtk3.so
>
> -rwxr-xr-x. 1 yam 31080 Feb 24 15:55 libsuil_x11_in_qt4.so
>
> -rwxr-xr-x. 1 yam 31360 Feb 24 15:55 libsuil_x11_in_qt5.so
>
>
> Ah wait…just guessing here, but I bet when suil got configured it didn’t
> find any Qt, Gtk, or X11 devel files. Reconfigure and look for these lines.
> I’d wager that all of your “Support for” lines say “no”. I’m going to try
> and simulate there here, but it’d be good if you could confirm.
>
> Setting top to                                : /home/yam/audacity/b/lib-src/lv2/suil
>
> Setting out to                                : /home/yam/audacity/b/lib-src/lv2/suil/build
>
> Checking for 'gcc' (C compiler)               : /usr/bin/gcc
>
> Checking for 'g++' (C++ compiler)             : /usr/bin/g++
>
> Checking for flag '-std=c99'                  : yes
>
> Checking for link flags -Wl,-z,-nodelete      : yes
>
> Checking for program 'pkg-config'             : /usr/bin/pkg-config
>
> Checking for 'lv2 >= 1.16.0'                  : yes
>
> Checking for 'x11'                            : yes
>
> Checking for 'gtk+-2.0 >= 2.18.0'             : yes
>
> Checking for 'gtk+-x11-2.0'                   : yes
>
> Checking for 'gtk+-quartz-2.0'                : not found
>
> Checking for 'gtk+-3.0 >= 3.14.0'             : yes
>
> Checking for 'gtk+-x11-3.0 >= 3.14.0'         : yes
>
> Checking for 'QtGui >= 4.4.0'                 : yes
>
> Checking for 'Qt5Widgets >= 5.1.0'            : yes
>
> Checking for header QMacCocoaViewContainer    : not found
>
> Checking for library dl                       : yes
>
> Install prefix                                : /home/yam/audacity/b/lib-src/lv2/build
>
> C Flags                                       : -I/home/yam/audacity/b/lib-src/lv2/suil -DNDEBUG -fshow-column -std=c99
>
> C++ Flags                                     : -I/home/yam/audacity/b/lib-src/lv2/suil -DNDEBUG -fshow-column
>
> Debuggable                                    : no
>
> Build documentation                           : no
>
> Static library                                : yes
>
> Shared library                                : no
>
> Gtk2 Library Name                             : ""libgtk-x11-2.0.so.0""
>
> Gtk3 Library Name                             : ""libgtk-x11-3.0.so.0""
>
> Support for cocoa in gtk2                     : no
>
> Support for gtk2 in qt4                       : yes
>
> Support for gtk2 in qt5                       : yes
>
> Support for qt4 in gtk2                       : yes
>
> Support for qt5 in gtk2                       : yes
>
> Support for win in gtk2                       : no
>
> Support for x11 in gtk2                       : yes
>
> Support for x11 in gtk3                       : yes
>
> Support for qt5 in gtk3                       : yes
>
> Support for x11 in qt4                        : yes
>
> Support for x11 in qt5                        : yes
>
> Support for cocoa in qt5                      : no
>
> 'configure' finished successfully (0.294s)
>
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/issues/425?email_source=notifications&email_token=ABONG54AZTEV5RNM7DG7GL3REXQ7BA5CNFSM4KYYWO42YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEM6V5HI#issuecomment-591224477>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ABONG53D22WVUUQG2JMWIJ3REXQ7BANCNFSM4KYYWO4Q>
> .
>
 =||= Thanks, but I was looking for what your build directory contained after you run configure and make.  And the output from configure when it does suil. =||= My log is getting rejected for being too large. I've uploaded the log to my
server with the find cmd after the build.

https://www4.punkrockdemo.com/audacity.txt

Let me know when you've got it so I can delete it.

On Tue, Feb 25, 2020 at 9:37 PM Leland Lucius <notifications@github.com>
wrote:

> Thanks, but I was looking for what your build directory contained after
> you run configure and make. And the output from configure when it does suil.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/issues/425?email_source=notifications&email_token=ABONG54D64WFB5VFUVERF5DREX5ZDA5CNFSM4KYYWO42YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEM63W2Y#issuecomment-591248235>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ABONG55QLBFX27XDQIDLS4LREX5ZDANCNFSM4KYYWO4Q>
> .
>
 =||= I've got a copy.  And I do see the problem.  I made a bit of an assumption that the distro maintainers would be using the in-tree LV2 libs when it came to the installation step.

I've committed a fix.

But, keep in mind, that if we do release Audacity 2.4.0 using the CMake build, we will not be maintaining the Makefile build process any longer.

 =||= ok will test that out and let you know, thanks!

On Wed, Feb 26, 2020 at 12:02 AM Leland Lucius <notifications@github.com>
wrote:

> I've got a copy. And I do see the problem. I made a bit of an assumption
> that the distro maintainers would be using the in-tree LV2 libs when it
> came to the installation step.
>
> I've committed a fix.
>
> But, keep in mind, that if we do release Audacity 2.4.0 using the CMake
> build, we will not be maintaining the Makefile build process any longer.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/issues/425?email_source=notifications&email_token=ABONG57JL7HQCL4PJTIU2D3REYOZBA5CNFSM4KYYWO42YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEM7GINI#issuecomment-591291445>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ABONG56BAULPVQYDSDM7JIDREYOZBANCNFSM4KYYWO4Q>
> .
>
 =||= Looks like the fix worked. Thanks.

On Wed, Feb 26, 2020 at 12:02 AM Leland Lucius <notifications@github.com> wrote:
>
> I've got a copy. And I do see the problem. I made a bit of an assumption that the distro maintainers would be using the in-tree LV2 libs when it came to the installation step.
>
> I've committed a fix.
>
> But, keep in mind, that if we do release Audacity 2.4.0 using the CMake build, we will not be maintaining the Makefile build process any longer.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub, or unsubscribe.
 =||= Closing:
>Looks like the fix worked. Thanks. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
427Audacity 2.xxjack12xx02/20/20, 11:14:56 PM"[0001-Fix-for-unbalanced-Push-and-Pop-Eventhandler.txt](https://github.com/audacity/audacity/files/4233465/0001-Fix-for-unbalanced-Push-and-Pop-Eventhandler.txt)"NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
431Remote interface/command for integration to other softwareAmit KapadiAmitkapadi05/13/21, 09:27:45 PM"My suggestion is to set up a remote interface/command (Like VLC) so we can use Audacity with other software integration, for example, Audacity with Unity, when you play the animation in unity at that time audacity plays current audio.

Using this type of interface Artist can make music or SFX for their requirement/and test it quickly "Does scripting https://alphamanual.audacityteam.org/man/Scripting do what you need already? =||= This kind of automation is being done with python scripting to interoperate between Blender and Audacity.  Search the forum for details, if interested. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
433Improve CMake *BSD compatibilityRaphael Grafrrrapha02/25/20, 06:42:13 PM"This is a problem for OpenBSD, NetBSD, etc.:
`elseif( CMAKE_SYSTEM_NAME MATCHES ""Linux|FreeBSD"" )`"NaNImprove CMake *BSD compatibilityRaphael Grafrrrapha02/25/20, 06:42:13 PM"This is a problem for OpenBSD, NetBSD, etc.:
`elseif( CMAKE_SYSTEM_NAME MATCHES ""Linux|FreeBSD"" )`"NaNRaphael Graf02/25/20, 04:38:40 PMImprove CMake BSD compatibility1
434Add commands to show export dialog with 24/32-bit WAV preselectedJakub Stasiakjstasiak02/25/20, 10:46:24 PM"This is crucial when working with many 24-bit and 32-bit audio files.
Exporting them using the regular ""Export as WAV"" requires one to always
change the file type to 24-bit or 32-bit, which is annoying, takes time
and can be omitted accidentally.""Thanks Jatasiak.  However, there are so many preconfigured options we could add to that menu, we are not going to accept the pull-request as is.  We would just keep adding more and more other things like play at half and double speed and so on, and the menus would get very bloated.

If you can resubmit but add them as non-menu commands or as extra-menu commands that can then be bound to a keypress (preferences keyboard), that could work for us.  Later when we have user configurable menus you could move them to where in the menus you want them.  We also plan to extend the export scripting command to allow setting of export options, and then a user created macro could do what you want and set more options too.  But as-is, sorry, we won't be merging this. =||= Sure, I'll do them as either non-menu commands or extra-menu commands. =||= Perhaps before going further with this, it may be worth discussing with us on the developer's mailing list, why the feature is necessary. I frequently export as 32-bit float WAV, and right now I don't see the problem. ""Export > Audio"" (Ctrl+Shift+E) remembers the last format that I used. =||= Oh, fair enough, I'd swear I tested that before and I thought it didn't. I can confirm it's remembered, so no need for this patch after all. Cheers. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
435Fix requirements for mad and lv2 in cmake-proxies/CMakeLists.txtRaphael Grafrrrapha02/27/20, 04:49:50 PMNaNGood catch on the missing the suil entirely and I have absolutely no idea where I pull that libmad version from.  :-) =||= Fix requirements for mad and lv2 in cmake-proxies/CMakeLists.txtRaphael Grafrrrapha02/27/20, 04:49:50 PMNaNNaNRaphael Graf02/27/20, 12:17:51 PMFix requirements for libmad and lv2 in cmake-proxies/CMakeLists.txt1
436Fix audacity.desktop file generation (CMake)Raphael Grafrrrapha02/29/20, 03:54:43 PM"Without the `file(GENERATE)` step, the _generator expressions_ end up in the output file:
`MimeType=application/x-audacity-project;$<$<BOOL:ON>:audio/aac;...`"Thanks again.  I'll add a comment that explains why the first item in each expression MUST be on the same line as the expression itself. =||= Fix audacity.desktop file generation (CMake)Raphael Grafrrrapha02/29/20, 03:54:43 PM"Without the `file(GENERATE)` step, the _generator expressions_ end up in the output file:
`MimeType=application/x-audacity-project;$<$<BOOL:ON>:audio/aac;...`"NaNRaphael Graf02/29/20, 11:30:35 AMFix audacity.desktop file generation (CMake)1
437Fixed many typos and errorsВячеслав Диконовdikonov04/20/20, 03:21:23 PM"Changed terms
трек > дорожка
клик > щелчок
панорама > баланс"Thanks.  You opened a newer request for the same file, so closing this one. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
438[CMAKE] Portaudio: fix support in CygwinCarlo Braminicarlo-bramini03/03/20, 05:31:56 AMNaNThanks Carlo. =||= [CMAKE] Portaudio: fix support in CygwinCarlo Braminicarlo-bramini03/03/20, 05:31:56 AMNaNNaNCarlo Bramini03/02/20, 06:34:18 PM"[CMAKE] Portaudio: add missing Unix files in Cygwin

When doing the final link of Audacity executable on Cygwin, many errors like this one were printed on the console.

/usr/lib/gcc/x86_64-pc-cygwin/9.2.0/../../../../x86_64-pc-cygwin/bin/ld: CMakeFiles/Audacity.dir/AudioIO.cpp.o:AudioIO.cpp:(.text+0x17a): undefined reference to `PaUtil_GetTime'

This happened because some files were missing since Cygwin name was not included together with other unix platforms."1
439Fix manpage install path (CMake)Raphael Grafrrrapha03/03/20, 05:33:25 AM"The _GNUInstallDirs_ module will set `CMAKE_INSTALL_MANDIR` to the correct path. 

On OpenBSD for example, it should be like this:
`/usr/local/man/man1/audacity.1`"Thanks much! =||= Fix manpage install path (CMake)Raphael Grafrrrapha03/03/20, 05:33:25 AM"The _GNUInstallDirs_ module will set `CMAKE_INSTALL_MANDIR` to the correct path. 

On OpenBSD for example, it should be like this:
`/usr/local/man/man1/audacity.1`"NaNRaphael Graf03/02/20, 09:39:52 PMFix manpage install path (CMake)1
440[CMAKE] Fix build outside of git repositoryRaphael Grafrrrapha03/03/20, 11:11:23 PM"Instead of failing, print `Current Commit: unknown `when the current commit cannot be determined.
This is the case with archive files like, for example:
https://github.com/audacity/audacity/archive/master.zip"Looks good Raphael and thanks.  I'm going to one additional change to it to cover the case if the git package couldn't be found at all.  (Not a likely case, but might as well.) =||= [CMAKE] Fix build outside of git repositoryRaphael Grafrrrapha03/03/20, 11:11:23 PM"Instead of failing, print `Current Commit: unknown `when the current commit cannot be determined.
This is the case with archive files like, for example:
https://github.com/audacity/audacity/archive/master.zip"NaNRaphael Graf03/03/20, 03:28:01 PM[CMAKE] Fix build outside of git repository1
441Invert the update boolean variable so that it checks for any differences, instead of checking to see if everything is the same.Deleted userghost03/08/20, 05:45:18 PM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 

The reason for this PR is that the resulting code is much less convoluted and more straightforward."@rrrapha do you know who could review this? =||= Reviewed.  Sorry, no we don't want this change.  If you'd like to do some code cleaning, come and talk with us on our devel mailing list. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
442[CMAKE] Portmidi: add missing Unix files in CygwinCarlo Braminicarlo-bramini03/03/20, 11:06:42 PM"When doing the final link of Audacity executable on Cygwin, many errors similar to this one were printed on the console:

ld: ../lib/audacity/libportmidi.a(portmidi.c.o):portmidi.c:(.text+0x3f): undefined reference to `pm_alloc'

This happened because some files were missing since Cygwin name was not included together with other unix platforms.

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "Looks good.  Thanks again Carlo. =||= [CMAKE] Portmidi: add missing Unix files in CygwinCarlo Braminicarlo-bramini03/03/20, 11:06:42 PM"When doing the final link of Audacity executable on Cygwin, many errors similar to this one were printed on the console:

ld: ../lib/audacity/libportmidi.a(portmidi.c.o):portmidi.c:(.text+0x3f): undefined reference to `pm_alloc'

This happened because some files were missing since Cygwin name was not included together with other unix platforms.

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNCarlo Bramini03/03/20, 08:06:35 PM"[CMAKE] Portmidi: add missing Unix files in Cygwin

When doing the final link of Audacity executable on Cygwin, many errors like this one were printed on the console:

ld: ../lib/audacity/libportmidi.a(portmidi.c.o):portmidi.c:(.text+0x3f): undefined reference to `pm_alloc'

This happened because some files were missing since Cygwin name was not included together with other unix platforms."1
446Implementing 2347 and 2348 (Loop Play with Labels)Robert HaenggiRobert-J-H03/09/20, 01:56:00 PM"
This enhances the usefulness of Previous/Next label because you can loop for instance sentences and jump ahead while loop play is still on. For point labels, it will begin at the label position and not the project start as it is currently the case."Already merged into Master. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
448Add commands for muting/unmuting selected tracksLukas Werlinglluchs03/07/20, 10:49:53 PM"There was no convenient way of muting or unmuting some, but not all
tracks. With the new commands, it is possible to quickly select a subset
of all tracks via Shift+click and then mute or unmute them.

""Thanks.  A very welcome addition. =||= I subsequently modified the flags for this block of four commands so that they can be used whilst playing audio too.  https://github.com/audacity/audacity/commit/9056eed9462f2fa3a7f235929f039cf513c08587

Welcome to Audacity development. =||= "Add commands for muting/unmuting selected tracksLukas Werlinglluchs03/07/20, 10:49:53 PM"There was no convenient way of muting or unmuting some, but not all
tracks. With the new commands, it is possible to quickly select a subset
of all tracks via Shift+click and then mute or unmute them.

"NaNLukas Werling03/07/20, 10:25:23 PM"Add commands for muting/unmuting selected tracks

There was no convenient way of muting or unmuting some, but not all
tracks. With the new commands, it is possible to quickly select a subset
of all tracks via Shift+click and then mute or unmute them."1
449Call Invalidate() instead of calling SetFlip to set the flip to false and then back to true.Deleted userghost03/09/20, 12:04:35 PM"# Pull Requests
In the TimeTrackView, one of the comments notes that setting the Flip to false and then back to true causes the ruler to redraw.

However, this is because the Invalidate method in the SetFlip method is called when the flip has changed. There is no need to set the flip at all. Just call Invalidate().

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests ""This moves the tick marks from the top to the bottom of the track (because flip is now not set).  
Also there are five commits in this pull request.  The ones done by mistake should have been squashed out before submitting a pull request.

So, pull request rejected, but I've used the idea to simplify the existing code very slightly and remove unneeded comments.  And I've credited p11024e in the commit message. https://github.com/audacity/audacity/commit/efc8f216b1ca416c69689e706e036bea2a55a77c =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
450[CMAKE] Set RUNTIME_OUTPUT_DIRECTORY on Linux/BSDRaphael Grafrrrapha03/11/20, 11:07:31 PMThis fixes `make install` for me on OpenBSD.NaN[CMAKE] Set RUNTIME_OUTPUT_DIRECTORY on Linux/BSDRaphael Grafrrrapha03/11/20, 11:07:31 PMThis fixes `make install` for me on OpenBSD.NaNRaphael Graf03/09/20, 12:40:52 PM[CMAKE] Set RUNTIME_OUTPUT_DIRECTORY on Linux/BSD1
451Update SpectrogramSettings.cpp so only one semicolon ends the line (avoiding warnings)Deleted userghost03/09/20, 02:05:43 PMThere is currently a macro that states if it is experimenting with something, it finishes the return statement. However, when that macro is false, there is no semicolon at the end, so I added and else clause to that macro."Rejected.
This change still leaves the line in question with awkward line splits.
I've made a change that uses that idea instead, and given you/pi1024e credit in the commit message.  https://github.com/audacity/audacity/commit/a284f57e39b5a3d168522b8e8e4b2df85fad3a56

This kind of change is not actually that welcome, because the overhead to fix one tiny warning is huge relative to the benefit.  If you want to work on warnings, I'd far rather see a pull request with meatier warnings dealt with, or with many more small/similar warnings dealt with.  Then the overhead for reviewing, pulling, making the change and testing is a small proportion.  Taking them in dribbles costs me more time than is sensible.  It also costs QA time, as they have more tiny commits to deal with.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
452Control de volumenTwikzerTwikzer05/13/21, 09:24:10 PMCuando cambias el volumen dentro de audacity, te cambia el volumen del dispositivo en si, no dentro de audacity."This is a support request.
This is expected behaviour. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
453Data folder placementAlberto Salvia Novellaes20490446e05/14/21, 04:14:37 PM"On Linux the Audacity data folder is on:
~/.audacity-data

Most likely it should be:
~/.config/audacity""Thanks for your feedback Alberto. We  are aware of this issue and it is
logged on our issue tracker.

Resolving the issue is a bit more complex than may first appear as we would
want to develop an upgrade path for existing users that avoids losing their
Preference and plug-in settings, and avoids leaving debris in their home
folder. Currently our (very small) team of volunteers have their hands full
with higher priority issues.

Steve

On Tue, 10 Mar 2020 at 12:18, Alberto Salvia Novella <
notifications@github.com> wrote:

> On Linux the Audacity data folder is on:
> ~/.audacity-data
>
> Most likely it should be:
> ~/.config/audacity
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/issues/453?email_source=notifications&email_token=ACZD2SK7F6MIC3LS55LHWQ3RGYVZVA5CNFSM4LE5UOCKYY3PNVWWK3TUL52HS4DFUVEXG43VMWVGG33NNVSW45C7NFSM4IT3ZYAA>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ACZD2SLUVJ2G23HQOATKINDRGYVZVANCNFSM4LE5UOCA>
> .
>
 =||= This is tracked in our bugzilla database at:
https://bugzilla.audacityteam.org/show_bug.cgi?id=2201

Closing in favour of the bugzilla bug (which is more extensive)
Cross referenced to here, for completeness. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
455[WIN32] Correct declaration of import/export modifiers.Carlo Braminicarlo-bramini05/25/20, 06:43:11 AM"The `_declspec` modifier is deprecated since the migration from Win16 to Win32, the correct modifier to be used for modern code is `__declspec`, with two underscore characters as prefix.
MSVC can recognize both modifiers and `_declspec` has the same effect of `__declspec`, depending on the presence of `/Za` option, which activates/deactivates the language extensions:

https://docs.microsoft.com/it-it/cpp/cpp/declspec?view=vs-2019

Unfortunately, GCC supports only `__declspec`, so I recommend this change for increasing portability. Since Audacity does not compile on anything less than GCC 4.9, it is not a big problem to use the same thing for _WIN32 in general, not only MSVC, and also Cygwin.
"NaN[WIN32] Correct declaration of import/export modifiers.Carlo Braminicarlo-bramini05/25/20, 06:43:11 AM"The `_declspec` modifier is deprecated since the migration from Win16 to Win32, the correct modifier to be used for modern code is `__declspec`, with two underscore characters as prefix.
MSVC can recognize both modifiers and `_declspec` has the same effect of `__declspec`, depending on the presence of `/Za` option, which activates/deactivates the language extensions:

https://docs.microsoft.com/it-it/cpp/cpp/declspec?view=vs-2019

Unfortunately, GCC supports only `__declspec`, so I recommend this change for increasing portability. Since Audacity does not compile on anything less than GCC 4.9, it is not a big problem to use the same thing for _WIN32 in general, not only MSVC, and also Cygwin.
"NaNCarlo Bramini03/14/20, 05:27:43 PM"[WIN32] Correct declaration of import/export modifiers.

The '_declspec' modifier is deprecated since the migration from Win16 to Win32, so by long time.
The correct modifier to be used for modern code is '__declspec', with two underscore characters as prefix.
MSVC can recognize both modifiers and '_declspec' has the same effect of '__declspec', depending on the presence of '/Za' option, which activates/deactivates the language extensions:

https://docs.microsoft.com/it-it/cpp/cpp/declspec?view=vs-2019

Unfortunately, GCC supports only '__declspec', so I recommend to use this one and also MSVC will be able to work indipendently from the language extensions. Since Audacity does not compile on anything less than GCC 4.9, it is not a big problem to use the same thing for _WIN32 in general, not only MSVC, and also Cygwin."1
456[WIN32] Correctly read default value of wxRegKey entry.Carlo Braminicarlo-bramini05/25/20, 06:37:56 AM"Fix this build error with GCC:

../../audacity/src/AudacityApp.cpp:2347:62: error: call of overloaded 'wxString(wxRegKey&)' is ambiguous."NaN[WIN32] Correctly read default value of wxRegKey entry.Carlo Braminicarlo-bramini05/25/20, 06:37:56 AM"Fix this build error with GCC:

../../audacity/src/AudacityApp.cpp:2347:62: error: call of overloaded 'wxString(wxRegKey&)' is ambiguous."NaNCarlo Bramini03/14/20, 06:01:30 PM"[WIN32] Correctly read default value of wxRegKey entry. 

Fix this build error with GCC:

../../audacity/src/AudacityApp.cpp:2347:62: error: call of overloaded 'wxString(wxRegKey&)' is ambiguous."1
457Updated ga.po for AudacitySeanán Ó Coistínseananocoistin04/25/20, 01:04:33 PM"I have 28% of the file translated to Irish. There is a lot still to do as it contains complicated technical terminology but it is achievable.

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "Thanks.  We've taken your more up to date pr #500 instead. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
460"[CMAKE] Add ""/MANIFEST:NO"" only to MSVC"Carlo Braminicarlo-bramini03/21/20, 03:28:06 PM"The option ""/MANIFEST:NO"" is recognized only by Microsoft C++ compiler, so its addition must be limited to this compiler rather than generic target for Windows."Good catch.  Thanks. =||= "[CMAKE] Add ""/MANIFEST:NO"" only to MSVC"Carlo Braminicarlo-bramini03/21/20, 03:28:06 PM"The option ""/MANIFEST:NO"" is recognized only by Microsoft C++ compiler, so its addition must be limited to this compiler rather than generic target for Windows."NaNCarlo Bramini03/21/20, 01:49:09 PM"[CMAKE] Add ""/MANIFEST:NO"" only to MSVC

The option ""/MANIFEST:NO"" is recognized only by Microsoft C++ compiler, so its addition must be limited to this compiler rather than generic target for Windows."1
461x64 supportexNTLDR05/25/20, 06:23:48 AM"[+] x64 project configuration support
[+] FFT analyzer sizes up to 1M"If I can write my opinion, with the upcoming support of CMake, I would deprecate the update of Visual Studio Project files. Since Visual Studio 2017, it is possible to import directly CMakeLists.txt and this will generate automatically all project files for you. In addition, by using cmake tool, you can also generate project files for previous versions of Visual Studio and many other development tools. =||= Closing since we've deleted the old VS project files. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
462[CMAKE] Allow linking system version of libexpatRaphael Grafrrrapha03/23/20, 01:12:43 PMNaNNaN[CMAKE] Allow linking system version of libexpatRaphael Grafrrrapha03/23/20, 01:12:43 PMNaNNaNRaphael Graf03/23/20, 11:33:07 AM[CMAKE] Allow linking system version of libexpat1
464FileDialog compilation error with gtk+3Raphael Grafrrrapha03/24/20, 02:59:45 PM"I get the following error on OpenBSD with gtk+3:
```
/tmp/audacity/lib-src/FileDialog/gtk/FileDialogPrivate.cpp:481:35: error: no matching function for call to 'gtk_file_chooser_get_current_name'
    filename = wxString::FromUTF8(gtk_file_chooser_get_current_name(m_fc));
                                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/local/include/gtk-3.0/gtk/gtkfilechooser.h:159:8: note: candidate function not viable: no known conversion from 'wxGtkFileChooser' to 'GtkFileChooser *' (aka '_GtkFi
leChooser *') for 1st argument
gchar *gtk_file_chooser_get_current_name (GtkFileChooser *chooser);
```

The problem has been introduced in https://github.com/audacity/audacity/commit/38bf51afea4e9838544c515c5b1cd3b0b86f0f16"NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
465Fix FileDialog compilation error (gtk+3)Raphael Grafrrrapha03/24/20, 02:59:45 PM"Resolves #464"Oops...sorry about that. =||= Fix FileDialog compilation error (gtk+3)Raphael Grafrrrapha03/24/20, 02:59:45 PMResolves #464NaNRaphael Graf03/24/20, 10:55:04 AM"Fix FileDialog compilation error (gtk+3)

Resolves #464"1
466[CMAKE] LAME: fix compilation error.Carlo Braminicarlo-bramini03/24/20, 06:54:22 PM"If you try to build local LAME with CMake for i686, you get many error messages like this one:

```
/audacity/lib-src/libmp3lame/vector/xmm_quantize_sub.c: In function 'init_xrpow_core_sse':
/audacity/lib-src/libmp3lame/vector/xmm_quantize_sub.c:72:18: warning: SSE vector return without SSE enabled changes the ABI [-Wpsabi]
```
The solution is to add the option provided by SSE_FLAGS.
So, I replicated in this PR the same fix made for local soundtouch library."NaN[CMAKE] LAME: fix compilation error.Carlo Braminicarlo-bramini03/24/20, 06:54:22 PM"If you try to build local LAME with CMake for i686, you get many error messages like this one:

```
/audacity/lib-src/libmp3lame/vector/xmm_quantize_sub.c: In function 'init_xrpow_core_sse':
/audacity/lib-src/libmp3lame/vector/xmm_quantize_sub.c:72:18: warning: SSE vector return without SSE enabled changes the ABI [-Wpsabi]
```
The solution is to add the option provided by SSE_FLAGS.
So, I replicated in this PR the same fix made for local soundtouch library."NaNCarlo Bramini03/24/20, 06:15:56 PM"[CMAKE] LAME: fix compilation error.

If you try to build local LAME with CMake for i686, you get many error messages like this one:

C:/cygwin64/home/Carlo/audacity/lib-src/libmp3lame/vector/xmm_quantize_sub.c: In function 'init_xrpow_core_sse':
C:/cygwin64/home/Carlo/audacity/lib-src/libmp3lame/vector/xmm_quantize_sub.c:72:18: warning: SSE vector return without SSE enabled changes the ABI [-Wpsabi]

The solution is to add the option provided by SSE_FLAGS.
So, I replicated in this PR the same fix made for local soundtouch library."1
467[CMAKE] SBSMS: fix compilation error.Carlo Braminicarlo-bramini06/03/20, 06:35:11 PM"If you try to build local SBSMS with CMake for i686, you get many error messages like this one:

`audacity/lib-src/sbsms/src/fft.h:346:29: warning: SSE vector return without SSE enabled changes the ABI [-Wpsabi]`

The solution is to add the option provided by SSE_FLAGS.
So, I replicated in this PR the same fix made for local Soundtouch and LAME libraries.
"NaN[CMAKE] SBSMS: fix compilation error.Carlo Braminicarlo-bramini06/03/20, 06:35:11 PM"If you try to build local SBSMS with CMake for i686, you get many error messages like this one:

`audacity/lib-src/sbsms/src/fft.h:346:29: warning: SSE vector return without SSE enabled changes the ABI [-Wpsabi]`

The solution is to add the option provided by SSE_FLAGS.
So, I replicated in this PR the same fix made for local Soundtouch and LAME libraries.
"NaNCarlo Bramini03/24/20, 10:59:24 PM"[CMAKE] SBSMS: fix compilation error.

If you try to build local SBSMS with CMake for i686, you get many error messages like this one:

audacity/lib-src/sbsms/src/fft.h:346:29: warning: SSE vector return without SSE enabled changes the ABI [-Wpsabi]

The solution is to add the option provided by SSE_FLAGS.
So, I replicated in this PR the same fix made for local soundtouch and LAME library."1
468[CMAKE] LV2: Fix conflict with main()Carlo Braminicarlo-bramini03/25/20, 03:58:29 AM"After compiling Audacity with MinGW, a strange message appeared on the console after the executable was launched:

```
# ./Audacity.exe
Usage: C:\msys64\home\Carlo\a\bin\Audacity.exe [OPTION]... INPUT...
Validate RDF data

  -h  Display this help and exit
  -l  Print errors on a single line.
  -v  Display version information and exit
Validate RDF data.  This is a simple validator which checks
that all used properties are actually defined.  It does not do
any fancy file retrieval, the files passed on the command line
are the only data that is read.  In other words, you must pass
the definition of all vocabularies used on the command line.
```
The problem happens because the file `lv2/sord/src/sord_validate.c` contains a `main()` function that was called by crt startup code instead of the one in the main sources of Audacity. The solution is to not include this unneeded file."Thanks again Carlo =||= [CMAKE] LV2: Fix conflict with main()Carlo Braminicarlo-bramini03/25/20, 03:58:29 AM"After compiling Audacity with MinGW, a strange message appeared on the console after the executable was launched:

```
# ./Audacity.exe
Usage: C:\msys64\home\Carlo\a\bin\Audacity.exe [OPTION]... INPUT...
Validate RDF data

  -h  Display this help and exit
  -l  Print errors on a single line.
  -v  Display version information and exit
Validate RDF data.  This is a simple validator which checks
that all used properties are actually defined.  It does not do
any fancy file retrieval, the files passed on the command line
are the only data that is read.  In other words, you must pass
the definition of all vocabularies used on the command line.
```
The problem happens because the file `lv2/sord/src/sord_validate.c` contains a `main()` function that was called by crt startup code instead of the one in the main sources of Audacity. The solution is to not include this unneeded file."NaNCarlo Bramini03/24/20, 11:14:01 PM"[CMAKE] LV2: Fix conflict with main()

After compiling Audacity with MinGW, a strange message appeared on the console after the executable was launched:

# ./Audacity.exe
Usage: C:\msys64\home\Carlo\a\bin\Audacity.exe [OPTION]... INPUT...
Validate RDF data

  -h  Display this help and exit
  -l  Print errors on a single line.
  -v  Display version information and exit
Validate RDF data.  This is a simple validator which checks
that all used properties are actually defined.  It does not do
any fancy file retrieval, the files passed on the command line
are the only data that is read.  In other words, you must pass
the definition of all vocabularies used on the command line.

The problem happens because the file lv2/sord/src/sord_validate.c contains a main() function that was called by crt startup code instead of the one in the main sources of Audacity. The solution is to not include this unneeded file."1
469[WIN32] mod-script-pipe: fix compile error with GCCCarlo Braminicarlo-bramini03/25/20, 01:24:13 PM"When compiling with CMake and MinGW, I got these two errors:

```
audacity/lib-src/mod-script-pipe/PipeServer.cpp:18:29: warning: ISO C++ forbids converting a string constant to 'LPTSTR' {aka 'char*'} [-Wwrite-strings]
   18 |    LPTSTR pipeNameToSrv= _T(""\\\\.\\pipe\\ToSrvPipe"");
```

```
audacity/lib-src/mod-script-pipe/PipeServer.cpp:32:32: warning: ISO C++ forbids converting a string constant to 'LPTSTR' {aka 'char*'} [-Wwrite-strings]
   32 |    LPTSTR pipeNameFromSrv= __T(""\\\\.\\pipe\\FromSrvPipe"");
```

The solution is to replace LPTSTR and convert these two pointers into two const objects.""Carlo, could you use ""LPCTSTR"" instead of ""static const TCHAR""? =||= > 
> 
> Carlo, could you use ""LPCTSTR"" instead of ""static const TCHAR""?

Excuse me, I can do it but is there a particular reason to have pointers to strings rather than having simply the strings? =||= > 
> 
> > Carlo, could you use ""LPCTSTR"" instead of ""static const TCHAR""?
> 
> Excuse me, I can do it but is there a particular reason to have pointers to strings rather than having simply the strings?

HAHAHA, good point.  Total brain freeze on my part.  Merging... =||= "[WIN32] mod-script-pipe: fix compile error with GCCCarlo Braminicarlo-bramini03/25/20, 01:24:13 PM"When compiling with CMake and MinGW, I got these two errors:

```
audacity/lib-src/mod-script-pipe/PipeServer.cpp:18:29: warning: ISO C++ forbids converting a string constant to 'LPTSTR' {aka 'char*'} [-Wwrite-strings]
   18 |    LPTSTR pipeNameToSrv= _T(""\\\\.\\pipe\\ToSrvPipe"");
```

```
audacity/lib-src/mod-script-pipe/PipeServer.cpp:32:32: warning: ISO C++ forbids converting a string constant to 'LPTSTR' {aka 'char*'} [-Wwrite-strings]
   32 |    LPTSTR pipeNameFromSrv= __T(""\\\\.\\pipe\\FromSrvPipe"");
```

The solution is to replace LPTSTR and convert these two pointers into two const objects."NaNCarlo Bramini03/24/20, 11:34:10 PM"[WIN32] mod-script-pipe: fix compile error with GCC

When compiling with CMake and MinGW, I got these two errors:

audacity/lib-src/mod-script-pipe/PipeServer.cpp:18:29: warning: ISO C++ forbids converting a string constant to 'LPTSTR' {aka 'char*'} [-Wwrite-strings]
   18 |    LPTSTR pipeNameToSrv= _T(""\\\\.\\pipe\\ToSrvPipe"");

audacity/lib-src/mod-script-pipe/PipeServer.cpp:32:32: warning: ISO C++ forbids converting a string constant to 'LPTSTR' {aka 'char*'} [-Wwrite-strings]
   32 |    LPTSTR pipeNameFromSrv= __T(""\\\\.\\pipe\\FromSrvPipe"");

The solution is to replace LPTSTR and convert these two pointers into two const objects."1
470USB mic not working in Audacity 2.3.3RyanCodeFunction05/13/21, 09:18:04 PM"**Describe the bug**
Open Audacity. Cannot get the latest version of Audacity to record from mic using Focusrite Scarlett Solo USB.

I originally thought it was PulseAudio since they've broken audio badly about 5 months or so and are having way too much trouble fixing those problems (as in, so far they managed to break it more).

But, using ""$ parecord ..."" does contain audio from the mic. Fedora control panel > sound > also shows the mic working once working around the current PulseAudio bugs.

So, currently, I'm not sure what is going on.

I can build from source an older version of Audacity (distro doesn't have older version available) and check it that way. Of if there's some other way to look into this?

**### Edit**: It used to work but I haven't used Audacity since 5-8 months ago maybe. It looks like I would have had Fedora 30 at that time and Audacity 2.3.2-1.

I might as well start work on building from source...

**To Reproduce**
Steps to reproduce the behavior:
1. Start latest version of Audacity
2. Never any sound coming in from the mic, visual indicator is dead.

**Expected behavior**
Visual indicator should show something when its enabled, recording should get audio from the mic.

**Additional information (please complete the following information):**
 - OS: Fedora 31
 - Version Audacity 2.3.3
 - Focusrite Scarlett Solo USB""Indeed, built 2.3.2, clicking monitoring of input shows sound activity and recording also has audio from the mic.

The latest version of Audacity did break the mic here ;-( =||= Have you tried building Audacity 2.3.3, or 2.4.0 alpha from source? =||= Apparently building and running 2.4.0 alpha also works.

Distro package problem or 2.3.3? I probably don't need to build 2.3.3 when 2.4.0 works.

Edit: I will keep this open for now (unless someone wants to close it) and see what happens in time. Will update it either way when I know its been fixed.

If anyone wants me to do more tests or whatever, just let me know. =||= Closing

> Apparently building and running 2.4.0 alpha also works.
> Distro package problem or 2.3.3? 
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
471Playback cursor not moving on waylandRodrigorodrigoaguilera04/03/20, 06:31:55 AM"**Description**
The cursor over the wave doesn't appear when playing


Steps to reproduce the behavior:
1. Record something
2. Play it
3. Click on the wave to see the cursor appear for a few milliseconds


**Expected behavior**
Vertical line cursor moving


**Additional information (please complete the following information):**
 - OS: debian testing
 - Version 2.3.2
 - Window compositor: wayland (this bug does not appear on GNOME under Xorg)


**Additional context**
Reported already in other trackers:
https://forum.audacityteam.org/viewtopic.php?f=48&t=109707
https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=950150""I've also had this issue (which I think is the same as #459) for a while. I built the current master branch from source, and it seems to be fixed there.  =||= I can reproduce this consistently with the Sway window manager (wlroots-based Wayland compositor) on Arch Linux. However, if I pin the playback, it seems to show the track position normally.

Another difference I see between X11 and Wayland is the refresh rate of the tracking indicator when recording. With X, it's very smooth (maybe every 5 milliseconds); yet with Wayland it lags (it refreshes about every 250 milliseconds).

A workaround I have for now is to run Audacity in XWayland: `GDK_BACKEND=x11 audacity`. To run in native Wayland (which has the track position that doesn't play), I use `GDK_BACKEND=wayland audacity`.

Here's some applicable package information that's in the Audacity package for Arch Linux:
- wxgtk3-3.0.4-2
- audacity-2.3.3-2 =||= Closing this in favor of #459  =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
474Allow use of wxPowerResource if wxWidgets is 3.1.xCarlo Braminicarlo-bramini04/02/20, 02:23:46 AM"I got an error when compiling with wxWidgets 3.0.4, because wxPowerResource is undefined.
It seems to me that wxPowerResource has been introduced with wxWidgets 3.1.x branch:

https://github.com/wxWidgets/wxWidgets/commit/51d715e46d3899f12161f8966db5b9f7f8050bf2#diff-93a9bace734a8065b203ebd2f670cbe8

so, it would be worth to check if the feature is supported at compile time.

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNAllow use of wxPowerResource if wxWidgets is 3.1.xCarlo Braminicarlo-bramini04/02/20, 02:23:46 AM"I got an error when compiling with wxWidgets 3.0.4, because wxPowerResource is undefined.
It seems to me that wxPowerResource has been introduced with wxWidgets 3.1.x branch:

https://github.com/wxWidgets/wxWidgets/commit/51d715e46d3899f12161f8966db5b9f7f8050bf2#diff-93a9bace734a8065b203ebd2f670cbe8

so, it would be worth to check if the feature is supported at compile time.

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNCarlo Bramini04/01/20, 11:44:34 PM"Allow use of wxPowerResource if wxWidgets is 3.1.x

I got an error when compiling with wxWidgets 3.0.4, because wxPowerResource is undefined.
It seems to me that wxPowerResource has been introduced with wxWidgets 3.1.x branch:

https://github.com/wxWidgets/wxWidgets/commit/51d715e46d3899f12161f8966db5b9f7f8050bf2#diff-93a9bace734a8065b203ebd2f670cbe8

so, it would be worth to check if the feature is supported at compile time."1
475Internat: use _WIN32 instead of _MSC_VER for DebugBreak()Carlo Braminicarlo-bramini04/02/20, 04:44:31 PMFor compiling with MinGW, it is required that it uses the same code of Visual Studio when `__WXDEBUG__` is defined.Carlo, can you try it with __WXMSW__ instead _WIN32?  I'm sort of thinking that's more appropriate. =||= Internat: use _WIN32 instead of _MSC_VER for DebugBreak()Carlo Braminicarlo-bramini04/02/20, 04:44:31 PMFor compiling with MinGW, it is required that it uses the same code of Visual Studio when `__WXDEBUG__` is defined.NaNCarlo Bramini04/02/20, 02:51:05 PMInternat: replace previous _WIN32 with WXMSW1
476[CMAKE] Portaudio: x86_plain_converters is MSVC onlyCarlo Braminicarlo-bramini04/02/20, 02:34:29 PMAs you can see from the original CMakeLists.txt into the sources of Portaudio, the file pa_x86_plain_converters.c can be compiled only with Visual C++, so it should not be include if there is not the Microsoft Compiler."Actually, we never call PaUtil_InitializeX86PlainConverters() so we could probably just remove the file entirely, but I want to look into maybe using the ""optimized"" versions. =||= "[CMAKE] Portaudio: x86_plain_converters is MSVC onlyCarlo Braminicarlo-bramini04/02/20, 02:34:29 PMAs you can see from the original CMakeLists.txt into the sources of Portaudio, the file pa_x86_plain_converters.c can be compiled only with Visual C++, so it should not be include if there is not the Microsoft Compiler.NaNCarlo Bramini04/02/20, 02:00:00 PM"[CMAKE] Portaudio: x86_plain_converters is MSVC only

As you can see from the original CMakeLists.txt into the sources of Portaudio, the file pa_x86_plain_converters.c can be compiled only with Visual C++, so it should not be include if there is not the Microsoft Compiler."1
477[CMAKE] Portaudio: do not activate OSS on WindowsCarlo Braminicarlo-bramini04/02/20, 03:04:10 PM"I had a strange error when building the local portaudio library with MinGW under msys2.
The error was caused by the file `sys/soundcard.h` that was found somewhere in the path, because `use_pa_oss` is always activated regardless the platform.
So, in my opinion it is better to not activate this option if the platform is Windows.
Afterall, it is useless in this case.""Good point.  Can you move this up there as well?

`if( ${_OPT}use_pa_oss )
   find_path( OSS_INCLUDE NAMES sys/soundcard.h )
   mark_as_advanced( FORCE OSS_INCLUDE )

   if( OSS_INCLUDE )
      set( OSS_INCLUDE_DIRS ${OSS_INCLUDE} )
   endif()

   find_library( OSS_LIBRARY NAMES ossaudio )
   mark_as_advanced( FORCE OSS_LIBRARY )

   if( OSS_LIBRARY )
      set( OSS_LIBRARIES ${OSS_LIBRARY} )
   endif()

   if( NOT OSS_INCLUDE_DIRS )
      set_cache_value( ${_OPT}use_pa_oss NO )
   endif()
endif()
` =||= Perfect...thanks =||= "[CMAKE] Portaudio: do not activate OSS on WindowsCarlo Braminicarlo-bramini04/02/20, 03:04:10 PM"I had a strange error when building the local portaudio library with MinGW under msys2.
The error was caused by the file `sys/soundcard.h` that was found somewhere in the path, because `use_pa_oss` is always activated regardless the platform.
So, in my opinion it is better to not activate this option if the platform is Windows.
Afterall, it is useless in this case."NaNCarlo Bramini04/02/20, 02:57:59 PM[CMAKE] Portaudio: move also remaining OSS code1
478Portaudio: bug in OSVERSIONINFO initializationCarlo Braminicarlo-bramini04/02/20, 02:47:10 PM"I would like to report that there is a bug into the source code of local copy of Portaudio, which prevents the correct compilation when compiling for Windows with GNU C.
I have signaled the bug to Portaudio team and the patch has been committed to their master.
So, in my opinion it would be worth to sync local copy of Portaudio with their master, by importing that small fix.

https://app.assembla.com/spaces/portaudio/git/commits/799a6834a58592eadc5712cba73b35956dc51579"Upstream fix applied... =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
481Can't build 008d8d8c branch with CMAKEscrewt04/06/20, 03:12:09 PM"**Describe the bug**
Cmake is stuck on the generation step.

**To Reproduce**
```
git checkout -b 008d8d8c
git pull origin 008d8d8c
git status
On branch 008d8d8c
nothing to commit, working tree clean
```

**Expected behavior**
Solution file is generated by cmake without errors

**Additional information (please complete the following information):**
 - OS: windows 7
 - Audacity branch 008d8d8c
 - cmake version 3.17
 - cmake ""visual studio 2017 | x64"" target

**Additional context**
 error:

```
CMake Error at src/CMakeLists.txt:487 (add_executable):
  Cannot find source file:

    tracks/labeltrack/ui/LabelTrackUI.cpp
```
""At that commit the CMake build was only in the preparation stage.  It was incomplete and not being maintained.  You'll need to use the Visual Studio solution in ""audacity/win"".

However, if you want to try out the v2.4.0 (still being developed), the CMake build process is in good shape. =||= Ok.
In deed i want to build a plugin.
It would allow users to easily share the work.
That s why i'm targetting the last release.
 =||= @lllucius how can i checkout v2.4.0.
I tried master, but it seems broken right now :


```
Error	C2248	'TranslatableString::Request': cannot access private enum declared in class 'TranslatableString'	Audacity	audacity\src\Internat.cpp	305	
Error	C2248	'TranslatableString::NullContextName': cannot access private member declared in class 'TranslatableString'	Audacity	\audacity\src\Internat.cpp	306	
Error	C2248	'TranslatableString::Request': cannot access private enum declared in class 'TranslatableString'	Audacity	audacity\src\Internat.cpp	307	
Error	C2248	'TranslatableString::Request': cannot access private enum declared in class 'TranslatableString'	Audacity audacity\src\Internat.cpp	308	
```
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
484French translation update for 2.4.0Olivier Humberttrebmuh04/14/20, 01:59:18 PM"French translation update for 2.4.0 . Contains:
- new translations
- ""fuzzy"" fixes
- a few typos
- punctuation consistency

HTH"Thanks! =||= French translation update for 2.4.0Olivier Humberttrebmuh04/14/20, 01:59:18 PM"French translation update for 2.4.0 . Contains:
- new translations
- ""fuzzy"" fixes
- a few typos
- punctuation consistency

HTH"NaNOlivier Humbert04/09/20, 04:03:28 PMFrench translation update for 2.4.01
485kpbs to kbpsscootergrisen04/20/20, 03:19:47 PMNaNThanks.  This fix is now in source for 2.4.0 =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
486macOS external headphones problemsStefan Aalfs04/11/20, 11:25:44 AM"**Describe the bug**
3,5 mm headset must be plugged in when Audacity starts. If removed during audacity execution they are not found and audacity must be restarted for the headset to be recognized.

Same if headset is plugged in after Audacity is started.

**To Reproduce**
1. Plug in 3,5 mm headset
2. Start audacity, open file, enjoy the audio
3. * Have a co-worker call you. 
4. Stop the audio and unplug the headset
5. * Plug the headset in your phone and carry out business
6. Replug headset in computer
7. Press play in Audacity
8. ""Error opening sound device""
9. Change to internal speakers - OK, but audio disturbes co-coworkers
10. Change to external speakers (=headset)
11. Same error as in (9.)
12. Quit audacity
13. Goto (2.)

* (not actually required ;) )

**Expected behavior**
I expect that unplugging and replugging headsets would work seamlessly, or inserting headset after application is started.

**Screenshots**

<img width=""838"" alt=""Screenshot 2020-04-11 at 00 24 21"" src=""https://user-images.githubusercontent.com/1869479/79027051-14ed7b80-7b8b-11ea-8428-ca7b7ae1a48a.png"">

**Additional information (please complete the following information):**
 - OS: macOS Catalina 10.15.4
 - Audacity 2.3.2""Audacity scans for audio devices on launch, and again when explicitly requested with ""Transport menu > Rescan Audio Devices"". If you attach or disconnect an external device while Audacity is open, use Transport > Rescan Audio Devices to update the device lists before playing or recording. 

This is documented in multiple places in the manual, for example: https://manual.audacityteam.org/man/device_toolbar.html

Thank you for your interest in Audacity. If you require further help, we have a support forum here: https://forum.audacityteam.org =||= This worked, thanks. Sorry for not being observant and reading the manual. Just a last comment (which I think belongs to this report rather than the support forum)


Would it be possible to do a single automatic rescan of audio devices is there is an error opening the sound device, or could this cause some problem? 

Not sure what happens underneath in macos, but the user exceptation of simply replugging 3,5 mm headsets would not be that the audio device would need rescanning.

Or at least in the error message, prompt the user to do a transport->rescan devices (to complement the other suggestions?

Thanks,
  Stefan =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
487Fix minor typosYuri Chornoivanyurchor04/11/20, 09:06:25 AMThanks in advance for reviewing."Thank you for all of these! =||= However did you find them all!
 =||= "Fix minor typosYuri Chornoivanyurchor04/11/20, 09:06:25 AMThanks in advance for reviewing.NaNYuri Chornoivan04/11/20, 07:08:33 AMFix minor typos1
488PlaybackEmulatedVolume settingDanil Guskovguskovd04/12/20, 11:00:37 AMNow audacity does not save the sound level if the sound is adjusted as emulated. It is very uncomfortable"Please resubmit this as a single commit (use git squash) and with a better commit comment, so that we can even review it.

This is unlikely to go into 2.4.0. the release we are currently working on.  =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
489provide PlaybackEmulatedVolume: option to save emulated playback volumeDanil Guskovguskovd05/31/20, 05:19:01 PMNow audacity does not save the sound level if the sound is adjusted as emulated. It is very uncomfortableThanks, we've reviewed this and decided we don't want to add this new feature (or not in this manner). =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
490Persistent crackling noise on Pa_Initialize() callDanil Guskovguskovd04/26/20, 08:04:07 AM"When starting audacity or changing playback to my sound card, I hear a clicking noise.
I managed to find out at what exact moment this is happening. It seems to be a matter of calling Pa_Initialize

My sound card: Focusrite Scralett 2i2 USB
my OS: Archlinux

As I understand it, this is a portaudio problem, not an audacity

--
Did you come across something similar? Do you have any idea how to solve this problem?""Solved the problem by switching to jack =||= Hi, do you have a link to the portaudio problem?

I found your issue looking for a reason to the harsh clicking sound when starting Audacity.
I do not experience this issue with other software in Archlinux. This happens with the integrated sound card on a Fujitsu laptop.

The crackling sound is so strong that I think it can be damaging for ears or speakers.
I always need to remember to remove my headphones before opening Audacity.

I could provide a recording if it helps someone. It's not only one click, but many (maybe 8?).
In my imagination it happens when probing different audio configurations, but I have no idea about the actual reason. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
491Update sk.pojozefMjozefM92304/14/20, 07:07:14 AM"Update slovak translation for audacity version 2.4.0

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests ""@jozefM923 did you close this pull request on purpose or was it a mistake? =||= HI,
I apologize, it was a mistake, I do not yet work properly with github
jozef

<https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=webmail>
Bez
virů. www.avast.com
<https://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=webmail>
<#DAB4FAD8-2DD7-40BB-A1B8-4E2AA1F9FDF2>

ut 14. 4. 2020 o 14:14 Olivier Humbert <notifications@github.com>
napísal(a):

> @jozefM923 <https://github.com/jozefM923> did you close this pull request
> on purpose or was it a mistake?
>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/491#issuecomment-613407200>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/APBAVLGBZJ2F3376X2KFWLLRMRHRVANCNFSM4MHP5FFQ>
> .
>
 =||= @JamesCrook just pinging you here to ensure that you've taken in this translation. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
492Update Polish translation from TransifexGrzegorz PruchniakowskiGootector04/20/20, 07:13:23 PM"Update Polish translation from Transifex - 100% completed.

Greetings,
Gootector

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "Thanks Gootector.  This is now merged. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
493Updates Russian po fileВячеслав Диконовdikonov04/20/20, 03:17:54 PM"Contains many fixes for errors, typos and mis-translations

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests 

This same file was posted to the translation mailing list on April 17. as ru24.po-rev2""Thanks.  However we're using the recent Russian translation from Alexander Kovalenko.  If you want to get your translations/changes in, please coordinate with him.  Telling him that his translation is terrible is not the way.  

You need to work with him to produce a translation you are both happy with.  =||= Alexander Kovalenko proved himself to be an incompetent translator (I assume that he has a different professional background) and he refuses to enter any linguistic discussion. 

His variant is 1) full of grave mistakes, some of which are just stupid. I have cited some of the errors in the forum and they can be found in the diff.  There are phrases distorted to the point of meaning the opposite in translation. 2) He uses jargon words (false friends and unnecessary borrowings from English) that are not comprehensible to normal Russian speakers outside of a small group. The translation supplied with Audacity 2.3.3 is so bad that I cannot use it even though I am able to ""reverse engineer"" the abracadabra because I am a linguist with professional background in translation and software localization.  Another former translator of Audacity Alexander Prokoudine (https://github.com/prokoudine) could be a mediator and confirm that  Alexander Kovalenko's style deviates from normal Russian and software localization standards. 

I started a project to translate Audacity user manual, but it has to be cancelled because it cannot be based on a such inadequate UI. Audacity looks amateurish in Russian. =||= Vyacheslav - Audacity is a collaborative enterprise, so we need people who can work together well.  Yuri showed the 'right' way to deal with poor translation, which is to start with the incontrovertible errors, the misspellings.  Alexander responded to those, and with good grace.  

We have competing Slovak translations, competing Basque translations and competing Gaelic translations.  The translators are often passionate about why their translation is 'right'.  Whilst I am linguistically challenged, that is I don't speak Russian, Basque or Gaelic, I know enough to know that some issues are sloppiness (sloppy translator vs conscientious one), regional (North vs South) and tradition/style (franglais vs Française).  

How do we resolve these?  By making the problem more complex and more human.  We in Audacity need people who can work together, and we need people who are not fly by nights but who are here for the longer term.  I believe your translation is better, based on the errors/typos that Yuri presented.  Nevertheless I chose to use Alexander's rather than 'dethrone' him.  He has been with us for many translation cycles, and that is evidence that he is not a fly-by-night.  For all that I know, so far, your personality could be to snipe at people and then move on - and that's not something I want for Audacity.

I'd suggest that for 3.0.0, the next version of Audacity, you complete your translation of the one page Tour Guide.  If there are issues caused by poor translation needed in screenshots for that one page document that need correction, raise them in translation email list so they can be discussed and dealt with.

That gives me some evidence that you are not a fly-by contributor, and that it is worth working with you and Alexander to get a joint translation that is better than either would do on their own.

 =||= I understand your position, and I must give justice to Alexander Kovalenko, who implemented some of the proposed fixes. The unresolved problem here is the overall style. It is technicaly possible to have two alternatives: Ruglish ""jargon"" version for selected geeks vs a ""neutral"" one for everyone else.

I got just two replies form Alexander. In the first letter he recommends me to use ""Racetrack"" (approximate reverse translation) instead of audio ""Track"" and ""||PECET"" (this nonsense should mimic the level of abracadabra for an English speaker) instead of ""Preset"". These wer the very words that shocked me in 2.3.3. A regular Russian, who does not know the corresponding English words may not understand it. I objected telling that the words are not technical terms and there are better native Russian equivalents.  The only response to my objections was ""Everyone has a right to an opinion"". I see it as a refusal to discuss and cooperate on Alexander's (and in a way Audacity Team's) side. 

Alexander is still welcome to use any proposed changes, but I would not like to be mentioned as an author of a translation that I deem defective and cannot control or fix.

_The only proposal I can make here is to select a 3-rd party judge._ =||= By the way, the Russian version of the Tour Guide is complete and available online at  https://wiki.audacityteam.org/wiki/Audacity_Tour_Guide/ru. All UI reference terms are the same as in Audacity 2.3.3 (Alexander's) version except for the ""Track"". This sole change is the-right-thing-to-do linguistically and is completely transparent. =||= 1) About the tour guide.  Great!  I have had a look and am glad it's complete. Using 'Track' instead of 'Racetrack' is 'the right thing' :-) .  You could if you like mention the Tour Guide is complete on the translation email list and thereby (perhaps) encourage others to translate into their languages - which in turn encourages us to do the work of getting a pdf version made and distributed, as it becomes more worthwhile with more languages.

2) Alexander Prokoudine could submit your translation as a pull request.  We'd almost certainly accept his translation over Alexander Kovalenko's, unless he was rude and ill mannered about it.  He has a longer history with the project than AK.  Once that has been done for three consecutive versions, with AP saying it's your translation, I'd say you are the clear incumbent, and you can submit directly.  Note - I actually prefer posting of translation .po files to translation list to pull requests so would prefer AP to do that to a pull request.  That is just one simple way it could all go.  I think between you you can find a good way, possibly better than that, that gets a good translation and that is seen to be 'fair'.

Thanks for showing some patience and understanding.  I am looking forward to us having better translation. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
495Audacity crashes at startup (MinGW and OpenBSD)Carlo Braminicarlo-bramini05/13/21, 08:11:49 PM"I successfully compiled Audacity for Windows by using CMake and MinGW.
Unfortunately, I'm getting a crash after the application started.
After running, the program shows the small splash dialog for about one
second and then it appears a messagebox with this error:

```
Audacity:
*** Caught unhandled unknown exception, terminating.
```

After some debugging, I discovered that the program crashes at this
line, inside src/ProjectManager.cpp:

https://github.com/audacity/audacity/blob/866edf88011b97bf4c2d5a6dda49374ccaa602e5/src/ProjectManager.cpp#L536

This error has been discussed a bit in the mailing list and it seems to happen also on OpenBSD.
On Windows, it seems that only GCC is affected, because I also configured for compiling with VisualStudio 2019 and the resulting executable was not crashing.""For completeness, I'm also adding the backtrace generated from OpenBSD and posted by an user to  the mailing list.
[openbsd-backtrace.txt](https://github.com/audacity/audacity/files/4559981/openbsd-backtrace.txt)
 =||= Some recent fixes made possible to build for Cygwin and the same issue happens on that environment. =||= Are you able to build a debug version?  Can you get a backtrace? =||= Please excuse my ignorance, how do I build and I do this backtrace? =||= Try adding a build type to the cmake command:

cmake -DCMAKE_BUILD_TYPE=Debug <any other parameters>

What that's going to do is turn of optimization.  If my guess is right, that will get you past the crash.

Of course you don't want to run that way, so if it does get you past the crash, remove the build type and try inserting the following line at the very top of src/ProjectWindow.h, src/Project.h and src/menus/ViewMenus.cpp.

#include <wx/wx.h>

Let me know how you get along.  

 =||= BTW:  Do you have a full set of patches I could try here.  I'd also like to try recreating this crash.  I think it's very similar to another we're having and this might shed a bit more light on the cause.
 =||= Carlo, if your problem is the same as another that we've been working on, the I believe we have an answer for you.  This may or may not fix your problem, but it certainly fixed the other problem and I'm thinking that it should fix yours as well.

We tracked down the root cause of the problem to this wxWidgets bug:

https://trac.wxwidgets.org/ticket/15884
wxWidgets/wxWidgets@72aad0d

I backported their fix to wxWidgets 3.0.5.1 so I could verify that it does indeed correct the issue on Linux.

weakref.patch.gz

I've also included the patched weakref.h so it should be easy for you to test as well. =||= > Try adding a build type to the cmake command:
> 
> cmake -DCMAKE_BUILD_TYPE=Debug
> 
I configured and I compiled the sources in the way you suggested me, but unfortunately nothing changed. =||= Thanks for trying, but did you happen to see my last post about the wxWidgets bug?  i think that may be the problem. =||= > BTW: Do you have a full set of patches I could try here. I'd also like to try recreating this crash. I think it's very similar to another we're having and this might shed a bit more light on the cause.

I'm compiling Audacity in 4 ways:
1) CYGWIN build, it uses wxGTK and POSIX layer.
2) Native Windows build, it uses CYGWIN for shell and MinGW-w64 cross-compiler.
3) Native Windows build, it uses MSYS2 for shell and MinGW-w64 cross-compiler.
4) Native Windows build, it uses Visual Studio 2019 Community Edition.

The builds (1) and (2) use cmake with Unix Makefile generator.
The (1) requires PR #447, #467, #556 and #557 for compiling correctly everything.
Unfortunately, something strange happens when doing the final link of Audacity, because you will see that an unknown error is printed on the console. In my opinion, this happens because there is a bug in CMake. As you can see here:
https://gitlab.kitware.com/cmake/cmake/-/blob/master/Modules/Platform/CYGWIN-GNU.cmake#L44
CMake adds `""-Wl,--export-all-symbols""` option when linking, which puts all symbols into the import library, but this is bad, at least for Audacity.
The Portable Executable format allows to export a maximum number of 65535 symbols.
Audacity overflows this limit and GNU linker returns an error because of this.
Using all system libraries instead of local ones was not enough for recovering this error, so the only solution is to enter into the build directory, open `src/CMakeFiles/Audacity.dir/link.txt` and remove the above option. After that, you can launch `make` again and the compilation will complete successfully.

The builds (2) and (3) requires few, small fixes to lv2, portmixer and portsmf. The native builds for Windows also raises some strange messages when building the resource file. I have identified the problem and I collected the fixes in this branch:
https://github.com/carlo-bramini/audacity/tree/rsrc_fixes_1
But I'm having some troubles to make a PR of this because GITHUB gave to me this message:
> We’ve detected the file encoding as ISO-8859-1. When you commit changes we will transcode it to UTF-8.

As you can see, in my branch some strings of win/audacity.rc were corrupted after the commit and I do not understand very well the reasons. The build (3) uses MSYS2 as shell and ""MSYS Makefiles"" as generator and, when linking, the problem is the opposite of the one I'm getting with ""Unix Makefiles"" under Cygwin. In other words, `set( CMAKE_ENABLE_EXPORTS ON )` does not seem to be respected by CMake because import library `libaudacity.dll.a` is not created. As result, the executable is created, but the modules fail to build since the library is missing. Here the only solution that I have found is to create `audacity.def` file with pexports or other similar tool, create `libaudacity.dll.a` with `dlltool` and then launch again `make` to complete the build.

I hope that you will find this useful.

EDIT: When you want to create the build (3), I forgot to write that you can also enter into the build directory, open the file `src/CMakeFiles/Audacity.dir/build.make` and add this option to the line that creates Audacity.exe:
`-Wl,--out-implib,../lib/audacity/libAudacity.dll.a`
After that, simply launch `make` to complete the build process, without doing other manual actions with external tools. =||= > Are you able to build a debug version? Can you get a backtrace?

I have posted a backtrace on the mailing list:
https://sourceforge.net/p/audacity/mailman/message/36969340/

The exception is thrown here:
https://github.com/audacity/audacity/blob/ce07da936cf956c2d2226c356d287e32f4323aad/src/Project.cpp#L158

It looks like `project.GetFrame()` is called before `SetFrame()` has been called.

Interestingly, reversing the order of this loop fixes the problem for me:
https://github.com/audacity/audacity/blob/ce07da936cf956c2d2226c356d287e32f4323aad/src/ClientData.h#L401

I hope this helps with finding the real problem..

 =||= Are you using the v3.0.x series of wxWidgets?  If so, then this is the root cause:

https://trac.wxwidgets.org/ticket/15884

If not, then something else is amiss. =||= I've tried wxWidgets 3.0.4 and 3.1.3, .. so I don't think it is a wxWidgets issue. 
 =||= It is not a wxWidgets issue.

I fixed a similar thing at commit a085057b6616d99c6b19e48b5905e737dd636d7d

But from your stack trace, I see other work is needed.

PRL


On Wed, Jun 10, 2020 at 1:39 PM Raphael Graf <notifications@github.com>
wrote:

> I've tried wxWidgets 3.0.4 and 3.1.3, .. so I don't think it is a wxWidget
> issue.
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/issues/495#issuecomment-642157480>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ACZBGYKLV7YDYLUKW5BJPBDRV7AM3ANCNFSM4MLL3HEQ>
> .
>
 =||= To explain more, and why I don't think it's related to wxWidgets issues.

The ClientData thing stores a table of factory functions and invokes all of
them in BuildAll().  There is more than one instantiation of the class
template ClientData.  The reason this exists is to break compilation and
linkage dependencies, so that the class AudacityProject can be low in the
dependency graph but the various cooperating parts of the project can be
higher-level.

The several cooperating parts insert factory functions in the static table
of factories traversed by BuildAll(), and that insertion happens at the
time of initialization of file-scope static objects.

But as you may know, in C++ the relative ordering of initialization of
file-scope static objects in different compilation units is not specified.
I think it should be predictable with a given platform and build system,
but may vary between build systems.

So the sequence of the factories in ClientData may vary, and there may have
been a hidden ordering dependency among them, which happened not be
violated on any other platform yet that we regularly build, but you managed
to build in a way violating that ordering.

That's the sort of problem I discovered and fixed at
a085057b6616d99c6b19e48b5905e737dd636d7d, but there may be other
dependencies.

I mean to find and fix all such dependencies now.  There are 30 factories
in the relevant table, and I only need to test 30 cyclic permutations of
the table (not all 30-factorial!) to make sure I test all pairs of
functions each way.

PRL


On Thu, Jun 11, 2020 at 6:43 PM Paul Licameli <paul.licameli@gmail.com>
wrote:

> It is not a wxWidgets issue.
>
> I fixed a similar thing at commit a085057b6616d99c6b19e48b5905e737dd636d7d
>
> But from your stack trace, I see other work is needed.
>
> PRL
>
>
> On Wed, Jun 10, 2020 at 1:39 PM Raphael Graf <notifications@github.com>
> wrote:
>
>> I've tried wxWidgets 3.0.4 and 3.1.3, .. so I don't think it is a
>> wxWidget issue.
>>
>> —
>> You are receiving this because you are subscribed to this thread.
>> Reply to this email directly, view it on GitHub
>> <https://github.com/audacity/audacity/issues/495#issuecomment-642157480>,
>> or unsubscribe
>> <https://github.com/notifications/unsubscribe-auth/ACZBGYKLV7YDYLUKW5BJPBDRV7AM3ANCNFSM4MLL3HEQ>
>> .
>>
>
 =||= Carlo, try the simple fix at commit 4ac96376bb6f5832e735e08314e930e9d8ae926d

Paul


On Thu, Jun 11, 2020 at 8:16 PM Paul Licameli <paul.licameli@gmail.com>
wrote:

> To explain more, and why I don't think it's related to wxWidgets issues.
>
> The ClientData thing stores a table of factory functions and invokes all
> of them in BuildAll().  There is more than one instantiation of the class
> template ClientData.  The reason this exists is to break compilation and
> linkage dependencies, so that the class AudacityProject can be low in the
> dependency graph but the various cooperating parts of the project can be
> higher-level.
>
> The several cooperating parts insert factory functions in the static table
> of factories traversed by BuildAll(), and that insertion happens at the
> time of initialization of file-scope static objects.
>
> But as you may know, in C++ the relative ordering of initialization of
> file-scope static objects in different compilation units is not specified.
> I think it should be predictable with a given platform and build system,
> but may vary between build systems.
>
> So the sequence of the factories in ClientData may vary, and there may
> have been a hidden ordering dependency among them, which happened not be
> violated on any other platform yet that we regularly build, but you managed
> to build in a way violating that ordering.
>
> That's the sort of problem I discovered and fixed at
> a085057b6616d99c6b19e48b5905e737dd636d7d, but there may be other
> dependencies.
>
> I mean to find and fix all such dependencies now.  There are 30 factories
> in the relevant table, and I only need to test 30 cyclic permutations of
> the table (not all 30-factorial!) to make sure I test all pairs of
> functions each way.
>
> PRL
>
>
> On Thu, Jun 11, 2020 at 6:43 PM Paul Licameli <paul.licameli@gmail.com>
> wrote:
>
>> It is not a wxWidgets issue.
>>
>> I fixed a similar thing at commit a085057b6616d99c6b19e48b5905e737dd636d7d
>>
>> But from your stack trace, I see other work is needed.
>>
>> PRL
>>
>>
>> On Wed, Jun 10, 2020 at 1:39 PM Raphael Graf <notifications@github.com>
>> wrote:
>>
>>> I've tried wxWidgets 3.0.4 and 3.1.3, .. so I don't think it is a
>>> wxWidget issue.
>>>
>>> —
>>> You are receiving this because you are subscribed to this thread.
>>> Reply to this email directly, view it on GitHub
>>> <https://github.com/audacity/audacity/issues/495#issuecomment-642157480>,
>>> or unsubscribe
>>> <https://github.com/notifications/unsubscribe-auth/ACZBGYKLV7YDYLUKW5BJPBDRV7AM3ANCNFSM4MLL3HEQ>
>>> .
>>>
>>
 =||= I have now completed that testing I described, of 30 cyclic permutations of
the sequence of invocations of the factories, on one of the platforms
(Mac), so I'm satisfied there are not other such surprises waiting with
other variations of the build system.

PRL


On Thu, Jun 11, 2020 at 9:33 PM Paul Licameli <paul.licameli@gmail.com>
wrote:

> Carlo, try the simple fix at
> commit 4ac96376bb6f5832e735e08314e930e9d8ae926d
>
> Paul
>
>
> On Thu, Jun 11, 2020 at 8:16 PM Paul Licameli <paul.licameli@gmail.com>
> wrote:
>
>> To explain more, and why I don't think it's related to wxWidgets issues.
>>
>> The ClientData thing stores a table of factory functions and invokes all
>> of them in BuildAll().  There is more than one instantiation of the class
>> template ClientData.  The reason this exists is to break compilation and
>> linkage dependencies, so that the class AudacityProject can be low in the
>> dependency graph but the various cooperating parts of the project can be
>> higher-level.
>>
>> The several cooperating parts insert factory functions in the static
>> table of factories traversed by BuildAll(), and that insertion happens at
>> the time of initialization of file-scope static objects.
>>
>> But as you may know, in C++ the relative ordering of initialization of
>> file-scope static objects in different compilation units is not specified.
>> I think it should be predictable with a given platform and build system,
>> but may vary between build systems.
>>
>> So the sequence of the factories in ClientData may vary, and there may
>> have been a hidden ordering dependency among them, which happened not be
>> violated on any other platform yet that we regularly build, but you managed
>> to build in a way violating that ordering.
>>
>> That's the sort of problem I discovered and fixed at
>> a085057b6616d99c6b19e48b5905e737dd636d7d, but there may be other
>> dependencies.
>>
>> I mean to find and fix all such dependencies now.  There are 30 factories
>> in the relevant table, and I only need to test 30 cyclic permutations of
>> the table (not all 30-factorial!) to make sure I test all pairs of
>> functions each way.
>>
>> PRL
>>
>>
>> On Thu, Jun 11, 2020 at 6:43 PM Paul Licameli <paul.licameli@gmail.com>
>> wrote:
>>
>>> It is not a wxWidgets issue.
>>>
>>> I fixed a similar thing at
>>> commit a085057b6616d99c6b19e48b5905e737dd636d7d
>>>
>>> But from your stack trace, I see other work is needed.
>>>
>>> PRL
>>>
>>>
>>> On Wed, Jun 10, 2020 at 1:39 PM Raphael Graf <notifications@github.com>
>>> wrote:
>>>
>>>> I've tried wxWidgets 3.0.4 and 3.1.3, .. so I don't think it is a
>>>> wxWidget issue.
>>>>
>>>> —
>>>> You are receiving this because you are subscribed to this thread.
>>>> Reply to this email directly, view it on GitHub
>>>> <https://github.com/audacity/audacity/issues/495#issuecomment-642157480>,
>>>> or unsubscribe
>>>> <https://github.com/notifications/unsubscribe-auth/ACZBGYKLV7YDYLUKW5BJPBDRV7AM3ANCNFSM4MLL3HEQ>
>>>> .
>>>>
>>>
 =||= https://github.com/audacity/audacity/commit/4ac96376bb6f5832e735e08314e930e9d8ae926d fixes the issue for me on OpenBSD ;) =||= > 
> Carlo, try the simple fix at commit [4ac9637](https://github.com/audacity/audacity/commit/4ac96376bb6f5832e735e08314e930e9d8ae926d)

IT WORKS!
Thank you very much!

BTW, me too, I have a little news for you: Audacity, if compiled with MinGW, works again on Windows XP and perhaps also on NT. And this is the target that I wanted to get ;)

![Windows-XP](https://user-images.githubusercontent.com/30959007/84536946-28ce6e80-acef-11ea-8097-51e3300a4777.png)
 =||= Resolve fixed
> IT WORKS! =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
496Bug1119 residuals...Paul LicameliPaul-Licameli04/21/20, 06:21:06 PM"... Fix assertion violations when language isn't English

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNBug1119 residuals...Paul LicameliPaul-Licameli04/21/20, 06:21:06 PM"... Fix assertion violations when language isn't English

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNPaul Licameli04/21/20, 05:43:18 PM"Bug1119 residuals...

... Fix assertion violations when language isn't English"1
497AUDACITY_PATH env variable doesn't workrempas04/22/20, 03:40:30 PM"**Describe the bug**
I'm setting the AUDACITY_PATH env variable but when I open audacity it still generates a new config directory in ~ and doesn't reads the env variable.

I tried both:
export AUDACITY_PATH=""$HOME/.config""
export AUDACITY_PATH=""$HOME/.config/.audacity-data""

**To Reproduce**
Steps to reproduce the behavior:
1. Set AUDACITY_PATH env variable
2. Open Audacity

**Expected behavior**
To not generate new config files and read the path I'm setting up.

**Screenshots**
I think you don't need a screenshot in this case...

**Additional information (please complete the following information):**
 - OS: Manjaro Linux
 - Version: v2.3.3
 - (if relevant) Sound Device: (Probably) ALSA

**Additional context**
Add any other context about the problem here.""As far as I'm aware, the AUDACITY_PATH environmental variable has not been used in many years.
It is still included in Audacity's search path, as can be seen from the Nyquist command:
`(print (get '*system-dir* 'plug-in))`
but as far as I'm aware, it is no longer used. =||= Oh ok! Thanks a lot for your answer! =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
498Issue #483: Add Keywords to .desktop fileDerek Smithdcsmith121204/28/20, 09:36:16 AMAdd Keywords entry to .desktop file to improve searches for the software, and add GenericName, Comment, and Keyword fields to .po generation so translation occurs there instead.This is being discussed on audacity-devel now.  I've closed (rejected) the pull request as it removes translations from a file with no guarantee they will be replaced. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
500Updated ga.poSeanán Ó Coistínseananocoistin04/25/20, 09:28:09 AM"I have updated the Irish translation of Audacity and it now stands at being 41% translated. Most of the interface is translated which is the most important thing.

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests ""Thank you for this.  It has just squeaked in for Audacity 2.4.0.
Please join the audacity translators email list, as then you will know when we are doing updates and how translation is going generally. =||= When will Audacity 2.4.0 be released? I saw mention of it on here earlier but I have not seen any more information than that. How can I join the Audacity translators' e-mail list? =||= The link to the translator's email list (which is at sourceforge) is here:
https://www.audacityteam.org/community/translators/

If you see anything no longer true or out of date on that page, let me know so I can fix it.
Current plans for Audacity 2.4.0 release are May 11th.  We need to test the release candidates.

Release plans/dates are tracked here: https://wiki.audacityteam.org/wiki/Next_Release Usually the dates slip relative to the originally planned ones.  







 =||= "Updated ga.poSeanán Ó Coistínseananocoistin04/25/20, 09:28:09 AM"I have updated the Irish translation of Audacity and it now stands at being 41% translated. Most of the interface is translated which is the most important thing.

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNSeanán Ó Coistín04/25/20, 08:37:51 AM"Updated ga.po

I have updated the Irish translation of Audacity and it now stands at being 41% translated. Most of the interface is translated which is the most important thing."1
502i18n: zh_TW: update translations for 2.4.0pan93412pan9341205/25/20, 09:14:11 PM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests ""@JamesCrook  =||= @pan93412 2.4.0 is currently being tested, so this will be considered for the release after. =||= Committed.  Thanks for your work on this.  This will be in 2.4.2.
https://github.com/audacity/audacity/commit/bdb5c78f585d1063758737c1b54d4425e3f60796
There will be some additional strings to translate for 2.4.2. which we hope will be available on 2nd Jun.
the audacity translators email list will get an email about it when we do. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
504Bug2397: Reverb effect applied to multiple mono tracksPaul LicameliPaul-Licameli04/28/20, 04:24:15 PM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNBug2397: Reverb effect applied to multiple mono tracksPaul LicameliPaul-Licameli04/28/20, 04:24:15 PM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNPaul Licameli04/28/20, 12:04:12 PMBug2397: Reverb effect applied to multiple mono tracks1
505Audacity on MS StoreSaijin-Naib05/04/20, 12:19:35 PM"**Is your feature request related to a problem? Please describe.**
Not really, though the MS Store version does alleviate some potential pain-points (auto-update, non-admin, vetted/tested distribution source).

**Describe the solution you'd like**
A possible paid repackage of the Audacity Windows distribution through the MS Store, with the ability to use FFMPEG and other plugins.

**Describe alternatives you've considered**
Using the currently-provided binary distributions in both install and portable variants.

**Additional context**
I like to think of this as a way for you to get donations, and for users to get the convenience of store-distributed apps. For instance, I make use of Paint.NET and LibreOffice Vanilla in this way. I would certainly make use of Audacity this way.""In a way, I agree with you. But I think it'll have many shortcomings by uploading it as an app to MS Store. Speaking of donations, it'll be a good idea to open an [OpenCollective](https://opencollective.com/) or [Patreon](https://patreon.com) account to engage users to donate in some way, not to force them. =||= What possible shortcomings have you concerned?

Store distribution has come a long way since W8/early W10...
 =||= Here is a shortlist
-Most of the time windows store apps need some kind of troubleshooting
-They generate too much cache just from being an app
-Apps remain in your app library without any possibility to remove it (a serious issue for me because of many bloatware was installed on my computer and I can't get rid of it from my account )
-At any time(and believe me that time will come) there can be a major error in specific user app
-Updating/installing of the apps takes too long or doesn't complete at all(I have Windows 10 Home, i5-8250U, 8GB RAM, Nvidia GeForce MX150, 50Mbp/s internet) =||= Most of those are honestly not platform issues due to the Store, but rather sound like issues with your setup.

For reference, I work for a major international retailer's tech support and I've encountered a few of those problems occasionally, but there was always an underlying issue to cause them unrelated to the Store/App itself.


> -Most of the time windows store apps need some kind of troubleshooting

I've never experienced this and I make heavy use of Store provided apps, from LibreOffice, Paint.NET, the entire Affinity Suite, Arduino, Slack, Python, to full Linux Distros. It just isn't a common problem 🤷‍♂️

> -They generate too much cache just from being an app

I'm not sure what you mean by this, but with MSIX, you can take a mostly unmodified MSI installer and repackage it for the Store. It doesn't ""cache"" any differently.

> -Apps remain in your app library without any possibility to remove it (a serious issue for me because of many bloatware was installed on my computer and I can't get rid of it from my account )

You've been able to hide them for a few years now. If you contact Support, the can remove licenses, though they don't like to.

> -At any time(and believe me that time will come) there can be a major error in specific user app

Never had an issue, even on my personal machine that has been on Insider Fast Windows builds for the past 4.5 years 🤷‍♂️ That isn't a platform issue.

> -Updating/installing of the apps takes too long or doesn't complete at all(I have Windows 10 Home, i5-8250U, 8GB RAM, Nvidia GeForce MX150, 50Mbp/s internet)

Intermittent issue, sometimes caused by Service issues on MS' end, but most often an underlying issue with BITS or the WU service. Again, not a platform issue/limitation.
![image](https://user-images.githubusercontent.com/19295950/80916853-50faa300-8d29-11ea-9788-2f7c52286856.png)
If you want downloads to speed up, make use of Delivery Optimization. Makes a HUGE difference, especially if you have more than one machine on your local network. =||= In any way we **should count** the **minority** too, because maybe I'm not the only person who has this problem. =||= > In any way we should count the minority too, because maybe I'm not the only person who has this problem.

Then continue to use the non-Store builds provided as MSI/EXE and Zip, no? This is an additional option for those who would prefer it through the Store, as well as a way to make a donation, as well. =||= The latest release version of Audacity is always available, free of charge, via the Audacity website: https://www.audacityteam.org/download/
For notification of new releases, follow us on facebook (https://www.facebook.com/AudacityTeamOfficial/) or twitter (https://twitter.com/getaudacity), or click ""Help menu > Check for updates"" in the Audacity app.

Donations are gratefully accepted through the ""Donations"" page of the website. Currently we can only accept donations via PayPal. A donation is NOT required to use the software, but donations help us to cover costs.

Audacity probably will eventually be available at minimal charge via the MS Store, but please note that at the present time there is no authorised distribution other than the downloads from FossHub (the download links on the Audacity website).

We strongly recommend NOT obtaining Audacity from unauthorised sites as we cannot guarantee that they are unmodified, genuine versions. There is at least one website that we know of (a "".de"" domain) that offers Audacity for free download, and also distributes malware. For more information about safely downloading Audacity, see: https://www.audacityteam.org/download/online-safety-when-downloading/

Audacity will probably never be available via Apple Store due to Apple Store being incompatible with our GPL open source license. =||= @Saijin-Naib
 So you are telling to force people to donate, not to give them a good reason to donate!? =||= No-one is ""forced"" to donate. Donations are purely voluntary. We intend to keep Audacity available for free download regardless of whether we eventually put it into MS store.

Please do not use GitHub for trolling or flaming. Save that for your social media.

I am closing this issue as my previous post covers Audacity's current position. =||= > 
> 
> No-one is ""forced"" to donate. Donations are purely voluntary. We intend to keep Audacity available for free download regardless of whether we eventually put it into MS store.
> 
> Please do not use GitHub for trolling or flaming. Save that for your social media.
> 
> I am closing this issue as my previous post covers Audacity's current position.

Agree :) =||= > Audacity probably will eventually be available at minimal charge via the MS Store, but please note that at the present time there is no authorised distribution other than the downloads from FossHub (the download links on the Audacity website).

Look forward to seeing it there, and recommending it to family, friends, and clients when this is so. Thanks for all you and your team have done over the years. =||= It doesn't need to be in the Microsoft Store, but at least consider using an MSIX installer rather an MSI one which reduces the change of machine rot. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
506Bug 421 - Crash importing malformed MP3 file using libmadLeland Luciuslllucius05/25/20, 06:19:11 AM"In addition to detecting bogus MP3s, it also detects a LAME
tag to provide delay and padding correction (no more silence
at beginning and end).

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
507ASIO now seems to be GPL-compatible!Chris EtChrisEt05/13/21, 07:59:14 PM"Hi guys,

I think the Steinberg license now allows to include the ASIO support in GPL projects! I also found other projects (e.g. https://github.com/monocasual/giada) already doing that!

If you look at the license agreement contained in https://www.steinberg.net/asiosdk, there is no section anymore that prohibits the inclusion of ASIO SDK code in GPL projects!

All that would be required is that someone from Audacity signs the agreement and sends it back to info [at] steinberg.de.

What do you guys think?""I'm not convinced.
Section 2.3 from https://www.steinberg.net/asiosdk :

""The Licensee will not sell, license, give-away and/or distribute the
Licensed Software
Developer Kit or parts of it for the use as software developer kit in any
way, for
example, integrated in any framework application, on any medium, including
the
Internet, to any other person, including sub-licensors of the Licensee or
companies
where the Licensee has any involvement.""

Steve

On Fri, 1 May 2020 at 19:12, ChrisEt <notifications@github.com> wrote:

> Hi guys,
>
> I think the Steinberg license now allows to include the ASIO support in
> GPL projects! I also found other projects (e.g.
> https://github.com/monocasual/giada) already doing that!
>
> If you look at the license agreement contained in
> https://www.steinberg.net/asiosdk, there is no section anymore that
> prohibits the inclusion of ASIO SDK code in GPL projects!
>
> All that would be required is that someone from Audacity signs the
> agreement and sends it back to info [at] steinberg.de.
>
> What do you guys think?
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/issues/507>, or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ACZD2SNF5J3EE67AMICCZDLRPMGIHANCNFSM4MXIR7VQ>
> .
>
 =||= ""for the use as software developer kit"" and ""integrated in any framework application"" - this could be interpreted both ways.

I volunteer to correspond with Steinberg to get a written statement, if you guys agree? =||= Closed.  Request involves packaging license incompatible software. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
509UI: When pressing the record button it will slide the scroll down to the bottm in a multi track projectOvidiu Constantinescuovidiucs05/05/20, 07:14:40 PM"**Describe the bug**
When pressing the record button (or hitting R) on a multi track project the vertical scrollbar will go to the last track, at the bottom of the window.

**To Reproduce**
Steps to reproduce the behavior:
1. Make any project such that there are more tracks than the height of the window. Do not rearrange tracks.
2. Scroll up and select a track from the first ones created (let's say track 2).
3. Click on ""Record"".
4. You will notice that this action starts recording and takes you to the last track at the bottom of the screen.

**Expected behavior**
If a track is selected it should keep focus while recording on that track. 
If there is a 50 track project then, every time a user is recording something he will be taken to the bottom of the window. I could not find any option which deals with this behavior in order to disable it.

**Screenshots**
Please see this [video](https://www.reddit.com/link/fwovla/video/zfchlrj2nfr41/player?utm_source=reddit&utm_medium=usertext&utm_name=audacity&utm_content=t3_fwpyru) of the issue taken form a reddit topic, but which shows this odd behavior.

**Additional information (please complete the following information):**
 - OS: I'm on Arch. The video shown above looks to be on Windows. So I will assume ANY os.
 - Version 2.3.3.

**Additional context**
Playback maintains the vertical scrollbar's position in place. It is only when recording that the vertical scrollbar position is placed at the bottom. According to this [reddit](https://www.reddit.com/r/audacity/comments/fwpyru/how_to_get_audacity_to_stop_auto_sliding_to_bottom/) post this seems to be expected behavior, however when doing 50 tracks it does not do well as you constantly have to go.""Thank you for reporting this issue. I agree that this is a bug and shall transfer it to our bug tracker.

Update: Logged as bug 2422. =||= This issue has now been closed ""resolved - fixed"" on the Audacity bug tracker.
https://bugzilla.audacityteam.org/show_bug.cgi?id=2422 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
510[WIN32] Fix CONST redefinition errorCarlo Braminicarlo-bramini05/25/20, 06:18:43 AM"On Windows, the `CONST` macro is already defined by system include files.
MSVC tolerates that, but this is fatal for GCC.
The `CONST` macro is unused in this source anyways, so it would be worth to remove it."NaN[WIN32] Fix CONST redefinition errorCarlo Braminicarlo-bramini05/25/20, 06:18:43 AM"On Windows, the `CONST` macro is already defined by system include files.
MSVC tolerates that, but this is fatal for GCC.
The `CONST` macro is unused in this source anyways, so it would be worth to remove it."NaNCarlo Bramini05/08/20, 07:12:41 AM"[WIN32] Fix CONST redefinition error

On Windows, the CONST macro is already defined by system include files.
MSVC tolerates that, but this is fatal for GCC.
The CONST macro is unused in this source anyways, so it would be worth to remove it."1
513Allow actions to use branches other than masterLeland Luciuslllucius05/19/20, 09:32:14 AM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNAllow actions to use branches other than masterLeland Luciuslllucius05/19/20, 09:32:14 AM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNLeland Lucius04/30/20, 04:41:12 PMAllow actions to use branches other than master1
514Audacity hangs on start in Ubuntu 20.04 due to missing libgail-gnome.soFattirefat-tire05/13/21, 08:05:58 PM"Started Audacity 2.3.3 in Ubuntu 20.04 (and before that in 19.04),and it it hangs.

Why is this?  it took me FOREVER to figure out.  The message `(Audacity:202976): Gnome-WARNING **: 00:29:28.351: Accessibility: failed to find module 'libgail-gnome' which is needed to make this application accessible` was a clue something was wrong here.  

Then, in strace:

```
...
access(""/usr/lib/x86_64-linux-gnu/gtk-2.0/modules/libgail-gnome.so"", F_OK) = -1 ENOENT (No such file or directory)
access(""/usr/lib/x86_64-linux-gnu/../gtk-2.0/modules/libgail-gnome.so"", F_OK) = -1 ENOENT (No such file or directory)
access(""/usr/lib/x86_64-linux-gnu/libgail-gnome.so"", F_OK) = -1 ENOENT (No such file or directory)
access(""/usr/lib/x86_64-linux-gnu/../libgail-gnome.so"", F_OK) = -1 ENOENT (No such file or directory)
ioctl(2, TCGETS, {B38400 opost isig icanon echo ...}) = 0
...
```
Eventually several lines down was a `futex(0x7fc2973e8f38, FUTEX_WAIT_PRIVATE, 339, NULL)` and Audacity just hung/froze.

`libgail-gnome` is not a package that is available for ubuntu any more, although `libgail-common` is, and I do have it installed.  But that wasn't enough to make Audacity happy.

Searching for this issue lead me to [this very old thread](https://forum.audacityteam.org/viewtopic.php?f=48&t=90537&start=10), which discussed the problem:

> monnerat wrote:
> I found the solution:
> Gnome2 accessibility is enabled and this requires libgail-gnome which is not available anymore :(
> This occurs even if audacity is compiled with wxGTK3.
> 
> To disable gnome2 accessibility, use the command:
> 
> gconftool-2 --set /desktop/gnome/interface/accessibility --type bool false
>
> After that, audacity starts properly again

For what it's worth, I do have the package `libgail-common` installed, which provides these in `/usr/lib`:
```
i386-linux-gnu/libgailutil.so.18.0.1
i386-linux-gnu/libgailutil.so.18
i386-linux-gnu/gtk-2.0/modules/libgail.so
x86_64-linux-gnu/libgailutil.so.18.0.1
x86_64-linux-gnu/libgailutil.so.18
x86_64-linux-gnu/gtk-2.0/modules/libgail.so
x86_64-linux-gnu/libgailutil-3.so.0
x86_64-linux-gnu/libgailutil-3.so.0.0.0
```
Maybe I could have symlinked them to one of the files Audacity was looking for, but no need, that `gconftool-2` command fixed the issue immediately.

The solution is probably to check for the `libgailutil.so` or `libgail.so`version (assuming they work) or fail more gracefully if `libgail-gnome.so` can't be found and is actually needed.

Thanks!  Love audacity- been using it forever.

ft""(BTW this may not be an Audacity issue per se but wanted to put it here JIC) =||= Closing:

> (BTW this may not be an Audacity issue per se but wanted to put it here JIC) =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
515Fix CMake build of modulesLeland Luciuslllucius05/19/20, 09:32:48 AM"They must not be linked against any libraries as build time.  The
symbols will be resovled at runtime.

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests ""Have you considered cmake's build-ins [ExternalProject](https://cmake.org/cmake/help/latest/module/ExternalProject.html) / [FetchContent](https://cmake.org/cmake/help/latest/module/FetchContent.html) for vendored dependencies? =||= Yepper, I did.  But, doing it the way we are now allows us to control the build requirements more carefully.  And some of the dependencies do not have a suitable Windows build.

It does seem to cause extra work for us doing the way we have, but the libs don't change that often and never very much. =||= > And some of the dependencies do not have a suitable Windows build.

If they run on Windows, they should compile there too, no?

 =||= But what extra ""tools"" are required on the users system to build them when using the dependency provided build process?  Right now, only git, cmake, and the chosen generator are required. 

> 
> 
> > And some of the dependencies do not have a suitable Windows build.
> 
> If they run on Windows, they should compile there too, no?
But what extra ""tools"" are required on the users system to build them when using the dependency provided build process?  Right now, only git, cmake, and the chosen generator are required.

One of the goals for us we to completely jettison the ""AutoTools"" headaches we've had over the years and if we were to use something like ExternalProject, we'd still be open to those headaches as not all of the external dependencies provide a CMake project.
 =||= > One of the goals for us we to completely jettison the ""AutoTools"" headaches we've had over the years and if we were to use something like ExternalProject, we'd still be open to those headaches as not all of the external dependencies provide a CMake project.

Why not patch in the cmake support in those cases, like e.g. Krita does:

https://invent.kde.org/kde/krita/-/tree/master/3rdparty/ext_libraw =||= > 
> 
> > One of the goals for us we to completely jettison the ""AutoTools"" headaches we've had over the years and if we were to use something like ExternalProject, we'd still be open to those headaches as not all of the external dependencies provide a CMake project.
> 
> Why not patch in the cmake support in those cases, like e.g. Krita does:
> 
> https://invent.kde.org/kde/krita/-/tree/master/3rdparty/ext_libraw

Isn't that ""sort of"" what we are doing now (in a way)?  :-)

 =||= > Isn't that ""sort of"" what we are doing now (in a way)? :-)

Sure, but using cmake's build-ins would make you a good open source citizen, because it would make it more easily reusable by others. :smiley: =||= > 
> 
> > Isn't that ""sort of"" what we are doing now (in a way)? :-)
> 
> Sure, but using cmake's build-ins would make you a good open source citizen, because it would make it more easily reusable by others. 😃

Honestly (and this is my opinion, not the team's), if we had time to contribute to other projects, then we're doing something wrong as we have a ton of feature requests that we should be working on.  And, it takes extra time to put together something that another project might even consider accepting...if they accept it at all.  And if we don't have 100% acceptance from all of the other projects, then we wind up with a mishmash.

And I think we've done pretty well on the ""good open source citizen"" front. =||= "Fix CMake build of modulesLeland Luciuslllucius05/19/20, 09:32:48 AM"They must not be linked against any libraries as build time.  The
symbols will be resovled at runtime.

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNLeland Lucius05/11/20, 08:54:27 PMFix module build on Windows1
516wxWidgets 3.1.3 migrationLeland Luciuslllucius05/23/20, 07:33:59 PM"This will be where wx313 changes will accumulate until merged.  More changes to come..."NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
517Consider removing non-release tagsDavid Rungedvzrv05/24/20, 09:11:46 PM"**Describe the bug**
As a downstream maintainer I would like to be able to track projects (e.g. git repositories) and their releases with helper tools such as [nvchecker](https://github.com/lilydjwg/nvchecker).
For less flexible tools it could get pretty tedious to deal with the current situation (many `build-*` and `x64-*` based tags, that order before the `Audacity-*` tags).

**To Reproduce**

```
$ git ls-remote -t git://github.com/audacity/audacity

8019be0b3f9282845f3c528de69b0f6afab8e6b9	refs/tags/Audacity-1.3.14
58674b2683874b70932071a60a822f6c118a3f6d	refs/tags/Audacity-2.0.0
6d9489c4758f95ab9bf0306d4adb0e91022235a7	refs/tags/Audacity-2.0.6
5d3e9ade95be3494eb860c014d7c799aded35464	refs/tags/Audacity-2.1.0
7d3e4a16d6a859c472eb671561f8088e22cf295f	refs/tags/Audacity-2.1.1
53b8fd534e2051a992f5a3db35feb02b8e516fa0	refs/tags/Audacity-2.1.2
2fef7f34b82e1a14af4c4b27f486ce9d13fe3086	refs/tags/Audacity-2.1.3
d6ee9bf9758977ca1fb9358401edc125c62bb1b2	refs/tags/Audacity-2.2.0
fd8b76dd80378908a380569f265a9493bb4a0429	refs/tags/Audacity-2.2.0-beta-0
5d4ddbc42412b72f13baac2defb6aeea35aa0692	refs/tags/Audacity-2.2.0-beta-20170901
ce649cf851579992604ef81b40a1aaf904dbab1e	refs/tags/Audacity-2.2.0-beta-20170924
58f07d2021d239bb23cbf56afee24e2924ba58e1	refs/tags/Audacity-2.2.0-rc1
26d72bea9acacf8d4d2d18aaaa0831022480c8c9	refs/tags/Audacity-2.2.1
61f4284e106d2db14e894004c9da1530211ee4ea	refs/tags/Audacity-2.2.1-rc1
faa603a0ebad99dc6fc32b2a11e999988e50e20d	refs/tags/Audacity-2.2.1-rc2
26d72bea9acacf8d4d2d18aaaa0831022480c8c9	refs/tags/Audacity-2.2.1-rc3
f665e6da2b0bf9d889f65ee59e8d507c4bca2de8	refs/tags/Audacity-2.2.2
2fea3473947251158cdfeb88bde48bb847c3963d	refs/tags/Audacity-2.2.2-beta-20180128
f665e6da2b0bf9d889f65ee59e8d507c4bca2de8	refs/tags/Audacity-2.2.2-rc1
9a45c02002b759e488426359a6a82bcda090b242	refs/tags/Audacity-2.3.0
1c21e9358b229b0a56542101963d1fbee3c2d2d0	refs/tags/Audacity-2.3.1
bd2956bb45e228241452483561af9450da06b908	refs/tags/Audacity-2.3.2
008d8d8c8cb6f6fac9c95f72513f6b0bc98af1dc	refs/tags/Audacity-2.3.3
b65f1ecf5c59562fa8cf74cda985ef35d07b1ca7	refs/tags/Audacity-2.4.0
00c465db17667deb8e3769c495efca8c71a80da8	refs/tags/Audacity-2.4.0^{}
dec9f714ae15c51de1f031dabe205036e3794b22	refs/tags/DarkAudacity-2.1.3x
4f185ae3ac6506e3f17b0bffb7ff3d67569b49f5	refs/tags/DarkAudacity-2.1.3x^{}
c3aee46a01afb8f8a1f4929f03616af5482e43dd	refs/tags/DarkAudacity-2.3.2x
47bed0f5d2566a6ab1b0a11b815a186eae8a0362	refs/tags/arm64-2.2.2
19b1702467eb2cfce995c03a4464ebc502e72e90	refs/tags/arm64-2.2.2^{}
b12197ea27f056fabc4a285bde8a6ef04ef90184	refs/tags/build-20190328.10
efc1fc81787a8341bb4335864128a4f0e6e30210	refs/tags/build-20190328.10^{}
2e3be2eb4ad4621a0d1a1fa18fd16ac53a1a1521	refs/tags/build-20190405.7
9ba80fec8fc9417f8a8fc85a551b20ee257b30a8	refs/tags/build-20190405.7^{}
6a8b22822b6d3dc3b0b68e98f96f7ae566edd75c	refs/tags/build-20190522.2
1693aa3c11844dfb8793059be3e89e2319aa4736	refs/tags/build-20190522.2^{}
b9a11d987f1ca60610bb6fe9edd4d8440c35c94f	refs/tags/build-20190523.4
65053a0f49df2394f5f9469ff9c3c419e5b69134	refs/tags/build-20190523.4^{}
8b03857f2c15eeedf9dbb783ac12144c809bf5e4	refs/tags/build-20190610.3
c5e6a532245d284e42796ee8ff680cd483d37a57	refs/tags/build-20190610.3^{}
bd5bdccbb503b7736b097b7478c50e90bd2fff47	refs/tags/build-20190715.1
857b42335023513e5b8a5695620e65a4a03aa57d	refs/tags/build-20190715.1^{}
ece93f7e0f2ec8a6de64089a8e1bfe8c063bb5fb	refs/tags/build-20190722.3
11cc7427f7f8c07827ad22537833d7bf3a8f2fb5	refs/tags/build-20190722.3^{}
3ce5e3c226c6fceaea52f06f312674c189478f53	refs/tags/build-20190731.1
a9dad303e00b65de0ec15917e75458be2ad22709	refs/tags/build-20190731.1^{}
9270736ebba1685f4a33f14fe18f53466526c62c	refs/tags/build-20190814.1
d29dd6547085839ea5068bba84406ce5ac1ca08f	refs/tags/build-20190814.1^{}
d0614a6a5e6e186dbc25458f6c5e0fd61261acc5	refs/tags/build-20190818.3
dfdd2bdda9edf03d2ded0d6617470acb8221fb9e	refs/tags/build-20190818.3^{}
c7424aef3ddd31766961719d172c976d03226268	refs/tags/build-20190821.1
c481069564c9bc1f743e3c7409729b99b874d212	refs/tags/build-20190821.1^{}
53f1d8fca72114a0e44e0a6581de74a1fce0bbb4	refs/tags/build-20190821.3
d510453600216c31b22a235441ceeb837085dbe2	refs/tags/build-20190821.3^{}
1552c342fcb7b3c36fccb2a4766a85b3786fdd5b	refs/tags/build-20190823.1
0192076678b8fc9b43668ec106688d5978afa384	refs/tags/build-20190823.1^{}
238efb3734c0abfc4d84ca0568115d38d7cecd8b	refs/tags/build-20190902.1
079de53695821197a75db5f2340370fd0e8aad28	refs/tags/build-20190902.1^{}
5f0ee9e84564f3d1ae525e43500898c196c0fc7b	refs/tags/build-20190906.1
f7f590d4c243c56d3253781f86279977a6d0c913	refs/tags/build-20190906.1^{}
6f053786e66ffea027eb42568b54a3a02ca8ae21	refs/tags/build-20191001.1
90a3d6c6b5b1226fc9242ef26929c527fe07afc3	refs/tags/build-20191001.1^{}
8b4728713b74e54f115a418ad28e19c6d899923e	refs/tags/build-20191112.1
afb1948133e03603a14dc1bb9be01bd1fb85fd8e	refs/tags/build-20191112.1^{}
83d8d82acfeaee4bfb5ad8dbc382b5edd1a8a108	refs/tags/build-latest
7d4d76b1d0a60de31272cb9c5cd9979b5cfde8c8	refs/tags/build-latest^{}
c1e7123fb9ec5c7f759a312cab97e95c84f44eea	refs/tags/fix-midi-output-pre-major-merge
6374c2b8b7922fb8465a6354cd64a2a12a72e253	refs/tags/fix-midi-output-pre-major-merge^{}
b8ab80a0f3a1afe2568f7d86ee3dd6d8bc91ada7	refs/tags/midi-play-at-speed-1
72da518785457a255e732978dfa11c4dcc9547b4	refs/tags/midi-play-at-speed-1^{}
629f4021cb2749ab86949afe69215a174203a47d	refs/tags/working-arm64
84dcb5db4f4c375c45f4bad2c6175cb2b2330785	refs/tags/wx3-stable
37168ebbf67ae869ab71a3b5cbbf1d2a48e824aa	refs/tags/wx3-unstable
88693e9761764889bd45be0d5222681e2825780d	refs/tags/x64-2.2.2
e9766c688c68538c5a124289f6802545cdc0fb8c	refs/tags/x64-2.2.2^{}
a2b8bb0da7e3a961de245874166b1c8df820de83	refs/tags/x64-20190328.11
1ea8e1cd40e9ce937635ee33bc3ce614cbcf3f17	refs/tags/x64-20190328.11^{}
ac155e876e1b19e1d43b30104cde9ee954029abc	refs/tags/x64-20190405.5
7a480734f5b230e8b96170ebe74637286efc3c1f	refs/tags/x64-20190405.5^{}
8fd63a27082d17cadf85da976b0502ba17350b1d	refs/tags/x64-20190408.2
8cc83e7e4b13dbe1967c83d16532cbdf3f6f7a73	refs/tags/x64-20190408.2^{}
31e1534653bb8e89b21304ca320b10e3e464958e	refs/tags/x64-20190412.3
6127c35b82fc69f02a071d4b42ff71f3d57a4790	refs/tags/x64-20190412.3^{}
0603b12a370f08957d09d836acab535cbe44b256	refs/tags/x64-20190413.2
4aa3596a11b4b2e2d504ddda9a30503d21950fb3	refs/tags/x64-20190413.2^{}
38c80823923853b8a197077b6f305da40e81fad6	refs/tags/x64-20190414.2
aca827ea8c72f3d35ae36d6681eaf336b0f14251	refs/tags/x64-20190414.2^{}
36e00b8f48aac4bc12976304a33ecf8624f0f11c	refs/tags/x64-20190415.2
7fa5ea763ec1f473d1c6dba9443d73288adab68c	refs/tags/x64-20190415.2^{}
75f41575f512d947ad0e56ac5ba298bcd6e7de12	refs/tags/x64-20190417.2
894d8c8e130a766f7c9ba98fa7dda36a663d8032	refs/tags/x64-20190417.2^{}
a1f05f42460570f460307595d8dc0234a00fc686	refs/tags/x64-20190419.4
b65264f9e80f9b5a64ca2030a11dcbc969ca2ae5	refs/tags/x64-20190419.4^{}
db5e7853979d5035e0e667ba230eb036ed63c12c	refs/tags/x64-20190420.2
91805bf5c324e41a33abee33c9fdee9fc4edc0e3	refs/tags/x64-20190420.2^{}
bb3926598b54050f8189906be7126c1e1649fbd2	refs/tags/x64-20190420.4
cf7ec31b55d6f85633d10fb988502eedf413093f	refs/tags/x64-20190420.4^{}
46156b186036fa37287bea0d4d592bc1372b9856	refs/tags/x64-20190427.4
0151e599f3441b4f5935fb3f7e34237c15704409	refs/tags/x64-20190427.4^{}
562303e8e7d98d9d11a0393c199a433307c53286	refs/tags/x64-20190429.2
62ffb97570b4caab9b99e1f3d1d1ddb8f31a5dcd	refs/tags/x64-20190429.2^{}
0a653a15e058045a1d0ea990bdb808eeca5088b1	refs/tags/x64-20190501.4
bc97d86cbd1c210fc294868300ccb048b618b41b	refs/tags/x64-20190501.4^{}
665d17fde4f84f2f42bc97153fbd9358e8f9d456	refs/tags/x64-20190521.15
867c9732238db62bf54cfee9c2c0a96b03e21fab	refs/tags/x64-20190521.15^{}
d10342c6a29acd9ec2ffa78259cefad16d4dbf45	refs/tags/x64-20190522.3
8818120eec32c3029fd9cf8453b43db3da9b78bb	refs/tags/x64-20190522.3^{}
05783c089fcb8ca5ce0df714ba6ff48cba1487f3	refs/tags/x64-20190523.5
8a9b916a334cdb2b4736adc20c614a32174f0361	refs/tags/x64-20190523.5^{}
6a1643d12da331ae364caf08aa1f61e1052c598f	refs/tags/x64-20190610.4
b517c42034494d7d73aff0fedc91f52f64c7abdf	refs/tags/x64-20190610.4^{}
f6f5740932455c0c58dc796590d8c45508c503f5	refs/tags/x64-20190715.2
d467641fe776c3340b1b0066e642f169c484fdc5	refs/tags/x64-20190715.2^{}
a69cb56b9ebcde827ffe1a2222757475aae525a9	refs/tags/x64-20190722.4
fdd0e705372b13f7bf22dc0053eab216d8ea14f8	refs/tags/x64-20190722.4^{}
30bd90f26f3f5e302c57fafa470085782dcd9890	refs/tags/x64-20190731.2
34cd3738d036afd642910cb4601575519cda8c08	refs/tags/x64-20190731.2^{}
f31c7d8a444c08e512bad0ad9ea3766cb9e052d4	refs/tags/x64-20190814.2
d53cb68193f6cde0d7c5b64f025c440e67bc9e40	refs/tags/x64-20190814.2^{}
d423ba83610bbe1a9eaca0672477aa2fa042b96c	refs/tags/x64-20190818.4
52b28900490865bdcd13380f1ad3e1afbb569f7a	refs/tags/x64-20190818.4^{}
9f0e84a301664f227284418a9d7dd7f365934aa5	refs/tags/x64-20190821.2
946a629e0e617ec314703dfb06573aa5bee365cb	refs/tags/x64-20190821.2^{}
5d9bc80b2f2bbdaab68f7c06be4262c4881ab56f	refs/tags/x64-20190821.4
e33c1394d86451a519c3c80b8bf6bbc8469a19a5	refs/tags/x64-20190821.4^{}
c26ca8bfc546502efb88f6a364ad9beb506d88bf	refs/tags/x64-20190823.2
f845cf62e29976ceeda037393c462f64a45fe693	refs/tags/x64-20190823.2^{}
990c7c7f16050e104cb4819f283df0be84c06775	refs/tags/x64-20190902.2
f02f9e0ee97bc202d18d6f57f9343a6c196d7d3c	refs/tags/x64-20190902.2^{}
daafe276cb9e46b4518730d11f18341992a84431	refs/tags/x64-20190906.2
21c1ca38412c00b1dcd2d649060c2509cf7ce19e	refs/tags/x64-20190906.2^{}
4caa413b6510595678c2a72ddf7ded022468b3c0	refs/tags/x64-20191001.2
ca312a9fb756de077b650ed270264d3fce84e07f	refs/tags/x64-20191001.2^{}
e044441a6f5526d51b0b71c37050a66851a0904d	refs/tags/x64-20191024.2
c19c1b7c3a904d2823094ba88a7ae5c7328751ad	refs/tags/x64-20191024.2^{}
8ba821bd54335bbd9e184ed87578076bf991d363	refs/tags/x64-20191112.2
cb426af1b479b2291f2b668b727655f684faa916	refs/tags/x64-20191112.2^{}
```

**Expected behavior**
A list of `Audacity-<version>` based tags

**Screenshots**

**Additional information (please complete the following information):**
 - OS: any
 - Version any

**Additional context**
I'm maintaining audacity for Arch Linux""It was my mistake pushing all those tags.
Fixed now.
The DarkAudacity tags are intended though (friendly fork). =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
518Help Wanted: Simple build for local developmentFilipe Oliveiraoliveirafilipe05/17/20, 08:46:29 PM"Hi Folks!

Maybe this is not the best place for this question,  but any tips can help me to contribute.

I want to code a really simple feature, that I think will improve the UX.

I set up a Dockerfile, just for local development, in order to build the application without installing all the dependencies into my host.

I followed [this guideline](https://wiki.audacityteam.org/wiki/Building_On_Linux#Detailed_Instructions), for build in linux (`debian:buster` to be more precise).

This is my first interaction in a big project written in C++, so I got a little bit surprised with the build time. I thinking is taking too long, more than 15 minutes.

Is there any build tricks, or special/correct params to be used in `configure` and make executables in order to have a simple build, not release version, to accelerate the cycle ""code, build, test, fail""?

I can improve this question if I did not make myself clear. 

Thank you all. ""As of Audacity 2.4.0, the old autotools build chain has been replaced by cmake. The wiki has yet to be updated, but there are brief notes in the source code: https://github.com/audacity/audacity/blob/master/linux/build.txt
Building with cmake is likely to be a lot quicker. =||= Thank you @SteveDaulton I will give it a try right now =||= @SteveDaulton I think it built. 

It took 17 minutes, is that an acceptable time? =||= Build times can vary tremendously, depending largely on the machine, the build options, and which libraries have to be built. When I first built Audacity I was using a Pentium II which took over 2 hours to complete. =||= I'm using a i7, but I didn't do any improvement in docker to get the best of host's hardware.

You said that the build time may also depends on  ""the build options, and which libraries have to be built"".

I'm using the following commands:
```
cmake -DCMAKE_BUILD_TYPE=Release ..
cmake --build .
make .
```

am I using the best parameters for a build that doesn't need to be for final release?
 =||= Please come and chat to us on the Help forum. We have a forum board specifically for discussing compile/build issues: https://forum.audacityteam.org/viewforum.php?f=19 =||= Oh that's great! Thank You! Closing the issue =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
520python2 is not a build requirement for lv2David Rungedvzrv05/17/20, 02:39:03 PM"**Describe the bug**
The wiki currently states, that [python2 is required for building lv2 integration](https://wiki.audacityteam.org/wiki/Building_On_Linux), which is further assumed by the cmake setup. However, the waf setup of lv2, suil, sord, serd, sratom or lilv all do not require python2. In fact, python2 should be discouraged wherever  possible, as [it is now legacy](https://pythonclock.org/).

**To Reproduce**
```
cmake -L -B build -S .
```
For output see #519 

**Expected behavior**
Python3 is used all across.

**Screenshots**
-

**Additional information (please complete the following information):**
 - OS: Arch Linux
 - Version: Audacity 2.4.0

**Additional context**
All lv2 related waf setups support python3.""I have updated the wiki so that it now says:
""In addition to the listed dependencies and standard build environment, Audacity also requires Python 2 to be installed.""
This is correct at time of writing and will be updated to say Python3 when all of Audacity's Python scripts have been updated to Python 3. =||= @SteveDaulton thanks for the clarification!
Could you be more specific as to what exact pieces of code actually require python2?

I could not find [any reference in the code base](https://github.com/audacity/audacity/search?p=1&q=python2&unscoped_q=python2) that would warrant hard coding python2 to be required. =||= ""mw2html.py"" is one. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
521lame not detected by cmake setupDavid Rungedvzrv07/30/21, 11:01:50 AM"**Describe the bug**
The cmake setup for 2.4.0 does not detect a system version of lame.
On Arch Linux we currently offer 3.100, but it is not detected.

**To Reproduce**
```
cmake -L -B build -S .
```

[audacity-2.4.0-cmake.log](https://github.com/audacity/audacity/files/4640339/audacity-2.4.0-cmake.log)

**Expected behavior**
A system version of lame is detected and used.

**Screenshots**
-

**Additional information (please complete the following information):**
 - OS: Arch Linux
 - Version Audacity 2.4.0

**Additional context**
The detection of the lame library works in the autotools setup (based on the header file)."@lllucius Could this be looked into, please? We are still stuck on 2.4.1 on Arch Linux because of no recourse. =||= ping? =||= Fixed in #1030  =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
523Incorrect syntax in audacity.doxalbert-github05/24/20, 08:28:29 PM"**Describe the bug**
In the file audacity.dox we see he lines:
```
PREDEFINED             = AUDACITY_DLL_API \
                         = \
```
this is an incorrect syntax, most likely:
```
PREDEFINED             = AUDACITY_DLL_API= \
```
is intended.

**To Reproduce**
Steps to reproduce the behavior:
1. run `doxygen audacity.dox`
2. see the console output:
    ```
    error: Illegal PREDEFINED format '=', no define name specified
    ```
    at least with the current doxygen version

**Expected behavior**
No warning regarding PREDEFINED in configuration

**Additional information (please complete the following information):**
 - OS: independent
 - Version 2.4.0 (audacity-minsrc-2.4.0.tar.xz)"Thanks.  Fixed with https://github.com/audacity/audacity/commit/8a88881e43ca7e01983c4ffee50cca98735ac7c1 =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
524Bug2436: Cross-project paste should duplicate block files...Paul LicameliPaul-Licameli05/18/20, 02:57:24 PM"... to avoid data loss!

Bug caused by commit c2feee6

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests ""Rebasing and merging it myself, as directed by release manager.
 =||= "Bug2436: Cross-project paste should duplicate block files...Paul LicameliPaul-Licameli05/18/20, 02:57:24 PM"... to avoid data loss!

Bug caused by commit c2feee6

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNPaul Licameli05/18/20, 11:53:01 AM"Bug2436: Cross-project paste should duplicate block files...

... to avoid data loss!

Bug caused by commit c2feee6"1
525Changing instrument one waveform colorReaper1005/19/20, 07:05:59 AM"Changing the default instrument one color from the current blue to a darker blue or a bluish purple. This is the best way there is a difference between the instrument one color and the other GUI elements like sliders in the rest of the program.  For when you change theme in audacity the instrument one color changes with with it.  The other instrument color does not change with the theme.  Instrument one color should be just like the rest of the instrument colors they stay the same no matter what theme you have picked. This isn't the way it is right now.

dark mode
![dark mode](https://user-images.githubusercontent.com/8137561/82271398-44876480-993d-11ea-9301-bbe350abdede.jpg)

light mode
<img width=""842"" alt=""light mode"" src=""https://user-images.githubusercontent.com/8137561/82271437-6385f680-993d-11ea-92cd-6cfaa47c7051.PNG"">

blue wave light
![blue wave light](https://user-images.githubusercontent.com/8137561/82271524-9e882a00-993d-11ea-92ab-4f34bee7a0cc.png)

blue wave dark
![blue wave dark](https://user-images.githubusercontent.com/8137561/82271570-be1f5280-993d-11ea-9d0b-2c73df56778d.jpg)

blue wave light
![blue wave light](https://user-images.githubusercontent.com/8137561/82271632-f7f05900-993d-11ea-9eb0-4c1ca89258d0.png)

red wave light
![red wave light](https://user-images.githubusercontent.com/8137561/82271730-37b74080-993e-11ea-95ed-74c255a9a231.jpg)

red wave dark
![red wave dark](https://user-images.githubusercontent.com/8137561/82271792-66351b80-993e-11ea-93e5-0c7f2b92f2e2.jpg)"Thank you for your suggestion. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
527Typo fix in the French translationOlivier Humberttrebmuh05/22/20, 09:41:08 AMHTHThanks! =||= Typo fix in the French translationOlivier Humberttrebmuh05/22/20, 09:41:08 AMHTHNaNOlivier Humbert05/20/20, 12:04:04 PMTypo fix in the French translation1
528"Add Nyquist ""power"" function (generalise s-sqrt to arbitrary powers)"dlh-049205/20/20, 03:41:16 PM"So I see that _s-sqrt_ takes the square root of each positive sample and maps all negative samples to zero. Could this be generalised to something like _s-pow_ that raises every sample to a certain power? More precisely, something like this: 

(s-pow \*track\* p)

equivalent to

s => {s^p, if s is non-negative | -(-s)^p, if s is negative}

Therefore, (s-sqrt \*track\*) would be equivalent to:

s => {sqrt(s), if s is non-negative | -sqrt(-s), if s is negative}

And it would be great if support for fractions could be added, so cube roots would go like (s-pow \*track\* (/ 1 3)) or something (you know, raising to the power of 1/3). Divide-by-zero exception handling would be a must as well.

Or maybe this could be added as an effect in Distortion?""For positive integer powers, you can simply use MULT.
For roots, you can create your own function. For example:
```
(defun root (sig n)
  (let* ((delta (/ (power 2 31)))
         (pos (s-max sig delta))
         (neg (mult -1 (s-min sig (- delta)))))
    (sim
      (s-exp (mult (s-log pos) n))
      (mult -1 (s-exp (mult (s-log neg) n))))))
``` =||= If you have further questions about Nyquist in Audacity, we provide a forum here: https://forum.audacityteam.org/viewforum.php?f=39 =||= If you are interested in deforming waves (waveshaping), take a look at the [SHAPE](https://www.cs.cmu.edu/~rbd/doc/nyquist/part8.html#index452) function. =||= > For positive integer powers, you can simply use MULT.
> For roots, you can create your own function. For example:
> 
> ```
> (defun root (sig n)
>   (let* ((delta (/ (power 2 31)))
>          (pos (s-max sig delta))
>          (neg (mult -1 (s-min sig (- delta)))))
>     (sim
>       (s-exp (mult (s-log pos) n))
>       (mult -1 (s-exp (mult (s-log neg) n))))))
> ```

Thanks so much! =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
529"Cmake requirement is too high for Debian ""Buster"" (actual stable) - 2.4.1"Olivier Humberttrebmuh05/21/20, 10:59:40 PM"Trying to compile audacity 2.4.1 on a Debian Buster (actual stable) doesn't work. The error message is:

`CMake 3.15 or higher is required.  You are running version 3.13.4`

Since the next Debian stable isn't going to be there before approximately 1 year, would that be possible to relax the CMake requirement to 3.13.4 since this would open the possibility to build on actual Debian stable, or is 3.15 is really needed?""The easiest way to find out if it would work is to change the cmake_minimum_required() line at the top of audacity/CMakeLists.txt and see how far CMake gets.

I'm (almost) certain it won't work though because of the use of multi-valued generated expressions.  

The CMake folks make it really easy to get the latest version though.  Their prebuilt binaries have always worked for me without having any dependency problems. =||= It stops almost at the beginning when tweaking the CMakeLists.txt.

Thanks for your answer, and no worries from my side. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
530nyquist plugins (*.ny) not installed anymore since 2.4.0David Rungedvzrv05/22/20, 10:07:54 AM"**Describe the bug**
The `*.ny` plug-ins are not installed by the autotools based build system anymore since 2.4.0. Are they obsolete?
I'm packaging audacity for Arch Linux and received a [bug report](https://bugs.archlinux.org/task/66733) in regards to those plug-in files.

**To Reproduce**
Steps to reproduce the behavior:
```
autoreconf -vfi
./configure --prefix=""/usr"" \
    --with-libsndfile=""system"" \
    --with-ffmpeg=""system"" \
    --with-expat=""system"" \
    --with-lame=""system"" \
    --with-libsoxr=""system"" \
    --with-portaudio \
    --with-portmidi \
    --with-libflac \
    --with-libid3tag \
    --with-libsamplerate \
    --with-sbsms \
    --with-soundtouch \
    --with-libtwolame \
    --with-libvorbis \
    --with-lv2
  make
  make DESTDIR=""${pkgdir}"" install
```

**Expected behavior**
The *.ny plug-in files are still installed to `/usr/share/audacity/plug-ins`.

**Additional information (please complete the following information):**
 - OS: Arch Linux
 - Version Audacity >= 2.4.0

**Additional context**""Audacity 2.4.0 has now been replaced with 2.4.1 due to a critical bug in the former.

From version 2.4.0, the build system has changed to cmake.
The autotools based build system is probably still usable, but may need a bit of manual tweaking.
The .ny files in the plug-ins directory are required and should be copied to Audacity's plug-ins folder. Assuming that Arch is the same as Debian based distros in this respect, then yes that should be
`/usr/share/audacity/plug-ins`.
 =||= Thanks for the clarification! I'll copy it over manually for the time being then.
I still have a few issues with the cmake setup, that prevent me from using it (#519, #521, #522).
I guess this can be closed then. =||= It seems, that also only a subset of the `*.lsp` files is installed using autotools (see downstream bug report https://bugs.archlinux.org/task/66739). =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
531Fails to build 2.4.1 on Debian Buster (stable)Olivier Humberttrebmuh08/04/20, 01:51:15 AM"I took the tarball [from fosshub](https://www.fosshub.com/Audacity.html).
Trying to build from it with a cmake 3.16.3 (following #529), it fails with:

```
[ 57%] Building CXX object src/CMakeFiles/Audacity.dir/AudioIO.cpp.o
cd /build/audacity-2.4.1/obj-x86_64-linux-gnu/src && /usr/bin/c++  -DAudacity_EXPORTS -DBUILDING_AUDACITY -DCMAKE -DHAVE_LRINT -DHAVE_LRINTF -DHAVE_MLOCK -DHAVE_SYS_SOUNDCARD_H=1 -DPA_USE_ALSA=1 -DPA_USE_JACK=1 -DPA_USE_OSS=1 -DWXINTL_NO_GETTEXT_MACRO -DWXUSINGDLL -D_FILE_OFFSET_BITS=64 -D__WXGTK__ -I/build/audacity-2.4.1/obj-x86_64-linux-gnu/src/private -I/build/audacity-2.4.1/lib-src/lib-widget-extra -I/build/audacity-2.4.1/include -I/build/audacity-2.4.1/src -I/usr/lib/x86_64-linux-gnu/wx/include/gtk2-unicode-3.0 -I/usr/include/wx-3.0 -I/build/audacity-2.4.1/lib-src/FileDialog -I/build/audacity-2.4.1/obj-x86_64-linux-gnu/cmake-proxies/lame/public -I/build/audacity-2.4.1/lib-src/portaudio-v19/include -I/build/audacity-2.4.1/lib-src/libid3tag -I/build/audacity-2.4.1/obj-x86_64-linux-gnu/cmake-proxies/libmad/public -I/build/audacity-2.4.1/lib-src/libmad -I/build/audacity-2.4.1/obj-x86_64-linux-gnu/cmake-proxies/lv2/public -I/build/audacity-2.4.1/lib-src/lv2/lv2 -I/build/audacity-2.4.1/lib-src/lv2/lilv -I/build/audacity-2.4.1/lib-src/lv2/serd -I/build/audacity-2.4.1/lib-src/lv2/sord -I/build/audacity-2.4.1/lib-src/lv2/sratom -I/build/audacity-2.4.1/lib-src/lv2/suil -I/build/audacity-2.4.1/lib-src/portsmf/include -I/build/audacity-2.4.1/lib-src/libnyquist -I/build/audacity-2.4.1/lib-src/portmixer/include -I/build/audacity-2.4.1/lib-src/sbsms/include -isystem /usr/include/gtk-2.0 -isystem /usr/lib/x86_64-linux-gnu/gtk-2.0/include -isystem /usr/include/gio-unix-2.0 -isystem /usr/include/cairo -isystem /usr/include/pango-1.0 -isystem /usr/include/atk-1.0 -isystem /usr/include/pixman-1 -isystem /usr/include/gdk-pixbuf-2.0 -isystem /usr/include/libmount -isystem /usr/include/blkid -isystem /usr/include/harfbuzz -isystem /usr/include/fribidi -isystem /usr/include/glib-2.0 -isystem /usr/lib/x86_64-linux-gnu/glib-2.0/include -isystem /usr/include/uuid -isystem /usr/include/freetype2 -isystem /usr/include/libpng16 -isystem /usr/include/soundtouch  -g -O2 -fdebug-prefix-map=/build/audacity-2.4.1=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2   -pthread -std=gnu++14 -Winvalid-pch -include /build/audacity-2.4.1/obj-x86_64-linux-gnu/src/CMakeFiles/Audacity.dir/cmake_pch.hxx -o CMakeFiles/Audacity.dir/AudioIO.cpp.o -c /build/audacity-2.4.1/src/AudioIO.cpp
/build/audacity-2.4.1/src/AudioIO.cpp: In function 'PaTime PaUtil_GetTime()':
/build/audacity-2.4.1/src/AudioIO.cpp:500:5: error: 'gettimeofday' was not declared in this scope
     gettimeofday( &tv, NULL );
     ^~~~~~~~~~~~
/build/audacity-2.4.1/src/AudioIO.cpp:500:5: note: suggested alternative: 'wxGetTimeOfDay'
     gettimeofday( &tv, NULL );
     ^~~~~~~~~~~~
     wxGetTimeOfDay
[ 57%] Building CXX object src/CMakeFiles/Audacity.dir/AudioIOBase.cpp.o
cd /build/audacity-2.4.1/obj-x86_64-linux-gnu/src && /usr/bin/c++  -DAudacity_EXPORTS -DBUILDING_AUDACITY -DCMAKE -DHAVE_LRINT -DHAVE_LRINTF -DHAVE_MLOCK -DHAVE_SYS_SOUNDCARD_H=1 -DPA_USE_ALSA=1 -DPA_USE_JACK=1 -DPA_USE_OSS=1 -DWXINTL_NO_GETTEXT_MACRO -DWXUSINGDLL -D_FILE_OFFSET_BITS=64 -D__WXGTK__ -I/build/audacity-2.4.1/obj-x86_64-linux-gnu/src/private -I/build/audacity-2.4.1/lib-src/lib-widget-extra -I/build/audacity-2.4.1/include -I/build/audacity-2.4.1/src -I/usr/lib/x86_64-linux-gnu/wx/include/gtk2-unicode-3.0 -I/usr/include/wx-3.0 -I/build/audacity-2.4.1/lib-src/FileDialog -I/build/audacity-2.4.1/obj-x86_64-linux-gnu/cmake-proxies/lame/public -I/build/audacity-2.4.1/lib-src/portaudio-v19/include -I/build/audacity-2.4.1/lib-src/libid3tag -I/build/audacity-2.4.1/obj-x86_64-linux-gnu/cmake-proxies/libmad/public -I/build/audacity-2.4.1/lib-src/libmad -I/build/audacity-2.4.1/obj-x86_64-linux-gnu/cmake-proxies/lv2/public -I/build/audacity-2.4.1/lib-src/lv2/lv2 -I/build/audacity-2.4.1/lib-src/lv2/lilv -I/build/audacity-2.4.1/lib-src/lv2/serd -I/build/audacity-2.4.1/lib-src/lv2/sord -I/build/audacity-2.4.1/lib-src/lv2/sratom -I/build/audacity-2.4.1/lib-src/lv2/suil -I/build/audacity-2.4.1/lib-src/portsmf/include -I/build/audacity-2.4.1/lib-src/libnyquist -I/build/audacity-2.4.1/lib-src/portmixer/include -I/build/audacity-2.4.1/lib-src/sbsms/include -isystem /usr/include/gtk-2.0 -isystem /usr/lib/x86_64-linux-gnu/gtk-2.0/include -isystem /usr/include/gio-unix-2.0 -isystem /usr/include/cairo -isystem /usr/include/pango-1.0 -isystem /usr/include/atk-1.0 -isystem /usr/include/pixman-1 -isystem /usr/include/gdk-pixbuf-2.0 -isystem /usr/include/libmount -isystem /usr/include/blkid -isystem /usr/include/harfbuzz -isystem /usr/include/fribidi -isystem /usr/include/glib-2.0 -isystem /usr/lib/x86_64-linux-gnu/glib-2.0/include -isystem /usr/include/uuid -isystem /usr/include/freetype2 -isystem /usr/include/libpng16 -isystem /usr/include/soundtouch  -g -O2 -fdebug-prefix-map=/build/audacity-2.4.1=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2   -pthread -std=gnu++14 -Winvalid-pch -include /build/audacity-2.4.1/obj-x86_64-linux-gnu/src/CMakeFiles/Audacity.dir/cmake_pch.hxx -o CMakeFiles/Audacity.dir/AudioIOBase.cpp.o -c /build/audacity-2.4.1/src/AudioIOBase.cpp
[ 57%] Building CXX object src/CMakeFiles/Audacity.dir/AutoRecovery.cpp.o
cd /build/audacity-2.4.1/obj-x86_64-linux-gnu/src && /usr/bin/c++  -DAudacity_EXPORTS -DBUILDING_AUDACITY -DCMAKE -DHAVE_LRINT -DHAVE_LRINTF -DHAVE_MLOCK -DHAVE_SYS_SOUNDCARD_H=1 -DPA_USE_ALSA=1 -DPA_USE_JACK=1 -DPA_USE_OSS=1 -DWXINTL_NO_GETTEXT_MACRO -DWXUSINGDLL -D_FILE_OFFSET_BITS=64 -D__WXGTK__ -I/build/audacity-2.4.1/obj-x86_64-linux-gnu/src/private -I/build/audacity-2.4.1/lib-src/lib-widget-extra -I/build/audacity-2.4.1/include -I/build/audacity-2.4.1/src -I/usr/lib/x86_64-linux-gnu/wx/include/gtk2-unicode-3.0 -I/usr/include/wx-3.0 -I/build/audacity-2.4.1/lib-src/FileDialog -I/build/audacity-2.4.1/obj-x86_64-linux-gnu/cmake-proxies/lame/public -I/build/audacity-2.4.1/lib-src/portaudio-v19/include -I/build/audacity-2.4.1/lib-src/libid3tag -I/build/audacity-2.4.1/obj-x86_64-linux-gnu/cmake-proxies/libmad/public -I/build/audacity-2.4.1/lib-src/libmad -I/build/audacity-2.4.1/obj-x86_64-linux-gnu/cmake-proxies/lv2/public -I/build/audacity-2.4.1/lib-src/lv2/lv2 -I/build/audacity-2.4.1/lib-src/lv2/lilv -I/build/audacity-2.4.1/lib-src/lv2/serd -I/build/audacity-2.4.1/lib-src/lv2/sord -I/build/audacity-2.4.1/lib-src/lv2/sratom -I/build/audacity-2.4.1/lib-src/lv2/suil -I/build/audacity-2.4.1/lib-src/portsmf/include -I/build/audacity-2.4.1/lib-src/libnyquist -I/build/audacity-2.4.1/lib-src/portmixer/include -I/build/audacity-2.4.1/lib-src/sbsms/include -isystem /usr/include/gtk-2.0 -isystem /usr/lib/x86_64-linux-gnu/gtk-2.0/include -isystem /usr/include/gio-unix-2.0 -isystem /usr/include/cairo -isystem /usr/include/pango-1.0 -isystem /usr/include/atk-1.0 -isystem /usr/include/pixman-1 -isystem /usr/include/gdk-pixbuf-2.0 -isystem /usr/include/libmount -isystem /usr/include/blkid -isystem /usr/include/harfbuzz -isystem /usr/include/fribidi -isystem /usr/include/glib-2.0 -isystem /usr/lib/x86_64-linux-gnu/glib-2.0/include -isystem /usr/include/uuid -isystem /usr/include/freetype2 -isystem /usr/include/libpng16 -isystem /usr/include/soundtouch  -g -O2 -fdebug-prefix-map=/build/audacity-2.4.1=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2   -pthread -std=gnu++14 -Winvalid-pch -include /build/audacity-2.4.1/obj-x86_64-linux-gnu/src/CMakeFiles/Audacity.dir/cmake_pch.hxx -o CMakeFiles/Audacity.dir/AutoRecovery.cpp.o -c /build/audacity-2.4.1/src/AutoRecovery.cpp
[ 57%] Building CXX object src/CMakeFiles/Audacity.dir/AutoRecoveryDialog.cpp.o
cd /build/audacity-2.4.1/obj-x86_64-linux-gnu/src && /usr/bin/c++  -DAudacity_EXPORTS -DBUILDING_AUDACITY -DCMAKE -DHAVE_LRINT -DHAVE_LRINTF -DHAVE_MLOCK -DHAVE_SYS_SOUNDCARD_H=1 -DPA_USE_ALSA=1 -DPA_USE_JACK=1 -DPA_USE_OSS=1 -DWXINTL_NO_GETTEXT_MACRO -DWXUSINGDLL -D_FILE_OFFSET_BITS=64 -D__WXGTK__ -I/build/audacity-2.4.1/obj-x86_64-linux-gnu/src/private -I/build/audacity-2.4.1/lib-src/lib-widget-extra -I/build/audacity-2.4.1/include -I/build/audacity-2.4.1/src -I/usr/lib/x86_64-linux-gnu/wx/include/gtk2-unicode-3.0 -I/usr/include/wx-3.0 -I/build/audacity-2.4.1/lib-src/FileDialog -I/build/audacity-2.4.1/obj-x86_64-linux-gnu/cmake-proxies/lame/public -I/build/audacity-2.4.1/lib-src/portaudio-v19/include -I/build/audacity-2.4.1/lib-src/libid3tag -I/build/audacity-2.4.1/obj-x86_64-linux-gnu/cmake-proxies/libmad/public -I/build/audacity-2.4.1/lib-src/libmad -I/build/audacity-2.4.1/obj-x86_64-linux-gnu/cmake-proxies/lv2/public -I/build/audacity-2.4.1/lib-src/lv2/lv2 -I/build/audacity-2.4.1/lib-src/lv2/lilv -I/build/audacity-2.4.1/lib-src/lv2/serd -I/build/audacity-2.4.1/lib-src/lv2/sord -I/build/audacity-2.4.1/lib-src/lv2/sratom -I/build/audacity-2.4.1/lib-src/lv2/suil -I/build/audacity-2.4.1/lib-src/portsmf/include -I/build/audacity-2.4.1/lib-src/libnyquist -I/build/audacity-2.4.1/lib-src/portmixer/include -I/build/audacity-2.4.1/lib-src/sbsms/include -isystem /usr/include/gtk-2.0 -isystem /usr/lib/x86_64-linux-gnu/gtk-2.0/include -isystem /usr/include/gio-unix-2.0 -isystem /usr/include/cairo -isystem /usr/include/pango-1.0 -isystem /usr/include/atk-1.0 -isystem /usr/include/pixman-1 -isystem /usr/include/gdk-pixbuf-2.0 -isystem /usr/include/libmount -isystem /usr/include/blkid -isystem /usr/include/harfbuzz -isystem /usr/include/fribidi -isystem /usr/include/glib-2.0 -isystem /usr/lib/x86_64-linux-gnu/glib-2.0/include -isystem /usr/include/uuid -isystem /usr/include/freetype2 -isystem /usr/include/libpng16 -isystem /usr/include/soundtouch  -g -O2 -fdebug-prefix-map=/build/audacity-2.4.1=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2   -pthread -std=gnu++14 -Winvalid-pch -include /build/audacity-2.4.1/obj-x86_64-linux-gnu/src/CMakeFiles/Audacity.dir/cmake_pch.hxx -o CMakeFiles/Audacity.dir/AutoRecoveryDialog.cpp.o -c /build/audacity-2.4.1/src/AutoRecoveryDialog.cpp
make[3]: *** [src/CMakeFiles/Audacity.dir/build.make:187: src/CMakeFiles/Audacity.dir/AudioIO.cpp.o] Error 1
make[3]: *** Waiting for unfinished jobs....
```

Does that ring a bell for you?""I believe you'll need to rework the ""0005-Fix-building-against-the-system-portaudio-library.patch"" Debian patch.  Maybe add an include of ""<sys/time.h>"".

I'll actually be committing a change shortly that should allow you guys to get rid of this patch entirely, but that doesn't help you for the 2.4.1 release.
 =||= This one looks to be resolved with 2.4.2 .
Thank you! =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
532Can not exit full screen on Ubuntu 18.04.4JackHonghe06/06/20, 06:38:31 PM"**Describe the bug**
Can not exit full screen on Ubuntu 18.04.
Audacity can enter full screen mode through F11, but can not exit full screen mode through F11.

**To Reproduce**
Steps to reproduce the behavior:
1. `F11`, enter full screen mode.
2. `F11`, can not exit full screen mode, nothing happen.


**Additional information (please complete the following information):**
 - OS: Ubuntu 18.04.4
 - Audacity 2.4.x or Audacity 2.3.x
""What Desktop are you using? =||= Ubuntu 18.04 default Desktop. =||= Works for me on Ubuntu 18.04.4, with GNOME (default)
Will close this issue presently, if no elaborations on steps to reproduce are given. =||= Where can I see the logs?
After reinstall of Audacity, It still can not exit full screen via F11.
BTW: I install Audacity from http://ppa.launchpad.net/ubuntuhandbook1/audacity/ubuntu =||= Logs for what?
Build information is in the about box, second tab.
I am not using the ppa. =||= On the Audacity forum we have received multiple reports of packaging errors in Audacity 2.4.1 as supplied by that PPA. We do not know when those errors will be fixed as we have no involvement with that PPA.
My advice would be to either revert to the official Ubuntu deb package, or build Audacity yourself from the sourcecode. 
Detailed instructions for building Audacity 2.4.1 on Ubuntu are now available on the Audacity forum: https://forum.audacityteam.org/viewtopic.php?f=19&t=111043 =||= Audacity not built correctly by third party.  Closing issue.
See https://wiki.audacityteam.org/wiki/Ppa_and_Distro_Issues =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
533plugin folders are not recognized Audacity 2.4.x / Linux [Solved]ronsens05/24/20, 08:05:30 AM"Hi,
using the latest version 2.4.0 / 2.41 on Linux (Arch)

With this version the given per-user plugin folders (for linux) aren't recognized:
~/.audacity-files/plug-ins

but also the plugins in the  system-wide folders will not be shown in the ""Add Effects""-window:
/usr/share/audacity/plug-ins
/usr/local/share/audacity/plug-ins

Latest version showing the effects is 2.3.3""This looks like it could be a documentation error. Where does it say that the per-user plug-in folder is
`~/.audacity-files/plug-ins`
(It should say: `~/.audacity-data/plug-ins`) =||= The location for system-wide plug-ins depends on where Audacity is installed.
Most distributions install Audacity to `/usr/share/audacity/` but the default for ""self built"" Audacity is
`/usr/local/share/audacity/` =||= I'm experiencing the same issue. I have plugins in /home/user/.audacity-data/Plug-Ins. They show up in Audacity's list of plugins but it won't let me enable them. =||= I just realised that the Nyquist Plug-in Installer isn't in the tools menu, something strange is happening... =||= Ok seems like a packaging issue. The solution here works - https://forum.audacityteam.org/viewtopic.php?f=48&t=110960&hilit=nyquist+there&start=10 =||= Solved with the latest update in Arch. (Version is 2.4.1.2) =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
534[CMAKE] WIN32: Fix error in LILV_DEFAULT_LV2_PATHCarlo Braminicarlo-bramini05/23/20, 07:31:38 PMNaNGood catch!  Thanks much. =||= [CMAKE] WIN32: Fix error in LILV_DEFAULT_LV2_PATHCarlo Braminicarlo-bramini05/23/20, 07:31:38 PMNaNNaNCarlo Bramini05/23/20, 01:44:06 PM[CMAKE] WIN32: Fix error in LILV_DEFAULT_LV2_PATH1
535The label track Reaper1005/23/20, 06:39:47 PM"The label track wouldn't let me type anything.
![Annotation 2020-05-23 123647](https://user-images.githubusercontent.com/8137561/82736939-e7036700-9cf2-11ea-9905-2677c2d5e9da.jpg)
""If you want to type directly into a label track (without creating a label first), you have to enable that in Preferences. See ""Type to create a label:"" in https://manual.audacityteam.org/man/tracks_behaviors_preferences.html

For user support, please post to: https://forum.audacityteam.org =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
536Cannot build anymore on Windows and MSYS2/MinGWCarlo Braminicarlo-bramini05/28/20, 09:22:51 PM"I cannot build anymore on Windows by some days.
These are the errors raised by the process:

```
[ 56%] Building CXX object src/CMakeFiles/Audacity.dir/AboutDialog.cpp.obj
In file included from C:/msys64/mingw64/include/wx-3.0/wx/wx.h:20,
                 from C:/cygwin64/home/Carlo/audacity/src/AudacityHeaders.h:20,
                 from C:/msys64/home/Carlo/a64/src/CMakeFiles/Audacity.dir/cmake_pch.hxx:5,
                 from <command-line>:
C:/msys64/mingw64/include/wx-3.0/wx/filesys.h: In static member function 'static wxFSHandlerHash_wxImplementation_HashTable::Node* wxFSHandlerHash_wxImplementation_HashTable::CopyNode(wxFSHandlerHash_wxImplementation_HashTable::Node*)':
C:/msys64/mingw64/include/wx-3.0/wx/filesys.h:176:1: error: no matching function for call to 'operator new(sizetype, int, const char [46], int)'
  176 | WX_DECLARE_VOIDPTR_HASH_MAP_WITH_DECL(wxFileSystemHandler*, wxFSHandlerHash, class WXDLLIMPEXP_BASE);
      | ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from C:/msys64/mingw64/include/c++/9.3.0/ext/new_allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/x86_64-w64-mingw32/bits/c++allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/bits/allocator.h:46,
                 from C:/msys64/mingw64/include/c++/9.3.0/string:41,
                 from C:/msys64/mingw64/include/wx-3.0/wx/stringimpl.h:66,
                 from C:/msys64/mingw64/include/wx-3.0/wx/unichar.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/strvararg.h:22,
                 from C:/msys64/mingw64/include/wx-3.0/wx/string.h:46,
                 from C:/msys64/mingw64/include/wx-3.0/wx/memory.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/object.h:19,
                 from C:/msys64/mingw64/include/wx-3.0/wx/wx.h:15,
                 from C:/cygwin64/home/Carlo/audacity/src/AudacityHeaders.h:20,
                 from C:/msys64/home/Carlo/a64/src/CMakeFiles/Audacity.dir/cmake_pch.hxx:5,
                 from <command-line>:
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note: candidate: 'void* operator new(std::size_t)'
  125 | _GLIBCXX_NODISCARD void* operator new(std::size_t) _GLIBCXX_THROW (std::bad_alloc)
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note:   candidate expects 1 argument, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note: candidate: 'void* operator new(std::size_t, const std::nothrow_t&)'
  139 | _GLIBCXX_NODISCARD void* operator new(std::size_t, const std::nothrow_t&) _GLIBCXX_USE_NOEXCEPT
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note:   candidate expects 2 arguments, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note: candidate: 'void* operator new(std::size_t, void*)'
  173 | _GLIBCXX_NODISCARD inline void* operator new(std::size_t, void* __p) _GLIBCXX_USE_NOEXCEPT
      |                                 ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note:   candidate expects 2 arguments, 4 provided
In file included from C:/msys64/mingw64/include/wx-3.0/wx/wx.h:20,
                 from C:/cygwin64/home/Carlo/audacity/src/AudacityHeaders.h:20,
                 from C:/msys64/home/Carlo/a64/src/CMakeFiles/Audacity.dir/cmake_pch.hxx:5,
                 from <command-line>:
C:/msys64/mingw64/include/wx-3.0/wx/filesys.h: In member function 'wxFSHandlerHash_wxImplementation_HashTable::Node* wxFSHandlerHash_wxImplementation_HashTable::CreateNode(const value_type&, size_t)':
C:/msys64/mingw64/include/wx-3.0/wx/filesys.h:176:1: error: no matching function for call to 'operator new(sizetype, int, const char [46], int)'
  176 | WX_DECLARE_VOIDPTR_HASH_MAP_WITH_DECL(wxFileSystemHandler*, wxFSHandlerHash, class WXDLLIMPEXP_BASE);
      | ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from C:/msys64/mingw64/include/c++/9.3.0/ext/new_allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/x86_64-w64-mingw32/bits/c++allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/bits/allocator.h:46,
                 from C:/msys64/mingw64/include/c++/9.3.0/string:41,
                 from C:/msys64/mingw64/include/wx-3.0/wx/stringimpl.h:66,
                 from C:/msys64/mingw64/include/wx-3.0/wx/unichar.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/strvararg.h:22,
                 from C:/msys64/mingw64/include/wx-3.0/wx/string.h:46,
                 from C:/msys64/mingw64/include/wx-3.0/wx/memory.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/object.h:19,
                 from C:/msys64/mingw64/include/wx-3.0/wx/wx.h:15,
                 from C:/cygwin64/home/Carlo/audacity/src/AudacityHeaders.h:20,
                 from C:/msys64/home/Carlo/a64/src/CMakeFiles/Audacity.dir/cmake_pch.hxx:5,
                 from <command-line>:
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note: candidate: 'void* operator new(std::size_t)'
  125 | _GLIBCXX_NODISCARD void* operator new(std::size_t) _GLIBCXX_THROW (std::bad_alloc)
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note:   candidate expects 1 argument, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note: candidate: 'void* operator new(std::size_t, const std::nothrow_t&)'
  139 | _GLIBCXX_NODISCARD void* operator new(std::size_t, const std::nothrow_t&) _GLIBCXX_USE_NOEXCEPT
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note:   candidate expects 2 arguments, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note: candidate: 'void* operator new(std::size_t, void*)'
  173 | _GLIBCXX_NODISCARD inline void* operator new(std::size_t, void* __p) _GLIBCXX_USE_NOEXCEPT
      |                                 ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note:   candidate expects 2 arguments, 4 provided
In file included from C:/msys64/mingw64/include/wx-3.0/wx/wx.h:20,
                 from C:/cygwin64/home/Carlo/audacity/src/AudacityHeaders.h:20,
                 from C:/msys64/home/Carlo/a64/src/CMakeFiles/Audacity.dir/cmake_pch.hxx:5,
                 from <command-line>:
C:/msys64/mingw64/include/wx-3.0/wx/html/htmlpars.h: In static member function 'static wxHtmlTagHandlersSet_wxImplementation_HashTable::Node* wxHtmlTagHandlersSet_wxImplementation_HashTable::CopyNode(wxHtmlTagHandlersSet_wxImplementation_HashTable::Node*)':
C:/msys64/mingw64/include/wx-3.0/wx/hashset.h:118:1: error: no matching function for call to 'operator new(sizetype, int, const char [52], int)'
  118 | _WX_DECLARE_HASHTABLE( KEY_T, KEY_T, HASH_T,                                 \
      | ^~~~~~~~~~~~~~~~~~~~~
C:/msys64/mingw64/include/wx-3.0/wx/hashset.h:182:5: note: in expansion of macro '_WX_DECLARE_HASH_SET'
  182 |     _WX_DECLARE_HASH_SET( KEY_T, HASH_T, KEY_EQ_T, wxPTROP_NOP, CLASSNAME, DECL )
      |     ^~~~~~~~~~~~~~~~~~~~
C:/msys64/mingw64/include/wx-3.0/wx/html/htmlpars.h:30:1: note: in expansion of macro 'WX_DECLARE_HASH_SET_WITH_DECL_PTR'
   30 | WX_DECLARE_HASH_SET_WITH_DECL_PTR(wxHtmlTagHandler*,
      | ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from C:/msys64/mingw64/include/c++/9.3.0/ext/new_allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/x86_64-w64-mingw32/bits/c++allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/bits/allocator.h:46,
                 from C:/msys64/mingw64/include/c++/9.3.0/string:41,
                 from C:/msys64/mingw64/include/wx-3.0/wx/stringimpl.h:66,
                 from C:/msys64/mingw64/include/wx-3.0/wx/unichar.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/strvararg.h:22,
                 from C:/msys64/mingw64/include/wx-3.0/wx/string.h:46,
                 from C:/msys64/mingw64/include/wx-3.0/wx/memory.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/object.h:19,
                 from C:/msys64/mingw64/include/wx-3.0/wx/wx.h:15,
                 from C:/cygwin64/home/Carlo/audacity/src/AudacityHeaders.h:20,
                 from C:/msys64/home/Carlo/a64/src/CMakeFiles/Audacity.dir/cmake_pch.hxx:5,
                 from <command-line>:
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note: candidate: 'void* operator new(std::size_t)'
  125 | _GLIBCXX_NODISCARD void* operator new(std::size_t) _GLIBCXX_THROW (std::bad_alloc)
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note:   candidate expects 1 argument, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note: candidate: 'void* operator new(std::size_t, const std::nothrow_t&)'
  139 | _GLIBCXX_NODISCARD void* operator new(std::size_t, const std::nothrow_t&) _GLIBCXX_USE_NOEXCEPT
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note:   candidate expects 2 arguments, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note: candidate: 'void* operator new(std::size_t, void*)'
  173 | _GLIBCXX_NODISCARD inline void* operator new(std::size_t, void* __p) _GLIBCXX_USE_NOEXCEPT
      |                                 ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note:   candidate expects 2 arguments, 4 provided
In file included from C:/msys64/mingw64/include/wx-3.0/wx/wx.h:20,
                 from C:/cygwin64/home/Carlo/audacity/src/AudacityHeaders.h:20,
                 from C:/msys64/home/Carlo/a64/src/CMakeFiles/Audacity.dir/cmake_pch.hxx:5,
                 from <command-line>:
C:/msys64/mingw64/include/wx-3.0/wx/html/htmlpars.h: In member function 'wxHtmlTagHandlersSet_wxImplementation_HashTable::Node* wxHtmlTagHandlersSet_wxImplementation_HashTable::CreateNode(wxHtmlTagHandler* const&, size_t)':
C:/msys64/mingw64/include/wx-3.0/wx/hashset.h:118:1: error: no matching function for call to 'operator new(sizetype, int, const char [52], int)'
  118 | _WX_DECLARE_HASHTABLE( KEY_T, KEY_T, HASH_T,                                 \
      | ^~~~~~~~~~~~~~~~~~~~~
C:/msys64/mingw64/include/wx-3.0/wx/hashset.h:182:5: note: in expansion of macro '_WX_DECLARE_HASH_SET'
  182 |     _WX_DECLARE_HASH_SET( KEY_T, HASH_T, KEY_EQ_T, wxPTROP_NOP, CLASSNAME, DECL )
      |     ^~~~~~~~~~~~~~~~~~~~
C:/msys64/mingw64/include/wx-3.0/wx/html/htmlpars.h:30:1: note: in expansion of macro 'WX_DECLARE_HASH_SET_WITH_DECL_PTR'
   30 | WX_DECLARE_HASH_SET_WITH_DECL_PTR(wxHtmlTagHandler*,
      | ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from C:/msys64/mingw64/include/c++/9.3.0/ext/new_allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/x86_64-w64-mingw32/bits/c++allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/bits/allocator.h:46,
                 from C:/msys64/mingw64/include/c++/9.3.0/string:41,
                 from C:/msys64/mingw64/include/wx-3.0/wx/stringimpl.h:66,
                 from C:/msys64/mingw64/include/wx-3.0/wx/unichar.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/strvararg.h:22,
                 from C:/msys64/mingw64/include/wx-3.0/wx/string.h:46,
                 from C:/msys64/mingw64/include/wx-3.0/wx/memory.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/object.h:19,
                 from C:/msys64/mingw64/include/wx-3.0/wx/wx.h:15,
                 from C:/cygwin64/home/Carlo/audacity/src/AudacityHeaders.h:20,
                 from C:/msys64/home/Carlo/a64/src/CMakeFiles/Audacity.dir/cmake_pch.hxx:5,
                 from <command-line>:
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note: candidate: 'void* operator new(std::size_t)'
  125 | _GLIBCXX_NODISCARD void* operator new(std::size_t) _GLIBCXX_THROW (std::bad_alloc)
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note:   candidate expects 1 argument, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note: candidate: 'void* operator new(std::size_t, const std::nothrow_t&)'
  139 | _GLIBCXX_NODISCARD void* operator new(std::size_t, const std::nothrow_t&) _GLIBCXX_USE_NOEXCEPT
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note:   candidate expects 2 arguments, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note: candidate: 'void* operator new(std::size_t, void*)'
  173 | _GLIBCXX_NODISCARD inline void* operator new(std::size_t, void* __p) _GLIBCXX_USE_NOEXCEPT
      |                                 ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note:   candidate expects 2 arguments, 4 provided
In file included from C:/msys64/mingw64/include/wx-3.0/wx/wx.h:20,
                 from C:/cygwin64/home/Carlo/audacity/src/AudacityHeaders.h:20,
                 from C:/msys64/home/Carlo/a64/src/CMakeFiles/Audacity.dir/cmake_pch.hxx:5,
                 from <command-line>:
C:/msys64/mingw64/include/wx-3.0/wx/html/htmlpars.h: In static member function 'static wxHtmlTagHandlersHash_wxImplementation_HashTable::Node* wxHtmlTagHandlersHash_wxImplementation_HashTable::CopyNode(wxHtmlTagHandlersHash_wxImplementation_HashTable::Node*)':
C:/msys64/mingw64/include/wx-3.0/wx/html/htmlpars.h:34:1: error: no matching function for call to 'operator new(sizetype, int, const char [52], int)'
   34 | WX_DECLARE_STRING_HASH_MAP_WITH_DECL(wxHtmlTagHandler*,
      | ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from C:/msys64/mingw64/include/c++/9.3.0/ext/new_allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/x86_64-w64-mingw32/bits/c++allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/bits/allocator.h:46,
                 from C:/msys64/mingw64/include/c++/9.3.0/string:41,
                 from C:/msys64/mingw64/include/wx-3.0/wx/stringimpl.h:66,
                 from C:/msys64/mingw64/include/wx-3.0/wx/unichar.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/strvararg.h:22,
                 from C:/msys64/mingw64/include/wx-3.0/wx/string.h:46,
                 from C:/msys64/mingw64/include/wx-3.0/wx/memory.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/object.h:19,
                 from C:/msys64/mingw64/include/wx-3.0/wx/wx.h:15,
                 from C:/cygwin64/home/Carlo/audacity/src/AudacityHeaders.h:20,
                 from C:/msys64/home/Carlo/a64/src/CMakeFiles/Audacity.dir/cmake_pch.hxx:5,
                 from <command-line>:
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note: candidate: 'void* operator new(std::size_t)'
  125 | _GLIBCXX_NODISCARD void* operator new(std::size_t) _GLIBCXX_THROW (std::bad_alloc)
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note:   candidate expects 1 argument, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note: candidate: 'void* operator new(std::size_t, const std::nothrow_t&)'
  139 | _GLIBCXX_NODISCARD void* operator new(std::size_t, const std::nothrow_t&) _GLIBCXX_USE_NOEXCEPT
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note:   candidate expects 2 arguments, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note: candidate: 'void* operator new(std::size_t, void*)'
  173 | _GLIBCXX_NODISCARD inline void* operator new(std::size_t, void* __p) _GLIBCXX_USE_NOEXCEPT
      |                                 ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note:   candidate expects 2 arguments, 4 provided
In file included from C:/msys64/mingw64/include/wx-3.0/wx/wx.h:20,
                 from C:/cygwin64/home/Carlo/audacity/src/AudacityHeaders.h:20,
                 from C:/msys64/home/Carlo/a64/src/CMakeFiles/Audacity.dir/cmake_pch.hxx:5,
                 from <command-line>:
C:/msys64/mingw64/include/wx-3.0/wx/html/htmlpars.h: In member function 'wxHtmlTagHandlersHash_wxImplementation_HashTable::Node* wxHtmlTagHandlersHash_wxImplementation_HashTable::CreateNode(const value_type&, size_t)':
C:/msys64/mingw64/include/wx-3.0/wx/html/htmlpars.h:34:1: error: no matching function for call to 'operator new(sizetype, int, const char [52], int)'
   34 | WX_DECLARE_STRING_HASH_MAP_WITH_DECL(wxHtmlTagHandler*,
      | ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from C:/msys64/mingw64/include/c++/9.3.0/ext/new_allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/x86_64-w64-mingw32/bits/c++allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/bits/allocator.h:46,
                 from C:/msys64/mingw64/include/c++/9.3.0/string:41,
                 from C:/msys64/mingw64/include/wx-3.0/wx/stringimpl.h:66,
                 from C:/msys64/mingw64/include/wx-3.0/wx/unichar.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/strvararg.h:22,
                 from C:/msys64/mingw64/include/wx-3.0/wx/string.h:46,
                 from C:/msys64/mingw64/include/wx-3.0/wx/memory.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/object.h:19,
                 from C:/msys64/mingw64/include/wx-3.0/wx/wx.h:15,
                 from C:/cygwin64/home/Carlo/audacity/src/AudacityHeaders.h:20,
                 from C:/msys64/home/Carlo/a64/src/CMakeFiles/Audacity.dir/cmake_pch.hxx:5,
                 from <command-line>:
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note: candidate: 'void* operator new(std::size_t)'
  125 | _GLIBCXX_NODISCARD void* operator new(std::size_t) _GLIBCXX_THROW (std::bad_alloc)
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note:   candidate expects 1 argument, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note: candidate: 'void* operator new(std::size_t, const std::nothrow_t&)'
  139 | _GLIBCXX_NODISCARD void* operator new(std::size_t, const std::nothrow_t&) _GLIBCXX_USE_NOEXCEPT
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note:   candidate expects 2 arguments, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note: candidate: 'void* operator new(std::size_t, void*)'
  173 | _GLIBCXX_NODISCARD inline void* operator new(std::size_t, void* __p) _GLIBCXX_USE_NOEXCEPT
      |                                 ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note:   candidate expects 2 arguments, 4 provided
In file included from C:/msys64/mingw64/include/wx-3.0/wx/html/htmlwin.h:19,
                 from C:/cygwin64/home/Carlo/audacity/src/AboutDialog.cpp:34:
C:/msys64/mingw64/include/wx-3.0/wx/html/winpars.h: In member function 'void wxHtmlWinParser::AddWord(const wxString&)':
C:/msys64/mingw64/include/wx-3.0/wx/html/winpars.h:176:54: error: no matching function for call to 'operator new(sizetype, int, const char [51], int)'
  176 |         { AddWord(new wxHtmlWordCell(word, *(GetDC()))); }
      |                                                      ^
In file included from C:/msys64/mingw64/include/c++/9.3.0/ext/new_allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/x86_64-w64-mingw32/bits/c++allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/bits/allocator.h:46,
                 from C:/msys64/mingw64/include/c++/9.3.0/string:41,
                 from C:/msys64/mingw64/include/wx-3.0/wx/stringimpl.h:66,
                 from C:/msys64/mingw64/include/wx-3.0/wx/unichar.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/strvararg.h:22,
                 from C:/msys64/mingw64/include/wx-3.0/wx/string.h:46,
                 from C:/msys64/mingw64/include/wx-3.0/wx/memory.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/object.h:19,
                 from C:/msys64/mingw64/include/wx-3.0/wx/wx.h:15,
                 from C:/cygwin64/home/Carlo/audacity/src/AudacityHeaders.h:20,
                 from C:/msys64/home/Carlo/a64/src/CMakeFiles/Audacity.dir/cmake_pch.hxx:5,
                 from <command-line>:
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note: candidate: 'void* operator new(std::size_t)'
  125 | _GLIBCXX_NODISCARD void* operator new(std::size_t) _GLIBCXX_THROW (std::bad_alloc)
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note:   candidate expects 1 argument, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note: candidate: 'void* operator new(std::size_t, const std::nothrow_t&)'
  139 | _GLIBCXX_NODISCARD void* operator new(std::size_t, const std::nothrow_t&) _GLIBCXX_USE_NOEXCEPT
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note:   candidate expects 2 arguments, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note: candidate: 'void* operator new(std::size_t, void*)'
  173 | _GLIBCXX_NODISCARD inline void* operator new(std::size_t, void* __p) _GLIBCXX_USE_NOEXCEPT
      |                                 ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note:   candidate expects 2 arguments, 4 provided
In file included from C:/cygwin64/home/Carlo/audacity/src/AboutDialog.cpp:34:
C:/msys64/mingw64/include/wx-3.0/wx/html/htmlwin.h: In member function 'virtual wxHtmlFilter* wxHtmlWindow::GetDefaultFilter()':
C:/msys64/mingw64/include/wx-3.0/wx/html/htmlwin.h:421:58: error: no matching function for call to 'operator new(sizetype, int, const char [51], int)'
  421 |     virtual wxHtmlFilter *GetDefaultFilter() {return new wxHtmlFilterPlainText;}
      |                                                          ^~~~~~~~~~~~~~~~~~~~~
In file included from C:/msys64/mingw64/include/c++/9.3.0/ext/new_allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/x86_64-w64-mingw32/bits/c++allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/bits/allocator.h:46,
                 from C:/msys64/mingw64/include/c++/9.3.0/string:41,
                 from C:/msys64/mingw64/include/wx-3.0/wx/stringimpl.h:66,
                 from C:/msys64/mingw64/include/wx-3.0/wx/unichar.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/strvararg.h:22,
                 from C:/msys64/mingw64/include/wx-3.0/wx/string.h:46,
                 from C:/msys64/mingw64/include/wx-3.0/wx/memory.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/object.h:19,
                 from C:/msys64/mingw64/include/wx-3.0/wx/wx.h:15,
                 from C:/cygwin64/home/Carlo/audacity/src/AudacityHeaders.h:20,
                 from C:/msys64/home/Carlo/a64/src/CMakeFiles/Audacity.dir/cmake_pch.hxx:5,
                 from <command-line>:
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note: candidate: 'void* operator new(std::size_t)'
  125 | _GLIBCXX_NODISCARD void* operator new(std::size_t) _GLIBCXX_THROW (std::bad_alloc)
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note:   candidate expects 1 argument, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note: candidate: 'void* operator new(std::size_t, const std::nothrow_t&)'
  139 | _GLIBCXX_NODISCARD void* operator new(std::size_t, const std::nothrow_t&) _GLIBCXX_USE_NOEXCEPT
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note:   candidate expects 2 arguments, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note: candidate: 'void* operator new(std::size_t, void*)'
  173 | _GLIBCXX_NODISCARD inline void* operator new(std::size_t, void* __p) _GLIBCXX_USE_NOEXCEPT
      |                                 ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note:   candidate expects 2 arguments, 4 provided
In file included from C:/cygwin64/home/Carlo/audacity/src/AboutDialog.cpp:34:
C:/msys64/mingw64/include/wx-3.0/wx/html/htmlwin.h: In member function 'virtual wxEvent* wxHtmlCellEvent::Clone() const':
C:/msys64/mingw64/include/wx-3.0/wx/html/htmlwin.h:594:70: error: no matching function for call to 'operator new(sizetype, int, const char [51], int)'
  594 |     virtual wxEvent *Clone() const { return new wxHtmlCellEvent(*this); }
      |                                                                      ^
In file included from C:/msys64/mingw64/include/c++/9.3.0/ext/new_allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/x86_64-w64-mingw32/bits/c++allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/bits/allocator.h:46,
                 from C:/msys64/mingw64/include/c++/9.3.0/string:41,
                 from C:/msys64/mingw64/include/wx-3.0/wx/stringimpl.h:66,
                 from C:/msys64/mingw64/include/wx-3.0/wx/unichar.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/strvararg.h:22,
                 from C:/msys64/mingw64/include/wx-3.0/wx/string.h:46,
                 from C:/msys64/mingw64/include/wx-3.0/wx/memory.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/object.h:19,
                 from C:/msys64/mingw64/include/wx-3.0/wx/wx.h:15,
                 from C:/cygwin64/home/Carlo/audacity/src/AudacityHeaders.h:20,
                 from C:/msys64/home/Carlo/a64/src/CMakeFiles/Audacity.dir/cmake_pch.hxx:5,
                 from <command-line>:
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note: candidate: 'void* operator new(std::size_t)'
  125 | _GLIBCXX_NODISCARD void* operator new(std::size_t) _GLIBCXX_THROW (std::bad_alloc)
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note:   candidate expects 1 argument, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note: candidate: 'void* operator new(std::size_t, const std::nothrow_t&)'
  139 | _GLIBCXX_NODISCARD void* operator new(std::size_t, const std::nothrow_t&) _GLIBCXX_USE_NOEXCEPT
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note:   candidate expects 2 arguments, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note: candidate: 'void* operator new(std::size_t, void*)'
  173 | _GLIBCXX_NODISCARD inline void* operator new(std::size_t, void* __p) _GLIBCXX_USE_NOEXCEPT
      |                                 ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note:   candidate expects 2 arguments, 4 provided
In file included from C:/cygwin64/home/Carlo/audacity/src/AboutDialog.cpp:34:
C:/msys64/mingw64/include/wx-3.0/wx/html/htmlwin.h: In member function 'virtual wxEvent* wxHtmlLinkEvent::Clone() const':
C:/msys64/mingw64/include/wx-3.0/wx/html/htmlwin.h:625:70: error: no matching function for call to 'operator new(sizetype, int, const char [51], int)'
  625 |     virtual wxEvent *Clone() const { return new wxHtmlLinkEvent(*this); }
      |                                                                      ^
In file included from C:/msys64/mingw64/include/c++/9.3.0/ext/new_allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/x86_64-w64-mingw32/bits/c++allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/bits/allocator.h:46,
                 from C:/msys64/mingw64/include/c++/9.3.0/string:41,
                 from C:/msys64/mingw64/include/wx-3.0/wx/stringimpl.h:66,
                 from C:/msys64/mingw64/include/wx-3.0/wx/unichar.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/strvararg.h:22,
                 from C:/msys64/mingw64/include/wx-3.0/wx/string.h:46,
                 from C:/msys64/mingw64/include/wx-3.0/wx/memory.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/object.h:19,
                 from C:/msys64/mingw64/include/wx-3.0/wx/wx.h:15,
                 from C:/cygwin64/home/Carlo/audacity/src/AudacityHeaders.h:20,
                 from C:/msys64/home/Carlo/a64/src/CMakeFiles/Audacity.dir/cmake_pch.hxx:5,
                 from <command-line>:
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note: candidate: 'void* operator new(std::size_t)'
  125 | _GLIBCXX_NODISCARD void* operator new(std::size_t) _GLIBCXX_THROW (std::bad_alloc)
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note:   candidate expects 1 argument, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note: candidate: 'void* operator new(std::size_t, const std::nothrow_t&)'
  139 | _GLIBCXX_NODISCARD void* operator new(std::size_t, const std::nothrow_t&) _GLIBCXX_USE_NOEXCEPT
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note:   candidate expects 2 arguments, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note: candidate: 'void* operator new(std::size_t, void*)'
  173 | _GLIBCXX_NODISCARD inline void* operator new(std::size_t, void* __p) _GLIBCXX_USE_NOEXCEPT
      |                                 ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note:   candidate expects 2 arguments, 4 provided
In file included from C:/cygwin64/home/Carlo/audacity/src/ShuttleGui.h:23,
                 from C:/cygwin64/home/Carlo/audacity/src/AboutDialog.cpp:45:
C:/msys64/mingw64/include/wx-3.0/wx/listbase.h: In copy constructor 'wxListItem::wxListItem(const wxListItem&)':
C:/msys64/mingw64/include/wx-3.0/wx/listbase.h:239:62: error: no matching function for call to 'operator new(sizetype, int, const char [47], int)'
  239 |             m_attr = new wxListItemAttr(*item.GetAttributes());
      |                                                              ^
In file included from C:/msys64/mingw64/include/c++/9.3.0/ext/new_allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/x86_64-w64-mingw32/bits/c++allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/bits/allocator.h:46,
                 from C:/msys64/mingw64/include/c++/9.3.0/string:41,
                 from C:/msys64/mingw64/include/wx-3.0/wx/stringimpl.h:66,
                 from C:/msys64/mingw64/include/wx-3.0/wx/unichar.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/strvararg.h:22,
                 from C:/msys64/mingw64/include/wx-3.0/wx/string.h:46,
                 from C:/msys64/mingw64/include/wx-3.0/wx/memory.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/object.h:19,
                 from C:/msys64/mingw64/include/wx-3.0/wx/wx.h:15,
                 from C:/cygwin64/home/Carlo/audacity/src/AudacityHeaders.h:20,
                 from C:/msys64/home/Carlo/a64/src/CMakeFiles/Audacity.dir/cmake_pch.hxx:5,
                 from <command-line>:
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note: candidate: 'void* operator new(std::size_t)'
  125 | _GLIBCXX_NODISCARD void* operator new(std::size_t) _GLIBCXX_THROW (std::bad_alloc)
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note:   candidate expects 1 argument, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note: candidate: 'void* operator new(std::size_t, const std::nothrow_t&)'
  139 | _GLIBCXX_NODISCARD void* operator new(std::size_t, const std::nothrow_t&) _GLIBCXX_USE_NOEXCEPT
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note:   candidate expects 2 arguments, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note: candidate: 'void* operator new(std::size_t, void*)'
  173 | _GLIBCXX_NODISCARD inline void* operator new(std::size_t, void* __p) _GLIBCXX_USE_NOEXCEPT
      |                                 ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note:   candidate expects 2 arguments, 4 provided
In file included from C:/cygwin64/home/Carlo/audacity/src/ShuttleGui.h:23,
                 from C:/cygwin64/home/Carlo/audacity/src/AboutDialog.cpp:45:
C:/msys64/mingw64/include/wx-3.0/wx/listbase.h: In member function 'wxListItem& wxListItem::operator=(const wxListItem&)':
C:/msys64/mingw64/include/wx-3.0/wx/listbase.h:256:67: error: no matching function for call to 'operator new(sizetype, int, const char [47], int)'
  256 |             m_attr = item.m_attr ? new wxListItemAttr(*item.m_attr) : NULL;
      |                                                                   ^
In file included from C:/msys64/mingw64/include/c++/9.3.0/ext/new_allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/x86_64-w64-mingw32/bits/c++allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/bits/allocator.h:46,
                 from C:/msys64/mingw64/include/c++/9.3.0/string:41,
                 from C:/msys64/mingw64/include/wx-3.0/wx/stringimpl.h:66,
                 from C:/msys64/mingw64/include/wx-3.0/wx/unichar.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/strvararg.h:22,
                 from C:/msys64/mingw64/include/wx-3.0/wx/string.h:46,
                 from C:/msys64/mingw64/include/wx-3.0/wx/memory.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/object.h:19,
                 from C:/msys64/mingw64/include/wx-3.0/wx/wx.h:15,
                 from C:/cygwin64/home/Carlo/audacity/src/AudacityHeaders.h:20,
                 from C:/msys64/home/Carlo/a64/src/CMakeFiles/Audacity.dir/cmake_pch.hxx:5,
                 from <command-line>:
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note: candidate: 'void* operator new(std::size_t)'
  125 | _GLIBCXX_NODISCARD void* operator new(std::size_t) _GLIBCXX_THROW (std::bad_alloc)
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note:   candidate expects 1 argument, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note: candidate: 'void* operator new(std::size_t, const std::nothrow_t&)'
  139 | _GLIBCXX_NODISCARD void* operator new(std::size_t, const std::nothrow_t&) _GLIBCXX_USE_NOEXCEPT
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note:   candidate expects 2 arguments, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note: candidate: 'void* operator new(std::size_t, void*)'
  173 | _GLIBCXX_NODISCARD inline void* operator new(std::size_t, void* __p) _GLIBCXX_USE_NOEXCEPT
      |                                 ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note:   candidate expects 2 arguments, 4 provided
In file included from C:/cygwin64/home/Carlo/audacity/src/ShuttleGui.h:23,
                 from C:/cygwin64/home/Carlo/audacity/src/AboutDialog.cpp:45:
C:/msys64/mingw64/include/wx-3.0/wx/listbase.h: In member function 'wxListItemAttr& wxListItem::Attributes()':
C:/msys64/mingw64/include/wx-3.0/wx/listbase.h:351:26: error: no matching function for call to 'operator new(sizetype, int, const char [47], int)'
  351 |             m_attr = new wxListItemAttr;
      |                          ^~~~~~~~~~~~~~
In file included from C:/msys64/mingw64/include/c++/9.3.0/ext/new_allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/x86_64-w64-mingw32/bits/c++allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/bits/allocator.h:46,
                 from C:/msys64/mingw64/include/c++/9.3.0/string:41,
                 from C:/msys64/mingw64/include/wx-3.0/wx/stringimpl.h:66,
                 from C:/msys64/mingw64/include/wx-3.0/wx/unichar.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/strvararg.h:22,
                 from C:/msys64/mingw64/include/wx-3.0/wx/string.h:46,
                 from C:/msys64/mingw64/include/wx-3.0/wx/memory.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/object.h:19,
                 from C:/msys64/mingw64/include/wx-3.0/wx/wx.h:15,
                 from C:/cygwin64/home/Carlo/audacity/src/AudacityHeaders.h:20,
                 from C:/msys64/home/Carlo/a64/src/CMakeFiles/Audacity.dir/cmake_pch.hxx:5,
                 from <command-line>:
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note: candidate: 'void* operator new(std::size_t)'
  125 | _GLIBCXX_NODISCARD void* operator new(std::size_t) _GLIBCXX_THROW (std::bad_alloc)
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note:   candidate expects 1 argument, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note: candidate: 'void* operator new(std::size_t, const std::nothrow_t&)'
  139 | _GLIBCXX_NODISCARD void* operator new(std::size_t, const std::nothrow_t&) _GLIBCXX_USE_NOEXCEPT
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note:   candidate expects 2 arguments, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note: candidate: 'void* operator new(std::size_t, void*)'
  173 | _GLIBCXX_NODISCARD inline void* operator new(std::size_t, void* __p) _GLIBCXX_USE_NOEXCEPT
      |                                 ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note:   candidate expects 2 arguments, 4 provided
In file included from C:/cygwin64/home/Carlo/audacity/src/ShuttleGui.h:23,
                 from C:/cygwin64/home/Carlo/audacity/src/AboutDialog.cpp:45:
C:/msys64/mingw64/include/wx-3.0/wx/listbase.h: In member function 'virtual wxEvent* wxListEvent::Clone() const':
C:/msys64/mingw64/include/wx-3.0/wx/listbase.h:533:66: error: no matching function for call to 'operator new(sizetype, int, const char [47], int)'
  533 |     virtual wxEvent *Clone() const { return new wxListEvent(*this); }
      |                                                                  ^
In file included from C:/msys64/mingw64/include/c++/9.3.0/ext/new_allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/x86_64-w64-mingw32/bits/c++allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/bits/allocator.h:46,
                 from C:/msys64/mingw64/include/c++/9.3.0/string:41,
                 from C:/msys64/mingw64/include/wx-3.0/wx/stringimpl.h:66,
                 from C:/msys64/mingw64/include/wx-3.0/wx/unichar.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/strvararg.h:22,
                 from C:/msys64/mingw64/include/wx-3.0/wx/string.h:46,
                 from C:/msys64/mingw64/include/wx-3.0/wx/memory.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/object.h:19,
                 from C:/msys64/mingw64/include/wx-3.0/wx/wx.h:15,
                 from C:/cygwin64/home/Carlo/audacity/src/AudacityHeaders.h:20,
                 from C:/msys64/home/Carlo/a64/src/CMakeFiles/Audacity.dir/cmake_pch.hxx:5,
                 from <command-line>:
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note: candidate: 'void* operator new(std::size_t)'
  125 | _GLIBCXX_NODISCARD void* operator new(std::size_t) _GLIBCXX_THROW (std::bad_alloc)
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note:   candidate expects 1 argument, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note: candidate: 'void* operator new(std::size_t, const std::nothrow_t&)'
  139 | _GLIBCXX_NODISCARD void* operator new(std::size_t, const std::nothrow_t&) _GLIBCXX_USE_NOEXCEPT
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note:   candidate expects 2 arguments, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note: candidate: 'void* operator new(std::size_t, void*)'
  173 | _GLIBCXX_NODISCARD inline void* operator new(std::size_t, void* __p) _GLIBCXX_USE_NOEXCEPT
      |                                 ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note:   candidate expects 2 arguments, 4 provided
C:/cygwin64/home/Carlo/audacity/src/AboutDialog.cpp: In member function 'void AboutDialog::PopulateAudacityPage(ShuttleGui&)':
C:/cygwin64/home/Carlo/audacity/src/AboutDialog.cpp:478:85: error: no matching function for call to 'operator new(sizetype, int, const char [52], int)'
  478 |          wxSize((int)(LOGOWITHNAME_WIDTH*fScale), (int)(LOGOWITHNAME_HEIGHT*fScale)));
      |                                                                                     ^
In file included from C:/msys64/mingw64/include/c++/9.3.0/ext/new_allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/x86_64-w64-mingw32/bits/c++allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/bits/allocator.h:46,
                 from C:/msys64/mingw64/include/c++/9.3.0/string:41,
                 from C:/msys64/mingw64/include/wx-3.0/wx/stringimpl.h:66,
                 from C:/msys64/mingw64/include/wx-3.0/wx/unichar.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/strvararg.h:22,
                 from C:/msys64/mingw64/include/wx-3.0/wx/string.h:46,
                 from C:/msys64/mingw64/include/wx-3.0/wx/memory.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/object.h:19,
                 from C:/msys64/mingw64/include/wx-3.0/wx/wx.h:15,
                 from C:/cygwin64/home/Carlo/audacity/src/AudacityHeaders.h:20,
                 from C:/msys64/home/Carlo/a64/src/CMakeFiles/Audacity.dir/cmake_pch.hxx:5,
                 from <command-line>:
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note: candidate: 'void* operator new(std::size_t)'
  125 | _GLIBCXX_NODISCARD void* operator new(std::size_t) _GLIBCXX_THROW (std::bad_alloc)
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note:   candidate expects 1 argument, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note: candidate: 'void* operator new(std::size_t, const std::nothrow_t&)'
  139 | _GLIBCXX_NODISCARD void* operator new(std::size_t, const std::nothrow_t&) _GLIBCXX_USE_NOEXCEPT
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note:   candidate expects 2 arguments, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note: candidate: 'void* operator new(std::size_t, void*)'
  173 | _GLIBCXX_NODISCARD inline void* operator new(std::size_t, void* __p) _GLIBCXX_USE_NOEXCEPT
      |                                 ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note:   candidate expects 2 arguments, 4 provided
C:/cygwin64/home/Carlo/audacity/src/AboutDialog.cpp:485:79: error: no matching function for call to 'operator new(sizetype, int, const char [52], int)'
  485 |                                          wxHW_SCROLLBAR_AUTO | wxSUNKEN_BORDER);
      |                                                                               ^
In file included from C:/msys64/mingw64/include/c++/9.3.0/ext/new_allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/x86_64-w64-mingw32/bits/c++allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/bits/allocator.h:46,
                 from C:/msys64/mingw64/include/c++/9.3.0/string:41,
                 from C:/msys64/mingw64/include/wx-3.0/wx/stringimpl.h:66,
                 from C:/msys64/mingw64/include/wx-3.0/wx/unichar.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/strvararg.h:22,
                 from C:/msys64/mingw64/include/wx-3.0/wx/string.h:46,
                 from C:/msys64/mingw64/include/wx-3.0/wx/memory.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/object.h:19,
                 from C:/msys64/mingw64/include/wx-3.0/wx/wx.h:15,
                 from C:/cygwin64/home/Carlo/audacity/src/AudacityHeaders.h:20,
                 from C:/msys64/home/Carlo/a64/src/CMakeFiles/Audacity.dir/cmake_pch.hxx:5,
                 from <command-line>:
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note: candidate: 'void* operator new(std::size_t)'
  125 | _GLIBCXX_NODISCARD void* operator new(std::size_t) _GLIBCXX_THROW (std::bad_alloc)
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note:   candidate expects 1 argument, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note: candidate: 'void* operator new(std::size_t, const std::nothrow_t&)'
  139 | _GLIBCXX_NODISCARD void* operator new(std::size_t, const std::nothrow_t&) _GLIBCXX_USE_NOEXCEPT
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note:   candidate expects 2 arguments, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note: candidate: 'void* operator new(std::size_t, void*)'
  173 | _GLIBCXX_NODISCARD inline void* operator new(std::size_t, void* __p) _GLIBCXX_USE_NOEXCEPT
      |                                 ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note:   candidate expects 2 arguments, 4 provided
C:/cygwin64/home/Carlo/audacity/src/AboutDialog.cpp: In member function 'void AboutDialog::PopulateInformationPage(ShuttleGui&)':
C:/cygwin64/home/Carlo/audacity/src/AboutDialog.cpp:509:65: error: no matching function for call to 'operator new(sizetype, int, const char [52], int)'
  509 |                            wxHW_SCROLLBAR_AUTO | wxSUNKEN_BORDER);
      |                                                                 ^
In file included from C:/msys64/mingw64/include/c++/9.3.0/ext/new_allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/x86_64-w64-mingw32/bits/c++allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/bits/allocator.h:46,
                 from C:/msys64/mingw64/include/c++/9.3.0/string:41,
                 from C:/msys64/mingw64/include/wx-3.0/wx/stringimpl.h:66,
                 from C:/msys64/mingw64/include/wx-3.0/wx/unichar.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/strvararg.h:22,
                 from C:/msys64/mingw64/include/wx-3.0/wx/string.h:46,
                 from C:/msys64/mingw64/include/wx-3.0/wx/memory.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/object.h:19,
                 from C:/msys64/mingw64/include/wx-3.0/wx/wx.h:15,
                 from C:/cygwin64/home/Carlo/audacity/src/AudacityHeaders.h:20,
                 from C:/msys64/home/Carlo/a64/src/CMakeFiles/Audacity.dir/cmake_pch.hxx:5,
                 from <command-line>:
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note: candidate: 'void* operator new(std::size_t)'
  125 | _GLIBCXX_NODISCARD void* operator new(std::size_t) _GLIBCXX_THROW (std::bad_alloc)
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note:   candidate expects 1 argument, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note: candidate: 'void* operator new(std::size_t, const std::nothrow_t&)'
  139 | _GLIBCXX_NODISCARD void* operator new(std::size_t, const std::nothrow_t&) _GLIBCXX_USE_NOEXCEPT
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note:   candidate expects 2 arguments, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note: candidate: 'void* operator new(std::size_t, void*)'
  173 | _GLIBCXX_NODISCARD inline void* operator new(std::size_t, void* __p) _GLIBCXX_USE_NOEXCEPT
      |                                 ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note:   candidate expects 2 arguments, 4 provided
C:/cygwin64/home/Carlo/audacity/src/AboutDialog.cpp: In member function 'void AboutDialog::PopulateLicensePage(ShuttleGui&)':
C:/cygwin64/home/Carlo/audacity/src/AboutDialog.cpp:772:79: error: no matching function for call to 'operator new(sizetype, int, const char [52], int)'
  772 |                                          wxHW_SCROLLBAR_AUTO | wxSUNKEN_BORDER);
      |                                                                               ^
In file included from C:/msys64/mingw64/include/c++/9.3.0/ext/new_allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/x86_64-w64-mingw32/bits/c++allocator.h:33,
                 from C:/msys64/mingw64/include/c++/9.3.0/bits/allocator.h:46,
                 from C:/msys64/mingw64/include/c++/9.3.0/string:41,
                 from C:/msys64/mingw64/include/wx-3.0/wx/stringimpl.h:66,
                 from C:/msys64/mingw64/include/wx-3.0/wx/unichar.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/strvararg.h:22,
                 from C:/msys64/mingw64/include/wx-3.0/wx/string.h:46,
                 from C:/msys64/mingw64/include/wx-3.0/wx/memory.h:15,
                 from C:/msys64/mingw64/include/wx-3.0/wx/object.h:19,
                 from C:/msys64/mingw64/include/wx-3.0/wx/wx.h:15,
                 from C:/cygwin64/home/Carlo/audacity/src/AudacityHeaders.h:20,
                 from C:/msys64/home/Carlo/a64/src/CMakeFiles/Audacity.dir/cmake_pch.hxx:5,
                 from <command-line>:
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note: candidate: 'void* operator new(std::size_t)'
  125 | _GLIBCXX_NODISCARD void* operator new(std::size_t) _GLIBCXX_THROW (std::bad_alloc)
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:125:26: note:   candidate expects 1 argument, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note: candidate: 'void* operator new(std::size_t, const std::nothrow_t&)'
  139 | _GLIBCXX_NODISCARD void* operator new(std::size_t, const std::nothrow_t&) _GLIBCXX_USE_NOEXCEPT
      |                          ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:139:26: note:   candidate expects 2 arguments, 4 provided
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note: candidate: 'void* operator new(std::size_t, void*)'
  173 | _GLIBCXX_NODISCARD inline void* operator new(std::size_t, void* __p) _GLIBCXX_USE_NOEXCEPT
      |                                 ^~~~~~~~
C:/msys64/mingw64/include/c++/9.3.0/new:173:33: note:   candidate expects 2 arguments, 4 provided
make[2]: *** [src/CMakeFiles/Audacity.dir/build.make:111: src/CMakeFiles/Audacity.dir/AboutDialog.cpp.obj] Errore 1
make[2]: uscita dalla directory «/home/Carlo/a64»
make[1]: *** [CMakeFiles/Makefile2:1014: src/CMakeFiles/Audacity.dir/all] Errore 2
make[1]: uscita dalla directory «/home/Carlo/a64»
make: *** [Makefile:147: all] Errore 2
```
At the moment I have no idea of the cause and from which commit the problem started to happen.""Hi Carlo.

We no longer support wxWidgets 3.0.  Audacity 2.4.2 will be using wx3.1.3, https://github.com/audacity/wxWidgets our audacity-fixes-3.1.3 branch.

Also, on Windows, for Windows, we build with MSVC 2017, not mingw.
 =||= I see.
Perhaps, if Audacity is not expected to work anymore with something less than 3.1.x branches, it would be worth to check version of wxWidgets at configure time and return an error if not supported.

EDIT: the cause of this problem does not seem to be related to the version of wxWidgets. =||= > 
> 
> I see.
> Perhaps, if Audacity is not expected to work anymore with something less than 3.1.x branches, it would be worth to check version of wxWidgets at configure time and return an error if not supported.
> 
We are having discussions along those lines actually.  Just not sure exactly how we're going to handle it yet. =||= One possible solution for you would be to pass the following to CMake.  This will download and build with our copy of wxWidgets:

-Daudacity_use_wxwidgets=local

 =||= I think that I have found the cause of the issue.
Inside `src/AudacityHeaders.h` there is this piece of code:
```
#ifdef __WXMSW__
#ifdef _DEBUG
#define _CRTDBG_MAP_ALLOC
#include <crtdbg.h>
#undef new
#define DEBUG_NEW new(_NORMAL_BLOCK, __FILE__, __LINE__)
#define new DEBUG_NEW
#endif
#endif
```
I commented it and I could again compile all sources in MinGW+MSYS2.
Perhaps, this code is tolerated by Visual Studio, but we cannot tell the same thing with GNU C++ library, and its usage should be limited to MSVC. I don't know... but I think that expert developers with wxWidgets will surely know better.
Another strange thing is that I already compiled Audacity with MinGW+MSYS2 in the past, but I don't remember that I have seen this piece of code changed. =||= AAAHHH.  Yes, I see your point.  Try changing that __WXMSW__ to _MSC_VER.  If it works, submit a pull request and I'll merge it. =||= After commit bf5cd11a435bc9520beffb4c37f7941414b1e37f, this issue seems fixed to me and it could be closed. Thank you. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
537"How to add same effect to rest or another audio? Is there a ""format painter"" to clone formatting/effect?"nazar2sfive05/31/20, 08:44:20 PM"i spent my 30 minutes to create a cool audio ""1"".
now i don't remember where i went and what settings i changed in that period.
i again record second audio.
how can i apply the same settings to the new recorded audio ""2""?

![image](https://user-images.githubusercontent.com/12841320/82778560-79ca1000-9e71-11ea-91d5-261fea5d0ad2.png)"For advice and assistance in using Audacity, please ask for help on the forum.   =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
538audacity crashes on resize (fit to height)David Rungedvzrv05/30/20, 05:10:38 AM"**Describe the bug**
It seems that audacity 2.4.1 on Arch Linux suffers from a bug in regards to resizing to ""fit to height"" ([upstream report](https://bugs.archlinux.org/task/66771)).

**To Reproduce**
Steps to reproduce:
* Create a track to work with (Generate > Tone, for example) or open an audio file.
* Select Track Size > Fit to Height from the View menu.
* App crashes without displaying the usual crash dialog.

**Expected behavior**
Audacity does not crash

**Screenshots**

**Additional information (please complete the following information):**
 - OS: Arch Linux
 - Version Audacity 2.4.1

**Additional context**
According to the forum post linked to in the downstream ticket @SteveDaulton mentions, that this is [a ""known problem"" due to autotools being used instead of cmake](https://forum.audacityteam.org/viewtopic.php?p=395731#p395731).
While I generally welcome the switch to cmake, I find the above statement rather interesting as I can not find any information about this *known issue* on this issue tracker, [on the old issue tracker](https://bugzilla.audacityteam.org/buglist.cgi?bug_status=__all__&content=resize&no_redirect=1&order=Importance&product=&query_format=specific) or in the release notes of 2.4.0 or 2.4.1.

Given, that the cmake setup enforces the use of python2 (#520) (which the autotools setup does not) and has numerous other unresolved issues (#519, #521, #522) the new setup is currently not really a viable alternative.

From a packaging perspective it would have been nice to have more transparency about the new cmake setup and a longer grace period in regards to it as this is a lot of additional work, that could have been avoided.""Here is a stacktrace using coredumpctl of this crash:

```
           PID: 1785675 (audacity)
           UID: 1000 (dave)
           GID: 1000 (dave)
        Signal: 11 (SEGV)
     Timestamp: Mon 2020-05-25 20:08:23 CEST (4min 43s ago)
  Command Line: audacity
    Executable: /usr/bin/audacity
 Control Group: /user.slice/user-1000.slice/session-2.scope
          Unit: session-2.scope
         Slice: user-1000.slice
       Session: 2
     Owner UID: 1000 (dave)
       Boot ID: 865656356fcb4728b4901fea125a8be3
    Machine ID: c14dea973584408b98c4c1f443221ed8
      Hostname: dvzrv
       Storage: /var/lib/systemd/coredump/core.audacity.1000.865656356fcb4728b4901fea125a8be3.1785675.1590430103000000000000.lz4
       Message: Process 1785675 (audacity) of user 1000 dumped core.
                
                Stack trace of thread 1785675:
                #0  0x0000562126427e27 _ZN11ViewActions7Handler10OnZoomFitVERK14CommandContext (audacity + 0xa3ce27)
                #1  0x000056212622dc85 _ZN14CommandManager18HandleCommandEntryER15AudacityProjectPK16CommandListEntrySt6bitsetILm64EEbPK7wxEvent (audacity + 0x842c85)
                #2  0x0000562126232ac6 _ZN14CommandManager12HandleMenuIDER15AudacityProjectiSt6bitsetILm64EEb (audacity + 0x847ac6)
                #3  0x00005621261689f0 _ZN13ProjectWindow6OnMenuER14wxCommandEvent (audacity + 0x77d9f0)
                #4  0x00007f26fae64dee _ZN12wxEvtHandler23ProcessEventIfMatchesIdERK21wxEventTableEntryBasePS_R7wxEvent (libwx_baseu-3.0.so.0 + 0x1dedee)
                #5  0x00007f26fae64eec _ZN16wxEventHashTable11HandleEventER7wxEventP12wxEvtHandler (libwx_baseu-3.0.so.0 + 0x1deeec)
                #6  0x00007f26fae6522e _ZN12wxEvtHandler11TryHereOnlyER7wxEvent (libwx_baseu-3.0.so.0 + 0x1df22e)
                #7  0x00007f26fae650a3 _ZN12wxEvtHandler10DoTryChainER7wxEvent (libwx_baseu-3.0.so.0 + 0x1df0a3)
                #8  0x00007f26fae65392 _ZN12wxEvtHandler12ProcessEventER7wxEvent (libwx_baseu-3.0.so.0 + 0x1df392)
                #9  0x00007f26fb3bbcba _ZN12wxWindowBase8TryAfterER7wxEvent (libwx_gtk3u_core-3.0.so.0 + 0x45ecba)
                #10 0x00007f26fae650e7 _ZN12wxEvtHandler18SafelyProcessEventER7wxEvent (libwx_baseu-3.0.so.0 + 0x1df0e7)
                #11 0x00007f26fb36d63f _ZN10wxMenuBase9SendEventEii (libwx_gtk3u_core-3.0.so.0 + 0x41063f)
                #12 0x00007f26fb261c20 menuitem_activate (libwx_gtk3u_core-3.0.so.0 + 0x304c20)
                #13 0x00007f26fa14a052 g_closure_invoke (libgobject-2.0.so.0 + 0x13052)
                #14 0x00007f26fa172685 signal_emit_unlocked_R.isra.0 (libgobject-2.0.so.0 + 0x3b685)
                #15 0x00007f26fa16641d g_signal_emit_valist (libgobject-2.0.so.0 + 0x2f41d)
                #16 0x00007f26fa166980 g_signal_emit (libgobject-2.0.so.0 + 0x2f980)
                #17 0x00007f26fa3ee0db gtk_widget_activate (libgtk-3.so.0 + 0x13f0db)
                #18 0x00007f26fa52395d gtk_menu_shell_activate_item (libgtk-3.so.0 + 0x27495d)
                #19 0x00007f26fa526494 gtk_menu_shell_button_release (libgtk-3.so.0 + 0x277494)
                #20 0x00007f26fa686e1c _gtk_marshal_BOOLEAN__BOXEDv (libgtk-3.so.0 + 0x3d7e1c)
                #21 0x00007f26fa16680a g_signal_emit_valist (libgobject-2.0.so.0 + 0x2f80a)
                #22 0x00007f26fa166980 g_signal_emit (libgobject-2.0.so.0 + 0x2f980)
                #23 0x00007f26fa3efc26 gtk_widget_event_internal (libgtk-3.so.0 + 0x140c26)
                #24 0x00007f26fa536095 propagate_event_up (libgtk-3.so.0 + 0x287095)
                #25 0x00007f26fa53962c gtk_main_do_event (libgtk-3.so.0 + 0x28a62c)
                #26 0x00007f26fa24a234 _gdk_event_emit (libgdk-3.so.0 + 0x95234)
                #27 0x00007f26fa2196f4 gdk_event_source_dispatch (libgdk-3.so.0 + 0x646f4)
                #28 0x00007f26fa06043c g_main_context_dispatch (libglib-2.0.so.0 + 0x5243c)
                #29 0x00007f26fa0adfa9 g_main_context_iterate.constprop.0 (libglib-2.0.so.0 + 0x9ffa9)
                #30 0x00007f26fa05ec03 g_main_loop_run (libglib-2.0.so.0 + 0x50c03)
                #31 0x00007f26fa532c0f gtk_main (libgtk-3.so.0 + 0x283c0f)
                #32 0x00007f26fb1ddb26 _ZN14wxGUIEventLoop5DoRunEv (libwx_gtk3u_core-3.0.so.0 + 0x280b26)
                #33 0x00007f26fad3d36e _ZN15wxEventLoopBase3RunEv (libwx_baseu-3.0.so.0 + 0xb736e)
                #34 0x00007f26fad03756 _ZN16wxAppConsoleBase8MainLoopEv (libwx_baseu-3.0.so.0 + 0x7d756)
                #35 0x00007f26fad82189 _Z7wxEntryRiPPw (libwx_baseu-3.0.so.0 + 0xfc189)
                #36 0x0000562125f2cb93 main (audacity + 0x541b93)
                #37 0x00007f26f99e5002 __libc_start_main (libc.so.6 + 0x27002)
                #38 0x0000562125fa71ee _start (audacity + 0x5bc1ee)
                
                Stack trace of thread 1785942:
                #0  0x00007f26f9ed0e32 pthread_cond_wait@@GLIBC_2.3.2 (libpthread.so.0 + 0xfe32)
                #1  0x00007f26f9f105f0 n/a (libjack.so.0 + 0x2d5f0)
                #2  0x00007f26f9f07e16 n/a (libjack.so.0 + 0x24e16)
                #3  0x00007f26f9f0fb1d n/a (libjack.so.0 + 0x2cb1d)
                #4  0x00007f26f9eca422 start_thread (libpthread.so.0 + 0x9422)
                #5  0x00007f26f9abdbf3 __clone (libc.so.6 + 0xffbf3)
                
                Stack trace of thread 1785679:
                #0  0x00007f26f9ab305f __poll (libc.so.6 + 0xf505f)
                #1  0x00007f26fa0adf38 g_main_context_iterate.constprop.0 (libglib-2.0.so.0 + 0x9ff38)
                #2  0x00007f26fa05f221 g_main_context_iteration (libglib-2.0.so.0 + 0x51221)
                #3  0x00007f26fb9ffe5e n/a (libdconfsettings.so + 0x4e5e)
                #4  0x00007f26fa088511 g_thread_proxy (libglib-2.0.so.0 + 0x7a511)
                #5  0x00007f26f9eca422 start_thread (libpthread.so.0 + 0x9422)
                #6  0x00007f26f9abdbf3 __clone (libc.so.6 + 0xffbf3)
                
                Stack trace of thread 1785946:
                #0  0x00007f26f9a85571 clock_nanosleep@@GLIBC_2.17 (libc.so.6 + 0xc7571)
                #1  0x00007f26f9a8ae87 __nanosleep (libc.so.6 + 0xcce87)
                #2  0x00007f26fae3e61d _Z12wxMicroSleepm (libwx_baseu-3.0.so.0 + 0x1b861d)
                #3  0x000056212601c500 _ZN11AudioThread5EntryEv (audacity + 0x631500)
                #4  0x00007f26fae3136a _ZN8wxThread9CallEntryEv (libwx_baseu-3.0.so.0 + 0x1ab36a)
                #5  0x00007f26fae39b69 _ZN16wxThreadInternal12PthreadStartEP8wxThread (libwx_baseu-3.0.so.0 + 0x1b3b69)
                #6  0x00007f26f9eca422 start_thread (libpthread.so.0 + 0x9422)
                #7  0x00007f26f9abdbf3 __clone (libc.so.6 + 0xffbf3)
                
                Stack trace of thread 1785676:
                #0  0x00007f26f9ab305f __poll (libc.so.6 + 0xf505f)
                #1  0x00007f26fa0adf38 g_main_context_iterate.constprop.0 (libglib-2.0.so.0 + 0x9ff38)
                #2  0x00007f26fa05f221 g_main_context_iteration (libglib-2.0.so.0 + 0x51221)
                #3  0x00007f26fa05f272 glib_worker_main (libglib-2.0.so.0 + 0x51272)
                #4  0x00007f26fa088511 g_thread_proxy (libglib-2.0.so.0 + 0x7a511)
                #5  0x00007f26f9eca422 start_thread (libpthread.so.0 + 0x9422)
                #6  0x00007f26f9abdbf3 __clone (libc.so.6 + 0xffbf3)
                
                Stack trace of thread 1785943:
                #0  0x00007f26f9ed487c read (libpthread.so.0 + 0x1387c)
                #1  0x00007f26f9f10d6f n/a (libjack.so.0 + 0x2dd6f)
                #2  0x00007f26f9f15c59 n/a (libjack.so.0 + 0x32c59)
                #3  0x00007f26f9f0fb1d n/a (libjack.so.0 + 0x2cb1d)
                #4  0x00007f26f9eca422 start_thread (libpthread.so.0 + 0x9422)
                #5  0x00007f26f9abdbf3 __clone (libc.so.6 + 0xffbf3)
                
                Stack trace of thread 1785944:
                #0  0x00007f26f9ab871d syscall (libc.so.6 + 0xfa71d)
                #1  0x00007f26f9f1193b n/a (libjack.so.0 + 0x2e93b)
                #2  0x00007f26f9ef80c5 n/a (libjack.so.0 + 0x150c5)
                #3  0x00007f26f9ef71f7 n/a (libjack.so.0 + 0x141f7)
                #4  0x00007f26f9ef6a08 n/a (libjack.so.0 + 0x13a08)
                #5  0x00007f26f9f0fb1d n/a (libjack.so.0 + 0x2cb1d)
                #6  0x00007f26f9eca422 start_thread (libpthread.so.0 + 0x9422)
                #7  0x00007f26f9abdbf3 __clone (libc.so.6 + 0xffbf3)
                
                Stack trace of thread 1785945:
                #0  0x00007f26f9a85571 clock_nanosleep@@GLIBC_2.17 (libc.so.6 + 0xc7571)
                #1  0x00007f26f9a8ae87 __nanosleep (libc.so.6 + 0xcce87)
                #2  0x00007f26fae3e61d _Z12wxMicroSleepm (libwx_baseu-3.0.so.0 + 0x1b861d)
                #3  0x0000562126017d92 _ZN10MidiThread5EntryEv (audacity + 0x62cd92)
                #4  0x00007f26fae3136a _ZN8wxThread9CallEntryEv (libwx_baseu-3.0.so.0 + 0x1ab36a)
                #5  0x00007f26fae39b69 _ZN16wxThreadInternal12PthreadStartEP8wxThread (libwx_baseu-3.0.so.0 + 0x1b3b69)
                #6  0x00007f26f9eca422 start_thread (libpthread.so.0 + 0x9422)
                #7  0x00007f26f9abdbf3 __clone (libc.so.6 + 0xffbf3)
                
                Stack trace of thread 1785678:
                #0  0x00007f26f9ab305f __poll (libc.so.6 + 0xf505f)
                #1  0x00007f26fa0adf38 g_main_context_iterate.constprop.0 (libglib-2.0.so.0 + 0x9ff38)
                #2  0x00007f26fa05ec03 g_main_loop_run (libglib-2.0.so.0 + 0x50c03)
                #3  0x00007f26f940c1a8 gdbus_shared_thread_func (libgio-2.0.so.0 + 0x1001a8)
                #4  0x00007f26fa088511 g_thread_proxy (libglib-2.0.so.0 + 0x7a511)
                #5  0x00007f26f9eca422 start_thread (libpthread.so.0 + 0x9422)
                #6  0x00007f26f9abdbf3 __clone (libc.so.6 + 0xffbf3)

``` =||= The ""Track Size > Fit to Height -> Crash"" issue was discussed on the developer's mailing list.
I did not log it on the Audacity bug tracker because I was told by the release manager that autotools build chain is no longer supported, and I could not reproduce the issue with a cmake build.

Personally I think the Linux build.txt could be clearer, an no doubt will be in future versions, but it does already say to use cmake for building Audacity rather than autotools.

The issue of the Python 2 requirement is logged on the Audacity bug tracker:
https://bugzilla.audacityteam.org/show_bug.cgi?id=2440
https://bugzilla.audacityteam.org/show_bug.cgi?id=2441

The move from autotools to cmake was discussed on multiple occasions on the public Audacity developers mailing list, for example, back in February: https://sourceforge.net/p/audacity/mailman/message/36921276/

I assume that you are not subscribed to that list, so will not have been aware of the change. Where could we have mentioned the change from autotools to cmake where you would have seen it?
 =||= > I assume that you are not subscribed to that list, so will not have been aware of the change. Where could we have mentioned the change from autotools to cmake where you would have seen it?

No, I am on many many mailing lists though and this would probably fly right by me anyhow (depends on the traffic though ;-) ).
A good place to document this is always the changelog (and just using the same information in the release information here on github or wherever you want to announce it). That being said, audacity has a `CHANGELOG.txt`, but it seems its use has ceased with 2.3.3.

Ideally, one would do something of the sort to switch build systems:

* Version a.b.c: With this version Audacity introduces cmake as an alternative build system
* Version a.b.d: With this version Audacity has established cmake as a full alternative to the previously default autotools based build system
* Version a.c.a: With this version Audacity makes cmake the default build system. The autotools build system is in maintenance mode only.
* Version a.d.a: With this version Audacity deprecates and removes the autotools build system.

Anything else is kind of unfair towards downstream as the current situation is now rather an ""all or nothing"" type of situation. =||= @SteveDaulton also, thanks for the clarification! =||= It is actually logged in our Bugzilla.  Steve did log it.
https://bugzilla.audacityteam.org/show_bug.cgi?id=2421

I reduced it from P1 (blocks our release) to P2.  

Patches for CMake are welcome, provided they do not break our builds.  (Windows 10, Mac 10.15, Ubuntu 18).  We too would like to be free of Python 2 dependency.  We are currently working to release a 2.4.2 that shifts us to wx3.1.3 (https://wiki.audacityteam.org/wiki/Next_Release) =||= > It is actually logged in our Bugzilla. Steve did log it.

The problem is, for some reason Audacitys' entire site is tainted by Cloudfare. That's an absolute no-go for a free software project, IMHO.

Anyway, back to the issue. Is there any clues about what is causing this weird behaviour? Why it only happens in autotools build? Maybe it's not an autotools issue, but it just so happens to reveal itself there?

 =||= > It is actually logged in our Bugzilla. Steve did log it.
> The problem is, for some reason Audacitys' entire site is tainted by Cloudfare.
> That's an absolute no-go for a free software project, IMHO.

You mean that following good security practices to protect our sites from malicious actors goes against the tenants of free software?  I'd absolutely love to read that article...please share a link.

> Anyway, back to the issue. Is there any clues about what is causing this weird
> behaviour? Why it only happens in autotools build? Maybe it's not an
> autotools issue, but it just so happens to reveal itself there?

Prior to our removal of the autotools build, I'd tracked down the crash to somewhere between commits a465ce0046e1726b3d2d926091b91714e154a91e (no crash) and c1d129ec9863a877cdd678695fff54a5dab5a191 (crash).  I never did figure out why it happened with autotools and not with cmake.
 =||= > You mean that following good security practices to protect our sites from malicious actors goes against the tenants of free software? I'd absolutely love to read that article...please share a link.

Your mean, injecting proven to be malicious third-party service, compromising your website by your own hands and depriving users of their freedom is now called ""good security practices""? WOW, that's really a long stretch...

If you want some links, you can just search for something like ""Why Cloudflare is Bad"". Here's only a couple:
https://lists.gnu.org/archive/html/gnu-system-discuss/2017-03/msg00126.html
http://techrights.org/2019/02/17/the-cloudflare-trap/
https://pixie.garden/~/ThufiesBlog/don%27t-trust-cloud-flare (beware, certificate expired, but site itself isn't dubious and the article is very worth reading)

> Prior to our removal of the autotools build, I'd tracked down the crash to somewhere between commits [a465ce0](https://github.com/audacity/audacity/commit/a465ce0046e1726b3d2d926091b91714e154a91e) (no crash) and [c1d129e](https://github.com/audacity/audacity/commit/c1d129ec9863a877cdd678695fff54a5dab5a191) (crash). I never did figure out why it happened with autotools and not with cmake.

Thanks!

I managed to figure our that's the actual problem is and how to bypass it, but I can't (and actually don't want to) dive too deep into the cause of it - it requires knowledge of the projects' source.

The problem isn't in any way related to the Autotools but probably to their usage in the project (which seems to be improper in some places). 

Real problem is that in https://github.com/audacity/audacity/blob/master/src/menus/ViewMenus.cpp `sizeof(wxFrame)` is 1016 bytes, whereas in https://github.com/audacity/audacity/blob/master/src/ProjectWindow.cpp same expression gives us only 1000 bytes. Wherefore all members of `ProjectWindow` class (which is indirect subclass of `wxFrame`) in `ViewMenus.cpp` got ""moved"" by 16 bytes and `GetVerticalScrollBar` at https://github.com/audacity/audacity/blob/master/src/menus/ViewMenus.cpp#L240 is returning reference into nowhere.

I don't know which size is the correct one; I don't know what causes such behaviour, but I suspect a dark magic with a memory that happens in some header files. Maybe there's something that adds two pointers for bookkeeping. Or maybe it's just messed up inclusion order of wxWidgets headers. I don't know.

To ""fix"" the problem you just need to include `ProjectWindow.h` before `Project.h` in https://github.com/audacity/audacity/blob/master/src/menus/ViewMenus.cpp#L10. That causes `sizeof(wxFrame)` in both files to align. The only question is, how many files there are where this happens too.

I've also checked on my machine; cmake build works either way (with the original code and wtih my ""fix""), autotools build works only in the latter case. Probably it won't harm to make this ""fix"" permanent.

I don't know why Autotools build crashes, whereas cmake one doesn't. Probably there's something wrong with autotools config. I can see that at least some parts of your dark memory magic is conditional depending on C++ standard used, and cmake build uses c++14, while autotools - c++11. I've tried to change this and also added -NDEBUG to autotooled options. That made some interesting change: Audacity successfully performed track resize, but after that it crashed with the usual error dialog. Well, I don't want to investigate much further, 'cause I've found a workaround and that's good enough for me. =||= As we no longer use autotools, and you have a workaround that you say is satisfactory, I'll now close this issue. =||= @SteveDaulton ehm, well I for one do not have a satisfactory solution yet!

Can we at least link this issue to a proper pull request to *fix* this problem instead of just closing this and then forgetting about it?
If the ""fix"" is indeed so trivial, I can do a pull request later and test this. If there is no side-effect with the cmake setup I would really appreciate this being included!

@Barracuda72 thanks for looking into this more deeply!  =||= > 
> 
> > You mean that following good security practices to protect our sites from malicious actors goes against the tenants of free software? I'd absolutely love to read that article...please share a link.
> 
> Your mean, injecting proven to be malicious third-party service, compromising your website by your own hands and depriving users of their freedom is now called ""good security practices""? WOW, that's really a long stretch...
> 
> If you want some links, you can just search for something like ""Why Cloudflare is Bad"". Here's only a couple:
> https://lists.gnu.org/archive/html/gnu-system-discuss/2017-03/msg00126.html
> http://techrights.org/2019/02/17/the-cloudflare-trap/
> https://pixie.garden/~/ThufiesBlog/don%27t-trust-cloud-flare (beware, certificate expired, but site itself isn't dubious and the article is very worth reading)
> 
Great articles!  But they still don't have anything to do with free software.

> > Prior to our removal of the autotools build, I'd tracked down the crash to somewhere between commits [a465ce0](https://github.com/audacity/audacity/commit/a465ce0046e1726b3d2d926091b91714e154a91e) (no crash) and [c1d129e](https://github.com/audacity/audacity/commit/c1d129ec9863a877cdd678695fff54a5dab5a191) (crash). I never did figure out why it happened with autotools and not with cmake.
> 
> Thanks!
> 
> I managed to figure our that's the actual problem is and how to bypass it, but I can't (and actually don't want to) dive too deep into the cause of it - it requires knowledge of the projects' source.
> 
> The problem isn't in any way related to the Autotools but probably to their usage in the project (which seems to be improper in some places).
> 
> Real problem is that in https://github.com/audacity/audacity/blob/master/src/menus/ViewMenus.cpp `sizeof(wxFrame)` is 1016 bytes, whereas in https://github.com/audacity/audacity/blob/master/src/ProjectWindow.cpp same expression gives us only 1000 bytes. Wherefore all members of `ProjectWindow` class (which is indirect subclass of `wxFrame`) in `ViewMenus.cpp` got ""moved"" by 16 bytes and `GetVerticalScrollBar` at https://github.com/audacity/audacity/blob/master/src/menus/ViewMenus.cpp#L240 is returning reference into nowhere.
> 
> I don't know which size is the correct one; I don't know what causes such behaviour, but I suspect a dark magic with a memory that happens in some header files. Maybe there's something that adds two pointers for bookkeeping. Or maybe it's just messed up inclusion order of wxWidgets headers. I don't know.
> 
Not THIS is something I can work with!  How on earth did you find it?!?!  I would NEVER have though to look for a size change.  I definitely look into it since the cause ""may"" still be lurking in there waiting to bite us in the future.
 =||= @dvzrv OK, I've reopened this issue, though personally I've lost track of what ""this issue"" is. =||= @Barracuda72 Thank you for your work on this.  I have opened a separate issue for the Cloudflare points. =||= @SteveDaulton Thanks. I have just applied the fix suggested by @Barracuda72 and opened a pull request for this.

This little change indeed fixes the issue I am seeing and I will directly apply it also for the package on Arch Linux as well. =||= This can also happen with the cmake build if you build with:

cmake -DCMAKE_BUILD_TYPE=RelWithDebInfo -Daudacity_use_pch=no ..

Still digging into the root cause... =||= We have tracked down the root cause of the problem to this wxWidgets bug:

  https://trac.wxwidgets.org/ticket/15884
  https://github.com/wxWidgets/wxWidgets/commit/72aad0d6ea0c11c7cbb722eefb6106a7f1bdd203

I backported their fix to wxWidgets 3.0.5.1 so I could verify that it does indeed correct the issue:

  [weakref.patch.gz](https://github.com/audacity/audacity/files/4705113/weakref.patch.gz)

I've also included the patched weakref.h so it should be easy for you to test as well.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
539cmake: check for system portsmf via correct pkg-config nameSebastian Ramachersebastinas05/26/20, 11:58:03 PM"Even if portsmf is installed system-wide, it is not found. pkg-config package name comparison is case-sensitive and portsmf installs portSMF.pc, so check for portSMF."NaNcmake: check for system portsmf via correct pkg-config nameSebastian Ramachersebastinas05/26/20, 11:58:03 PMEven if portsmf is installed system-wide, it is not found. pkg-config package name comparison is case-sensitive and portsmf installs portSMF.pc, so check for portSMF.NaNSebastian Ramacher05/26/20, 09:54:17 PMcmake: check for system portsmf via correct pkg-config name1
540Batch process87532515505/27/20, 11:44:42 AMHow can I do batch process  using audacity?Audacity's support forum is here: https://forum.audacityteam.org =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
541Bug in Audacity 2.4.1Marco-Lugo05/29/20, 01:10:53 AM"**Describe the bug**
A crash.

**To Reproduce**
Steps to reproduce the behavior:
1. Go to 'Tracks'.
2. Click on 'Add New'.
3. Click on 'Mono Track'.
4. Double click the Gain slider on the left of the new audio track.
5. In the open request named ""Gain"" cancel the zero value.
6. Boom! A crash occurs.

**Expected behavior**
Not a crash! :D

**Screenshots**
If applicable, add screenshots to help explain your problem.

**Additional information (please complete the following information):**
 - OS: Windows 10
 - Version Audacity 2.4.1

In the zip file you can find an MP4 video that show the reproduction of the bug:
[Audacity bug.zip](https://github.com/audacity/audacity/files/4689972/Audacity.bug.zip)
""Works for me (no crash)
Please check your steps to see if you missed out some crucial step.
 =||= [Audacity_dbgrpt-19260-20200528T161138.zip](https://github.com/audacity/audacity/files/4696186/Audacity_dbgrpt-19260-20200528T161138.zip)
Re: [audacity/audacity] Bug in Audacity 2.4.1 (#541)


--- Works for me (no crash)
--- Please check your steps to see if you missed out some crucial step

Hi James,
For me is perfectly replicable.
In the zip file you can found the dump generated by audacity after the crash.

Kind Regards.

Marco Lugo =||= Works for me on W10 - no crash =||= I see some extra steps in the video.  I'm guessing:

1. Go to 'Tracks'.
2. Click on 'Add New'.
3. Click on 'Mono Track'.
4. Double click the Gain slider on the left of the new audio track.
5. Press right arrow key
6. Press delete key
7. Press Enter
8. Boom! A crash occurs.

However that works for me too.  Also works with Italian language selected.
Was that the sequence of keys you pressed?
 =||= When the requester named ""Gain"" come up don't click in the edit gadget but leave the ""0"" high lighted and press the backspace key. Another effect I see sometimes is the ""-nan"" string in the Gain numeric edit request. =||= I've just tried that:
a) With the delete left key, followed by the enter key
b) With the left arrow key, followed by the enter key

In both cases works fine for me. =||= James at this point, if you can, try it on a PC different from that you use.
There is a video of the crash, there is a report with a dump, there is a complete description of how to reproduce it.
I think that an user can't make more. :) =||= Marco - Thanks you for the report and the details.
My/Audacity's problem is that we can't progress it until/unless we can reproduce it on our machines.  We DO believe you.  We can see it crashing in the video!

We have tried it on two machines, with no crash.  It looks like we will have trouble tracking it down.  If we make progress we'll report it here.
 =||= I've tried it here as well (and I'll give it a try again in a bit).  And like James, I can't reproduce it either. =||= I take that back!  I CAN reproduce it here.  Let me dig a bit and I'll comment more. =||= James, try it with a release build. =||= I am trying with 2.4.1 actual release (which is a release build :-) ).  What am I missing? =||= Great...no I can't get it to happen again.  :-(  Grrr.  Let me see if I can pin it down. =||= James, we may not be able to recreate the issue, but we do have a visual clue something isn't right.  Try the steps in a Debug build.  You'll see the slider in the dialog go all the way to the left.  In a Release build it doesn't move at all. =||= Good news Marco.  I'm pretty sure I've found the cause.  While I can't reproduce the crash directly, I am able to simulate it.  Your comment about the ""-nan"" above clued was the key to finding it.

But #2458 created to resolve it:

https://bugzilla.audacityteam.org/show_bug.cgi?id=2458 =||= Fix committed here:

https://github.com/audacity/audacity/commit/8ae8e0f

Closing this bug. Thanks Marco for reporting it (and being patient with us :-)). =||= Thanks Lucius and James. :)
If you want a quick test I'm disponible. =||= @Marco-Lugo  please try windows 'artifact' from here; (top right corner where it says 'Artifacts 4'
https://github.com/audacity/audacity/runs/718875503 =||= I tested it and the bug is fixed!
When there will be an official installer with this fix?
Thanks again :) =||= Great!

We plan to release 2.4.2 22nd June https://wiki.audacityteam.org/wiki/Next_Release
However, our experience is that we usually find new bugs close to release and have to delay to fix them.  We will update that page with progress.

Feel free to contact me or Leland (lllucius) directly about anything Audacity related, and thanks for your bug report and details, and testing confirmed fixed.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
542Mw2html python3Jack Thomsonzesoft2305/27/20, 06:45:26 PM"Hey folks,

This moves the mw2html.py script and the accompanying htmldata.py library to python3. In the email list, there was talks about moving to BS4. I'm up to do that, but the current implemenation only uses default libraries and the htmldata.py library which is included in the folder. I think this makes it a bit easier to run in general. Let me know if my htmldata.py port is not welcome!

The majority of the changes focus on default python 2 -> ports like moving the url libraries to their python3 equivalents. The major non-default changes I made were in lines 764 of mwhtml.py to use utf8 encoding for text based files and 942 of mwhtml.py to remove improper \t and \n formatting.

To test:

You must have git, python, a web browser and Windows.

git clone https://github.com/zesoft23/audacity/
cd audacity
git checkout mw2html_python3
cd scripts\mw2html_audacity
.\wiki2htm.bat
Use your favorite browser to open up the file located at:
audacity\help\manual\index.html


Unfortunately, this only seems to work on Windows due to the Cloudflare protection on the wiki. I get a 503 error when running on Debian 10 which I'm fairly sure is Cloudflare DDOS protecting from my computer.

Thanks for y'all's time!""Thank you!  Very welcome. =||= Cool.  This was the last thing blocking me from changing to Python3 in the cmake build.  I'll get that changed shortly. =||= Ah, thanks for doing this!

On Wed, May 27, 2020, 16:05 Leland Lucius <notifications@github.com> wrote:

> Cool. This was the last thing blocking me from changing to Python3 in the
> cmake build. I'll get that changed shortly.
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/542#issuecomment-634877213>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AB2A6NJNG2IMISIVB7FE3SLRTVQAHANCNFSM4NMMD2CQ>
> .
>
 =||= "Mw2html python3Jack Thomsonzesoft2305/27/20, 06:45:26 PM"Hey folks,

This moves the mw2html.py script and the accompanying htmldata.py library to python3. In the email list, there was talks about moving to BS4. I'm up to do that, but the current implemenation only uses default libraries and the htmldata.py library which is included in the folder. I think this makes it a bit easier to run in general. Let me know if my htmldata.py port is not welcome!

The majority of the changes focus on default python 2 -> ports like moving the url libraries to their python3 equivalents. The major non-default changes I made were in lines 764 of mwhtml.py to use utf8 encoding for text based files and 942 of mwhtml.py to remove improper \t and \n formatting.

To test:

You must have git, python, a web browser and Windows.

git clone https://github.com/zesoft23/audacity/
cd audacity
git checkout mw2html_python3
cd scripts\mw2html_audacity
.\wiki2htm.bat
Use your favorite browser to open up the file located at:
audacity\help\manual\index.html


Unfortunately, this only seems to work on Windows due to the Cloudflare protection on the wiki. I get a 503 error when running on Debian 10 which I'm fairly sure is Cloudflare DDOS protecting from my computer.

Thanks for y'all's time!"NaNJack Thomson05/27/20, 05:49:52 PMUpdate bash script to use python31
544[WIN32] PCH: DEBUG_NEW unsupported by GNU libstdc++Carlo Braminicarlo-bramini05/27/20, 08:45:04 PMSee issue #536 for details.NaN[WIN32] PCH: DEBUG_NEW unsupported by GNU libstdc++Carlo Braminicarlo-bramini05/27/20, 08:45:04 PMSee issue #536 for details.NaNCarlo Bramini05/27/20, 07:22:29 PM[WIN32] PCH: DEBUG_NEW unsupported by GNU libstdc++1
545Fix crash on track resizeDavid Rungedvzrv05/31/20, 05:17:39 PM"As discussed in #538, there is an issue with the track resize option,
where with audacity >= 2.4.0, compiled using the autotools setup leads
to a hard crash.

The sizeof(wxFrame) in src/menus/ViewMenus.cpp and src/ProjectWindow.cpp
is not aligned, leading to GetVerticalScrollBar in
src/menus/ViewMenus.cpp accessing unallocated memory.

By ordering the include of ProjectWindow.h before the include of
Project.h, this crash is prevented.

Closes #538"This does not fix the root cause.  The root cause which is a bug in wxWeakRef in wx3.0.x (which we don't use) and which leads to other crashes in Audacity.  You need to patch wxWidgets, or use a more up to date version of wxWidgets.  See discussion in #538 =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
546DependenciesPaul LicameliPaul-Licameli05/28/20, 08:34:28 AM"Fix link dependencies that made cycles, which were not detected by scripts/graph.pl until more recent changes were made at commits
6541e808be3b2dce55a9bd0d746fe9a5a4163f41,
226a80140a12d1ad3b76959aa1d8884b01c6923c,
a57b63c63f4d76976960847ef95640d368f0250b.

The cycle-breaking moves that fix these problems are all of the lower-risk kind -- making new source files and cutting and pasting into them.  Some added and removed #includes and some
renaming of types.
""Rejected.
Conflicts with master, and with the kMyTimerInterval change corrected still fails to build on MSVC

7>  C:\OpenSourceGit\Audacity\src\Menus.cpp(255): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int
7>  C:\OpenSourceGit\Audacity\src\Menus.cpp(255): error C2143: syntax error: missing ',' before '&'
7>  C:\OpenSourceGit\Audacity\src\Menus.cpp(256): error C2511: 'MenuTable::AttachedItem::AttachedItem(const int)': overloaded member function not found in 'MenuTable::AttachedItem'
7>  c:\opensourcegit\audacity\src\commands/CommandManager.h(683): note: see declaration of 'MenuTable::AttachedItem'
7>  C:\OpenSourceGit\Audacity\src\Menus.cpp(257): error C2065: 'placement': undeclared identifier
7>  C:\OpenSourceGit\Audacity\src\Menus.cpp(257): error C2065: 'pItem': undeclared identifier
 =||= I have rebased the branch and resolved the conflict with commit 63b9b60542a5d22c707b37175c85c216bedaaf15

Please reconsider.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
547DependenciesPaul LicameliPaul-Licameli05/28/20, 12:59:49 PM"I rebased and fixed the conflict with commit 63b9b60542a5d22c707b37175c85c216bedaaf15

Please reconsider.""Build still fails on MSVC 2017, exactly as before.  (I had already fixed the conflict)

7>C:\OpenSourceGit\Audacity\src\Menus.cpp(255): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int
7>C:\OpenSourceGit\Audacity\src\Menus.cpp(255): error C2143: syntax error: missing ',' before '&'
7>C:\OpenSourceGit\Audacity\src\Menus.cpp(256): error C2511: 'MenuTable::AttachedItem::AttachedItem(const int)': overloaded member function not found in 'MenuTable::AttachedItem'
7>C:\OpenSourceGit\Audacity\src\Menus.cpp(257): error C2065: 'placement': undeclared identifier
7>C:\OpenSourceGit\Audacity\src\Menus.cpp(257): error C2065: 'pItem': undeclared identifier

So again, rejected. =||= Thanks for this.  I added your namespace fix, and it compiles with that fix.  The updates look fine, so committed. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
548[CMAKE] Fix build for Cygwin.Carlo Braminicarlo-bramini05/28/20, 09:21:22 PMNaNNaN[CMAKE] Fix build for Cygwin.Carlo Braminicarlo-bramini05/28/20, 09:21:22 PMNaNNaNCarlo Bramini05/28/20, 08:49:50 PM[CMAKE] Fix build for Cygwin.1
549Module managerPaul LicameliPaul-Licameli05/29/20, 03:48:53 PM"# Pull Requests

Two commits simplify things by deleting some code.

Leland, please review, and reject if there was intended future use of RegisterModule that I didn't know about.
""> 
> # Pull Requests
> 
> Two commits simplify things by deleting some code.
> 
> Leland, please review, and reject if there was intended future use of RegisterModule that I didn't know about.

Nope, no problem here.  I haven't looked at how you have things working these days, but if this isn't needed any longer, then by all means jettison it. =||= "Module managerPaul LicameliPaul-Licameli05/29/20, 03:48:53 PM"# Pull Requests

Two commits simplify things by deleting some code.

Leland, please review, and reject if there was intended future use of RegisterModule that I didn't know about.
"NaNPaul Licameli05/29/20, 01:49:21 PMRemove nested #include of ModuleInterface.h1
550Crashing when using effects (Amplify in this case)James Aublejames0r06/11/20, 02:00:18 AM"Here is crash report:

http://dpaste.com/2H3QNHV""Hi James.

I see you are running Audacity 2.3.3.
Is the problem 100% reproducible or does it only happen sometimes?

Could you also try our latest released Audacity, 2.4.1, and see if it happens with that too?  We don't get this crash with either 2.3.3 or 2.4.1.
 =||= don't have time to investigate. i'll try again with newest version soon. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
551Document cmake optionsmikhailnov05/31/20, 10:42:37 PM"Please document cmake options that would allow to switch betweeb system and bundled libraries""Probably `cmake -Daudacity_use_xxx:STRING=system` ? =||= Here you go:

https://wiki.audacityteam.org/wiki/CMake_Options

If you need more info, ask in this thread, and we can update that page. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
552wxGTK is underlinkedmikhailnov05/13/21, 08:02:52 PM"Building with `-Wl,--no-undefined`:

```
/usr/bin/ld.default: CMakeFiles/mod-script-pipe.dir/ScripterCallback.cpp.o: in function `__static_initialization_and_destruction_0':
/usr/src/RPM/BUILD/audacity-src-2.4.1/modules/mod-script-pipe/ScripterCallback.cpp:114: undefined reference to `wxArrayString::~wxArrayString()'
/usr/bin/ld.default: CMakeFiles/mod-script-pipe.dir/ScripterCallback.cpp.o:(.data.rel.ro._ZTI20wxThreadHelperThread[_ZTI20wxThreadHelperThread]+0x10): undefined reference to `typeinfo for wxThread'
<...>
```

Probably `wx-config --libs` have to be used.""CMAKE_EXE_LINKER_FLAGS and CMAKE_MODULE_LINKER_FLAGS seem to be ignored =||= As the resulting binary cannot be underlinked, maybe here there is no sense in try to avoid underlinking =||= Please explain more clearly.
What do you mean by 'underlinked'?

Is your point about mod-script-pipe (only)?  
Is it that mod-script-pipe requires wxWidgets libs?

 =||= when Audacity is being build with `-Wl,--no-undefined`, some middle stages of compilation fail because some wx libs are not linked =||= > 
> 
> when Audacity is being build with `-Wl,--no-undefined`, some middle stages of compilation fail because some wx libs are not linked

Interesting...I do not see that here and we actually NEED --no-undefined so that the symbols are resolved at runtime, rather than build time.

How are you building?
 =||= --no-undefined is not needed, but it would be nice to be able to build correctly with it
I actually realized that it is not obligatory to be able to be buildable with --no-undefined a bit after reporting this issue =||= Closing.
Bug report is unclear.  Also:

>I actually realized that it is not obligatory to be able to be buildable with --no-undefined a bit after reporting this issue =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
553Fixed bug 2396. binarywisdom05/31/20, 05:02:31 PM"Set button now accounts for the existence of the legal shortcuts duplicates.

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNFixed bug 2396. binarywisdom05/31/20, 05:02:31 PM"Set button now accounts for the existence of the legal shortcuts duplicates.

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNbinarywisdom05/30/20, 10:18:39 PMfixed bug 2396. Set button now accounts for the existence of legal shortcuts duplicates.1
554libmp3lame cannot be linked dynamically in new CMake build systemmikhailnov08/02/21, 05:08:13 PM"In the new cmake build system it is impossible to link libmp3lame dynamically. It was possible in autotools, and the code of Audacity is designed to allow to work without dlopening it.

cmake-proxies/lame assumes it to be linked statically and src/CMakeLists.txt sets DISABLE_DYNAMIC_LOADING_LAME to YES only in Windows builds. src/audacity_config.in default to DISABLE_DYNAMIC_LOADING_LAME being YES.

In ffmpeg, audacity_use_ffmpeg:STRING=linked makes it be linked dynamically, but why do you use ""linked"" for ffmpeg, why not just link it dynamicaly if a system version is used? And why is lame not using the same config options?""Seems that -DDISABLE_DYNAMIC_LOADING_LAME is set, but everything continues to work because some of dependencies of Audacity depend from libmp3lame, what makes it already loaded.
libmp3lame must be explicitly linked to Audacity. =||= > In the new cmake build system it is impossible to link libmp3lame dynamically.

Yes, currently no system version of lame is detected.
`pkg_check_modules` doesn't work here because mp3lame doesn't provide a pkg-config file.

https://github.com/audacity/audacity/blob/ce07da936cf956c2d2226c356d287e32f4323aad/cmake-proxies/CMakeLists.txt#L86 =||= This is a blocker for updating to 2.4.2 in openSUSE and most probably other distributions too. Looking at @rrrapha 's statement I'm led to believe that if I create a pkgconfig/mp3lame.pc in our llibmp3lame package that cmake will pick it up?
It's a pity that autotools was removed prematurely. =||= The actual library is called libmp3lame but audacity's cmake looks for lame.pc not libmp3lame.pc if this is changed I'll create a pkgconfig file in the lame package, meanwhile I'll make a workaround for the online build until either system lame is found like the old autotools did (preferable) or cmake looks for libmp3lame.pc =||= > 
> 
> This is a blocker for updating to 2.4.2 in openSUSE and most probably other distributions too. Looking at @rrrapha 's statement I'm led to believe that if I create a pkgconfig/mp3lame.pc in our llibmp3lame package that cmake will pick it up?
> It's a pity that autotools was removed prematurely.

If this is blocker, then you're going to LOVE our next release.  We will be requiring use of our modified version of wxWidgets (https://github.com/audacity/wxWidgets)  This would have been in 2.4.2, but I didn't make the deadline.
 =||= We will love it! What are the reasons to require a modified version of wxWidgets?

P.S. I hacked Audacity to use system libmp3lame with a patch bellow and by adding `-lmp3lame` to linker flags manually.

```diff
From f0c7f63e59c2db9183908be556836e77e4e0755b Mon Sep 17 00:00:00 2001
From: Mikhail Novosyolov <mikhailnov@nixtux.ru>
Date: Sun, 31 May 2020 02:36:51 +0300
Subject: [PATCH] HACK: off bundled libmp3lame

https://github.com/audacity/audacity/issues/554
Manually setting
-DDISABLE_DYNAMIC_LOADING_LAME=1 -lmp3lame
---
 cmake-proxies/lame/CMakeLists.txt | 26 +-------------------------
 lib-src/lame/empty.c              |  3 +++
 2 files changed, 4 insertions(+), 25 deletions(-)
 create mode 100644 lib-src/lame/empty.c
diff --git a/cmake-proxies/lame/CMakeLists.txt b/cmake-proxies/lame/CMakeLists.txt
index ac405a6d5..f521fdddb 100644
--- a/cmake-proxies/lame/CMakeLists.txt
+++ b/cmake-proxies/lame/CMakeLists.txt
@@ -6,26 +6,7 @@ def_vars()
 list( APPEND SOURCES
    PRIVATE
       # libmp3lame
-      ${TARGET_ROOT}/libmp3lame/bitstream.c
-      ${TARGET_ROOT}/libmp3lame/encoder.c
-      ${TARGET_ROOT}/libmp3lame/fft.c
-      ${TARGET_ROOT}/libmp3lame/gain_analysis.c
-      ${TARGET_ROOT}/libmp3lame/id3tag.c
-      ${TARGET_ROOT}/libmp3lame/lame.c
-      ${TARGET_ROOT}/libmp3lame/newmdct.c
-      ${TARGET_ROOT}/libmp3lame/presets.c
-      ${TARGET_ROOT}/libmp3lame/psymodel.c
-      ${TARGET_ROOT}/libmp3lame/quantize.c
-      ${TARGET_ROOT}/libmp3lame/quantize_pvt.c
-      ${TARGET_ROOT}/libmp3lame/reservoir.c
-      ${TARGET_ROOT}/libmp3lame/set_get.c
-      ${TARGET_ROOT}/libmp3lame/tables.c
-      ${TARGET_ROOT}/libmp3lame/takehiro.c
-      ${TARGET_ROOT}/libmp3lame/util.c
-      ${TARGET_ROOT}/libmp3lame/vbrquantize.c
-      ${TARGET_ROOT}/libmp3lame/VbrTag.c
-      ${TARGET_ROOT}/libmp3lame/version.c
-      ${TARGET_ROOT}/libmp3lame/vector/xmm_quantize_sub.c
+      ${TARGET_ROOT}/empty.c
 )
 
 list( APPEND INCLUDES
@@ -82,8 +63,3 @@ configure_file( config.h.in private/config.h )
 
 #organize_source( ""${TARGET_ROOT}"" """" ""${SOURCES}"" )
 target_sources( ${TARGET} PRIVATE ${SOURCES} )
-target_compile_definitions( ${TARGET} PRIVATE ${DEFINES} )
-target_include_directories( ${TARGET} PRIVATE ${INCLUDES} )
-target_compile_options( ${TARGET} PRIVATE ${OPTIONS} )
-target_link_libraries( ${TARGET} PRIVATE ${LIBRARIES} )
-
diff --git a/lib-src/lame/empty.c b/lib-src/lame/empty.c
new file mode 100644
index 000000000..292aa3b34
--- /dev/null
+++ b/lib-src/lame/empty.c
@@ -0,0 +1,3 @@
+int main(){
+	//
+} 
``` =||= Commits for our next version have been opened back up, so I'll look into fixing this for you guys.

The reason for forcing the custom version is just that, it's custom.  We have backported several important fixes from wxWidgets master that Audacity needs.  And we'll be adding Audacity specific accessibility to our wxWidgets version.  (Though I hope to make it generic enough to submit upstream.) =||= I've added a pkgconfig file to the lame package and added a generated pc file to audacity's spec file. If there's a patch available for the wxWidgets modification Audacity already has it's own widgets package in openSUSE. Which commit can I get the widgets patch from? =||= BTW a little off topic, audacity no longer builds for 32 bit. =||= > 
> 
> I've added a pkgconfig file to the lame package and added a generated pc file to audacity's spec file. If there's a patch available for the wxWidgets modification Audacity already has it's own widgets package in openSUSE. Which commit can I get the widgets patch from?

We keep our version at https://github.com/audacity/wxWidgets and the default branch is set to audacity-fixes-3.1.3.  We will always have our current version set as the default branch in Github, so just cloning will get you the most current. =||= > 
> 
> BTW a little off topic, audacity no longer builds for 32 bit.

Interesting, it does on Windows.  What errors are you getting?  That's something we need to fix. =||= @lllucius So in general audacity's version of wxWidgets does not break compatibility with upstream wxWidgets and applications using it, does it? =||= I made a mistake with the generated pc file and hardcoded lib64, this is most probably the cause =||= The build failure for i586 linux has been reported in https://github.com/audacity/audacity/issues/594 =||= Closing per:
> I made a mistake with the generated pc file and hardcoded lib64, this is most probably the cause =||= > > BTW a little off topic, audacity no longer builds for 32 bit.
> 
> Interesting, it does on Windows. What errors are you getting? That's something we need to fix.

See https://github.com/audacity/audacity/issues/594#issuecomment-840788325 =||= I think this issue should be reopened =||= > I think this issue should be reopened

Done. =||= Fixed in #1008  =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
555Failed to enable install and load Effect Plugins -Ubuntu 20.04 PPA Version.Charlie Ramirez Animation Studios de MexicoCharlie-Ramirez-Animation-Studios-de-MX05/13/21, 07:57:57 PM"It is impossible to activate and install Effects Plugins. Both at startup and with an open project.
The Add / Remove dialog box. It does not save the enabled / disabled state of the plugins, it only shows the default plugins. When changing to activated and closing them they are unchecked again.

**To Reproduce**
Download the PPA Version, via terminal (sudo apt install audacity) in Ubuntu 20.04.
[error after updating version possibly]

- open (a ghost icon will blink disappearing in the gnome bar) -Splash Screen is not shown [another bug?]
-Audacity will open. Try to Install or enable a plugin in the Add option (Effects)
-Enable and then check in the effects list (the plugin is not there, when you return to the add list, you will see that it is disabled) [See Image]

-Go to the tools tab.
-The tool to install Plugins automatically is not shown and has been replaced by another button that redirects to the  ""adding remove plugins"" from the effects function.
Folder usr/share/Audacity/Plug-ins (doesn't Exist). [cannot be created, could be...manually with root permissions


Disabled plugins should be enabled when changing Add / Remove Plugins.
-The tool to import (install, new plugins should appear)
In some Tabs the Text exceeds the limits or is not centered (I'm not sure if it will be an audacity bug or if it is a secondary consequence of the system escalation)

**Screenshots**
![Captura de pantalla de 2020-05-30 20-18-34](https://user-images.githubusercontent.com/64709446/83342420-eea7aa80-a2b4-11ea-847e-f8e7aaad4e20.png)
![Captura de pantalla de 2020-05-30 20-56-53](https://user-images.githubusercontent.com/64709446/83342706-28c67b80-a2b8-11ea-8469-93a53b5eec9c.png)

[tools tab does not allow taking screenshots when active]

**Additional information**
 - OS: Ubuntu 20.04 x64
 - Version Audacity 2.4.1 [Via PPA.]
Fecha de compilación:
Jan 29 2016
Commit Id:
No hay ningún identificador de revisión
Tipo de compilación:
Debug build (debug level 0), 64 bits
Compilador:
GCC 9.3.0
Prefijo de instalación:
/usr
Carpeta de configuración:
/home/charlie/.audacity-data

**Additional context**
LOG:
20:17:07: Audacity 2.4.1
20:17:07: Warning: Critical Nyquist files could not be found. Nyquist effects will not work.
20:17:19: Retrieving FFmpeg library version numbers:
20:17:19:    AVCodec version 0x3a3664 - 58.54.100 (built against 0x3a3664 - 58.54.100)
20:17:19:    AVFormat version 0x3a1d64 - 58.29.100 (built against 0x3a1d64 - 58.29.100)
20:17:19:    AVUtil version 0x381f64 - 56.31.100 (built against 0x381f64 - 56.31.100)
20:18:26: Error: .so: no se puede abrir el archivo del objeto compartido: No existe el archivo o el directorio
20:35:24: Error: .so: no se puede abrir el archivo del objeto compartido: No existe el archivo o el directorio
20:39:01: Error: .so: no se puede abrir el archivo del objeto compartido: No existe el archivo o el directorio

-Assist Report Data Genered:
[Audacity_dbgrpt-23899-20200530T203956.zip](https://github.com/audacity/audacity/files/4706953/Audacity_dbgrpt-23899-20200530T203956.zip)""Fecha de compilación:
Jan 29 2016
Commit Id:
No hay ningún identificador de revisión
Tipo de compilación:
Debug build (debug level 0), 64 bits

The source was created in 2020, so a compilation date of 2016 is way out of date.
Distros should be building with a revision ident.  This ppa does not.
Compilations should be release builds, not debug.

Please correct the 'additional information'.  If it is already correct, you have a bad ppa.  Ask whoever supplied it to fix it.  




 =||= Closing.  Bad ppa.  Not ours. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
556[NYQUIST] Fix error build with MinGW and CYGWINCarlo Braminicarlo-bramini06/03/20, 06:16:29 PM"When compiling, I got this error:

```
/lib-src/libnyquist/nyquist/nyqsrc/sndread.c: In function 'snd_make_read':
/lib-src/libnyquist/nyquist/nyqsrc/sndread.c:169:30: error: invalid operands to binary | (have 'int' and 'long int *')
  169 |         susp->sf_info.format |= format;
      |                              ^~
```
I would like to suggest this fix for this error."NaN[NYQUIST] Fix error build with MinGW and CYGWINCarlo Braminicarlo-bramini06/03/20, 06:16:29 PM"When compiling, I got this error:

```
/lib-src/libnyquist/nyquist/nyqsrc/sndread.c: In function 'snd_make_read':
/lib-src/libnyquist/nyquist/nyqsrc/sndread.c:169:30: error: invalid operands to binary | (have 'int' and 'long int *')
  169 |         susp->sf_info.format |= format;
      |                              ^~
```
I would like to suggest this fix for this error."NaNCarlo Bramini05/31/20, 01:26:45 PM"[NYQUIST] Fix error build with MinGW and CYGWIN

When compiling, I got this error:

/lib-src/libnyquist/nyquist/nyqsrc/sndread.c: In function 'snd_make_read':
/lib-src/libnyquist/nyquist/nyqsrc/sndread.c:169:30: error: invalid operands to binary | (have 'int' and 'long int *')
  169 |         susp->sf_info.format |= format;
      |                              ^~

I would like to suggest this fix for this error."1
557 [NYQUIST] Fix build on CYGWIN. Carlo Braminicarlo-bramini06/03/20, 06:13:41 PMNaNNaN [NYQUIST] Fix build on CYGWIN. Carlo Braminicarlo-bramini06/03/20, 06:13:41 PMNaNNaNCarlo Bramini05/31/20, 01:39:56 PM"[NYQUIST] Fix build on CYGWIN.

Cygwin requires to include endian.h to build without errors."1
558Fix translationsmikhailnov05/31/20, 05:11:16 PM"Some menu entries were not translated in Russian, some were not transalted in all languages. Fixed them.
Screenshot bellow shows untranslated strings, now they are translated.
![DeepinScreenshot_выберите-область_20200531044140](https://user-images.githubusercontent.com/15802528/83355634-56b7c880-a369-11ea-8d0f-b0e1dff11e75.png)
""Thanks.  

But 
(a) Please only change po files for the languages you offer to translate (even if via script).
(b) Please do updated po files for your own language (Russian) via the translator's email list, where conflicts between different translators/translations can be resolved, and general issues with translatability that affect all translations can be discussed with all translators.

I generally prefer to receive updated .po files via that list, rather than as pull requests.  

Pull request rejected.
 =||= a) as you see, I changed a string in the source code, so it was necessary to update all pot and po files, how do you suggest to handle this?
b) ok, I will write there, but I would suggest that an updated po file is pull requested after it is accepted in the list =||= a) Just request the change in the source (pull request is fine).  If it is only a string change, maybe mention it is a 'Wording change'.  The script will be run at the start of translation freeze, and translators will then be asked for updated translations.
b) That's not how we do it.  After end of translation freeze stage, and before making rcs, I diff the new .po against the old, and can sometimes pick up mistakes even though I don't speak the languages.  The order of strings is unchanged which makes the diffing actually useful.  =||= Thanks for explaining. So, I should first request a change of the string without changing anything in locale/. Send a PR with that change. Then wait for long and only then have a chance to suggest my translation of the new wording? =||= > Thanks for explaining. So, I should first request a change of the string without changing anything in locale/. Send a PR with that change. 

Correct.

You don't need to suggest the new wording.  The existing translator will do it.

If you want to get involved in translating, then you really need to be subscribed to the translators list and work with existing translators there.   =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
559Audacity recorded audio is slightly shorter than real lifeVandalPaulius05/13/21, 07:56:51 PM"**Describe the bug**
Audacity recorded audio is slightly shorter than real life, noticable only when trying to sync audio with other record sources such as external camera footage (+ audio)

**To Reproduce**
1. Record audio (10+ minute clip to increase effect) with Audacity (and possibly via USB audio interface)
2. Record same audio with OBS Studio or any other recording software or hardware (can be external camera, phone, etc)
3. Export Audacity record to `wav` or `mp3` format
4. Align audio from Audacity and other source in any software (in my case it was Davinci Resolve 16.2)
5. Zoom in different locations in and notice what Audacity record is slightly shorter. This is especially noticable if you're trying to sync audio with Resolves ""Auto sync"" feature

**Expected behavior**
Audio to be it's real length

**Additional information (please complete the following information):**
 - OS: Windows 10 Pro
 - Version: Audacity 2.4.1
 - Recording device: USB audio interface - Behringer U-Phoria UMC2020HD 192kHz

**Additional context**
I have tried different records with camera and OBS Studio, tried different sampling and bitrates in Audacity and same behaviour persists.""There are many possible reasons why this could be happening. Please post to our support forum and we will be happy to try and help. The support forum is here: https://forum.audacityteam.org =||= I didn't realise it might be configuration issue.
Will ask help on the forum. Thank you =||= Support issue moved to forum. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
560Update french translationOreonanOreonan06/05/20, 08:20:40 PM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests ""Thanks, 

Please join the audacity-translators mailing list at sourceforge and work with the existing French translator there.  I'd rather get translations from a single source.

I'm not going to merge this pull request.  For example translating ""33⅓"" as ""331/3"" is wrong - over a 100 fold increase in speed vs a 3 fold reduction in speed.

 =||= Thanks for redirecting @Oreonan to the mailing list. @JamesCrook , you can merge #561 which is a typo which needs to be fixed. All the rest are either wrong, useless, or in needs of discussion.

@Oreonan : nice finding for the fichier/filtre typo =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
561Fix a typo in the French translationOlivier Humberttrebmuh06/05/20, 08:55:46 PMFrom #560 .:+1: =||= Fix a typo in the French translationOlivier Humberttrebmuh06/05/20, 08:55:46 PMFrom #560 .NaNOlivier Humbert06/05/20, 08:44:44 PMFix a typo in the French translation1
562Fix duplicate keyboard-shortcuts in French translationOlivier Humberttrebmuh06/06/20, 12:16:43 PM"Following the discussion with @Oreonan on the mailing list."NaNFix duplicate keyboard-shortcuts in French translationOlivier Humberttrebmuh06/06/20, 12:16:43 PMFollowing the discussion with @Oreonan on the mailing list.NaNOlivier Humbert06/06/20, 12:03:01 PMremove personal comments in the FR translation1
563[WIN32] This inline ASM is supported only by MSVC.Carlo Braminicarlo-bramini06/07/20, 05:49:34 PMNaNNaN[WIN32] This inline ASM is supported only by MSVC.Carlo Braminicarlo-bramini06/07/20, 05:49:34 PMNaNNaNCarlo Bramini06/07/20, 03:18:50 PM[WIN32] This inline ASM is supported only by MSVC.1
565French translation update for 2.4.2Olivier Humberttrebmuh06/09/20, 09:22:47 PMNaNNaNFrench translation update for 2.4.2Olivier Humberttrebmuh06/09/20, 09:22:47 PMNaNNaNOlivier Humbert06/09/20, 09:19:31 PM(hopefully) really fixed this time!1
566Update Italian translations for 2.4.4Michele Locatimlocati06/10/20, 09:31:30 AMNaNNaNUpdate Italian translations for 2.4.4Michele Locatimlocati06/10/20, 09:31:30 AMNaNNaNMichele Locati06/10/20, 07:50:12 AMUpdate Italian translations for 2.4.41
567Create audacity-beginner-tutorial.txtArjun Kahlonarjunkahlon06/11/20, 09:18:43 AM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests ""Thanks.  Not suitable for our repo.
If you'd like to help users, ask on the forum about it. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
570properly saved .aup considers all .au files as orphansCampbell Vertesiohthehugemanatee05/13/21, 07:55:17 PM"**Describe the bug**
When loading a properly saved .aup project, audacity considers all .au files as orphans and does not include them. 

**To Reproduce**
Steps to reproduce the behavior:
1. Save a project and quit Audacity
2. Start audacity and Open the project.

Note the ""orphaned files"" prompt. In the log it lists all of the files in the _data directory as orphans. The files are listed in the .aup file. 

**Expected behavior**
The project should load all the .au files.

**More information**
Logfile: [log.txt](https://github.com/audacity/audacity/files/4777368/log.txt)
AUP: 
```
<?xml version=""1.0"" standalone=""no"" ?>
<!DOCTYPE project PUBLIC ""-//audacityproject-1.3.0//DTD//EN"" ""http://audacity.sourceforge.net/xml/audacityproject-1.3.0.dtd"" >
<project xmlns=""http://audacity.sourceforge.net/xml/"" projname=""cast patreon audio take 3_data"" version=""1.3.0"" audacityversion=""2.4.1"" sel0=""0,0000000000"" sel1=""0,0000000000"" vpos=""0"" h=""106,5912018141"" zoom=""86,1328125000"" rate=""44100,000000"" snapto=""off"" selectionformat=""hh:mm:ss + milliseconds"" frequencyformat=""Hz"" bandwidthformat=""octaves"">
	<tags/>
	<wavetrack name=""Audio Track"" isSelected=""0"" height=""150"" minimized=""0"" channel=""0"" linked=""1"" mute=""0"" solo=""0"" rate=""44100"" gain=""1,000000"" pan=""0,000000"" colorindex=""0"">
		<waveclip offset=""0,00000000"" colorindex=""0"">
			<sequence maxsamples=""262144"" sampleformat=""262159"" numsamples=""5420655"">
				<waveblock start=""0"">
					<simpleblockfile filename=""eff1fc4b.au"" len=""262144"" min=""-0,141235"" max=""0,174316"" rms=""0,023137""/>
				</waveblock>
				<waveblock start=""262144"">
					<simpleblockfile filename=""eff1f1f1.au"" len=""262144"" min=""-0,294647"" max=""0,300354"" rms=""0,038767""/>
				</waveblock>
				<waveblock start=""524288"">
					<simpleblockfile filename=""eff1fc3f.au"" len=""262144"" min=""-0,359009"" max=""0,387207"" rms=""0,038174""/>
				</waveblock>
				<waveblock start=""786432"">
					<simpleblockfile filename=""eff1f669.au"" len=""262144"" min=""-0,581238"" max=""0,531708"" rms=""0,056935""/>
				</waveblock>
				<waveblock start=""1048576"">
					<simpleblockfile filename=""eff1f288.au"" len=""262144"" min=""-0,141327"" max=""0,173340"" rms=""0,019388""/>
				</waveblock>
				<waveblock start=""1310720"">
					<simpleblockfile filename=""eff1f3d2.au"" len=""262144"" min=""-0,125580"" max=""0,142242"" rms=""0,018127""/>
				</waveblock>
				<waveblock start=""1572864"">
					<simpleblockfile filename=""eff1f715.au"" len=""262144"" min=""-0,130737"" max=""0,120819"" rms=""0,013457""/>
				</waveblock>
				<waveblock start=""1835008"">
					<simpleblockfile filename=""eff1f55e.au"" len=""262144"" min=""-1,000000"" max=""0,999969"" rms=""0,028433""/>
				</waveblock>
				<waveblock start=""2097152"">
					<simpleblockfile filename=""eff1fe76.au"" len=""262144"" min=""-0,182770"" max=""0,174225"" rms=""0,024462""/>
				</waveblock>
				<waveblock start=""2359296"">
					<simpleblockfile filename=""eff1f972.au"" len=""262144"" min=""-0,185303"" max=""0,164551"" rms=""0,015298""/>
				</waveblock>
				<waveblock start=""2621440"">
					<simpleblockfile filename=""eff1fbfb.au"" len=""262144"" min=""-0,132172"" max=""0,193817"" rms=""0,014620""/>
				</waveblock>
				<waveblock start=""2883584"">
					<simpleblockfile filename=""eff1fe34.au"" len=""262144"" min=""-0,122681"" max=""0,124084"" rms=""0,014963""/>
				</waveblock>
				<waveblock start=""3145728"">
					<simpleblockfile filename=""eff1f050.au"" len=""262144"" min=""-0,184998"" max=""0,205872"" rms=""0,015848""/>
				</waveblock>
				<waveblock start=""3407872"">
					<simpleblockfile filename=""eff1fe8f.au"" len=""262144"" min=""-0,150726"" max=""0,141083"" rms=""0,018824""/>
				</waveblock>
				<waveblock start=""3670016"">
					<simpleblockfile filename=""eff1f2a5.au"" len=""262144"" min=""-0,113708"" max=""0,098633"" rms=""0,015807""/>
				</waveblock>
				<waveblock start=""3932160"">
					<simpleblockfile filename=""eff1feba.au"" len=""262144"" min=""-0,118225"" max=""0,103729"" rms=""0,014187""/>
				</waveblock>
				<waveblock start=""4194304"">
					<simpleblockfile filename=""eff1f8a2.au"" len=""262144"" min=""-0,215942"" max=""0,205505"" rms=""0,016703""/>
				</waveblock>
				<waveblock start=""4456448"">
					<simpleblockfile filename=""eff1fa3e.au"" len=""262144"" min=""-0,178528"" max=""0,170898"" rms=""0,020263""/>
				</waveblock>
				<waveblock start=""4718592"">
					<simpleblockfile filename=""eff1f8f9.au"" len=""262144"" min=""-0,158783"" max=""0,193878"" rms=""0,022704""/>
				</waveblock>
				<waveblock start=""4980736"">
					<simpleblockfile filename=""eff1f195.au"" len=""262144"" min=""-0,227173"" max=""0,274475"" rms=""0,022697""/>
				</waveblock>
				<waveblock start=""5242880"">
					<simpleblockfile filename=""eff1f5c3.au"" len=""177775"" min=""-0,512848"" max=""0,398468"" rms=""0,047987""/>
				</waveblock>
			</sequence>
			<envelope numpoints=""0""/>
		</waveclip>
	</wavetrack>
	<wavetrack name=""Audio Track"" isSelected=""0"" height=""150"" minimized=""0"" channel=""1"" linked=""0"" mute=""0"" solo=""0"" rate=""44100"" gain=""1,000000"" pan=""0,000000"" colorindex=""0"">
		<waveclip offset=""0,00000000"" colorindex=""0"">
			<sequence maxsamples=""262144"" sampleformat=""262159"" numsamples=""5420655"">
				<waveblock start=""0"">
					<simpleblockfile filename=""eff1feec.au"" len=""262144"" min=""-0,140991"" max=""0,173981"" rms=""0,023098""/>
				</waveblock>
				<waveblock start=""262144"">
					<simpleblockfile filename=""eff1f9e8.au"" len=""262144"" min=""-0,294098"" max=""0,299835"" rms=""0,038701""/>
				</waveblock>
				<waveblock start=""524288"">
					<simpleblockfile filename=""eff1f7b1.au"" len=""262144"" min=""-0,358398"" max=""0,386536"" rms=""0,038109""/>
				</waveblock>
				<waveblock start=""786432"">
					<simpleblockfile filename=""eff1fb29.au"" len=""262144"" min=""-0,580139"" max=""0,530731"" rms=""0,056838""/>
				</waveblock>
				<waveblock start=""1048576"">
					<simpleblockfile filename=""eff1fb2b.au"" len=""262144"" min=""-0,141083"" max=""0,173004"" rms=""0,019355""/>
				</waveblock>
				<waveblock start=""1310720"">
					<simpleblockfile filename=""eff1fefd.au"" len=""262144"" min=""-0,125397"" max=""0,142029"" rms=""0,018096""/>
				</waveblock>
				<waveblock start=""1572864"">
					<simpleblockfile filename=""eff1fac3.au"" len=""262144"" min=""-0,130493"" max=""0,120605"" rms=""0,013434""/>
				</waveblock>
				<waveblock start=""1835008"">
					<simpleblockfile filename=""eff1f089.au"" len=""262144"" min=""-1,000000"" max=""0,999969"" rms=""0,028389""/>
				</waveblock>
				<waveblock start=""2097152"">
					<simpleblockfile filename=""eff1fec5.au"" len=""262144"" min=""-0,182465"" max=""0,174011"" rms=""0,024420""/>
				</waveblock>
				<waveblock start=""2359296"">
					<simpleblockfile filename=""eff1f34e.au"" len=""262144"" min=""-0,184998"" max=""0,164215"" rms=""0,015272""/>
				</waveblock>
				<waveblock start=""2621440"">
					<simpleblockfile filename=""eff1fc83.au"" len=""262144"" min=""-0,131927"" max=""0,193451"" rms=""0,014595""/>
				</waveblock>
				<waveblock start=""2883584"">
					<simpleblockfile filename=""eff1f267.au"" len=""262144"" min=""-0,122467"" max=""0,123932"" rms=""0,014938""/>
				</waveblock>
				<waveblock start=""3145728"">
					<simpleblockfile filename=""eff1f94c.au"" len=""262144"" min=""-0,184631"" max=""0,205444"" rms=""0,015820""/>
				</waveblock>
				<waveblock start=""3407872"">
					<simpleblockfile filename=""eff1f26e.au"" len=""262144"" min=""-0,150421"" max=""0,140808"" rms=""0,018792""/>
				</waveblock>
				<waveblock start=""3670016"">
					<simpleblockfile filename=""eff1f09b.au"" len=""262144"" min=""-0,113525"" max=""0,098480"" rms=""0,015780""/>
				</waveblock>
				<waveblock start=""3932160"">
					<simpleblockfile filename=""eff1f191.au"" len=""262144"" min=""-0,118011"" max=""0,103577"" rms=""0,014163""/>
				</waveblock>
				<waveblock start=""4194304"">
					<simpleblockfile filename=""eff1fdd0.au"" len=""262144"" min=""-0,215546"" max=""0,205200"" rms=""0,016674""/>
				</waveblock>
				<waveblock start=""4456448"">
					<simpleblockfile filename=""eff1ff0c.au"" len=""262144"" min=""-0,178223"" max=""0,170593"" rms=""0,020229""/>
				</waveblock>
				<waveblock start=""4718592"">
					<simpleblockfile filename=""eff1f1f0.au"" len=""262144"" min=""-0,158447"" max=""0,193604"" rms=""0,022666""/>
				</waveblock>
				<waveblock start=""4980736"">
					<simpleblockfile filename=""eff1f425.au"" len=""262144"" min=""-0,226837"" max=""0,273895"" rms=""0,022658""/>
				</waveblock>
				<waveblock start=""5242880"">
					<simpleblockfile filename=""eff1f093.au"" len=""177775"" min=""-0,512115"" max=""0,397736"" rms=""0,047905""/>
				</waveblock>
			</sequence>
			<envelope numpoints=""0""/>
		</waveclip>
	</wavetrack>
</project>
```

data dir looks like this:
```
cast patreon audio take 3_data
└── eff
    └── d1f
        ├── eff1f050.au
        ├── eff1f089.au
        ├── eff1f093.au
        ├── eff1f09b.au
        ├── eff1f191.au
        ├── eff1f195.au
        ├── eff1f1f0.au
        ├── eff1f1f1.au
        ├── eff1f267.au
        ├── eff1f26e.au
        ├── eff1f288.au
        ├── eff1f2a5.au
        ├── eff1f34e.au
        ├── eff1f3d2.au
        ├── eff1f425.au
        ├── eff1f55e.au
        ├── eff1f5c3.au
        ├── eff1f669.au
        ├── eff1f715.au
        ├── eff1f7b1.au
        ├── eff1f8a2.au
        ├── eff1f8f9.au
        ├── eff1f94c.au
        ├── eff1f972.au
        ├── eff1f9e8.au
        ├── eff1fa3e.au
        ├── eff1fac3.au
        ├── eff1fb29.au
        ├── eff1fb2b.au
        ├── eff1fbfb.au
        ├── eff1fc3f.au
        ├── eff1fc4b.au
        ├── eff1fc83.au
        ├── eff1fdd0.au
        ├── eff1fe34.au
        ├── eff1fe76.au
        ├── eff1fe8f.au
        ├── eff1feba.au
        ├── eff1fec5.au
        ├── eff1feec.au
        ├── eff1fefd.au
        └── eff1ff0c.au
```

**Additional information (please complete the following information):**
 - OS: Manjaro linux-5.6.15-1
 - Version 2.4.1""Hi Mr. Manatee. :-)

Can you give me the ""Commit Id"" near the bottom of the Help -> About Audacity -> Build Information tab?

Also, what are the languages have you selected in Linux AND Audacity.

If you want to try a little something, after saving your project, edit the "".aup"" and change all the commas to periods.  See if loads then... =||= Closed as we have moved to .aup3 format. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
571A couple improvements to the Effects workflowalexandervrs06/15/20, 12:52:03 PM"When applying an audio Effect it always frustrates me to have to manually Ctrl+A to select the entire audio if I want to apply an effect to the entire audio duration, but I have nothing selected at the moment

Audacity should be smart enough to realize that I need the effect applied to the entire audio track/file if I have nothing selected prior
""Audacity has an option in Preferences: ""Select all audio, if selection required:""
See: https://manual.audacityteam.org/man/tracks_behaviors_preferences.html =||= This solves the selection issue, thanks. I added a separate issue for the OK/Apply button =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
573Unable to compile audacityzensubz06/19/20, 07:05:51 AM"**Describe the bug**
The latest git master 456177a doesn't compile for me. I have used wxWidgets from audacity branch [https://github.com/audacity/wxWidgets/commit/9400704](url) and gcc 8.3.1. Almost towards the end, I get linking errors.

**Expected behavior**
The release version 2.4.1 doesn't suffer from this issue, so out of curiosity, I wanted to check if the latest bug-fix git master of audacity compiles. 

**Additional information:**
 - OS: Linux
 - wxWidgets are linked as static libs

**Additional context**
The compilation errors are given below:
```
[ 99%] Linking CXX executable ../bin/Release/audacity
... ... ...
/usr/lib64/libwx_gtk2u_qa-3.1.a(qalib_debugrpt.o): In function `wxDebugReport::AddContext(wxDebugReport::Context)':
debugrpt.cpp:(.text+0x11bf): undefined reference to `wxXmlDocument::wxXmlDocument()'
debugrpt.cpp:(.text+0x125b): undefined reference to `wxXmlNode::wxXmlNode(wxXmlNodeType, wxString const&, wxString const&, int)'
debugrpt.cpp:(.text+0x12b7): undefined reference to `wxXmlDocument::SetRoot(wxXmlNode*)'
debugrpt.cpp:(.text+0x14ef): undefined reference to `wxXmlNode::wxXmlNode(wxXmlNodeType, wxString const&, wxString const&, int)'
debugrpt.cpp:(.text+0x15f8): undefined reference to `wxXmlNode::wxXmlNode(wxXmlNodeType, wxString const&, wxString const&, int)'
debugrpt.cpp:(.text+0x170b): undefined reference to `wxXmlNode::wxXmlNode(wxXmlNodeType, wxString const&, wxString const&, int)'
debugrpt.cpp:(.text+0x1965): undefined reference to `wxXmlDocument::Save(wxString const&, int) const'
debugrpt.cpp:(.text+0x1b6c): undefined reference to `vtable for wxXmlDocument'
debugrpt.cpp:(.text+0x1d4c): undefined reference to `wxXmlNode::wxXmlNode(wxXmlNodeType, wxString const&, wxString const&, int)'
/usr/lib64/libwx_gtk2u_qa-3.1.a(qalib_debugrpt.o): In function `wxDebugReport::DoAddLoadedModules(wxXmlNode*)':
debugrpt.cpp:(.text+0x294e): undefined reference to `wxXmlNode::wxXmlNode(wxXmlNodeType, wxString const&, wxString const&, int)'
/usr/lib64/libwx_gtk2u_qa-3.1.a(qalib_debugrpt.o): In function `XmlStackWalker::OnStackFrame(wxStackFrame const&)':
debugrpt.cpp:(.text+0x5119): undefined reference to `wxXmlNode::wxXmlNode(wxXmlNodeType, wxString const&, wxString const&, int)'
debugrpt.cpp:(.text+0x5e1a): undefined reference to `wxXmlNode::wxXmlNode(wxXmlNodeType, wxString const&, wxString const&, int)'
debugrpt.cpp:(.text+0x5f90): undefined reference to `wxXmlNode::wxXmlNode(wxXmlNodeType, wxString const&, wxString const&, int)'
/usr/lib64/libwx_gtk2u_qa-3.1.a(qalib_debugrpt.o):debugrpt.cpp:(.text+0x6355): more undefined references to `wxXmlNode::wxXmlNode(wxXmlNodeType, wxString const&, wxString const&, int)' follow
/usr/lib64/libwx_gtk2u_qa-3.1.a(qalib_debugrpt.o): In function `wxXmlDocument::~wxXmlDocument()':
debugrpt.cpp:(.text._ZN13wxXmlDocumentD2Ev[_ZN13wxXmlDocumentD5Ev]+0xb): undefined reference to `vtable for wxXmlDocument'
/usr/lib64/libwx_gtk2u_qa-3.1.a(qalib_debugrpt.o): In function `wxXmlDocument::~wxXmlDocument()':
debugrpt.cpp:(.text._ZN13wxXmlDocumentD0Ev[_ZN13wxXmlDocumentD5Ev]+0xb): undefined reference to `vtable for wxXmlDocument'
collect2: error: ld returned 1 exit status
make[2]: *** [bin/Release/audacity] Error 1
```""Audacity (git 24f1a2c) does compile if wxWidgets are dynamically linked (instead of static one as I did in case of v2.4.1), so I believe there is something in the build system that I need to look into. It will be great if I could compile audacity with static-wxWidgets as I don't want libwx* (installed for audacity) to compete with other variants/versions of wxGTK. I hope the devs would look into this and help me with a fix. Thanks. =||= This is actually in the works.  The ""custom"" wxWidgets libraries will end up in <lib prefix>/audacity, e.g., ""/usr/lib/audacity/..."".   =||= Thanks. I managed to compile wxWidgets with a different libname, and linked it with audacity. For now, this seems to work, and of course, I will wait for an official solution by the devs. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
575Update cs.popafri06/16/20, 03:21:17 PMUpdate of the Czech localization file to version 2.4.2. Greetings.Thank you. =||= Update cs.popafri06/16/20, 03:21:17 PMUpdate of the Czech localization file to version 2.4.2. Greetings.NaNpafri06/16/20, 02:34:09 PM"Update cs.po

Update of the Czech localization file to version 2.4.2. Greetings."1
576Update Polish TranslationGrzegorz PruchniakowskiGootector06/17/20, 11:39:24 AM"Update Polish Translation from Transifex

Greetings,
Gootector

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNUpdate Polish TranslationGrzegorz PruchniakowskiGootector06/17/20, 11:39:24 AM"Update Polish Translation from Transifex

Greetings,
Gootector

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNGrzegorz Pruchniakowski06/17/20, 10:46:29 AM"Update Polish Translation

Update Polish Translation from Transifex

Greetings,
Gootector"1
578Update Polish Translation (fixes)Grzegorz PruchniakowskiGootector06/18/20, 02:15:20 PM"Hi,
I must update the translation file. 2 strings need fixes. Update from Transifex.

Thank you and greetings,
Gootector

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNUpdate Polish Translation (fixes)Grzegorz PruchniakowskiGootector06/18/20, 02:15:20 PM"Hi,
I must update the translation file. 2 strings need fixes. Update from Transifex.

Thank you and greetings,
Gootector

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNGrzegorz Pruchniakowski06/18/20, 02:06:19 PM"Update Polish Translation (fixes)

Hi,
I must update the translation file. 2 strings need fixes.

Thank you and greetings,
Gootector"1
579Better Scrolling  Better Shortcutsstephanhhhh06/18/20, 06:36:24 PM"When selecting an audio track, it would be nice to use the mouse wheel to scroll left/right.

When editing/cutting the audio, it would be nice to have 1 key to play/pause/continue the audio, instead of doing play then pause/stop then cutting then select place to play audio  then play audio.
After cutting, it should not automatically revert to stop.""The mouse wheel scrolls projects up / down (when you have multiple tracks)
Shift + Mouse wheel scrolls left / right.
You  can preview what cutting a selection will sound like with the ""C"" key.
The full list of keyboard shortcuts can be found in the manual: https://manual.audacityteam.org/man/keyboard_shortcut_reference.html

For help using Audacity, and sharing tips, we have a help forum here: https://forum.audacityteam.org =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
580Bug 2488 - Windows: Change Pitch effect with high quality stetching m…Leland Luciuslllucius06/19/20, 08:54:17 AM"…uch slower in 2.4.1 than 2.3.1

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNBug 2488 - Windows: Change Pitch effect with high quality stetching m…Leland Luciuslllucius06/19/20, 08:54:17 AM"…uch slower in 2.4.1 than 2.3.1

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNLeland Lucius06/19/20, 06:07:31 AMBug 2488 - Windows: Change Pitch effect with high quality stetching much slower in 2.4.1 than 2.3.11
581Horizontal scrolling not working with horizontal scroll wheelMrxx9905/21/21, 01:17:46 PM"**Describe the bug**
I have a mouse that has a horizontal scroll wheel (Logitech MX master 3). Scrolling horizontally with it works fine in other applications. In Audacity however it only moves the (horizontal) scroll bar but it does not actually scroll.

**To Reproduce**
Steps to reproduce the behavior:
Scroll horizontally with a horizontal scroll wheel.
I guess it is only reproducible with such a mouse... 

**Expected behavior**
The tracks should scroll horizontally together with the scroll bar. Like it is when using shift + normal scroll wheel

**Screenshots**
See here how the scroll bar moves but the tracks don't:
![audacity_scroll](https://user-images.githubusercontent.com/33566379/85157436-c5e35700-b25b-11ea-950e-8a7751b57946.gif)

**Additional information (please complete the following information):**
 - OS: Windows 10
 - Version Audacity 2.4.1
 - Mouse: Logitech MX Master 3""try uninstalling Logitech Options and see if that fixes it. =||= Horizontal scrolling works fine on my Big Sur Macbook Pro when using left/right gestures on my Magic-Mouse.

I can't test on W10 as my mouse there only has a vertical sroll-wheel =||= @ahmadalli is this still the case with the latest Audacity version ? =||= Tested again with 3.02 on Windows.
Still same behavior, the srcrollbar moves but the tack does not. =||= I logged this on our Bugzilla bugtracker as P3 Bug #2795
https://bugzilla.audacityteam.org/show_bug.cgi?id=2795
Bug 2795 - Windows: horizontal scrolling with mouse with horizontal scroll wheel fails to scroll

Accordingly I will close this GitHub Issue in favor of the tracked Bugzilla entry.

Thanks for the update re 3.0.2 @Mrxx99  =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
582Reorganize treePaul LicameliPaul-Licameli06/30/20, 02:41:56 AM"Intended for 3.0.0 development.

NOW PASSING git hub actions, after the merge of pull request 7 into our wxWidgets fork.  But there were reports of Windows Debug builds failing, which should have an easy fix in AudacityHeaders.h.

This commit makes a CMakeList.txt file in each sub-directory of src (with a few minor exceptions) which allows easy specification of that directory's allowed compilation dependencies, so that later we can work on further restriction of dependencies and other improvements of the graph.

See comments in the branch tip commit for more detailed explanation.

=======

Update: macro do_directory takes another keyword OBJCPP_SOURCES and some CMakeLists.txt are simplified using it

Update for branch tip d8e9feaafa2bef5a15e0c18c0327cbecc567350e: fixed build with precompiled headers

Update for branch tip fde4c24466293543985fd01280cbed100c2a560c: fixed Windows debug build with precompiled headers

Update for branch tip 04326739b2c9c75a0812d6fa568580c45d78cc98: fixed absent effect, generator, analyzer menu items

Update for branch tip 26934474e0a7cc11fcfbdebd1164423ab9d90d2c: Keywords INCLUDE_PRIVATE, INCLUDE_PUBLIC, PRIVATE, and PUBLIC for do_directory macro, and more thorough comments about their usage

Update form branch tip 5bc09090990f1c1561935018b8427e00710b3f83: rebased onto 9acabbbed3a1063a18aa7df2314116edf37d3813 after merging https://github.com/audacity/wxWidgets/pull/7, so I expect it to pass Windows builds too

Update for branch top 7c9b60e2ca409f0f8ee6a7333cc700130c0e4dce: no longer making separate precompiled headers for each subdirectory, which should make the clean build faster.  But the common precompiled headers can contain only a few of Audacity's headers.  The benefit is mostly from precompilation of the wx/ headers.

Update for 75ce2935c3f3b539adddcf678bb3f046f60cd903: just rebasing.""I recloned your tree and tried this branch again.  The Debug build on Windows still fails and the Release build times ""seem"" to have gotten a bit longer than previous tests.

Current Audacity master builds in ""0m57.680s"" and your branch builds in ""2m14.121s"".

I think a lot of that time is spent generating the precompiled header for each of the subdirectories.  Maybe a separate target that does nothing but generate the PCH and then all of the subdirectory targets would use that single PCH.  Basically, tossing the CMake PCH support and doing it manually.

The generated PCH would have only ""external"" headers, like WX and system includes and maybe one or two Audacity specific headers.  With your prior include detangling efforts, I'd think that would be good enough.
 =||= On Sunday, June 28, 2020, Leland Lucius <notifications@github.com> wrote:

> I recloned your tree and tried this branch again. The Debug build on
> Windows still fails
>
>
> Same errors as before in any and vector?

> and the Release build times ""seem"" to have gotten a bit longer than
> previous tests.
>
> Current Audacity master builds in ""0m57.680s"" and your branch builds in
> ""2m14.121s"".
>
> I think a lot of that time is spent generating the precompiled header for
> each of the subdirectories. Maybe a separate target that does nothing but
> generate the PCH and then all of the subdirectory targets would use that
> single PCH. Basically, tossing the CMake PCH support and doing it manually.
>

I will need to rethink what I did for PCH.  Maybe keep just one, but it
must include fewer of Audacity’s own headers.  The list of them may not be
well chosen anyway after so much else has changed in those headers.

There need not be just one precompiled header for an object.  Maybe I can
add more precompiled headers in subdirectories and figure out how to share
them among some subdirectories so that there is not repeated compilation.

PRL

> The generated PCH would have only ""external"" headers, like WX and system
> includes and maybe one or two Audacity specific headers. With your prior
> include detangling efforts, I'd think that would be good enough.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/582#issuecomment-650802958>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ACZBGYN45PWV42YLD4PPMDTRY6CTJANCNFSM4ODAUFQA>
> .
>
 =||= On Sun, Jun 28, 2020 at 4:43 PM Paul Licameli <paul.licameli@gmail.com>
wrote:

>
>
> On Sunday, June 28, 2020, Leland Lucius <notifications@github.com> wrote:
>
>> I recloned your tree and tried this branch again. The Debug build on
>> Windows still fails
>>
>>
>> Same errors as before in any and vector?
>

Leland, is there a change I can make to .github/workflows/cmake_build.yml
so that I build debug in GitHub?

PRL


> and the Release build times ""seem"" to have gotten a bit longer than
>> previous tests.
>>
>> Current Audacity master builds in ""0m57.680s"" and your branch builds in
>> ""2m14.121s"".
>>
>> I think a lot of that time is spent generating the precompiled header for
>> each of the subdirectories. Maybe a separate target that does nothing but
>> generate the PCH and then all of the subdirectory targets would use that
>> single PCH. Basically, tossing the CMake PCH support and doing it manually.
>>
>
> I will need to rethink what I did for PCH.  Maybe keep just one, but it
> must include fewer of Audacity’s own headers.  The list of them may not be
> well chosen anyway after so much else has changed in those headers.
>
> There need not be just one precompiled header for an object.  Maybe I can
> add more precompiled headers in subdirectories and figure out how to share
> them among some subdirectories so that there is not repeated compilation.
>
> PRL
>
>> The generated PCH would have only ""external"" headers, like WX and system
>> includes and maybe one or two Audacity specific headers. With your prior
>> include detangling efforts, I'd think that would be good enough.
>>
>> —
>> You are receiving this because you authored the thread.
>> Reply to this email directly, view it on GitHub
>> <https://github.com/audacity/audacity/pull/582#issuecomment-650802958>,
>> or unsubscribe
>> <https://github.com/notifications/unsubscribe-auth/ACZBGYN45PWV42YLD4PPMDTRY6CTJANCNFSM4ODAUFQA>
>> .
>>
>
 =||= Add “-D CMAKE_BUILD_TYPE=Debug”.  If you want to get a good link, you'll need to do it for the wxWidgets step too. =||= Well I tried that but I haven't yet reproduced a build failure.

What are the compilation errors that you still see for Windows Debug?

PRL


On Sun, Jun 28, 2020 at 7:13 PM Leland Lucius <notifications@github.com>
wrote:

> Add “-D CMAKE_BUILD_TYPE=Debug”. If you want to get a good link, you'll
> need to do it for the wxWidgets step too.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/582#issuecomment-650835342>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ACZBGYJFGP5TL7ZWCZGQD3LRY7FDFANCNFSM4ODAUFQA>
> .
>
 =||= Really sorry Paul.  I completely spaced out that it was MSVC.  the -DCMAKE_BUILD_TYPE doesn't work with MSVC or Xcode.  In the Actions case, look for the lines like this:

cmake --build ""wxroot"" --config Release --verbose

Change the ""Release"" to ""Debug"". =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
583Update audacity.desktop.inAntonio Pantpaniagua06/29/20, 03:32:44 PM"Spanish (es) traslation added

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "Thanks for this.  Committed now. =||= Update audacity.desktop.inAntonio Pantpaniagua06/29/20, 03:32:44 PM"Spanish (es) traslation added

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNAntonio P06/20/20, 05:15:40 AM"Update audacity.desktop.in

Spanish (es) traslation added"1
585kr => ko in KoreanGrzegorz PruchniakowskiGootector06/29/20, 03:30:49 PM"kr => ko in Korean

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "Thanks for this.  Merged now. =||= kr => ko in KoreanGrzegorz PruchniakowskiGootector06/29/20, 03:30:49 PM"kr => ko in Korean

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNGrzegorz Pruchniakowski06/20/20, 01:28:10 PM"kr => ko in Korean

kr => ko in Korean"1
587Failed to open the scripting pipe file on Windows 10Mehdi AbjadpourMAbjadpour06/22/20, 03:16:42 PM"**Test environment**
- Python 3.6
- Windows 10 Version 1803 (OS Build 17134.1550)
- Audacity Version 2.3.2 build information: 
-- Date: May 4 2019
-- Commit Id: bd2956 of Sat May 4 11:38:57 2019 +0100
-- Build type: Release build
-- Compiler: MSVC 19.16.27027.01

Apparently, checking for the existence of Audacity temporary files for reading from and writing into ([here ](https://github.com/audacity/audacity/blob/16d52f63a4183bba77ef7305d14622958dc0d1d5/scripts/piped-work/recording_test.py#L71)and [here](https://github.com/audacity/audacity/blob/16d52f63a4183bba77ef7305d14622958dc0d1d5/scripts/piped-work/recording_test.py#L77)), causes those files to be removed somehow. 

Both `if` statements turn out to be `True`, however, the following error raises as we try to `open()` the files:
`OSError: [Errno 22] Invalid argument: '\\\\.\\pipe\\ToSrvPipe'`

----

**Fix**

Removing both `if` statements causes both `TOFILE = open(TONAME, 'w')` and `FROMFILE = open(FROMNAME, 'rt')` to be executed successfully. ""Please include the exact version number of the Audacity build that you are using.
If you are using a pre-release version of Audacity, please include the Git commit number. =||= I just edited the issue. =||= Audacity 2.3.2 is an old version. 
recordingtest.py was updated and tested to work with Audacity 2.4.1 / 2.4.2. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
588"Audacity crashes after calling ""Stop"" from the Python script."Mehdi AbjadpourMAbjadpour12/18/20, 02:39:54 PM"**Test environment**
- Python 3.7
- macOS Catalina Version 10.15.4
- Audacity Version 2.4.1 (CMake Release build (debug level 0), 64 bits)

**Bug description**
The following snippet works perfectly fine on Windows 10, however, it causes the Audacity on macOS to crash.

```
do_command(""Record2ndChoice"")
time.sleep(5)
do_command(""Stop"")
```

Does anybody happen to have a solution for this problem?"NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
589Be more careful when handling grid keyboard navigation.Henric Jungheimhenricj06/29/20, 03:34:51 PM"If the grid is empty or does not have a selected cell, the current
row and column must still maintain these class invariants:
   -1 <= current_row < rows
   -1 <= current_column < columns
    if either current_row or current_column is -1, then the other
       shall also be -1

wxGrid uses wxGridNoCellCoords to test for current_row == -1 &&
current_column == -1.  We treat the case where only one
of the coordinates is -1 as if both are -1.

This should resolve the problem described by  ""David Engebretson Jr."" <accessible.engineering@gmail.com> in the devel thread ""extended import in properties dialog still crashes"" (was it on Bugzilla? I didn't see it).  It has not been tested with a screen reader.

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "Thank you. =||= Be more careful when handling grid keyboard navigation.Henric Jungheimhenricj06/29/20, 03:34:51 PM"If the grid is empty or does not have a selected cell, the current
row and column must still maintain these class invariants:
   -1 <= current_row < rows
   -1 <= current_column < columns
    if either current_row or current_column is -1, then the other
       shall also be -1

wxGrid uses wxGridNoCellCoords to test for current_row == -1 &&
current_column == -1.  We treat the case where only one
of the coordinates is -1 as if both are -1.

This should resolve the problem described by  ""David Engebretson Jr."" <accessible.engineering@gmail.com> in the devel thread ""extended import in properties dialog still crashes"" (was it on Bugzilla? I didn't see it).  It has not been tested with a screen reader.

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNHenric Jungheim06/22/20, 08:11:45 PM"Be more careful when handling grid keyboard navigation.
If the grid is empty or does not have a selected cell, the current
row and column must still maintain these class invariants:
   -1 <= current_row < rows
   -1 <= current_column < columns
    if either current_row or current_column is -1, then the other
       shall also be -1

wxGrid uses wxGridNoCellCoords to test for current_row == -1 &&
current_column == -1.  We treat the case where only one
of the coordinates is -1 as if both are -1."1
590Fix built-in suil build on LinuxHubert Figuièrehfiguiere07/28/21, 01:49:57 PM"- separator is needed
- prefix for libs is lib so the build must do the same

Some more info:

- This was found when adding LV2 support to the flatpak build:
https://github.com/flathub/org.audacityteam.Audacity/pull/48
- This is when building without suil available on the system.
- This make the built-in build closer to upstream (and Linux distros).
- Without this loading UI for LV2 plugins fail.

It is Linux specific in the CMake files. I can't test on macOS or Windows, but I don't think it will have an impact.

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests ""This patch has rotten. I have an update as things are broken differently, on top of current master.

@lllucius you seem to be the one that maintain this. This patch is updated for 3.0.0, without that LV2 plugins UI do not work. =||= Closing this. It won't be merge, it's rotting, and the CLA requirement is showstopper for me. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
591Experimental cmakePaul LicameliPaul-Licameli06/29/20, 03:26:30 PM"Replace Experimental.h with Experimental.cmake, so that all objects are guaranteed to compile with the same EXPERIMENTAL flags, which are given on the compile command-line option, and not dependent on inclusion of ""Experimental.h"" which might be mistakenly omitted.

All #include ""Experimental.h"" directives are deleted.  There are some other less trivial source code changes separated into earlier commits.

This pull request is based on pull request 582 which is not yet merged.""Something is a little bit off.  It might not be related to #591 but what I tried was (on Windows):

1) Ran cmake configure/generate
2) Opened the solution in Visual Studio
3) Built the Release version (using CTRL+B, Build -> Build Audacity)
4) Added an new ""TESTING123"" define in Experimental.cmake
5) Retried the Release build again

The following error was produced:

`
5>LINK : fatal error LNK1181: cannot open input file 'C:\Users\Yam\paul\bld\src\effect-classes\VST\effect-classes_VST.dir\Release\cmake_pch.obj'
5>Done building project ""Audacity.vcxproj"" -- FAILED.
`
 =||= Has link errors, slower to build than before, and not wanted for 3.0.0 (not a bug fix, nor helping progress UP).  So rejected for 3.0.0 and closed. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
592Added display of cents to the Plot Spectrum tool.blaisegassend06/29/20, 03:29:43 PM"Also had to tweak the dialog box layout to account for longer strings.

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests ""I have reservations about adding cents to Plot Spectrum. With the default settings, the cents figure will just be a ""random"" number because the accuracy of the frequency estimate is only around +/- 3 Hz. =||= Thanks for offering this @blaisegassend, but it won't be going into the 3.0.0 release, so I am closing it.  See https://wiki.audacityteam.org/wiki/Next_Release for what the 3.0.0 release is about. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
596Internal portaudio errorEphraim BeckerEphraimB05/21/21, 01:25:24 PM"**Describe the bug**
Internal portaudio error

**To Reproduce**
Steps to reproduce the behavior:
Open Audacity

**Expected behavior**
Recording and playback to just work

**Screenshots**
<img width=""551"" alt=""screenshot41"" src=""https://user-images.githubusercontent.com/10489639/86178202-f47fee00-baf5-11ea-8fb8-3728ad463594.png"">
<img width=""1920"" alt=""screenshot42"" src=""https://user-images.githubusercontent.com/10489639/86178203-f47fee00-baf5-11ea-9b5c-d12cefa2be30.png"">


**Additional information (please complete the following information):**
 - OS: Windows 10
 - Version: Audacity 2.4.2
 - (if relevant) Sound Device: All

**Additional context**
Works perfectly in Audacity 2.3 but won't work in any 2.4 versions""@EphraimB   can you please provide more information?

a) the latest release is now 3.0.2 - is this still happening for you on 3.0.2?

b) Please provide more detailed steps, in particularly what if any external input/output devices do you have plugged in ?

c) In Windows Sound control - are any of your devices visible to Windows - and are they enabled?  If Windows can't see them then certainly Audacity won't see them. =||= Due to lack of response from the OP (after our request for updated information) -  and as the original issue was logged a year ago on an older version of Audacity I shall close this issue. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
597Hotkey for Import RAW Datarayman300307/02/20, 01:22:12 AM"As the title said: A Hotkey for Import RAW Data. 

Bcuz so many times I import raw data sounds & it would save me a lot of time to have a hotkey for it.""It's already possible to set custom hotkeys; see [Keyboard Preferences](https://alphamanual.audacityteam.org/man/Keyboard_Preferences). =||= > 
> 
> It's already possible to set custom hotkeys; see [Keyboard Preferences](https://alphamanual.audacityteam.org/man/Keyboard_Preferences).

Oh, I didn't know it has key bindings. Thank u.

Please close this Issue. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
598Unitary fixesPaul LicameliPaul-Licameli07/02/20, 04:42:26 PM"Leland, please review these proposed small fixes, and merge them or just cherry-pick what you approve.""Looks good to me.  Thanks for the cleanup.  Never looked to see if the non-wave tracks even used the DirManager.  I just changed it from DirManager to AudacityProject. =||= Leland, I leave it to you to enact the final decision to rebase and merge my pull requests for unitary, or not.  I am still agreeing to be hands-off if my changes impinge on unitary at all.
 =||= "Unitary fixesPaul LicameliPaul-Licameli07/02/20, 04:42:26 PMLeland, please review these proposed small fixes, and merge them or just cherry-pick what you approve.NaNPaul Licameli07/02/20, 03:23:17 PMRemove unnecessary #include directives1
599Unitary changesPaul LicameliPaul-Licameli07/02/20, 11:11:39 PM"Leland, this is a more ambitious branch.  Take your time reviewing the stepwise transformation of the code and the commit comments.

These changes achieve these things:

1) Break static dependency cycles in what I think is a proper way, using abstract base classes for SampleBlock and for a factory of SampleBlocks, separated from the concrete implementations in the new file SqliteSampleBlock.cpp.  Only WaveTrack and WaveClip are left in the dependency cycle, as they were at the start of 3.0.0.  ProjectFileIO and SampleBlock are freed from it.

2) Perhaps enable easier reimplementation of the abstract classes against some other database in future.  But maybe further work on ProjectFileIO would be needed first, similarly separating an abstract base class from it.

3) The LAST commit, only, contains a fix of the dangling reference crashes in case of cross-document cut and paste.  But I am uncertain whether this is the proper fix.  It does not create a separate database for the clipboard.  Instead it prolongs the life of the database connection so long as the clipboard is not cleared or replaced with other data.  It would be acceptable to merge this branch excluding the last commit.

Update at 95fb426b2e0db0db35ec192631f243afdb6b6787: improved commit comments, no changes of source files""Looks dandy and, as you've pointed out, abstracting it as you've done will give us freedom to try out other storage methods. =||= Really, all of it, so soon?

I had doubt about the last commit.  I wanted to start a conversation.

On Thursday, July 2, 2020, Leland Lucius <notifications@github.com> wrote:

> Merged #599 <https://github.com/audacity/audacity/pull/599> into master.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/599#event-3509010436>, or
> unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ACZBGYMVHIJK7XNZQXYZVBDRZUH3RANCNFSM4OPGC3FQ>
> .
>
 =||= "Unitary changesPaul LicameliPaul-Licameli07/02/20, 11:11:39 PM"Leland, this is a more ambitious branch.  Take your time reviewing the stepwise transformation of the code and the commit comments.

These changes achieve these things:

1) Break static dependency cycles in what I think is a proper way, using abstract base classes for SampleBlock and for a factory of SampleBlocks, separated from the concrete implementations in the new file SqliteSampleBlock.cpp.  Only WaveTrack and WaveClip are left in the dependency cycle, as they were at the start of 3.0.0.  ProjectFileIO and SampleBlock are freed from it.

2) Perhaps enable easier reimplementation of the abstract classes against some other database in future.  But maybe further work on ProjectFileIO would be needed first, similarly separating an abstract base class from it.

3) The LAST commit, only, contains a fix of the dangling reference crashes in case of cross-document cut and paste.  But I am uncertain whether this is the proper fix.  It does not create a separate database for the clipboard.  Instead it prolongs the life of the database connection so long as the clipboard is not cleared or replaced with other data.  It would be acceptable to merge this branch excluding the last commit.

Update at 95fb426b2e0db0db35ec192631f243afdb6b6787: improved commit comments, no changes of source files"NaNPaul Licameli07/02/20, 06:52:31 PM"Fix crashes cutting and pasting cross-project...

... in case the source project is closed before the paste happens.

This caused destruction of the ProjectFileIO object and a closing of the sqlite
database with the sample data in it, leaving dangling references in the
SqliteSampleBlock objects.

The fix is that the SqliteSampleBlockFactory object holds a shared_ptr to the
ProjectFileIO object.  So the clipboard may own WaveTracks, which own WaveClips,
which own Sequences, which own SqliteSampleBlockFactories, which keep the
ProjectFileIO and the database connection alive until the clipboard is cleared.

The consequence of the fix is delayed closing of the entire database associated
with the source project.

If the source project is reopened before the clipboard is cleared, will there
be correct concurrent access to the same persistent store?  My preliminary
trials suggest this is so (reopening a saved project, deleting from it, closing
it again -- the clipboard contents are still unchanged and available)."1
601Sqlite errorsPaul LicameliPaul-Licameli07/05/20, 07:13:31 PM"Add throw statements where needed in SqliteSampleBlock when database operations fail; necessary but maybe not sufficient to handle, once again, failures to record or edit because of limited space on the drive.

(What remains to do is confirm that restoration of the project to its state as of the last push of the undo stack, or last successful appending of recorded samples, works correctly after the exceptions are caught.)

Restore the logic in Sequence that ignores some read-only exceptions from SampleBlock when only attempting to draw the project.

Make it safe again for Sequence to assume, as it has, that calls to create new blocks either succeed with a non-null block or don't return (throw).

All return values from sqlite functions in SqliteSampleBlock are now correctly accounted for.  (But other calls must yet be examined elsewhere in ProjectFileIO.)

Update at 357650c1519fd76a715d510c8c3b037c29ca5f32: Also restore the try/catch in AutoSaveFile::Decode
"NaNSqlite errorsPaul LicameliPaul-Licameli07/05/20, 07:13:31 PM"Add throw statements where needed in SqliteSampleBlock when database operations fail; necessary but maybe not sufficient to handle, once again, failures to record or edit because of limited space on the drive.

(What remains to do is confirm that restoration of the project to its state as of the last push of the undo stack, or last successful appending of recorded samples, works correctly after the exceptions are caught.)

Restore the logic in Sequence that ignores some read-only exceptions from SampleBlock when only attempting to draw the project.

Make it safe again for Sequence to assume, as it has, that calls to create new blocks either succeed with a non-null block or don't return (throw).

All return values from sqlite functions in SqliteSampleBlock are now correctly accounted for.  (But other calls must yet be examined elsewhere in ProjectFileIO.)

Update at 357650c1519fd76a715d510c8c3b037c29ca5f32: Also restore the try/catch in AutoSaveFile::Decode
"NaNPaul Licameli07/05/20, 05:46:13 PM"Restore the try/catch in AutoSaveFile::Decode...

... which was introduced at 2ba17c78d6758c2f64f2ccfec9af0c537525cea4

but removed at d39590cf41e1e1eac02fc52d88a1ad018824f77b, yet without removing
the throw statement

which left the program vulnerable to abrupt termination instead of graceful
failure, when uninterpretable auto save contents are detected."1
602Sqlite resourcesPaul LicameliPaul-Licameli07/07/20, 10:01:46 AM"Note that this pull request is failing Linux builds for reasons unrelated to these changes.

Use C++ style smart pointers to hold resources allocated by sqlite3 and guarantee their cleanup.

This simplifies some usage.

Update at 8c8aed092923b868a12303c1bbbc7c178a350ca7: rebased onto pull request #603 which should be merged first, and now waiting to pass make builds
""Jesus dude!  How about if I just step out of the way and let you rewrite the whole damned thing!  Not everything has to following the damned C++ bible!

Should I even bother writing the AUP importer since you're just going to rewrite it anyway?

Have fun.
 =||= In C++ it's best to invoke resource-freeing functions only within destructors, and this is what is done here for the objects allocated by functions of the sqlite3 library.

The new header file does a little bit of work with templates, but as often in C++, once you do the tricky parts at a library level, the usages become much simplified.  I think you will agree that the first of these commits results in brevity in many places.  Maybe you can merge just that one and wait to review the rest.

These rewrites are all really low-level details, not major design changes.

Figuring these details out for myself is a way of doing code review, and I uncovered some bugs as I did it, which are now separately fixed in pull request 603 which should be merged before this one.
 =||= Does this still need merging?
 =||= I think this RAII style is better C++, and eliminating all those finallys to clean up prepared statements is nice.

I made this separate from the real bug fixes that are already merged.  It does not now contain any actual bug fixes, though it might make it easier to avoid introducing resource leaks, if any of the functions grow to become more complicated.

I will withdraw the pull request for now, but I will keep the branch around in my own repo.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
603Sqlite open bugsPaul LicameliPaul-Licameli07/06/20, 08:42:19 PM"If pull request #602 isn't yet reviewed and accepted, please review and merge this smaller one first.

Fix possible memory leaks and crashes when opening of sqlite database fails.

There are now exceptions thrown in some new places with messages for the user that might be improved."NaNSqlite open bugsPaul LicameliPaul-Licameli07/06/20, 08:42:19 PM"If pull request #602 isn't yet reviewed and accepted, please review and merge this smaller one first.

Fix possible memory leaks and crashes when opening of sqlite database fails.

There are now exceptions thrown in some new places with messages for the user that might be improved."NaNPaul Licameli07/06/20, 12:20:28 PM"Throw exceptions if lazy opening of project's database fails...

... because the calls to DB() as in Sqlite3SampleBlock may be in deeply nested
places that can't propagate the error codes; and besides, those functions
had been assuming non-null returns from DB(), which might have crashed before,
but now the assumption is correct when the throw didn't happen.

Note that this exception may also happen during attempted Autosave.  Uses of
Autosave were reviewed and some changes made in the previous commit."1
604Cross project copy data lossPaul LicameliPaul-Licameli07/07/20, 08:41:51 PM"Fixes for known cases of data loss when copying wave tracks between projects.

Restore logic analogous to what was done with block files, when source and destination of paste were not under the same DirManager.

Copy contents of a SampleBlock into a new block when pasting to a different database; rather than just making a shared_ptr to an existing SampleBlock.
"NaNCross project copy data lossPaul LicameliPaul-Licameli07/07/20, 08:41:51 PM"Fixes for known cases of data loss when copying wave tracks between projects.

Restore logic analogous to what was done with block files, when source and destination of paste were not under the same DirManager.

Copy contents of a SampleBlock into a new block when pasting to a different database; rather than just making a shared_ptr to an existing SampleBlock.
"NaNPaul Licameli07/07/20, 12:19:26 AM"Complete the fix for cross-project copies and 2436...

... by duplicating sample blocks, in Sequence.cpp, when it is wrong just to
share them.

And to determine which case it is, see whether source and destination Sequences
have the same sample block factories when doing Copy or Paste.  Duplicate
when the factories are different.  Otherwise sharing is safe and more space
efficient.

This does the analogous to what DirManager::CopyBlockFile did before commit
d39590c."1
605White Text on White BG in welcome dialog ligiligi05/13/21, 07:36:01 PM"with a dark theme activated it looks like this:

![Selection_074](https://user-images.githubusercontent.com/111600/86780640-3f9d8200-c05d-11ea-9d03-598bcc9b76b7.png)""For me with 2.4.2 on W10 it looks kike this with dark text on white at the bottom of the dialog window.
![image](https://user-images.githubusercontent.com/50205984/87290527-61d04d80-c4fe-11ea-95c6-98138d1a4b3e.png)
 =||= Closing, NOT-A-BUG
The OP is expecting system theming dark + Dark theme to theme everything.  It doesn't.

OP will get results closer to what they want/expect if they disable blending of system and audacity theme in preferences.

https://alphamanual.audacityteam.org/man/Interface_Preferences =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
606Fail safe save asPaul LicameliPaul-Licameli07/07/20, 08:41:34 PM"When saving-as or saving-copy, open and close databases fewer times.  Open the destination database once at most.  Close the source database for save-as at most once, after success.  (Do not close it, always, then try to reopen it in case of failure -- which would itself risk another failure.)

Also supplied some more checks of formerly ignored error codes, from DeleteAutoSave, binding of query parameters, and initializing SQLite.

This completes my review of error returns in Unitary, until there are more changes in it."NaNFail safe save asPaul LicameliPaul-Licameli07/07/20, 08:41:34 PM"When saving-as or saving-copy, open and close databases fewer times.  Open the destination database once at most.  Close the source database for save-as at most once, after success.  (Do not close it, always, then try to reopen it in case of failure -- which would itself risk another failure.)

Also supplied some more checks of formerly ignored error codes, from DeleteAutoSave, binding of query parameters, and initializing SQLite.

This completes my review of error returns in Unitary, until there are more changes in it."NaNPaul Licameli07/07/20, 05:27:49 PMCheck return value from sqlite_initialize1
607Fix exception handling, as when trying to edit read-only database...Paul LicameliPaul-Licameli07/08/20, 05:44:42 AM"[Leland, push this if it proves to be a sufficient fix for the problem we discussed.  If not, we'll discuss it some more.]

... Problem is that the delayed undo handling (in the lambda in AudacityApp ::
OnExceptionInMainLoop) should itself have only non-throwing steps.

But there was a redundant attempt at autosaving in ProjectHistory ::
RollbackState, which itself requires another data base write.

But when ""rolling back"" the in-memory structures to whatever the current state
of undo history is, we can assume that any required autosave was completed
before the current state of undo history was set.

So for rollback only, do not autosave again when discarding changes and
restoring the state.  (But do it still, throwing on failure, when moving around
in the undo history, among saved states.  We do want to keep the last autosave
consistent with the in-memory state.)

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNFix exception handling, as when trying to edit read-only database...Paul LicameliPaul-Licameli07/08/20, 05:44:42 AM"[Leland, push this if it proves to be a sufficient fix for the problem we discussed.  If not, we'll discuss it some more.]

... Problem is that the delayed undo handling (in the lambda in AudacityApp ::
OnExceptionInMainLoop) should itself have only non-throwing steps.

But there was a redundant attempt at autosaving in ProjectHistory ::
RollbackState, which itself requires another data base write.

But when ""rolling back"" the in-memory structures to whatever the current state
of undo history is, we can assume that any required autosave was completed
before the current state of undo history was set.

So for rollback only, do not autosave again when discarding changes and
restoring the state.  (But do it still, throwing on failure, when moving around
in the undo history, among saved states.  We do want to keep the last autosave
consistent with the in-memory state.)

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNPaul Licameli07/08/20, 03:10:39 AM"Fix exception handling, as when trying to edit read-only database...

... Problem is that the delayed undo handling (in the lambda in AudacityApp ::
OnExceptionInMainLoop) should itself have only non-throwing steps.

But there was a redundant attempt at autosaving in ProjectHistory ::
RollbackState, which itself requires another data base write.

But when ""rolling back"" the in-memory structures to whatever the current state
of undo history is, we can assume that any required autosave was completed
before the current state of undo history was set.

So for rollback only, do not autosave again when discarding changes and
restoring the state.  (But do it still, throwing on failure, when moving around
in the undo history, among saved states.  We do want to keep the last autosave
consistent with the in-memory state.)"1
608Update ffmpeg headers to 4.2.3Zapeth03/29/21, 09:37:44 AM"Addresses https://github.com/audacity/audacity/issues/398

Header files were taken from https://ffmpeg.zeranoe.com/builds/ version 4.2.3 (the various architecture and license versions of these header files have equivalent content)""

I am not sure how much attention do the audacity developers put into the conversation here. 
According to [this audacity forum post](https://forum.audacityteam.org/viewtopic.php?f=20&t=68196&sid=15fe1125d989d5155cfcd9b6b47c4cf7), feature request should be sent on the forum. 
Join [this forum discussion](https://forum.audacityteam.org/viewtopic.php?f=20&t=116912). Your voice will be helpful! =||= @AvrahamTsaban We do pay some attention to conversations here and requests here.  Updating ffmpeg, portaudio and enabling new options in wxWidgets are all in our plans.  However Unitary Project (3.0.0) and follow up (3.0.1) take precedence.  When we change libs it usually introduces new problems.  We do not want that for those two releases. =||= This pull request is obsoleted by #741 (update to ffmpeg v4.3.1) =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
609Also remove orphan blocks when an editing operation rolls back...Paul LicameliPaul-Licameli07/09/20, 04:38:22 PM"... and that might happen when hitting ESC during a modifying drag operation
(like sample editing), or when recovering from an exception (such as from
failure to add a sample block because of limited space).

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests ""I got persuaded in an email thread that this is unnecessary after all, because destruction of wave tracks that are not yet in Undo history is enough to be sure the blocks are cleaned up.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
610Fix the reading of autosave files...Paul LicameliPaul-Licameli07/11/20, 05:49:37 AM"... problem was in recreating strings from buffers, but copying too many because
null terminators were lacking.

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNFix the reading of autosave files...Paul LicameliPaul-Licameli07/11/20, 05:49:37 AM"... problem was in recreating strings from buffers, but copying too many because
null terminators were lacking.

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNPaul Licameli07/10/20, 03:46:12 PM"Autosave during recording backs up all tracks correctly...

... whether to new track, or appending; and it doesn't lose the other tracks
besides the recording.

It is also unnecessary when just starting to record, so remove one call."1
611"German translation of ""signed"" file formats inappropriate"Kadabash05/14/21, 01:21:53 PM"**Describe the bug**
The German version of Audacity translates ""signed"" as ""signiert"" in the names of file formats.
For example, ""Signed 8 bit PCM"" is translated as ""Signiertes 8-bit PCM"".

The problem is that ""signiert"" usually means something like ""including a signature"" or, in the context of files, ""signed using a certificate"". As a native German speaker, I have never heard the word ""signiert"" used to mean ""contains (mathematical) sign information"" for integers.

**To Reproduce**
1. Open Audacity, record some audio
2. Click ""File"", ""Export"", ""Export audio"" (German: ""Datei"", ""Exportieren"", ""Audio exportieren"")
3. In the dialogue for saving the file, the inappropriate translations appear in the file type selection combo box

**Expected behavior**
Although I'm not an audio expert, I would probably translate ""signed"" as something like ""vorzeichenbehaftet"" (literally meaning ""sign-marked"" as in ""marked with a sign"").
""Signed 8 bit PCM"" would then be ""Vorzeichenbehaftetes 8-bit PCM"".
Could someone from the audio community please voice their opinion?

*EDIT*: It appears that the Ardour DAW, for example, does not translate ""signed"" at all, see its [translation file](https://github.com/Ardour/ardour/blob/master/libs/ardour/po/de.po#L3571).

**Additional information (please complete the following information):**
 - OS: Debian 10
 - Version: Audacity 2.2.2, although judging from `locale/de.po` in `master`, the translations have not been changed yet.""Yes, I agree. It's drawn out in German and that's why the English term is preferred in most places.
I would suggest either the adjective version or the one with preposition and noun:

8-bit integer (signed)
-> 8 Bit Ganzzahl (vorzeichenbehaftet)
-> 8 Bit Ganzzahl (mit Vorzeichen)

8-bit (unsigned)
-> 8 Bit Ganzzahl (vorzeichenlos)
-> 8 Bit Ganzzahl (ohne Vorzeichen)

https://de.pons.com/%C3%BCbersetzung/deutsch-englisch/signed+integer?bidir=1

 =||= My ""Mystery-Shopper"" who is a native German speaker and has a Masters in Linguistics agrees with Robert - and prefers

8-bit integer (signed)
-> 8 Bit Ganzzahl (mit Vorzeichen)

8-bit (unsigned)
-> 8 Bit Ganzzahl (ohne Vorzeichen)

Based on the fact that this is more elegant linguistically (not based on computer literacy auf Deutsch) =||= Oops can't remember what it is right now, perhaps
8 Bit Ganzzahl (vorzeichenbehaftet)?
That would of course not really work for the second case.
8 Bit Ganzzahl (vorzeichenunbehaftet)
Anyway, fine as suggested and glad that your M-S agrees with me.
Cheers
Robert

On 14/05/2021, Peter Sampson ***@***.***> wrote:
> My ""Mystery-Shopper"" who is a native German speaker and has a Masters in
> Linguistics agrees with Robert - and prefers
>
> 8-bit integer (signed)
> -> 8 Bit Ganzzahl (mit Vorzeichen)
>
> 8-bit (unsigned)
> -> 8 Bit Ganzzahl (ohne Vorzeichen)
>
> Based on the fact that this is more elegant linguistically (not based on
> computer literacy auf Deutsch)
>
> --
> You are receiving this because you commented.
> Reply to this email directly or view it on GitHub:
> https://github.com/audacity/audacity/issues/611#issuecomment-841188480
 =||= I logged this on Bugzilla as new P3 Bug #2779
https://bugzilla.audacityteam.org/show_bug.cgi?id=2779
Bug 2779 - German translation of ""signed"" file formats inappropriate

Accordingly I shall close this GitHub Issue in favour of the Bugzilla log =||= If only all bugs were as simple to fix...
Robert

On 14/05/2021, Peter Sampson ***@***.***> wrote:
> Closed #611.
>
> --
> You are receiving this because you commented.
> Reply to this email directly or view it on GitHub:
> https://github.com/audacity/audacity/issues/611#event-4746989407
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
613Char width info goes in the unique data dictionary only once per runPaul LicameliPaul-Licameli07/11/20, 06:10:58 PM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNChar width info goes in the unique data dictionary only once per runPaul LicameliPaul-Licameli07/11/20, 06:10:58 PM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNPaul Licameli07/11/20, 02:21:54 PMChar width info goes in the unique data dictionary only once per run1
615fix asio build on windowsmicsthepick07/17/20, 06:52:25 AMASIO was not getting included in the Windows build, even though the appropriate environment variable was defined, This PR will fix the check for if ASIOSDK_DIR is defined in  cmake-proxies/portaudio-v19/CMakeLists.txt, according to https://cmake.org/cmake/help/latest/variable/ENV.htmlNaNfix asio build on windowsmicsthepick07/17/20, 06:52:25 AMASIO was not getting included in the Windows build, even though the appropriate environment variable was defined, This PR will fix the check for if ASIOSDK_DIR is defined in  cmake-proxies/portaudio-v19/CMakeLists.txt, according to https://cmake.org/cmake/help/latest/variable/ENV.htmlNaNMichael Pannekoek07/16/20, 03:25:40 AM"fix asio build on windows
fix check for if ASIOSDK_DIR is defined, according to https://cmake.org/cmake/help/latest/variable/ENV.html"1
616Canonicalize integers in binary blob format, BREAKING COMPATIBILITY...Paul LicameliPaul-Licameli07/18/20, 04:59:27 AM"... with .aup3 projects saved earlier in 3.0.0 development, except for 32 bit
Windows builds.

Use fixed-width integer types when writing the binary format blobs, not
bool, short, int, size_t, ..., which might vary among machines and so make
.aup3 files non-portable.

Choose the widths to write whatever is narrowest among the four builds; this
makes a difference only for long and size_t which are 32 bits in the 32 bit
Windows build.  (long is also 32 bits on the 64 bit Windows build.)

Also normalize the endianness to little, in case that ever matters on other
future processors.

Didn't attempt the same for the floating point types.

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests ""I really don't think we have to worry about endianness anymore.  I think all major platforms that we support are little and I'd wager that the upcoming ARM Macs are little as well.

But, while it looks complicated, it's pretty spiffy the way you handled it.
 =||= "Canonicalize integers in binary blob format, BREAKING COMPATIBILITY...Paul LicameliPaul-Licameli07/18/20, 04:59:27 AM"... with .aup3 projects saved earlier in 3.0.0 development, except for 32 bit
Windows builds.

Use fixed-width integer types when writing the binary format blobs, not
bool, short, int, size_t, ..., which might vary among machines and so make
.aup3 files non-portable.

Choose the widths to write whatever is narrowest among the four builds; this
makes a difference only for long and size_t which are 32 bits in the 32 bit
Windows build.  (long is also 32 bits on the 64 bit Windows build.)

Also normalize the endianness to little, in case that ever matters on other
future processors.

Didn't attempt the same for the floating point types.

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNPaul Licameli07/18/20, 02:45:51 AM"Canonicalize integers in binary blob format, BREAKING COMPATIBILITY...

... with .aup3 projects saved earlier in 3.0.0 development, except for 32 bit
Windows builds.

Use fixed-width integer types when writing the binary format blobs, not
bool, short, int, size_t, ..., which might vary among machines and so make
.aup3 files non-portable.

Choose the widths to write whatever is narrowest among the four builds; this
makes a difference only for long and size_t which are 32 bits in the 32 bit
Windows build.  (long is also 32 bits on the 64 bit Windows build.)

Also normalize the endianness to little, in case that ever matters on other
future processors.

Didn't attempt the same for the floating point types."1
617Build instructions for Mac are outdated on wikiMr Speakermrspeaker05/13/21, 07:30:01 PM"**Describe the bug**
The project structure seems to have diverged from the [build instructions](https://wiki.audacityteam.org/wiki/Building_On_Mac) for Mac. 

The initial link at the top of the page points to [a 404 in this repo](https://github.com/audacity/audacity/blob/master/mac/build.txt), and the instructions on the page fail at the building step ` xcodebuild -configuration Release64 install`, as there is no xcode project in the repo anymore.

Additionally, if I try to instead follow the `cmake` instructions below the xcode instruction, it will fail as it can not find the `wxWidgets` libraries (that are successfully built in the previous steps).

```-- ========== Configuring wxwidgets ==========
CMake Error at /usr/local/Cellar/cmake/3.15.1/share/cmake/Modules/FindPackageHandleStandardArgs.cmake:137 (message):
  Could NOT find wxWidgets (missing: wxWidgets_LIBRARIES
  wxWidgets_INCLUDE_DIRS)
```

**To Reproduce**
Steps to reproduce the behavior:
1. Go to [build instructions](https://wiki.audacityteam.org/wiki/Building_On_Mac)
2. Follow the instructions for steps 1-4 (it correctly builds wxWidgets)
3. Follow instructions for 5 (xcodebuild) - fails with ""no xcode project""

**Expected behavior**
Build instructions should apply to current state of the code base.

I think the `xcode` section needs to be removed, and some instuctions added (or linked) to explain how to use the built wxWidgets libraries as part of the cmake build.""I was able to link the local wxWidgets library. In the documentation under `CMake Build` and `4) Configure and generate the Xcode project` I changed:
before: ```cmake -G Xcode ..``` 
after: ```cmake -Daudacity_use_wxwidgets=local -G Xcode ..```
And the compilation with `xcodebuild` was successful.

Sorry if this is not the place for issues about the wiki - feel free to close this issue if not, though it would be great to get the information updated. =||= Closing as Wiki now has this text:

```
4) Configure and generate the Xcode project:

      cmake -G Xcode ..

5) Build Audacity using the CMake command or xcodebuild:

      cmake --build . --config Release

      xcodebuild --configuration Release

   The ""Audacity.app"" bundle will be in the ""bin/Release"" subdirectory of your
   ""build"" folder, so you can start it via Finder or:

      open bin/Release/Audacity.app
``` =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
618Translation: Update zh_CN.poWhiredPlanckWhiredPlanck02/04/21, 08:03:57 PMUpdate the Simplified Chinese translation.P.S. This .po file has been uploaded to transifex.com, too. =||= This has now been applied.  Thanks. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
620Silence finder settings not working in macrosGibbz07/20/20, 03:30:26 AM"**Describe the bug**
When using the silence finder in a macro, it is not applying the settings. Instead it uses the default settings each time.
See attached macro:
[Label Parts.txt](https://github.com/audacity/audacity/files/4945328/Label.Parts.txt)


**To Reproduce**
Steps to reproduce the behavior:
1. Go to 'tools>apply macro> Label Parts'
Notice the label before duration setting, silence levels do not work from a macro.

**Expected behavior**
The setting should be applied from the macro.
This worked fine in version 2.3.x and was broken in the 2.4.x series

**Additional information (please complete the following information):**
 - OS: Windows 10
 - 2.4.2"I see the problem! The settings in the macro have changed since 2.4.x! Ive update my macro, and its working fine! :) =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
621Multi-view not selectable as a default view in settingsGibbz07/20/20, 06:57:31 AM"**Describe the bug**
In the preferences-> track -> Default view mode are the options for the tracks default display mode. The multi-view option is missing from the list

**Expected behavior**
An option for multi-view to be default.

**Additional information (please complete the following information):**
 - OS: Windows 10
 - Version 2.4.2""Also it would be nice to be able to specify the default split ratio between the views. Eg, 1 wavform : 3 spectogram =||= Thanks for the suggestion. 
It's already logged on our bug tracker here: https://bugzilla.audacityteam.org/show_bug.cgi?id=2460
Previous mailing list discussions ruled out an option for ""the default split"" as unnecessary ""preference bloat"". =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
622Various unitary fixesPaul LicameliPaul-Licameli07/20/20, 10:11:44 PM"Some comments, and a combined bit of exception safety (eliminating some intermediate vector allocations) and efficiency in the callbacks passed to sqlite3_exec."Looks good.  It was what I was wanting, but couldn't figure out how to do it.  Will merge as soon as the build finish. =||= Various unitary fixesPaul LicameliPaul-Licameli07/20/20, 10:11:44 PMSome comments, and a combined bit of exception safety (eliminating some intermediate vector allocations) and efficiency in the callbacks passed to sqlite3_exec.NaNPaul Licameli07/20/20, 08:40:24 PM"No intermediate arrays (of arrays) of strings for query results...

... instead, let any query pass its own lambda to collect row data directly
however it needs to, for a bit of efficiency.  Also the precautions of a new
GuardedCall"1
623Unitary thread reviewPaul LicameliPaul-Licameli07/21/20, 01:17:46 AM"I reviewed the recent addition of a worker thread.  I correct some errors.  I don't know if more changes we in store for this.  Take selected commits that don't conflict with plans.
""Write you are.  Sorry about that.  I went through so many iterations of that thing and I was confusing it with a previous version.  I finally realize that SQLite didn't care if I processed every single hook call.  All he cares about is the last one.  So rather than a queue of requests, I would up simplifying it to a simple trigger.

And apparently I left a lot of leavin's behind.  Thanks for catching it. =||= "Unitary thread reviewPaul LicameliPaul-Licameli07/21/20, 01:17:46 AM"I reviewed the recent addition of a worker thread.  I correct some errors.  I don't know if more changes we in store for this.  Take selected commits that don't conflict with plans.
"NaNPaul Licameli07/20/20, 10:37:08 PMRemember to close db connections even after failure to open1
624Fix save projectPaul LicameliPaul-Licameli07/21/20, 05:44:28 AM"Made sure failure paths through SaveProject will do the right thing -- not close the original database connection unnecessarily.

And correct some comments."Thanks for reviewing that Paul.  This was what I was talking about needing more eyeballs looking at things.  Never hurts!!! =||= Fix save projectPaul LicameliPaul-Licameli07/21/20, 05:44:28 AM"Made sure failure paths through SaveProject will do the right thing -- not close the original database connection unnecessarily.

And correct some comments."NaNPaul Licameli07/21/20, 03:55:01 AM"Correct the cleanup control flow in ProjectFileIO::SaveProject...

... so that it will not destroy the connection to the original database in
case CopyTo() the new file name fails."1
627Dependency cleanupPaul LicameliPaul-Licameli07/23/20, 06:04:47 AM"I was glad to see the new separate class DBConnection.  I was feeling the need too, to define such a class.  Now it lets me do some other cleanups.  I would like to do them first before proceeding with the harder problems of deleting sample blocks and putting transactions in the right places.

This cleanup removes some friend declarations from ProjectFileIO, moves class DBConnection into its own separate file, and makes SqliteSampleBlock depend only on DBConnection, not on ProjectFileIO.

And some ugly stuff I introduced before, making the back-reference from ProjectFileIO to AudacityProject weak -- that is no longer needed for safety.  Just a reference will do.  So I want to remove the related null pointer checking complications.
"Looks dandy.  Don't understand some of it, but the bits that I do are goodness. =||= Dependency cleanupPaul LicameliPaul-Licameli07/23/20, 06:04:47 AM"I was glad to see the new separate class DBConnection.  I was feeling the need too, to define such a class.  Now it lets me do some other cleanups.  I would like to do them first before proceeding with the harder problems of deleting sample blocks and putting transactions in the right places.

This cleanup removes some friend declarations from ProjectFileIO, moves class DBConnection into its own separate file, and makes SqliteSampleBlock depend only on DBConnection, not on ProjectFileIO.

And some ugly stuff I introduced before, making the back-reference from ProjectFileIO to AudacityProject weak -- that is no longer needed for safety.  Just a reference will do.  So I want to remove the related null pointer checking complications.
"NaNPaul Licameli07/23/20, 04:34:27 AMFunction ProjectFileIO::Conn() isn't needed1
628Preliminaries for grouped block deletionPaul LicameliPaul-Licameli07/23/20, 04:17:30 PM"Not yet grouping the deletion of blocks into single SQL commands, but these are various simplifications that will support that."NaNPreliminaries for grouped block deletionPaul LicameliPaul-Licameli07/23/20, 04:17:30 PMNot yet grouping the deletion of blocks into single SQL commands, but these are various simplifications that will support that.NaNPaul Licameli07/21/20, 04:17:25 PMFunction to delete all blocks of/not-of a given set in one command1
629Win: assertions on project close shouldn't crash displaying the dialogPaul LicameliPaul-Licameli07/23/20, 04:16:02 PM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNWin: assertions on project close shouldn't crash displaying the dialogPaul LicameliPaul-Licameli07/23/20, 04:16:02 PM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNPaul Licameli07/23/20, 03:47:57 PMWin: assertions on project close shouldn't crash displaying the dialog1
631Audacity's ffmpeg plugin automatically scales the volume when importing lossy audio filesKratos29105/22/21, 10:44:31 AM"When you import lossy audio files in audacity (ac3 etc.) and export them, the export has a lower volume than the source. This is not an expected behaviour when you want to edit audio losslessly. This is because the ffmpeg plugin automatically scales the volume during the import process. Pure ffmpeg does this also. In ffmpeg you can fix it with ""-drc_scale 0"". 

My suggestion is to make Audacity automatically use ""-drc_scale 0"" when importing a lossy audio source.

- Windows 10
- Happens in all audacity versions""Believed fixed, but the bugzilla item and/or commit needs tracking down. =||= Tracked down to https://github.com/audacity/audacity/issues/398#issuecomment-835825236 
https://ffmpeg.org/pipermail/ffmpeg-devel/2015-March/170985.html
#741 has been merged, so closing. =||= I tested this on my W10 PC with Audacity 3.0.2  and I can hear no difference when playing - but measurement shows slightly otherwise

1) Generate default Tone
2) Effect Amplify
3) Observe: amplification factor **1.938 dB**
4) Cancel - i.e. don't apply the Amplification
5) Export as AC3 - say tone.ac3
6) Close Audacity
7) Relaunch Audactity
8) import tone.ac3
9) Export the audio as say tone-exported.ac3
10) Import tone-exported.ac3
11) select top track, labelled ""tone""
12) Effect > Amplify
13) Observe: amplification factor **1.901 dB**
14) Cancel
15) select bottom track, labelled ""tone-exported""
16) Effect > Amplify
17) Observe: amplification factor **1.872 dB**
18) Cancel

So this looks to meas though Audacity is scaling  when importing lossy AC3 audio files - but  from the measurements it looks like Audacity is slightly scaling up rather than down.

But this begs the question:
are the two amplitudes close enough - or does this remain an issue

@JamesCrook  - your thoughts please ?

@Kratos291 can you please reconduct my experiment with:
a) your original Audacity version from July 2020,
b) the latest release 3.0.2 ?


 =||= Dmitry reminded me that #741 had been reverted, so reopening. =||= > 
> 
> Dmitry reminded me that #741 had been reverted, so reopening.

It was reverted as we were unsure how to handle
a) backwards compatibility issues
b) hosting two versions of FFmpeg for each platform
c) managing users' FFmpeg upgrades =||= Logged on our bugtracker Bugzilla as Bug #2796
https://bugzilla.audacityteam.org/show_bug.cgi?id=2796
FFmpeg automatically scales the volume when importing lossy audio files

So closing this GitHub Issue in favor of the tracked Bugzilla entry. =||= > https://ffmpeg.org/pipermail/ffmpeg-devel/2015-March/170985.html

That is the correct behaviour. Anyway, much later https://patchwork.ffmpeg.org/project/ffmpeg/patch/20200201193443.22419-1-rcombs@rcombs.me/ =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
632Use XDG-compliant dirs by default on Unix platformsCampbell Jonesserebit05/03/21, 06:06:36 PM"This addresses [issue 2201](https://bugzilla.audacityteam.org/show_bug.cgi?id=2201) on the Bugzilla tracker.

The new behavior is only applicable to Unix platforms. If the `~/.audacity-data` folder doesn't exist (i.e. on a new installation of Audacity) the proper XDG-compliant directories will be used for saving data (configuration files go in `~/.config/audacity`, data files go in `~/.local/share/audacity`). On existing installations of Audacity where `~/.audacity-data` already exists, that directory will continue to be used. This allows for potential downgrade compatibility should Audacity drop the legacy behavior in the future, and doesn't disrupt existing installations.""Any update on this? =||= FWIW, we're applying this patch on NixOS and so far there has been no complaints. =||= That sounds good, so may be it can be upstreamed? =||= There are some merge conflicts that need to be sorted and it's obviously up to the maintainers here, but otherwise I'd say yes. In all fairness, it's currently in NixOS unstable and thus not in a released version yet.
 =||= I can fix the merge conflicts, but I can't speak to this actually being merged anytime soon. =||= > I can fix the merge conflicts, but I can't speak to this actually being merged anytime soon.

Is there any reason not to merge it if conflicts are resolved? =||= > Is there any reason not to merge it if conflicts are resolved?

I mean, there are legitimate concerns with this, namely the fact that it's changing the default for a lot of users. If the version of Audacity is downgraded, for example, it'll be unable to see the data in the new config/storage locations. I think it's worth it, but Audacity's maintainers may not agree, or they just don't feel like reviewing this yet. =||= I think it's better to enable it than to be stuck on those concerns and never enable it, but I'd like to hear what audacity maintainers have to say. =||= Looks like it didn't make it in 3.0? =||= @serebit  - any chance you will find the time to fix the merge conflicts? =||= @peterhoeg Oh right, you need this for Nix. Yeah I can fix the merge conflicts. =||= So is there any plan to upstream it after all? I'd like to see Debian version having that. If it's not going upstream any time soon, I'd propose Debian maintainers to support this as a patch.

Would be good if anyone who makes the decision to upstream could comment on it. =||= Closing in favor of #831, because I can't update this PR due to having deleted the source branch by accident a while back. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
633Filter curve tool help link is brokenJack Pearsonjrpear07/28/20, 11:34:06 AM"**Describe the bug**
The link to the online manual for filter curve eq tool is broken.

**To Reproduce**
Steps to reproduce the behavior:
1. Record some short audio clip
2. Select it
3. Open Effect -> Filter Curve...
4. Click on the question mark on the bottom of the new window
5. Click on the link with the text ""view the Manual online""
6. The link leads to a 404 page

**Expected behavior**
A clear and concise description of what you expected to happen.

**Screenshots**
If applicable, add screenshots to help explain your problem.

**Additional information (please complete the following information):**
 - OS: Windows 10
 - Version Audacity 2.4.2""Thanks for the report. I can confirm that this also happens on Linux, so I assume it is the same on all platforms.
I'll log it on our bug tracker.
I think I know what the problem is, so hopefully it will be fixed in the next Audacity release. =||= This has been fixed for  the next release. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
640export to raw is wrongGaboriddq08/12/20, 01:03:00 PM"reproduce:

record
split stereo to mono
delete track 2
tracks/resample to 8000Hz
export as uncompressed raw, signed 16 bit
file/new/import/raw: signed 16 bit, little endian (?), 1 channel mono, sample rate 8000Hz

I think the exported file's sample rate is 44100 instead of 8000.""Use the ""Project Rate"" (lower left corner of the main Audacity window) to set the sample rate of exported files.
See also: https://manual.audacityteam.org/man/selection_toolbar.html#rate

If you require more help, please ask on the Audacity help forum: https://forum.audacityteam.org =||= thank you =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
641Update French translationOlivier Humberttrebmuh08/10/20, 01:56:28 PMFollowing the discussion on the translation mailing list.:+1:  =||= Update French translationOlivier Humberttrebmuh08/10/20, 01:56:28 PMFollowing the discussion on the translation mailing list.NaNOlivier Humbert08/10/20, 01:16:35 PMa few typos fixes in the French translation1
645Fix bug/enhancement 266. Added progress dialog when changing sample format.binarywisdom08/20/20, 11:57:50 PM"Here is a fix/enhancement for the Bug 266.
To introduce a progress dialog, CovertToSampleFormat-methods were overloaded in classes WaveTrack, WaveClip, and Sequence.
Class WaveTrack got a small new GetNumSamples method, that helps to estimate the total amount of samples for correct progress display.
"NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
646Track factory cleanupPaul LicameliPaul-Licameli08/22/20, 11:44:50 PM"   Simplify obsolete complications related to TrackFactory...
    
    ... There were there only because DirManager was in the base Track object
    (which was unnecessary even before the Unitary project) and had to be set
    properly for the destination project.
    
    Use a factory now only for Wave tracks, not other subclasses.
"NaNTrack factory cleanupPaul LicameliPaul-Licameli08/22/20, 11:44:50 PM"   Simplify obsolete complications related to TrackFactory...
    
    ... There were there only because DirManager was in the base Track object
    (which was unnecessary even before the Unitary project) and had to be set
    properly for the destination project.
    
    Use a factory now only for Wave tracks, not other subclasses.
"NaNPaul Licameli08/21/20, 04:45:50 PM"Simplify obsolete complications related to TrackFactory...

... There were there only because DirManager was in the base Track object
(which was unnecessary even before the Unitary project) and had to be set
properly for the destination project.

Use a factory now only for Wave tracks, not other subclasses."1
647fixed bug/enh 266binarywisdom09/04/20, 03:44:31 PM"Here is a fix/enhancement for the Bug 266.

To introduce a progress dialog, CovertToSampleFormat-methods were overloaded in classes WaveTrack, WaveClip, and Sequence.

Class WaveTrack got a small new GetNumSamples method, that helps to estimate the total amount of samples for correct progress display.""I would improve this a few ways:

1) Don't make new overloads
2) Instead just add one argument, a callback with type std::function< void(size_t) >, which can default to {} (a null function), and comment it
3) Pass a lambda as the function in WaveTrackControls.cpp, which can update the progress indicator
4) Sequence passes len into the function when it is not null
5) Don't make WaveTrack.cpp and lower levels depend on ProgressDialog.h
6) It should be safe to throw UserException out of the lambda in case the progress is cancelled to abort the resampling (please test that)
 =||= This looks better now.  Did you test the exceptional path?

I suggest you squash the two commits into one.

It's not my decision whether to merge this though, I'm not the release manager.
 =||= > This looks better now. Did you test the exceptional path?
> 
> I suggest you squash the two commits into one.
> 
> It's not my decision whether to merge this though, I'm not the release manager.

Paul, thank you for suggestions. Really liked your solution. It is way smaller and doesn't use pointers.
The cancel button works. The UserException handling on app level resets Audacity to the last saved state. When format changing, the state is saved once the whole work is done. So, cancelling during the process places the program in the pre-format-change state. I'll squash the commits too. =||= I have rebased your commit, resolving some conflicts, and merged it.

Thank you.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
648Dont delete sample blocks prematurelyPaul LicameliPaul-Licameli08/28/20, 08:38:38 PM"Re-fixes an old problem more simply.

Also restores AutoCommitTransaction as I think it should be, consistent with these principles: https://doxy.audacityteam.org/exception-safety.html#Strong-guarantee-compound

MAY have relation to the disk exhaustion troubles -- I'm not certain of that yet.

But I believe this is also a right thing to do on its own merits.""If you're really certain that the in memory objects will no longer reference the blocks created during the effect, then doing a rollback should be fine.

But, why not just leave the AutoCommitTransaction as-is and simply call trans.Rollback() in the cleanup finally block?  Seems a lot clearer to me.

Actually, maybe I should rename AutoCommitTransaction to something more like what it was intended to do.  Maybe, PerformanceWrapper or IOReducer or some such.

And we should probably get rid of using SAVEPOINTs.  Just makes things more complicated due to the nesting.  It's a remnant of some of the initial tinkering I was doing.
 =||= > If you're really certain that the in memory objects will no longer reference the blocks created during the effect, then doing a rollback should be fine.
> 
> But, why not just leave the AutoCommitTransaction as-is and simply call trans.Rollback() in the cleanup finally block? Seems a lot clearer to me.

But the rollback was never done.   The code before my reversion commits by default and requires rollback to be explicit but didn't use it.   Commit of the savepoint was always done.  That's questionable.  Maybe that could leave orphan blocks committed in the SeqBlock table if there is an exception thrown in the scope of AutoCommitTransaction for any reason.

No, see the guideline document I cited about why I think this really is better this way.

The point of a destructor and RAII is to guarantee a cleanup no matter what might go wrong and cause early abnormal exit.  Better to setup for recovery from failure as the default, and require an explicit call to indicate success and cancel cleanup, which is only done at the point when success is certain.

If you do the reverse, requiring rollback to be explicit overriding the commit -- how can you be so sure you correctly cover all the paths of failure?  It's easier to cover just the path of success in stead, which, while most probable, is only one path, not many.

> 
> Actually, maybe I should rename AutoCommitTransaction to something more like what it was intended to do. Maybe, PerformanceWrapper or IOReducer or some such.
> 
> And we should probably get rid of using SAVEPOINTs. Just makes things more complicated due to the nesting. It's a remnant of some of the initial tinkering I was doing.

Do you mean you would reimplement the class to use BEGIN, COMMIT, and ROLLBACK commands instead?
 =||= > 
> 
> > If you're really certain that the in memory objects will no longer reference the blocks created during the effect, then doing a rollback should be fine.
> > But, why not just leave the AutoCommitTransaction as-is and simply call trans.Rollback() in the cleanup finally block? Seems a lot clearer to me.
> 
> But the rollback was never done.

That's because rollbacks were NEVER intended to be done.  This was strictly supposed to be used for performance not database management.  (I could kick myself for putting that method in there in the first place.)

If you want to change it to be more than that, then rename it because it won't be Auto""Commit""Transaction anymore.

> > And we should probably get rid of using SAVEPOINTs. Just makes things more complicated due to the nesting. It's a remnant of some of the initial tinkering I was doing.
> 
> Do you mean you would reimplement the class to use BEGIN, COMMIT, and ROLLBACK commands instead?

Yes. =||= > > > If you're really certain that the in memory objects will no longer reference the blocks created during the effect, then doing a rollback should be fine.
> > > But, why not just leave the AutoCommitTransaction as-is and simply call trans.Rollback() in the cleanup finally block? Seems a lot clearer to me.
> > 
> > 
> > But the rollback was never done.
> 
> That's because rollbacks were NEVER intended to be done. This was strictly supposed to be used for performance not database management. (I could kick myself for putting that method in there in the first place.)

But should not rollbacks be done as error recovery, if there is any exception propagating out, for whatever other reason (maybe other than exceptions related to the database), to make sure things are left in a clean state? 

We need to consider the exceptional flows of control too, which might quit anywhere in the middle of the scope of AutoCommitTransaction, and not just the usual success path.

I was led to this while debugging the problems Steve reported with exhaustion of the thumb drive.

It got to the point that these AutoCommitTransaction blocks were being entered, and applying effects was failing, and yet commits of savepoints were also being attempted in these destructors.  And these database operations were failing, but there was no other way to propagate the error out.  And I don't understand what compounded corruption to the database might be happening.

Another reason I think it's far better to set up for rollback in the destructor by default, in case anything else wants to blow up for whatever reason.

> 
> If you want to change it to be more than that, then rename it because it won't be Auto""Commit""Transaction anymore.

Indeed, the name might be reconsidered, if it's really the rollback that is ""auto"" unless you tell it otherwise.  Say, ""TransactionScope"".

> 
> > > And we should probably get rid of using SAVEPOINTs. Just makes things more complicated due to the nesting. It's a remnant of some of the initial tinkering I was doing.
> > 
> > 
> > Do you mean you would reimplement the class to use BEGIN, COMMIT, and ROLLBACK commands instead?
> 
> Yes.

 =||= > > > > If you're really certain that the in memory objects will no longer reference the blocks created during the effect, then doing a rollback should be fine.
> > > > But, why not just leave the AutoCommitTransaction as-is and simply call trans.Rollback() in the cleanup finally block? Seems a lot clearer to me.
> > > 
> > > 
> > > But the rollback was never done.
> > 
> > 
> > That's because rollbacks were NEVER intended to be done. This was strictly supposed to be used for performance not database management. (I could kick myself for putting that method in there in the first place.)

Are you suggesting it may be best simply to remove that class and its uses, because it has not demonstrated its value with performance improvements?

If you decide that then I will close this request.

> 
> But should not rollbacks be done as error recovery, if there is any exception propagating out, for whatever other reason (maybe other than exceptions related to the database), to make sure things are left in a clean state?
> 
> We need to consider the exceptional flows of control too, which might quit anywhere in the middle of the scope of AutoCommitTransaction, and not just the usual success path.
> 
> I was led to this while debugging the problems Steve reported with exhaustion of the thumb drive.
> 
> It got to the point that these AutoCommitTransaction blocks were being entered, and applying effects was failing, and yet commits of savepoints were also being attempted in these destructors. And these database operations were failing, but there was no other way to propagate the error out. And I don't understand what compounded corruption to the database might be happening.
> 
> Another reason I think it's far better to set up for rollback in the destructor by default, in case anything else wants to blow up for whatever reason.
> 
> > If you want to change it to be more than that, then rename it because it won't be Auto""Commit""Transaction anymore.
> 
> Indeed, the name might be reconsidered, if it's really the rollback that is ""auto"" unless you tell it otherwise. Say, ""TransactionScope"".
> 
> > > > And we should probably get rid of using SAVEPOINTs. Just makes things more complicated due to the nesting. It's a remnant of some of the initial tinkering I was doing.
> > > 
> > > 
> > > Do you mean you would reimplement the class to use BEGIN, COMMIT, and ROLLBACK commands instead?
> > 
> > 
> > Yes.

 =||= Let me restate the problem very briefly:

Committing automatically in the destructor may seem convenient, but then it will happen not only with normal flow control, but also when doing exceptional stack unwinding.

It is doubtful that this is right.

I saw it happening while debugging drive exhaustion.

So I propose this slightly less convenient class which may be more correct in the unusual cases too.
 =||= 
> > > That's because rollbacks were NEVER intended to be done. This was strictly supposed to be used for performance not database management. (I could kick myself for putting that method in there in the first place.)
> 
> Are you suggesting it may be best simply to remove that class and its uses, because it has not demonstrated its value with performance improvements?
> 

Oh, no, it is absolutely required for performance purposes.
 =||= I have renamed the class to TransactionScope.

I'm not sure you sound convinced yet.  It is true haven't yet demonstrated a bug that is fixed with this rewrite.  I would still prefer this style on principle.
 =||= Thanks for merging!
 =||= "Dont delete sample blocks prematurelyPaul LicameliPaul-Licameli08/28/20, 08:38:38 PM"Re-fixes an old problem more simply.

Also restores AutoCommitTransaction as I think it should be, consistent with these principles: https://doxy.audacityteam.org/exception-safety.html#Strong-guarantee-compound

MAY have relation to the disk exhaustion troubles -- I'm not certain of that yet.

But I believe this is also a right thing to do on its own merits."NaNPaul Licameli08/28/20, 06:46:58 PM"Rename AutoCommitTransaction as TransactionScope...

... More appropriately, since it's now the rollback that is automatic but
the commit that must be explicit"1
649Graceful failure saving to thumb drive...Paul LicameliPaul-Licameli08/28/20, 04:19:37 PM"... If renaming of the file (to a place on a different device) fails,
recover correctly before giving the warning message

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNGraceful failure saving to thumb drive...Paul LicameliPaul-Licameli08/28/20, 04:19:37 PM"... If renaming of the file (to a place on a different device) fails,
recover correctly before giving the warning message

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNPaul Licameli08/27/20, 02:25:11 AM"Graceful failure saving to thumb drive...

... If renaming of the file (to a place on a different device) fails,
recover correctly before giving the warning message"1
650Bug2529: don't lose data when closing without saving on small drivePaul LicameliPaul-Licameli08/28/20, 06:03:36 PM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNBug2529: don't lose data when closing without saving on small drivePaul LicameliPaul-Licameli08/28/20, 06:03:36 PM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNPaul Licameli08/28/20, 05:24:47 PMBug2529: don't lose data when closing without saving on small drive1
651Bug2532: should preserve sharing of sample blocks when importing AUPPaul LicameliPaul-Licameli08/30/20, 10:18:18 PM"Bug2532: should preserve sharing of sample blocks when importing AUP"NaNBug2532: should preserve sharing of sample blocks when importing AUPPaul LicameliPaul-Licameli08/30/20, 10:18:18 PMBug2532: should preserve sharing of sample blocks when importing AUPNaNPaul Licameli08/28/20, 08:38:38 PMBug2532: should preserve sharing of sample blocks when importing AUP1
652Bug2537: graph of sharing of block objects needs recreation on openPaul LicameliPaul-Licameli09/01/20, 12:30:47 AM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "We really need to get true reference counting on blocks and get rid of the whole CloseLock()/LastSaveTracks stuff.  Fixes like this wouldn't be needed. =||= Bug2537: graph of sharing of block objects needs recreation on openPaul LicameliPaul-Licameli09/01/20, 12:30:47 AM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNPaul Licameli08/31/20, 10:52:10 PMBug2537: graph of sharing of block objects needs recreation on open1
653bug2537 addendum: XML block attributes are redundant...Paul LicameliPaul-Licameli09/01/20, 01:31:00 AM"Bug2532: should preserve sharing of sample blocks when importing AUP"NaNbug2537 addendum: XML block attributes are redundant...Paul LicameliPaul-Licameli09/01/20, 01:31:00 AMBug2532: should preserve sharing of sample blocks when importing AUPNaNPaul Licameli09/01/20, 12:20:58 AM"bug2537 addendum: XML block attributes are redundant...

... with database columns, so stop writing them and save some space.

This won't break loading of existing .aup3 files.

This required a bug fix in a SQL command too!"1
654Aup import reviewPaul LicameliPaul-Licameli09/01/20, 02:26:24 PM"Various fixes for .aup import
"NaNAup import reviewPaul LicameliPaul-Licameli09/01/20, 02:26:24 PM"Various fixes for .aup import
"NaNPaul Licameli08/30/20, 04:36:02 PMRe-use SFCall, in case we decide in future that the mutex does matter1
655Do orphan block checking differently...Paul LicameliPaul-Licameli09/01/20, 03:54:37 PM"... Don't have special knowledge of ""blockid"" in ProjectSerializer, which should
be very low-level.

Instead, we can deserialize the project first, and use the block ids collected
by the sample block factory since f137a1e.

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNDo orphan block checking differently...Paul LicameliPaul-Licameli09/01/20, 03:54:37 PM"... Don't have special knowledge of ""blockid"" in ProjectSerializer, which should
be very low-level.

Instead, we can deserialize the project first, and use the block ids collected
by the sample block factory since f137a1e.

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNPaul Licameli09/01/20, 03:04:15 PM"Do orphan block checking differently...

... Don't have special knowledge of ""blockid"" in ProjectSerializer, which should
be very low-level.

Instead, we can deserialize the project first, and use the block ids collected
by the sample block factory since f137a1e."1
656More aup import reviewPaul LicameliPaul-Licameli09/02/20, 05:36:49 AM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNMore aup import reviewPaul LicameliPaul-Licameli09/02/20, 05:36:49 AM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNPaul Licameli09/02/20, 02:33:26 AMFix some Doxygen in ImportAUP.cpp1
657Sample block cleanupsPaul LicameliPaul-Licameli09/02/20, 06:11:31 PM"Various simplifications in SqliteSampleBlock.cpp, which may be peparatory for other bug fixes.""Thank you
 =||= "Sample block cleanupsPaul LicameliPaul-Licameli09/02/20, 06:11:31 PMVarious simplifications in SqliteSampleBlock.cpp, which may be peparatory for other bug fixes.NaNPaul Licameli09/02/20, 04:14:47 PMSatisfy sample and summary requests for silent blocks without using db1
658Mac: avoid assertion violations from KeyboardCapture.cpp...Paul LicameliPaul-Licameli09/03/20, 05:34:00 PM"Please do review this.  It's not related to UP but it came to my attention trying to debug 2526.

I wonder if all the unusual stuff manipulating NSEvent, which I don't fully understand, is made unnecessary by changes in more recent versions of wxWidgets.

See source of wxWidgetCocoaImpl::SetupKeyEvent to understand just how the unicode character in the wxKeyEvent is set up.  In some paths to our function GetUnicodeString, it's all the data we have.

The assertion that is removed is a bothersome one that I have been seeing sometimes in debug builds for quite some time, but I don't know for sure what to do about it."I probably understand it less than you do Paul, but as RM are fine with it going through, if phenomenologically it looks OK/better.  Do try with IME/Kanji, just to check we are not creating a new problem for foreign locales.  (I'd expect we actually end up better). =||= Definitely some complicated stuff.  Merging so we can give others an opportunity to test it as well. =||= Mac: avoid assertion violations from KeyboardCapture.cpp...Paul LicameliPaul-Licameli09/03/20, 05:34:00 PM"Please do review this.  It's not related to UP but it came to my attention trying to debug 2526.

I wonder if all the unusual stuff manipulating NSEvent, which I don't fully understand, is made unnecessary by changes in more recent versions of wxWidgets.

See source of wxWidgetCocoaImpl::SetupKeyEvent to understand just how the unicode character in the wxKeyEvent is set up.  In some paths to our function GetUnicodeString, it's all the data we have.

The assertion that is removed is a bothersome one that I have been seeing sometimes in debug builds for quite some time, but I don't know for sure what to do about it."NaNPaul Licameli09/03/20, 04:29:06 PM"Mac: avoid assertion violations from KeyboardCapture.cpp...

... when the NSEvent is not accessible"1
662Would it be extremely difficult to get the option to have absolute times on the x-axis?RIN67630rin6763009/11/20, 05:26:59 AM"I would really love to be able to get the possibility to choose absolute time (hh:mm:ss) from the system time of recording on the x-axis of a track.
Would that be a huge issue, breaking a lot of other things, or would it be easily doable?
IMHO storing the time of starting the recording in the metadata and doing a bit if time math on the axis ribbon?""Yes, it would be extremely difficult if not impossible. If you import a file, Audacity has no idea which decade it was recorded, let alone the time. Even if Audacity did know the start time, as soon as you start editing, the times will be wrong.
There is however a plug-in that may fit your purpose. See this post on the forum: https://forum.audacityteam.org/viewtopic.php?p=337348#p337348
If you have further questions, please ask on the forum. =||= Thank you, that helped. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
663"""Issue opening record device, Code of Issue -9999. issue -9999 Unanticipated host error"""Aka86kalinushkin05/14/21, 02:50:01 PM"**Describe the bug**
A clear and concise description of what the bug is.
Then u change an ears with microphone to just ears( without microphone) *and u still not have either input devices - system warn you a text that use in the title.  

I start audacity with my ears audiotechnica ATH-SR30BT with microphone, after that, then audacity was open i change  my ears on sennheiser HDR 180 without micro and back to Audacity. 

So i get an error modal window 
 
**To Reproduce**
Steps to reproduce the behavior:
1. Go to 'Audacity'
2. Change one of your input devices (i think - this is problem) to device without an input, only output(like usual ears)  
3. Go back to 'Audacity'
4. See error

**Expected behavior**
A system warn you what ""You have no input devices now""

**Screenshots**

![изображение](https://user-images.githubusercontent.com/8788849/92506575-518ed300-f20e-11ea-8f13-14cfa9357bec.png)



**Additional information (please complete the following information):**
 - OS: [Windows 10]
 - Version [Audacity 2.4.2]
 - (if relevant) Sound Device [Windows HDAD]

**Additional context**
Add any other context about the problem here.""Audacity does not expect you to change you input devices (unplug one and plug in a different one) while it active, or even while it is just open and inactive.   In particular Audacity does not dynamically re-scan periodically for changed devices (you can do this manaully by using Transport > Rescan Audio Devices.

Yes the message could be clearer as to what the issue is - but that message IIRC comes from Portaudio and not Audacity.

It is explained clearly in the Audacity Manual on this page:
https://manual.audacityteam.org/man/error_opening_sound_device.html
where it says at the bottom of the page:

-9999 Unanticipated host error: this means means ""something is wrong"". And appears to most often be due to either:
    A lost connection to a USB audio device.
    Recent Windows / Mac update requiring that user gives permission for Audacity to access the microphone. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
664fixed bug 2109binarywisdom09/09/20, 04:43:42 PM"Hello,
Here is a fix for the bug 2109. The fix preserves the original behavior when the newly imported tracks are muted if something was soloed before. But now, the mute button is down. In the bug discussion thread, this behavior is the first one suggested by Steve Daulton.
When determining if something is soloed, the fix scans the existing playable tracks. I haven't found any ""HasSolo"" method, but if it exists, I can amend the pull  request.
Pavel."NaNfixed bug 2109binarywisdom09/09/20, 04:43:42 PM"Hello,
Here is a fix for the bug 2109. The fix preserves the original behavior when the newly imported tracks are muted if something was soloed before. But now, the mute button is down. In the bug discussion thread, this behavior is the first one suggested by Steve Daulton.
When determining if something is soloed, the fix scans the existing playable tracks. I haven't found any ""HasSolo"" method, but if it exists, I can amend the pull  request.
Pavel."NaNbinarywisdom09/09/20, 04:17:38 PMfixed bug 21091
666Snap managerPaul LicameliPaul-Licameli09/19/20, 05:25:49 PM"A preliminary for improvements in Time Shift (which will eliminate track type switches in it) is first to eliminate type switches in Snap.cpp.""> I like the dependence in Snap being on Track rather than multiple other classes.
> 
> The use of const to distinguish Intervals with IntervalData and without looks 'tricksy' to me.
> 

Think of STL containers with overloaded const and non-const begin() and end(), returning different types of iterators, that don't or do allow mutation of the container.  An analogy is intended.

> > I get (or think I do) that IntervalData (aka TrackIntervalData) is arbitrary attached data, but am not getting why you're not using different named functions for with-data and without-data, which seems to be the real distinction.

The important distinction is not with or without data, but rather allowing or not allowing mutation.  Overloading by constness of this is idiomatic.

> 
> The const/non-const distinction is also confusing, because I'd expect to be able to modify actual start and end with the non-const version, and have that modify the underlying objects, and that's not the case. Would separate names for the two versions that indicates one has data and one doesn't be clearer?


> 
> If we're expecting to 'do operation' on the attached IntervalData, such as actually modify start and end, or to query the data to find out whether there is quantization on start and end and whether there is a constraint, such as 'length must be preserved', is the intention that one would add virtual functions to IntervalData to achieve that?

No, the IntervalData is a cookie to be passed back to the appropriate Track or TrackShifter class (next pull request) to interpret.  It only offers a readout of start and end, not modification.  Which is enough for SnapManager. 

> 
> I understand, now, why SnapManager needed changing too, since it (of courses) cares about clips and indeed other things one might snap to.
> 
> > I am interested in whether the eventual method for filtering Tracks and Intervals to snap to will be adequate or fragile.

There is a constructor of SnapManager that collects all intervals from the TrackList in a default way.  But it can also be given a predefined list of points built in a nondefault way.  Which is what TimeShift needs to do, to exclude the moving parts of the tracks from the list of snap candidates.  I did not like the special purpose constructor that existed and rewrote it.



 =||= Allow me a redraft.
 =||= Of course you're 'allowed a redraft'.  I'm taking it to mean; 'I'm redrafting to address some points'. =||= I have reworked this.

As I said, I follow the convention of stl container methods like ""begin"" which have const and non-const overloads, returning results of different kinds, allowing non-mutative or mutative access to the special extra data in the interval.

You must static_cast or dynamic_cast the extra to the expected type, but those casts can't throw away const.

So long as you don't use const_cast (which is always a questionable thing) or C-style pointer casts (bad C++ style), you won't subvert the system.


 =||= These look like improvements on the previous version; including NoteTrack in the changes and making the exclusions a passed in parameter. =||= What do you mean about NoteTrack?  I thought I had changes for it too in the previous version.  It is necessary to preserve behavior.

 =||= Then perhaps I had not picked up on it last time.  I noticed it this time, and thought it was one of the new changes. =||= Rebased onto more recent master, no changes
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
668Track shiftersPaul LicameliPaul-Licameli09/19/20, 05:25:09 PM"Act II of the TimeShift restructuring eliminates two TypeSwitches and one Visit, and makes the clip-shifting menu items also work for Note tracks.
""> I see this is in draft, but wanted to ask:
> 
> Is the fixed/movable distinction too much of a special case and too geared to clips? That clips won't move out the way and are non overlapping is a specific choice for wave clips.

But the non-overlapping constraint will be special to WaveTrackShifter and need not impemented in LabelTrackShifter and will not be in any way enforced by the base class.

The purpose is that the shifter can select only certain of the intervals as moving, then the TimeShift code can iterate only over moving or over fixed intervals as needed -- such as to make fewer snap positions.

> 
> > The actual algorithm when moving something is to (a) to determine where it lands if it attempts to move to a new position (b) to determine what else changes when it moves to a new position.  Shouldn't TrackShifter itself be more agnostic of the algorithms, otherwise it's already specialised for clips?

What do you mean?

TrackShifter, the abstract base class, and the TimeShiftHandle that uses it, are ""agnostic,"" not committed to any particular policy for checking whether moving would succeed.  TimeShiftHandle just checks whether an error is reported.  Derived classes do that as appropriate to the type of track.  LabelTrackShifter need impose no constraint on movement.

> 
> Please replace wxASSERT( false ) in TimeShiftHandle.cpp with wxFAIL_MSG (""Slide amount is in opposite direction or larger than requested""). The comment 'didn't honor post condition!' is too vague,

I do not consider it vague when I used the @post Doxygen command in the documentation of TrackShifter to formalize a postcondition.

It means a derived class failed to keep its contract.

>even in combination with the actual condition (above), but this would fix that by clarifying the intent of the post condition. >[One's first thought on seeing a multiply is that an area is involved; the next that integer overflow might be a concern].

 =||= Where is the @post condition?  I didn't see it.

> TrackShifter, the abstract base class, and the TimeShiftHandle that uses it, are ""agnostic,"" not committed to any particular policy

The detail I'd missed is that mFixed is potentially used by LabelTrackShifter, not in deciding whether a move is allowed at all - for that no mFixed is needed, and constructing mFixed is pointless.  Rather mFixed may play a role in snapping of moving Labels.

Because I'd missed that use, mFixed looked like a WaveTrackShifter implementation detail that had crept into TrackShifter.  Hence my comment. =||= There are some changes now.

None of the actual moving of clips is managed by TrackShifters yet.

Enough of the rest is managed by them, so that the snapping code in TimeShiftHandle makes no direct use of WaveTrack and
WaveClip classes, and the function in ClipMenus.cpp is generalized enough to shift NoteTracks too.
 =||= I see this isn't draft anymore.  Is it ready for review, or might it change further as next stage is done?
Can you say more about the switch on hitTest introduced in f00128d please? =||= See the TypeSwitch in TimeShiftHandle.cpp that is eliminated.

We decide whether nothing can be done for that click (and that was never the case but for WaveTrack).

If you can do something, then either we shift parts of the track and also try to shift parts of other tracks when the click is in the selection.  Or, we shift the clicked track only.

Old behavior is that the label track always shifts as a whole and takes nothing else with it when you click in it.  NoteTrack shifts as a whole but may take other tracks with it.  Wave track moves only certain clips but may take other clicks with it.

 =||= Rebased onto more recent master, no changes
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
669Migrate clipsPaul LicameliPaul-Licameli09/19/20, 05:24:29 PM"Next act, the reparenting of clips in Time shift is done by the WaveTrackShifter class.""Were we previously failing to resample clips on moving them between tracks? =||= On Wed, 16 Sep 2020 at 17:44, James Crook <notifications@github.com> wrote:

> Were we previously failing to resample clips on moving them between tracks?
>

In Audacity 2.4.2 (and earlier), if we move a clip to a track with a
different sample rate, the audio is resampled.
However, a stereo track may have different sample rates in each channel
(which can produce surprising behaviour for the unwary).

Steve


> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/669#issuecomment-693527337>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ACZD2SJBRQKSP6N3IIIHXBDSGDTNFANCNFSM4RO4XF2A>
> .
>
 =||= > Were we previously failing to resample clips on moving them between tracks?

We were not failing to do that.  I only moved the code that does it.
 =||= This pull request looks incomplete to me now.  I will add a commit.
 =||= Rebased onto more recent master, no other changes.

The other thing I thought necessary will be in the next pull request.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
6708-bit FLAC samples are not imported correctlySaga Musixsagamusix05/14/21, 03:54:28 PM"**Describe the bug**
It seems like 8-bit FLAC samples are imported with a wrong amplification factor - to me it looks like the raw 8-bit values are interpreted as if they are from a 16-bit sample, so only the low 8 of 16 bits are ever used.


**To Reproduce**
Steps to reproduce the behavior:
1. Add https://sagagames.de/stuff/eeeeeeee.flac or any other 8-bit FLAC file to your Audacity project
2. Notice that it's practically silent
3. Normalize to see that there is actually data being imported

**Expected behavior**
The example file should peak at 0dB. You can use e.g. VLC to verify that this is correct.

**Additional information (please complete the following information):**
 - OS: Windows 10 x64
 - Version 2.4.2""I have logged this on Bugzilla our Audacity bugtracker
https://bugzilla.audacityteam.org/show_bug.cgi?id=2782
Bug 2782 - 8-bit FLAC samples are not imported correctly

Accordingly I will close this GitHub Issue in favor of that tracked bug.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
671Trying to enter digit 8 or 9 into project sample rates opens a dialog insteadSaga Musixsagamusix05/14/21, 02:35:03 PM"**Describe the bug**
Trying to enter either the digits 8 or 9 into the project sample rate box pops up a dialog to either adjust the left or right border of the selection instead.

**To Reproduce**
Steps to reproduce the behavior:
1. Focus the project sample rate field
2. Type digit 8 into sample rate field
3. Close the dialog for adjusting the left selection border that just opened
4. Type digit 9 into sample rate field
5. Close the dialog for adjusting the right selection border that just opened

**Expected behavior**
I should be able to enter digits 8 and 9 for my project sample rate.

**Screenshots**

![record](https://user-images.githubusercontent.com/875883/93643275-fb851100-f9ff-11ea-86ed-0e10ee83d3a9.gif)

**Additional information (please complete the following information):**
 - OS: Windows 10 x64
 - Version Audacity 2.4.2
- German keyboard layout
- Fresh Audacity install on this system

**Additional context**
Add any other context about the problem here.""Works fine for me on W10 Home 64-bit with 2.4.2 English keyboard and the latest 3.0.0 alpha builds that I have =||= According to [this forum thread](https://forum.audacityteam.org/viewtopic.php?t=111403) it also happens with Norwegian keyboard layouts so maybe you could try to install a second keyboard layout? Maybe any ISO layout will do? =||= I can confirm this bug using the german keyboard layout, and it will also
affect the norwegian layout.
There's a workaround. The keyboard shortcuts for left at playback position
and right at playback position are [ and ] respectively. If you either
clear them or set them to g and h, for example, that will fix the problem.

David.

On Fri, 18 Sep 2020 at 21:41, Saga Musix <notifications@github.com> wrote:

> *Describe the bug*
> Trying to enter either the digits 8 or 9 into the project sample rate box
> pops up a dialog to either adjust the left or right border of the selection
> instead.
>
> *To Reproduce*
> Steps to reproduce the behavior:
>
>    1. Focus the project sample rate field
>    2. Type digit 8 into sample rate field
>    3. Close the dialog for adjusting the left selection border that just
>    opened
>    4. Type digit 9 into sample rate field
>    5. Close the dialog for adjusting the right selection border that just
>    opened
>
> *Expected behavior*
> I should be able to enter digits 8 and 9 for my project sample rate.
>
> *Screenshots*
>
> [image: record]
> <https://user-images.githubusercontent.com/875883/93643275-fb851100-f9ff-11ea-86ed-0e10ee83d3a9.gif>
>
> *Additional information (please complete the following information):*
>
>    - OS: Windows 10 x64
>    - Version Audacity 2.4.2
>    - German keyboard layout
>
> *Additional context*
> Add any other context about the problem here.
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/issues/671>, or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AC2WDLJ4GHLFQP5BCLLAGXDSGPAWRANCNFSM4RSPZKVA>
> .
>
 =||= @petersampsonaudacity is there a bugfix for this issue or why was it closed? =||= Sorry, I got confused with 2 other locale issues that we had - and that got fixed for 3,0.0 - so I reopened this =||= I have logged this as P3 Locale Bug #2781   in Bugzilla our bugtracker
https://bugzilla.audacityteam.org/show_bug.cgi?id=2781
Bug 2781 - German keyboard: Trying to enter digit 8 or 9 into project sample rates opens a dialog instead

Accordingly I shall close this GitHub Issue in favor of the Bugzilla entry =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
672Time shift rewrite bug2464 preliminariesPaul LicameliPaul-Licameli09/20/20, 11:49:38 AM"Combining previous material with new work.

Sufficient to make TimeShiftHandle.cpp independent of all Track subclasses, defining a sufficient interface in TrackShifter.

At commit 2eab9879a57659d6d94bed363ace5067ae924dd2 the postcondition is better stated.  Otherwise commits up to e2353f3146a47678b3c19f8f403c9c46758b6326 have been reviewed before and are unchanged.

""Some changes in d7d1644380d2383a35a8174edb58b28957bac86c
""Another TrackShifter method eliminates a use of capturedClipArray""
 =||= Better default behavior for TrackShifter::MayMigrateTo (always false except for WaveTrack) and TrackShifter::AdjustFit (ditto)
 =||= Better default behavior for TrackShifter::SelectInterval
 =||= Fix definition of TrackShifter::AllFixed
 =||= Fix a bug in track correspondence; added new commits for some last cleanup of general TrackShiftHandle logic.

This finishes the redrafting.
 =||= "Time shift rewrite bug2464 preliminariesPaul LicameliPaul-Licameli09/20/20, 11:49:38 AM"Combining previous material with new work.

Sufficient to make TimeShiftHandle.cpp independent of all Track subclasses, defining a sufficient interface in TrackShifter.

At commit 2eab9879a57659d6d94bed363ace5067ae924dd2 the postcondition is better stated.  Otherwise commits up to e2353f3146a47678b3c19f8f403c9c46758b6326 have been reviewed before and are unchanged.

"NaNPaul Licameli09/20/20, 04:33:28 AMSome last changes to TimeShiftHandle anticipating LabelTrack needs1
673Bug2464Paul LicameliPaul-Licameli09/20/20, 11:49:37 AM"Bug 2464 fix""Thanks.  This is mostly seen/reviewed before.  The additional code looks fine, and works fine in preliminary testing.  I'm a little wary of the additional repetition of 'OnLabelPermuted' code, but it's OK.  I think there's some future work to do on redefining what 'HitTest' really is, since it is becoming more general, and we're seeing a new type switch that follows on from it.

Overall though, delighted to have this bug fixed, with care taken over details such as quantization of position and dragging to other tracks.  If it has also made the code cleaner and easier to work with, that's a good outcome too.  Thank you! =||= "Bug2464Paul LicameliPaul-Licameli09/20/20, 11:49:37 AMBug 2464 fixNaNPaul Licameli09/19/20, 05:41:39 PM"Bug2464: Shifting a label should shift wave clips too...

... Implemented non-invasively just with overrides in LabelTrackShifter

Exceeding the bug description: it's also possible to drag just the subset of
labels that fall partly or wholly in the selected region.

I expect details of the new behavior may be debated."1
674SCAM Website Audacityeleminer05/12/21, 01:12:32 PM"Hello guys,
Yesterday I wanted to download audacity.
When entering ""audacity"" on Google, the following website is the first suggestion: https://www [dot] audacity [dot] de/.
After downloading it from this website, Windows Defender raised the alarm: undesirable behavior.
Here, via Github, I found out that the ""correct"" homepage has the following URL:
https://www.audacityteam.org/

After downloading it from this website, everything went smoothly and I was able to edit my audio files.

I assume that the first website is a fake?
Is this really the case?


Best regards
Marc

""Yes, ""audacity.de"" is a malware site. We would dearly love to see that site permanently shut down, or at least blocked by Google.

The genuine Audacity website is https://www.audacityteam.org/
Our official downloads are served by https://www.fosshub.com (follow the links from the Audacity website for download /installation instructions and the name of the file that you require). Note that the Audacity download links on FossHub are text links. =||= Reported the malicious site to Google at this link: https://safebrowsing.google.com/safebrowsing/report_badware/?hl=en

More places to report malicious sites are itemized here: https://security.stackexchange.com/questions/1728/where-to-report-malicious-urls-phishing-and-malicious-web-sites =||= okay, this is very bad....
 =||= 
I'm actually always very careful when downloading files, but this time they got me... =||= The bad news is that the malicious website https://www [dot] audacity [dot] de/ is still listed on the first (!) place when I search for ""audacity"" at Google. We just detected that we had installed a bundle of new notebooks with malware coming from that site. Today I could confirm that the downloaded Audacity for Windows comes from https://www [dot] audacityorg [dot] de/ and is not identical to the official one, but significantly larger.

I now wrote to Host Europe GmbH (part of the @hosteurope group) who host the scam website and hope they will shut it down and prosecute their client which claims to come from Malta.

I also reported it at @Google using the link above.

As Audacity is a trade mark, it could also be possible to go against domains which misuse that name. =||= I have modified the direct links to the scam site. We really don't want to be helping their SEO ;-) =||= Symantec just told me that they detect the malicious Windows installer. Windows Defender does not detect it ...

    audacity2-4-2.exe | 7125d68e319e44fe0fe0b6c2412e4ea3 | Already Detected | Trojan.Gen.2 | 209933
 =||= I think they change the payload periodically. Much of the time it is a ""pup"" installer. =||= The owner of the scam website is listed in the [Paradise Papers](https://en.wikipedia.org/wiki/Paradise_Papers): https://offshoreleaks.icij.org/nodes/56039455. =||= I've reported the website to https://www.quad9.net/ =||= Host Europe answered today. They ask for evidence that the site is really malicious. =||= Clicking on the ""Download starten"" link on this page: https://www [dot] audacity [dot] de/download-de/
downloads this file: https://www.virustotal.com/gui/file/128f53140b13a899bf6304ec2d5db4ebce33df7d3cf5e3386b97a9701a922fed/detection
Tested at 16:54 GMT 16 Feb 2021 =||= It might be worthwhile to try to get their code signing certificate revoked.  It will be simple enough for them to get another one, but at least executables that have already been downloaded should get flagged.

https://web.entrust.com/ev-misuse/

I have no idea how responsive Entrust is to these kinds of problems. =||= > Symantec just told me that they detect the malicious Windows installer. Windows Defender does not detect it ...

Submit it to https://www.microsoft.com/en-us/wdsi/filesubmission for MS to analyse it. =||= okay, I was happy a few days ago that the page is down, now it's back online ... =||= Currently they deliver an unmodified audacity-win-3.0.0.exe. But of course one never knows whether they always do that in the future. =||= ![audacityScam](https://user-images.githubusercontent.com/46229930/114696334-d3069080-9d1c-11eb-91d4-85b2699a0ee6.png)

maybe you should write here that there is a fake page online. As information! =||= That website has no rights to use the domain name ""audacity"" without permission. So legal means would be most effective. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
675Bug2464Paul LicameliPaul-Licameli09/21/20, 04:31:49 PM"Implement the dragging of labels between tracks with TimeShift.

Also move the new TrackShifter subclasses into three new source files, separating them from the rest of TrackView subclass code.  They may have dependency on the views, but not the reverse.
""Now there are two enhancements:
Dragging of labels from track to track (up to the first merge commit), and
Dragging of labels from track to track can carry clips with it, and dragging of clips can carry labels
 =||= I'm not keen on the greater use of events, rather than calls, but that's a philosophical difference, and doer-decides trumps that in this case.  I understand how it helps 'untangling'.  Similarly for what looks like more near-duplicated code in d508b8.  We're seeing a lot of similar code for renumbering label index things.

Overall goal though makes this well worth having.  So added to master. =||= Some implementation of the ""observer"" (or call it ""publisher/subscriber"" pattern) is a necessity so that LabelTrack is not statically dependent on the code that receives the notifications, here and in other already existing places.

Whether wxEventHandler implements it or not is an implementation detail.  I would like to reimplement many such cases of the observer pattern without it.

 =||= Would the planned reimplementation be easier to step through? =||= Surely there would be far fewer levels of stack between the sending of the message and the entering of the callback function.

Because LabelTrack is broadcasting a message to multiple listeners, the single stepping might have you entering and exiting LabelTrackView::OnLabelPermuted() before you reach LabelTrackShifter::OnLabelPermuted().  But this would be a simple traversal of a list or array of observers, and not the complicated and more generalized business inside wxEvtHandler().

The implementation of those callbacks would be a little simpler and less error prone because event.Skip(); would not be needed to prevent an observer from consuming the message and blocking the broadast from later observers.


 =||= "Bug2464Paul LicameliPaul-Licameli09/21/20, 04:31:49 PM"Implement the dragging of labels between tracks with TimeShift.

Also move the new TrackShifter subclasses into three new source files, separating them from the rest of TrackView subclass code.  They may have dependency on the views, but not the reverse.
"NaNPaul Licameli09/21/20, 03:35:43 PMDragging label from track to track can carry clips with it and v. v.1
676Compressor v2 effectMax Maiselmmmaisel06/04/21, 09:30:33 AM"The Compressor v2 effect is a downward compressor that, in
constrast to the existing compressor (see below), behaves
as someone would expect. It is implemented in a new effect to not break
existing legacy chains.

The new effect has two envelope detectors, a new one which is based on
an analog PT1 compressor and the legacy envelope detector from the old
compressor effect. Additionally, you can chose between RMS and peak
detection.

Sliders in the GUI with a very high dynamic range (e.g. attack and
release time) use a logarithmic scale to improve usability.

As mentioned earlier on the audacity-devel list, I extracted the plot and
slider-with-textbox widgets into separate classes. They are both
integrated into ShuttleGUI so they can be used elsewhere as well.

Envelope detectors and sample preprocessors (RMS and sliding-max)
are separate classes to keep the code modular and extensible.
Internally, the effect uses a four stage pipeline to buffer audio data.
This might be over-complicated for offline processing but allows unified
offline and realtime code-paths.

When using the new PT1 envelope detector, all parameters expect the
lookahead time are realtime capable. In case of the legacy envelope
detector, attack time is not realtime capable as an additional
limitation because it is implemented with lookahead.""I'll never sign a CLA on Google docs. =||= > I'll never sign a CLA on Google docs.

To be clear, you won't sign a CLA regardless of how it is presented to you, correct?

It's not merely an issue with a Google form, I assume?

If so, I'm very sorry you've decided to retract the PR but of course, I respect the decision =||= > > I'll never sign a CLA on Google docs.
> 
> To be clear, you won't sign a CLA regardless of how it is presented to you, correct?
> 
> It's not merely an issue with a Google form, I assume?
> 
> If so, I'm very sorry you've decided to retract the PR but of course, I respect the decision

Why should I sign a contract the gives nothing back to me?
Instead it demands lots of additional personal information beyond those in a git commit and sends them to google(forms). =||= I understand. The CLA itself is a fundamental problem for you. Apologies that it doesn't work for you. Unfortunately, this is not something I have the ability to change. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
677Update Polish Translation from Transifex - fixesGrzegorz PruchniakowskiGootector09/24/20, 10:10:48 AM"Update Polish Translation from Transifex - fixes

Greetings,
Gootector

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNUpdate Polish Translation from Transifex - fixesGrzegorz PruchniakowskiGootector09/24/20, 10:10:48 AM"Update Polish Translation from Transifex - fixes

Greetings,
Gootector

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNGrzegorz Pruchniakowski09/24/20, 04:56:20 AM"Update Polish Translation from Transifex - fixes

Update Polish Translation from Transifex - fixes

Greetings,
Gootector"1
679Improve 'Import Raw Data' dialogMyungchul Keumdofuuz09/27/20, 01:03:38 PM"![image](https://user-images.githubusercontent.com/8174871/94364525-da5da800-0104-11eb-90af-f697d9aec082.png)

Sample rate text box is replaced by combo box with preset.

Dialog's default rate is received from Project Rate(instead of fixed 44100Hz).""Thank you!  Merged now, and intended for 3.0.0.
We're working on 3.0.0 currently and other changes to features are likely to be held over to 3.0.1.  If you have other changes you are working on too, please join the audacity-devel mailing list and discuss there. =||= "Improve 'Import Raw Data' dialogMyungchul Keumdofuuz09/27/20, 01:03:38 PM"![image](https://user-images.githubusercontent.com/8174871/94364525-da5da800-0104-11eb-90af-f697d9aec082.png)

Sample rate text box is replaced by combo box with preset.

Dialog's default rate is received from Project Rate(instead of fixed 44100Hz)."NaNdofuuz09/27/20, 12:35:57 PMFix build1
682Artist tag missing on M4A exportstimg705/14/21, 11:14:22 AM"Whenever exporting as M4A the Artist tag is missing from the exported file.
Other file formats are unaffected (MP3, OGG, FLAC...).
Tested with Audacity 2.4.1 and 2.4.2 on Windows 10 and MacOS 10.15.7.""Yes you are right - I tested on W10 with 2.4.2 and the latest alpha build I have for the upcoming 3.0.0 - I will be logging this on our Bugzilla bug-tracker =||= Hi Peter, Thanks for the confirmation. -Tim =||= Logged as P3 Bug 2564
https://bugzilla.audacityteam.org/show_bug.cgi?id=2564

And note the Year tag is also not exported.

But this looks like an old bug:
https://bugzilla.audacityteam.org/show_bug.cgi?id=1146
Artist and Year metadata is not exported or imported in FFmpeg 2.2.2
which we closed 2 year ago as WONTFIX (actually CANTFIX as it's an FFmpeg bug) =||= P3 Bug 2564  https://bugzilla.audacityteam.org/show_bug.cgi?id=2564

Was marked as RESOLVED FIXED on 27Jan21

Leland made the fix and I did the QA testing. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
683Audio device list not refreshing without restartrahulserverrahulserver10/11/20, 09:33:17 AM"**Describe the bug**
When I add a new device (bluetooth headphones) to my system(OSX catalina) while audacity is running(even in background), it does not appear in list of the available audio output dropdown.

**To Reproduce**
Steps to reproduce the behavior:
1. Start audacity. 
2. Then connect bluetooth headphones
3. Try to record a track
4. On audio output dropdown, the device does not appear. 
5. If we even disconnect and reconnect the output device(while audacity is running), on trying to play through it, it shows the error ""Error opening sound device. Try changing audio host, playback device and the project sample rate""
6. The device is able to play only after restarting audacity.(quit and start again)



**Expected behavior**
It should either have a button to manually refresh audio output devices or should refresh properly automatically. (Atleast a button can do if auto refresh is too complicated to implement)

**Screenshots**
![image](https://user-images.githubusercontent.com/5101740/95668289-baf85d80-0b8f-11eb-8afa-8d432aba5648.png)

**Additional information (please complete the following information):**
 - OS: MAC Catalina
 - Version Audacity 2.4.2
 - (if relevant) Sound Device Samsung Level U (bluetooth headphone)

""Just tested. Same issue with wired headphones too. =||= ""Rescan Audio Devices"" (in the ""Transport"" menu)
https://manual.audacityteam.org/man/transport_menu.html

For future issues, please write to the help forum in the first instance: https://forum.audacityteam.org =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
684Apple Silicon SupportSam CarltonThatGuySam11/11/20, 01:40:18 PM"With Apple possibly dropping the first Apple Silicon powered Mac as early as November what's the status of Audacity support for ARM-based Macs?

From what I've seen on other OSS projects they are basically ready to go and there's not much work needed to support it: 
[Handbrake Support](https://doesitarm.com/app/handbrake/)
[OBS Support](https://doesitarm.com/app/obs/)
[Blender Support](https://doesitarm.com/app/blender/) (Was directly mentioned in the Apple presentation)


**Additional context**
I'm putting together a list of reported support for Apple Silicon so people can quickly see if their favorite apps are supported yet. ""It is known that Audacity can be built on Raspberry Pi.
You are welcome to try building Audacity on an ARM-based Mac if you have access to one - let us know how you get on. =||= That's good news. I usually work in Node JS environments but I can try doing a build. 

Are there any recommended resources/wiki articles for correctly running builds? =||= Here: https://github.com/audacity/audacity/blob/master/mac/cmake_build.txt =||= I've got the build environment setup after some troubleshooting and I'm trying to get Xcode's Universal Build working (Hopefully, that's an appropriate approach)

I can, however, confirm that the public 2.4.2 build works out of the box (because of Rosetta 2) on macOS Big Sur running on physical Apple Silicon with seemingly no issues.  =||= Thanks for that useful feedback ThatGuySam - I'll close this off on the basis of your report =||= [CMake 3.19](https://cmake.org/cmake/help/v3.19/release/3.19.html) combined with [Xcode 12.2](https://developer.apple.com/documentation/xcode-release-notes/xcode-12_2-release-notes) should make universal binaries pretty easy. Both will be included soon in the macOS environment of GitHub Actions, CMake on the next release and Xcode 12.2 is already included, but will be the default on [November 30th](https://github.com/actions/virtual-environments/issues/2056).

**Edit:** In the meantime you can checkout [this build with Xcode 12.2](https://github.com/EwoutH/audacity/actions/runs/377330086) to see if it works and how it performs.

Also [Xcode 12.3 beta](https://github.com/EwoutH/audacity/actions/runs/377335398) just for fun! =||= Thanks for the update EwoutH =||= Looks like GitHub Actions is updated with the lastest XCode to allow this to be built! Exciting. =||= Unblocked the Xcode version in this PR: #814 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
685Auto-select all when selecting an effectJohan Kotlinskijkotlinski10/14/20, 09:07:53 AM"**Is your feature request related to a problem? Please describe.**
I often open an audio file to apply some effect to it, e.g. normalize. When I select ""normalize"", I am met by the dialog ""Select the audio for Normalize to use (for example, Ctrl + A to Select All) then try again."" To me this seems like an unnecessary annoyance.

**Describe the solution you'd like**
When selecting an effect and no selection is made, automatically select all instead of showing a dialog.""Enable the ""Select all audio, if selection required:"" option in Preferences:
https://manual.audacityteam.org/man/tracks_behaviors_preferences.html =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
686Let users update audacity.pot onlyMichele Locatimlocati11/01/20, 06:56:40 PM"Commit 748aa05495819660384998ecc182c207c97de7a6 allows people to easily update the `audacity.pot` file, without touching the `.po` files.

This can be done by calling
```sh
AUDACITY_ONLY_POT=y ./update_po_files.sh
```

If the `AUDACITY_ONLY_POT` environment variable is not set, or if its value is not `y`, nothing changes.

I also added commit 9e8618dd880455ece8b1e62295415ace61a9d99f: with that change the script exits as soon as an error occurs (for example, if the gettext tools are not available)."Thank you. =||= Let users update audacity.pot onlyMichele Locatimlocati11/01/20, 06:56:40 PM"Commit 748aa05495819660384998ecc182c207c97de7a6 allows people to easily update the `audacity.pot` file, without touching the `.po` files.

This can be done by calling
```sh
AUDACITY_ONLY_POT=y ./update_po_files.sh
```

If the `AUDACITY_ONLY_POT` environment variable is not set, or if its value is not `y`, nothing changes.

I also added commit 9e8618dd880455ece8b1e62295415ace61a9d99f: with that change the script exits as soon as an error occurs (for example, if the gettext tools are not available)."NaNMichele Locati11/01/20, 06:28:21 PM"Let users update audacity.pot only

This can be done by calling
AUDACITY_ONLY_POT=y ./update_po_files.sh"1
687Update ProjectHistory.cppThomas De RockerRockyTDR11/02/20, 12:12:36 PM"Fix typo - ""Warning"" instead of ""Warining""

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "Thanks. =||= Update ProjectHistory.cppThomas De RockerRockyTDR11/02/20, 12:12:36 PM"Fix typo - ""Warning"" instead of ""Warining""

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNThomas De Rocker11/02/20, 12:08:19 PM"Update ProjectHistory.cpp

Fix typo - ""Warning"" instead of ""Warining"""1
688“关于”界面的copyright还停留在2018年tasty0tomato11/10/20, 03:18:04 PM"**Describe the bug**
“关于”界面的copyright还停留在2018年。



**To Reproduce**
Steps to reproduce the behavior:
1. 帮助
1. 关于Audacity
1. Audicity

**Expected behavior**
应该是2020年

**Screenshots**
<img width=""394"" alt=""Snipaste_2020-11-10_22-45-18"" src=""https://user-images.githubusercontent.com/48764449/98689161-9c5fcf00-23a6-11eb-860b-09250b4043e0.png"">

**Additional information (please complete the following information):**
 - OS: Windows 10
 - Version Audacity 2.4.2""Thanks.
Fixed. =||= > Fixed.

<img width=""694"" alt=""Snipaste_2020-11-10_23-44-13"" src=""https://user-images.githubusercontent.com/48764449/98696672-0b412600-23af-11eb-834b-ccd5f3155436.png"">

重新下载并换为了英文界面 =||= 问题并没有解决！！！请不要close issue！！！ =||= I fixed it here: https://github.com/audacity/audacity/commit/0836ab12b4fc9771af017da1f506e6cadab6b043 =||= > I fixed it here: [0836ab1](https://github.com/audacity/audacity/commit/0836ab12b4fc9771af017da1f506e6cadab6b043)

谢谢您！虽然只是一个微不足道的小问题，甚至对软件逻辑没有帮助，不过希望还是能尽量呈现出一个完美的软件。 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
690404-errored linkAvraham TsabanAvrahamTsaban11/17/20, 04:57:10 PM"When opening any help content on audacity (clicking on the ? button on the egde of function window, for example), if I do not have the manual offline, I get:

 
> The Manual does not appear to be installed. Please view the Manual online or download the Manual.
> To always view the Manual online, change ""Location of Manual"" in Interface Preferences to ""From Internet"".

""the manual online"" links to open the corresponding wiki page.

But on the Loudness Normalization function, it refers to 
[error 404](https://manual.audacityteam.org/man/loudness.html)
instead of
[this manual page](https://manual.audacityteam.org/man/loudness_normalization.html)

 - OS: Windows 10 20H2
 - Version: 2.4.2"Thanks. I've logged this on the bug tracker and hopefully it will be fixed in the next release. =||= Just a quick update. This has now been fixed for the next Audacity release. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
692Loudness meter/analyzerRiseT03/16/21, 05:21:34 PM"I'll make this very short (and potentially sweet):

Since Audacity now has loudness normalization, wouldn't it make sense to integrate a loudness meter/analyzer?

Feel free to close this if it doesn't make any sense to you.""I believe the playback level indicator in Audacity already does that job. =||= The playback meters already have an option to show RMS level (See: https://manual.audacityteam.org/man/meter_toolbar.html#recording)
It is not possible for the meters to show the same measurement as Loudness Normalization because that measures the average loudness over the entire duration of the selection.
It would be possible for the meters to show the ""short term"" or ""momentary"" loudness measurement, or any number of other measurements and scales, should someone choose to develop new meters. =||= I would love this feature either as a meter showing short term, momentrary, and integrated loudness (similar to Shotcut), or the ability to select a section and output its integrated loudness. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
694Jenkins integrationajaypatel2411/29/20, 06:52:40 AM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
695Please create Appimagehinkali12/22/20, 08:57:47 AM"Please create Appimage? once every six months or a year at least""Perhaps this is not helpful but it's worth noting: Audacity has a [flatpak](https://www.flathub.org/apps/details/org.audacityteam.Audacity) available for your installation. =||= On the [Audacity forum ](https://forum.audacityteam.org) we have received multiple reports of problems with the flatpak and Snap builds. At this time I would not recommend either.

I agree that an official Appimage would be good, but we currently do not have the developer resources to produce and test. If anyone would like to help with this, please get in touch via the [developer's mailing list](https://sourceforge.net/projects/audacity/lists/audacity-devel). =||= Related #172  =||= > If anyone would like to help with this, please get in touch via the developer's mailing list.

Hello @SteveDaulton, I had [tried](https://sourceforge.net/p/audacity/mailman/audacity-devel/thread/CAADtZXBFD=B2MjHwBA-LMiXmffQvMknMenfW1zJfwU6KYJq_uQ@mail.gmail.com/?page=1) this back in 2017 but it seemed that the project did not want to publish an AppImage at that time. I am happy to help if someone from the Audacity project wants to pick this topic up again. =||= Hello @probonopd , I recently posted some issues on your Audacity AppImage branch because it was the most promising AppImage fork that I could find. I had hoped that my comments would help others to see what else still needs to be done to produce a fully functional Audacity AppImage. Unfortunately my comments appear to have disappeared.

I'm hoping that there will eventually be an official AppImage, though due to the demands of end user support, testing of the official branch,  plus my own development work, I don't have much free time left to work on an AppImage myself. =||= Hi @SteveDaulton thanks for your interest in getting an AppImage published. Your issues are still [there](https://github.com/probonopd/audacity/issues?q=is%3Aissue+author%3ASteveDaulton) for reference however I did archive that repository. It was my working repository [back in 2017 when I was trying to work with the Audacity project to produce and support official AppImages](https://sourceforge.net/p/audacity/mailman/audacity-devel/thread/CABp83eDwVYC1HXNL8ejSYm%2BF%2B_a3ntSjKSiaagm3%2BHWQjZi6iQ%40mail.gmail.com/#msg36139126), but since this never materialized I am no longer working on it.

Should you or anyone from the Audacity team have real interest in producing and supporting official AppImages as part of the Audacity build pipeline, then I'd be more than happy to help. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
696Time testPaul AttaraPaulAttara11/30/20, 02:53:03 AM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
699Can't find CVE-2020-11867 fixDave Platerplater05/10/21, 05:53:34 PM"I apologise for using a bug report but the last email I can see on the devel list is from June.
This was fixed between 2.3.3 and 2.4.0 but I've searched the git log, these issues and the devel mailing list and I can't find anything relating to the commit where this was fixed.
The CVE relates to audacity's temp directory having 0777 permissions instead of 0700 which would prevent other users seeing the files.""closing as fixed =||= @plater The PR has not been merged yet and it seems to have been forgotten about, why is this closed as fixed? =||= It is correct for this issue to be closed as it has been superseded by a pull request. =||= That's not typical Git Etiquette. Its closed, when its closed. That PR has been sat there for 6 months with no indication that anyone is interested in merging it. This matter is ongoing so calling the issue ""closed"" is untrue. 

And before you complain about a bunch of newbs running amock telling you how to run your ship, get used to it, we're here cos its become evident the last week that the Audacity devs are asleep at the helm. We're here to fix that. Wake up, merge the PR. Then you can pat yourself on the back and close the issue. =||= I think that my reason for closing was https://bugzilla.opensuse.org/show_bug.cgi?id=1179449 I made a work around patch that created the temp file in the users home directory. I should have mentioned that in this patch =||= @plater I'm glad you fixed that for openSUSE but that should not be packagers' responsibility. Someone already submitted a pull request (#700) with a fix 6 months ago and @SteveDaulton's strange comment above is the first that it has even been acknowledged by an Audacity maintainer. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
700Fix CVE-2020-11867Dennis Braunsnd105/10/21, 05:53:34 PM"This fixes CVE-2020-11867 by setting the permissions for the user tmp folder to 700. Closes #699 "Soft bump on this. Is there an ETA? =||= I am very concerned about the maintenance of an application used by millions of people in which there is no response from a maintainer to a one line fix for a security vulnerability in six months. =||= Ping can someone review this please? =||= Thank you @crsib. =||= Fix CVE-2020-11867Dennis Braunsnd105/10/21, 05:53:34 PMThis fixes CVE-2020-11867 by setting the permissions for the user tmp folder to 700. Closes #699 NaNDennis Braun12/08/20, 10:35:54 PMFix CVE-2020-118671
701Closing file with CTRL-W leads to Audacity crashGermano MassulloGermano012/09/20, 12:49:49 PM"Closing file with CTRL-W leads to Audacity crash
Fedora 33
audacity-freeworld-2.3.3-5.fc33.x86_64 from RPM Fusion repository
[audacity_crash_report.zip](https://github.com/audacity/audacity/files/5665460/audacity_crash_report.zip)



""Thanks for the report.
If you are the package maintainer, please contact us via the [developer's mailing list](https://www.audacityteam.org/contact/mailing-lists/).
We are not able to do anything about this as Audacity 2.3.3 is an old version and we have no reports of this problem with the current version. The current release version is 2.4.2 and the development version is 3.0.0 alpha. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
702Native support of MSU1 format PCM filesedale212/21/20, 04:15:54 PM"**Is your feature request related to a problem? Please describe.**

I do a lot of audio work with PCM files (.pcm; not pcm encoded .wav) that use a non-standard 8-byte header. As a result of this, I am unable to drag and drop them into Audacity, and have to import them as raw data instead.

**Describe the solution you'd like**

I would like Audacity to support automated importing of these PCM files. Whether natively or through a plugin.

**Describe alternatives you've considered**

ATM, my only option is to manually import the files as raw data.

**Additional context**

The non-standard 8-byte header used by the PCMs, when viewed in a hex editor, is ""MSU1####"" (the #### is a pointer to the file's loop point, and can be ignored)

The audio settings for these files is:
Encoding: Signed 16-bit PCM
Byte Order: Little-endian
Channels: 2-Channels (Stereo)
Start Offset: 8 bytes
Amount to Import: 100%
Sample Rate: 44100 Hz

Any and all PCM files with the MSU1 header will have these settings.

![Untitled](https://user-images.githubusercontent.com/20962345/102021458-ef35f900-3d4d-11eb-97af-f5c5c37b7c83.png)

For context MSU1 format PCM files are used for MSU-1 mods to SNES games. An MSU-1 mod allows SNES games to play CD quality audio in such a way that the CD quality sound will even play on an original unmodded SNES system.
You can see an example of a MSU-1 mod in action here: https://www.youtube.com/watch?v=v788KslHvbU""Thought I'd provide some more info, in case it helps this get added:

Here's a MSU1 format PCM as viewed in a hex editor, with the 8 byte header highlighted:
![image](https://user-images.githubusercontent.com/20962345/102788737-1b1a3580-4371-11eb-8321-7dc9b57ed6c7.png)
That track is a non-looping track which is why the 4 byte loop value is all zeros (but like I said, Audacity can ignore that part of the header anyways).

And here's a short MSU1 format PCM that can be used for testing purposes:
[alttp_msu-1.zip](https://github.com/audacity/audacity/files/5724906/alttp_msu-1.zip)

 =||= I think this can be done  by writing a Nyquist Plug-in (https://wiki.audacityteam.org/wiki/Nyquist_Plug-ins_Reference)
using the ""S-READ"" command (https://www.cs.cmu.edu/~rbd/doc/nyquist/part8.html#index663).

If you require help writing a suitable plug-in, support is available via this board in the Audacity support forum:
https://forum.audacityteam.org/viewforum.php?f=39

As MSU1 files are very much a niche interest, I doubt that support will ever be incorporated into the main program, though a successful plug-in could be distributed via the Audacity wiki (https://wiki.audacityteam.org/wiki/Download_Nyquist_Plug-ins).
I shall therefore close this issue for now, but we can reopen it if it proves impossible to implement with Nyquist. =||= Probably the right place to implement something like this would be in FFmpeg; they already implement a large number of esoteric audio formats.  (Though, Audacity also doesn't have the latest version of FFmpeg IIRC). =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
704"Multi-tool not ""sticking"" when selected before closing Audacity"raichea12/15/20, 07:33:38 PM"**Describe the bug**
According to the manual, if the multi-tool is selected prior to Audacity beings closed, it should be active when Audacity is next opened. In v2.4.2, it isn't, the Select tool is always selected.

**To Reproduce**
1. Open Audacity
2. Select the multi-tool
3. Do some editing
4. Close Audacity
5. Open Audacity again to find the Select tool is active

**Expected behavior**
As per the description, the Multi-tool should be selected when Audacity is reopened

**Screenshots**
If applicable, add screenshots to help explain your problem.

**Additional information (please complete the following information):**
 - OS: Windows 10
 - Version Audacity 2.4.2


**Additional context**
I hadn't used Audacity for a while, so updated to latest version and noticed I had to keep selecting the multi-tool, which I didn't have to for the previous version (didn't notice the version, sorry).""Thanks for the report. This was discussed recently but as far as I can see it was not logged, so I'll log it on the issue tracker. =||= Ignore  my previous comment - it was logged, I just failed to find it until I started logging it again.
https://bugzilla.audacityteam.org/show_bug.cgi?id=2503

Additional information: you can select the multi-tool with the F6 key. =||= Thanks - I was aware of F6.

I just took a look at the logged issue and see that it was closed leaving this behaviour as it is. I think that's a pity. As someone who does use multi-tool, it's irritating to have to click it each time I start the program. As I'm used to it sticking, it's usually after a moment of puzzlement as to why it's not working. 

I understand the problem of someone being ""locked"" in multi-tool mode, but it doesn't take long to figure that out. With things as they are, we multi-tool users are left having to remember to do that click every time we start the program. Making the behaviour an option would be the best solution, I guess, as noted in the bug, but even restoring the older behaviour would be better (in my, admittedly, biased opinion). =||= You would be surprised at the number of times we see this problem: https://forum.audacityteam.org/viewtopic.php?p=410597#p410597 (and no doubt there are many more that don't come to the help forum). =||= I'm sure you're right... IIRC, I ran into the issue myself when I first started using Audacity. Making it an option would be ideal, but no doubt I'll get used to the way things are now. It doesn't diminish Audacity in any way - still a nice bit of software. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
712MacOS: Cannot open wav file from right click menu if Audacity is already openrmriintonarumori12/29/20, 04:21:28 PM"**Describe the bug**
On Mac Catalina right click on a file and selecting open with Audacity doesn't open the file if Audacity is already open.

**To Reproduce**
Steps to reproduce the behavior:
1. Open any file in Audacity
1. Find a wav file in Finder
2. Right click on the file and go to Open With
3. Select Audacity
4. Audacity does not Open the file selected

**Expected behavior**
File is opened in a new Audacity window.

**Screenshots**
-
**Additional information (please complete the following information):**
 - OS: MacOS Catalina 10.15.6
 - Version Audacity: 2.4.2"Thanks for the report. This is already on the Audacity bug tracker. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
713MacOS: Cannot open wav by dropping file on Audacity icon if Audacity is already openrmriintonarumori02/23/21, 05:53:18 PM"**Describe the bug**
If Audacity is already open dropping a wav file on the app icon does not open the file in Audacity.

**To Reproduce**
1. Open any file in Audacity
2. Leave the app open and drop another wav file on the application icon
3. Audacity doesn't open a new window with the wav file, a new Audacity instance seems to be getting opened and immediately closed, the the first Audacity icon ""jumps"" one time
4. File is not opened

**Expected behavior**
A new Audacity window should be opened with the wav file.

**Additional information (please complete the following information):**
 - OS: MacOS Catalina 10.15.6
 - Version Audacity 2.4.2"Thanks, this is already a known bug in or bug-tracker:  http://bugzilla.audacityteam.org/show_bug.cgi?id=2510 =||= It has been fixed for the upcoming 3.0.0 release of Audacity =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
714New LogoAkhilesh Balajiakhilesh-balaji02/28/21, 05:44:33 PM"**Is your feature request related to a problem? Please describe.**
The current Audacity logo looks really outdated, and doesn't look that great on the start menu.

**Describe the solution you'd like**
I'd like to suggest a new logo for Audacity. I've actually redesigned the icon; have a look in the ""Additional Context"" section if you're interested. I've retained the headphones, as that's what makes the logo stand out. Other ideas are also welcome. I just want a redesigned icon that looks good.

**Describe alternatives you've considered**
N/A

**Additional context**
![1](https://user-images.githubusercontent.com/69246693/103435997-07a67e80-4c3d-11eb-980d-18d9acd272d9.png)
![2](https://user-images.githubusercontent.com/69246693/103435998-0a08d880-4c3d-11eb-80c5-16a7b9a82dbc.png)
![3](https://user-images.githubusercontent.com/69246693/103435999-0aa16f00-4c3d-11eb-85f7-01ab0006e81f.png)
![4](https://user-images.githubusercontent.com/69246693/103436000-0b3a0580-4c3d-11eb-8310-1a601e9b5485.png)
![5](https://user-images.githubusercontent.com/69246693/103436001-0bd29c00-4c3d-11eb-8601-99dfdefd22df.png)
![6](https://user-images.githubusercontent.com/69246693/103436002-0bd29c00-4c3d-11eb-941f-098a1087af19.png)
![7](https://user-images.githubusercontent.com/69246693/103436003-0c6b3280-4c3d-11eb-86bf-e72a38221a49.png)
![8](https://user-images.githubusercontent.com/69246693/103436004-0d03c900-4c3d-11eb-956a-cac2e0d67e95.png)
![9](https://user-images.githubusercontent.com/69246693/103436005-0d9c5f80-4c3d-11eb-82e9-1ad27da17c13.png)
![10](https://user-images.githubusercontent.com/69246693/103436006-0e34f600-4c3d-11eb-907a-0eab60577b41.png)
![11](https://user-images.githubusercontent.com/69246693/103436007-0e34f600-4c3d-11eb-9279-5f0ac03c43b3.png)"See the Audacity Forum:  https://forum.audacityteam.org/viewtopic.php?f=67&t=83108 =||= please close ticket as the forum is where this should be discussed.  =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
715Add a setting and documentation for character encoding of ID3 tagsKrzysztof MaczyńskiByteEater-pl05/14/21, 02:10:52 PM"**Is your feature request related to a problem? Please describe.**
The problem is I don't know what the encoding is and I see no way to set it in Audacity, so the resulting metadata is sometimes displayed wrong and sometimes doesn't even roundtrip, resulting in replacement characters instead of diacritical letters (mostly Polish, but sometimes I also add something else, even from Unicode astral planes, cf. The Pile of Poo Test™).

**Describe the solution you'd like**
First, document the status quo: what encoding is used. Here in a comment first – would be helpful to me and others searching for it and probably much sooner than in a future release of Audacity.
Second, implement a setting for it.

**Describe alternatives you've considered**
For the documentation issue, I tried asking on #audacity on IRC but got no reply. For setting the tags, I used other software, either from the start or upon noticing a problem in an MP3 file with tags inserted by Audacity.""Since Audacity allows even characters from astral planes to be entered in the metadata dialog, they're displayed correctly there, and there's no warning before proceeding, I'd assume the used encoding can represent them, so it's probably some form of Unicode. But the observed effects make me doubt it. =||= Logged as P4 ENH #2780 in Bugzilla (our bug tracker)
https://bugzilla.audacityteam.org/show_bug.cgi?id=2780
Bug 2780 - ENH: Add a setting and documentation for character encoding of ID3 tags 

Accordingly I shall close this GitHub Issue in favor of the Bugzilla ENH entry =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
717fixed wrong spelled wordsfreddii01/12/21, 10:02:18 AM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests ""Thank you.
I have merged these in, but not the corrections in lib-src since those are from 3rd party libraries. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
719Fix minor typoYuri Chornoivanyurchor01/12/21, 10:36:44 AMThanks in advance for reviewing.Thanks. =||= Fix minor typoYuri Chornoivanyurchor01/12/21, 10:36:44 AMThanks in advance for reviewing.NaNYuri Chornoivan01/12/21, 10:23:56 AMFix minor typo1
720Fix minor typofreddii01/12/21, 11:56:10 AM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "Thanks. =||= Fix minor typofreddii01/12/21, 11:56:10 AM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNfreddii01/12/21, 11:46:52 AMFix minor typo1
721"""High Quality"" mode in Change Pitch effect segfaults?"Andrew RandrianasuluRandrianasulu01/12/21, 05:00:38 PM"**Describe the bug**
I tried to follow instructions at https://www.computerhope.com/issues/ch001956.htm in Audacity 2.4.2 (self-compiled on 32-bit Slackware) and on few first tries I was getting segfault. Unchecking 'High quality' checkbox at least provided me with some way to see how effect works (in spectrogram/waveform)

**To Reproduce**
Open any audio file
Select small region
Try to apply this 'Change Pitch' effect WITH High Quality checkbox ON
Observe crash at the end of conversion.

**Expected behavior**
Effect should work in both modes

**Additional information (please complete the following information):**
 - OS: Slackware 32-bit (gcc 5.5.0)
 - Version Audacity 2.4.2


**Additional context**
May be 32-bit problem!

Backtrace looks like this:

Thread 1 ""audacity"" received signal SIGSEGV, Segmentation fault.
0xf7f404c9 in __pthread_timedjoin_ex () from /lib/libpthread.so.0
(gdb) bt full
#0  0xffffffff in __pthread_timedjoin_ex () at /lib/libpthread.so.0
#1  0xffffffff in pthread_join () at /lib/libpthread.so.0
#2  0x0933dd51 in _sbsms_::ThreadInterface::~ThreadInterface() ()
#3  0x0933eca4 in _sbsms_::SBSMSImp::~SBSMSImp() ()
#4  0x0933ec69 in _sbsms_::SBSMS::~SBSMS() ()
#5  0x08e4abc5 in std::default_delete<_sbsms_::SBSMS>::operator()(_sbsms_::SBSMS*) const ()
#6  0x08e49489 in std::unique_ptr<_sbsms_::SBSMS, std::default_delete<_sbsms_::SBSMS> >::~unique_ptr() ()
#7  0x08e49197 in ResampleBuf::~ResampleBuf() ()
#8  0x08e47e6a in EffectSBSMS::Process()::{lambda(WaveTrack*, std::function<void ()> const&)#2}::operator()(WaveTrack*, std::function<void ()> const&) const ()
#9  0x08e4865b in Track::Dispatcher::applicable2<void, WaveTrack, WaveTrack, EffectSBSMS::Process()::{lambda(WaveTrack*, std::function<void ()> const&)#2}, EffectSBSMS::Process()::{lambda(Track*)#3}>::operator()(Track const*, {lambda(WaveTrack*, std::function<void ()> const&)#2} const&, Track* const&) ()
#10 0x08e48520 in Track::Dispatcher::inapplicable<void, WaveTrack, EffectSBSMS::Process()::{lambda(LabelTrack*, std::function<void ()> const&)#1}, EffectSBSMS::Process()::{lambda(WaveTrack*, std::function<void ()> const&)#2}, EffectSBSMS::Process()::{lambda(Track*)#3}>::operator()(Track const*, {lambda(LabelTrack*, std::function<void ()> const&)#1} const&, WaveTrack* const&, EffectSBSMS::Process()::{lambda(WaveTrack*, std::function<void ()> const&)#2} const&) ()
#11 0x08e48497 in void Track::TypeSwitch<void, EffectSBSMS::Process()::{lambda(LabelTrack*, std::function<void ()> const&)#1}, EffectSBSMS::Process()::{lambda(WaveTrack*, std::function<void ()> const&)#2}, EffectSBSMS::Process()::{lambda(Track*)#3}>(EffectSBSMS::Process()::{lambda(LabelTrack*, std::function<void ()> const&)#1} const&, EffectSBSMS::Process()::{lambda(WaveTrack*, std::function<void ()> const&)#2} const&, EffectSBSMS::Process()::{lambda(Track*)#3} const&) ()
#12 0x08e48396 in void TrackIterRange<Track>::VisitWhile<bool, EffectSBSMS::Process()::{lambda(LabelTrack*, std::function<void ()> const&)#1}, EffectSBSMS::Process()::{lambda(WaveTrack*, std::function<void ()> const&)#2}, EffectSBSMS::Process()::{lambda(Track*)#3}>(bool&, EffectSBSMS::Process()::{lambda(LabelTrack*, std::function<void ()> const&)#1} const&, EffectSBSMS::Process()::{lambda(WaveTrack*, std::function<void ()> const&)#2} const&, EffectSBSMS::Process()::{lambda(Track*)#3} const&) ()
#13 0x08e481e7 in EffectSBSMS::Process() ()
#14 0x08dd37a9 in Effect::DoEffect(double, TrackList*, TrackFactory*, NotifyingSelectedRegion&, wxWindow*, std::function<wxDialog* (wxWindow&, EffectHostInterface*, EffectUIClientInterface*)> const&) ()
#15 0x08dd3a75 in Effect::Delegate(Effect&, wxWindow&, std::function<wxDialog* (wxWindow&, EffectHostInterface*, EffectUIClientInterface*)> const&) ()
#16 0x08d97e69 in EffectChangePitch::Process() ()
#17 0x08dd37a9 in Effect::DoEffect(double, TrackList*, TrackFactory*, NotifyingSelectedRegion&, wxWindow*, std::function<wxDialog* (wxWindow&, EffectHostInterface*, EffectUIClientInterface*)> const&) ()
#18 0x08decd99 in EffectUI::DoEffect(wxString const&, CommandContext const&, unsigned int) ()
#19 0x08fb0e10 in PluginActions::Handler::OnEffect(CommandContext const&) ()
#20 0x08d3d633 in CommandManager::HandleCommandEntry(AudacityProject&, CommandListEntry const*, std::bitset<64u>, bool, wxEvent const*) ()
#21 0x08d3d724 in CommandManager::HandleMenuID(AudacityProject&, int, std::bitset<64u>, bool) ()
#22 0x08c3d6c3 in ProjectWindow::OnMenu(wxCommandEvent&) ()
#23 0xffffffff in wxAppConsoleBase::HandleEvent(wxEvtHandler*, void (wxEvtHandler::*)(wxEvent&), wxEvent&) const () at /usr/lib/libwx_baseu-3.0.so.0
#24 0xffffffff in wxAppConsoleBase::CallEventHandler(wxEvtHandler*, wxEventFunctor&, wxEvent&) const () at /usr/lib/libwx_baseu-3.0.so.0
#25 0xffffffff in wxEvtHandler::ProcessEventIfMatchesId(wxEventTableEntryBase const&, wxEvtHandler*, wxEvent&) () at /usr/lib/libwx_baseu-3.0.so.0
#26 0xffffffff in wxEventHashTable::HandleEvent(wxEvent&, wxEvtHandler*) () at /usr/lib/libwx_baseu-3.0.so.0
#27 0xffffffff in wxEvtHandler::TryHereOnly(wxEvent&) () at /usr/lib/libwx_baseu-3.0.so.0
#28 0xffffffff in wxEvtHandler::ProcessEvent(wxEvent&) () at /usr/lib/libwx_baseu-3.0.so.0
#29 0xffffffff in wxEvtHandler::DoTryChain(wxEvent&) () at /usr/lib/libwx_baseu-3.0.so.0
#30 0xffffffff in wxEvtHandler::ProcessEventLocally(wxEvent&) () at /usr/lib/libwx_baseu-3.0.so.0
#31 0xffffffff in wxEvtHandler::ProcessEvent(wxEvent&) () at /usr/lib/libwx_baseu-3.0.so.0
#32 0xffffffff in wxWindowBase::TryAfter(wxEvent&) () at /usr/lib/libwx_gtk2u_core-3.0.so.0
#33 0xffffffff in wxEvtHandler::ProcessEvent(wxEvent&) () at /usr/lib/libwx_baseu-3.0.so.0
#34 0xffffffff in wxEvtHandler::SafelyProcessEvent(wxEvent&) () at /usr/lib/libwx_baseu-3.0.so.0
#35 0xffffffff in wxWindowBase::HandleWindowEvent(wxEvent&) const () at /usr/lib/libwx_gtk2u_core-3.0.so.0
#36 0xffffffff in wxMenuBase::SendEvent(int, int) () at /usr/lib/libwx_gtk2u_core-3.0.so.0
#37 0xffffffff in  () at /usr/lib/libwx_gtk2u_core-3.0.so.0
#38 0xffffffff in g_cclosure_marshal_VOID__VOID () at /usr/lib/libgtk-x11-2.0.so.0
#39 0xffffffff in g_closure_invoke () at /usr/lib/libgobject-2.0.so.0
#40 0xffffffff in  () at /usr/lib/libgobject-2.0.so.0
#41 0xffffffff in g_signal_emit_valist () at /usr/lib/libgobject-2.0.so.0
#42 0xffffffff in g_signal_emit () at /usr/lib/libgobject-2.0.so.0
#43 0xffffffff in gtk_widget_activate () at /usr/lib/libgtk-x11-2.0.so.0
#44 0xffffffff in gtk_menu_shell_activate_item () at /usr/lib/libgtk-x11-2.0.so.0
#45 0xffffffff in  () at /usr/lib/libgtk-x11-2.0.so.0
---Type <return> to continue, or q <return> to quit---
#46 0xffffffff in  () at /usr/lib/libgtk-x11-2.0.so.0
#47 0xffffffff in  () at /usr/lib/libgtk-x11-2.0.so.0
#48 0xffffffff in  () at /usr/lib/libgobject-2.0.so.0
#49 0xffffffff in g_closure_invoke () at /usr/lib/libgobject-2.0.so.0
#50 0xffffffff in  () at /usr/lib/libgobject-2.0.so.0
#51 0xffffffff in g_signal_emit_valist () at /usr/lib/libgobject-2.0.so.0
#52 0xffffffff in g_signal_emit () at /usr/lib/libgobject-2.0.so.0
#53 0xffffffff in  () at /usr/lib/libgtk-x11-2.0.so.0
#54 0xffffffff in gtk_propagate_event () at /usr/lib/libgtk-x11-2.0.so.0
#55 0xffffffff in gtk_main_do_event () at /usr/lib/libgtk-x11-2.0.so.0
#56 0xffffffff in  () at /usr/lib/libgdk-x11-2.0.so.0
#57 0xffffffff in g_main_context_dispatch () at /usr/lib/libglib-2.0.so.0
#58 0xffffffff in  () at /usr/lib/libglib-2.0.so.0
#59 0xffffffff in g_main_loop_run () at /usr/lib/libglib-2.0.so.0
#60 0xffffffff in gtk_main () at /usr/lib/libgtk-x11-2.0.so.0
#61 0xffffffff in wxGUIEventLoop::DoRun() () at /usr/lib/libwx_gtk2u_core-3.0.so.0
#62 0xffffffff in wxEventLoopBase::Run() () at /usr/lib/libwx_baseu-3.0.so.0
#63 0xffffffff in wxAppConsoleBase::MainLoop() () at /usr/lib/libwx_baseu-3.0.so.0
#64 0xffffffff in wxAppConsoleBase::OnRun() () at /usr/lib/libwx_baseu-3.0.so.0
#65 0xffffffff in wxAppBase::OnRun() () at /usr/lib/libwx_gtk2u_core-3.0.so.0
#66 0xffffffff in wxEntry(int&, wchar_t**) () at /usr/lib/libwx_baseu-3.0.so.0
#67 0xffffffff in wxEntry(int&, char**) () at /usr/lib/libwx_baseu-3.0.so.0
#68 0x08aa71c5 in main ()""Thank you for the bug report.
This has been fixed for the next Audacity release.
The fix is here: https://github.com/audacity/audacity/commit/72032d6a2afdafc1e0d811a85fabfd25780bba91

As a workaround, since the crash  only occurs on stereo tracks, you can split the track, apply the effect, then join back to a stereo  track (see: https://manual.audacityteam.org/man/splitting_and_joining_stereo_tracks.html) =||= Thanks A LOT! Recompiled 2.4.2 with patch, it works :} =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
7222582 enh repeat last processJohnColket01/15/21, 02:22:39 PM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests ""Thank you! =||= Not at all.  My pleasure.

On Fri, Jan 15, 2021 at 9:23 AM James Crook <notifications@github.com>
wrote:

> Thank you!
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/722#issuecomment-760970664>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ASKE4NKH4XIPS5EK64ZFCTLS2BFUTANCNFSM4WECELIQ>
> .
>
 =||= "2582 enh repeat last processJohnColket01/15/21, 02:22:39 PM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNJohn Colket01/10/21, 07:11:37 PMadd include UndoManager.h1
723"VSTs behaving differently between ""Apply"" and ""Play"""Reed A. Cartwrightreedacartwright05/21/21, 01:26:41 PM"**Describe the bug**
I'm experimenting with monitoring loudness via VSTs in Audacity and I'm getting inconsistent results. I'm using the LinVST wrapper to run the Youlean Loudness Meter 2 for Windows on Linux. When I load up the VST and click ""apply"", the loudness is correctly measured at -16 LUFS. When I use ""play"" instead, the loudness is measured at -13 LUFS. This effect also happens with several other loudness measuring VSTs. 

I assume this has to do with something about stereo and mono signals because of the +3 gain, but I'm not sure.

**To Reproduce**
1. Download reference audio file. https://developers.google.com/assistant/downloads/loudness/tts-reference.wav
2. Download https://youlean.co/download-youlean-loudness-meter/ for Windows
3. Install LinVST https://github.com/osxmidi/LinVst/
4. Convert Loudness meter to a Linux VST.
5. Enable Youlean loudness meter in Audacity
6. Open the reference in Audacity, select the entire file, and activate the Youlean VST
7. Click apply several times, and see that the integrated loudness is -16 LUFS.
8. Clear the graph. Click the play button several times and see that the integrated loudness is -13 LUFS.

The following Meters all show the same difference between play and apply.

- https://youlean.co/download-youlean-loudness-meter/ (Windows+LinVST)
- https://www.tb-software.com/TBProAudio/dpmeter5.html (Windows+LinVST)
- https://www.klangfreund.com/lufsmeter/ (Windows+LinVST)
- https://www.klangfreund.com/multimeter/ (Windows+LinVST)

LUFSMeter and Multimeter have linux VSTs, but there is a font problem with them. I think they are also affected by this, but I am not 100% sure.

**Expected behavior**
Loudness should be the same regardless of ""play"" vs ""Apply""

**Screenshots**
After Clicking ""Play"" a few times:
![Screenshot from 2021-01-16 16-51-35](https://user-images.githubusercontent.com/101918/104827462-29962880-581b-11eb-8beb-8511f8cb3439.png)

After Clicking ""Apply"" a few times:
![Screenshot from 2021-01-16 16-50-58](https://user-images.githubusercontent.com/101918/104827467-30bd3680-581b-11eb-993e-ab29fb0f40fb.png)

**Additional information (please complete the following information):**
 - OS: Linux memnon 5.10.7-arch1-1 #1 SMP PREEMPT Wed, 13 Jan 2021 12:02:01 +0000 x86_64 GNU/Linux
 - Version: Audacity 2.4.1
 - Sound Device: Pulse Audio sound system.""I have transferred this issue to ou Bugzilla bugtracke and will alter close this GitHub Issue in favor of that.
https://bugzilla.audacityteam.org/show_bug.cgi?id=2791
Bug 2791 - Linux: VSTs behaving differently between ""Apply"" and ""Play"" 

@reedacartwright you logged this as an issue with 2.4.1 - is this still an issue  with 3.0.0 or the latest release  3.0.2 ? =||= Closing this in favor of the Bugzilla entry =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
724Building audacity with VS 2019 Jefferson Hudsonl4cr0ss01/20/21, 01:58:41 PM"**Describe the bug**
Building master with VS 2019 results in a working exe but the cmake script doesn't copy out to the release directory correctly and as a result of that failure never builds the modules.

The problem appears to be with cmake.exe not receiving either the source or destination argument(s) to `COPY/INSTALL`.

1. First this happens: the executable fails to get copied into the Release directory.

```
[1079/1082] cmd.exe /C ""cd . 
&& ""C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\...\bin\cmake.exe"" 
   -E vs_link_exe 
   --intdir=src\CMakeFiles\Audacity.dir 
   --rc=C:\PROGRA~2\WI3CF2~1\10\bin\100183~1.0\x64\rc.exe 
   --mt=C:\PROGRA~2\WI3CF2~1\10\bin\100183~1.0\x64\mt.exe 
   --manifests  
   -- C:\PROGRA~2\MICROS~2\2019\COMMUN~1\VC\Tools\MSVC\1428~1.293\bin\Hostx64\x86\link.exe 
      /nologo @CMakeFiles\Audacity.rsp  
      /out:bin\Audacity.exe 
      /implib:src\Audacity.lib 
      /pdb:bin\Audacity.pdb 
      /version:0.0 
      /machine:X86 
      /INCREMENTAL:NO 
      /subsystem:windows   
      /MANIFEST:NO  
&& cmd.exe /C ""cd /D C:\audacity\out\build\x86_Release\src 
&& ""C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\...\bin\cmake.exe"" 
   -D SRC=""C:/audacity/out/build/x86_Release/bin/Release/Audacity.exe"" 
   -D DST=""C:/audacity/out/build/x86_Release/bin/Release"" 
   -D WXWIN=""C:\wxWidgets\lib\vc_dll"" 
   -P C:/audacity/cmake-proxies/cmake-modules/CopyLibs.cmake 
&& cd /D C:\audacity\out\build\x86_Release\src 
&& ""C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\...\bin\cmake.exe"" 
   -E copy C:/audacity/out/build/x86_Release/bin/Release""""`
  FAILED: bin/Audacity.exe src/Audacity.lib
     Creating library src\Audacity.lib and object src\Audacity.exp
  ==================================================================
  Copying wxWidgets libraries:
  ==================================================================
```
```
$ ls bin/
Audacity.exe*  Release/
$ ls bin/Release/
Languages/  modules/  nyquist/  plug-ins/
```

Ok so if you manually fix that by doing `cp bin/Audacity.exe bin/Release/`, then it still fails again in the same way, but manages to copy the dependencies, like this.

```
  [2/5] cmd.exe /C ""cd . && ""C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\Common7\IDE\CommonExtensions\Microsoft\CMake\CMake\bin\cmake.exe"" -E vs_link_exe --intdir=src\CMakeFiles\Audacity.dir --rc=C:\PROGRA~2\WI3CF2~1\10\bin\100183~1.0\x64\rc.exe --mt=C:\PROGRA~2\WI3CF2~1\10\bin\100183~1.0\x64\mt.exe --manifests  -- C:\PROGRA~2\MICROS~2\2019\COMMUN~1\VC\Tools\MSVC\1428~1.293\bin\Hostx64\x86\link.exe /nologo @CMakeFiles\Audacity.rsp  /out:bin\Audacity.exe /implib:src\Audacity.lib /pdb:bin\Audacity.pdb /version:0.0 /machine:X86 /INCREMENTAL:NO /subsystem:windows   /MANIFEST:NO  && cmd.exe /C ""cd /D C:\audacity\out\build\x86_Release\src && ""C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\Common7\IDE\CommonExtensions\Microsoft\CMake\CMake\bin\cmake.exe"" -D SRC=""C:/audacity/out/build/x86_Release/bin/Release/Audacity.exe"" -D DST=""C:/audacity/out/build/x86_Release/bin/Release"" -D WXWIN=""C:\wxWidgets\lib\vc_dll"" -P C:/audacity/cmake-proxies/cmake-modules/CopyLibs.cmake && cd /D C:\audacity\out\build\x86_Release\src && ""C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\Common7\IDE\CommonExtensions\Microsoft\CMake\CMake\bin\cmake.exe"" -E copy C:/audacity/out/build/x86_Release/bin/Release""""
  FAILED: bin/Audacity.exe src/Audacity.lib 
  cmd.exe /C ""cd . && ""C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\Common7\IDE\CommonExtensions\Microsoft\CMake\CMake\bin\cmake.exe"" -E vs_link_exe --intdir=src\CMakeFiles\Audacity.dir --rc=C:\PROGRA~2\WI3CF2~1\10\bin\100183~1.0\x64\rc.exe --mt=C:\PROGRA~2\WI3CF2~1\10\bin\100183~1.0\x64\mt.exe --manifests  -- C:\PROGRA~2\MICROS~2\2019\COMMUN~1\VC\Tools\MSVC\1428~1.293\bin\Hostx64\x86\link.exe /nologo @CMakeFiles\Audacity.rsp  /out:bin\Audacity.exe /implib:src\Audacity.lib /pdb:bin\Audacity.pdb /version:0.0 /machine:X86 /INCREMENTAL:NO /subsystem:windows   /MANIFEST:NO  && cmd.exe /C ""cd /D C:\audacity\out\build\x86_Release\src && ""C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\Common7\IDE\CommonExtensions\Microsoft\CMake\CMake\bin\cmake.exe"" -D SRC=""C:/audacity/out/build/x86_Release/bin/Release/Audacity.exe"" -D DST=""C:/audacity/out/build/x86_Release/bin/Release"" -D WXWIN=""C:\wxWidgets\lib\vc_dll"" -P C:/audacity/cmake-proxies/cmake-modules/CopyLibs.cmake && cd /D C:\audacity\out\build\x86_Release\src && ""C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\Common7\IDE\CommonExtensions\Microsoft\CMake\CMake\bin\cmake.exe"" -E copy C:/audacity/out/build/x86_Release/bin/Release""""
     Creating library src\Audacity.lib and object src\Audacity.exp
  ==================================================================
  Copying wxWidgets libraries:
  ==================================================================
  -- Installing: C:/audacity/out/build/x86_Release/bin/Release/wxbase313u_vc_custom.dll
  -- Installing: C:/audacity/out/build/x86_Release/bin/Release/wxmsw313u_core_vc_custom.dll
  -- Installing: C:/audacity/out/build/x86_Release/bin/Release/wxmsw313u_html_vc_custom.dll
  -- Installing: C:/audacity/out/build/x86_Release/bin/Release/wxmsw313u_qa_vc_custom.dll
  -- Installing: C:/audacity/out/build/x86_Release/bin/Release/wxbase313u_xml_vc_custom.dll
C:\audacity\out\build\x86_Release\EXEC : CMake error : cmake version 3.18.20081302-MSVC_2
```

What ends up happening is that audacity runs and works as expected, and is compiled with ASIO support as desired. Plugins are there, but then modules are not.

**To Reproduce**
1. Clone audacity or checkout master
2. open the project using the VS 2019 Cmake gui
3. change the toolset to msvc_x86
4. change `wxWidgets_LIB_DIR` value to `C:/wxWidgets/lib/vc_dll`
5. set the asio_sdk env var
6. build

**Expected behavior**
Expecting to be able to open up the Edit > Preferences > Modules menu and enable mod-script-pipe

**Screenshots**
Build failing, unable to copy deps because Audacity.exe not available for CopyLibs.cmake to process dependencies:
![image](https://user-images.githubusercontent.com/3689038/104851098-dd9dbf00-58c0-11eb-9720-3b2ce152d871.png)

Build failing after manually copying Audacity.exe into release folder and dependencies successfully copied by cmake:
![image](https://user-images.githubusercontent.com/3689038/104851145-3705ee00-58c1-11eb-82b7-78d4e936d5e9.png)

Picture of build folders: audacity.exe present (manual copy), dependencies present (CopyLibs.cmake), plugins present, modules missing.
![image](https://user-images.githubusercontent.com/3689038/104851183-7b918980-58c1-11eb-85eb-52acc1c379f7.png)

Audacity.exe running, compiled with ASIO using VS 2019, but no modules:
![image](https://user-images.githubusercontent.com/3689038/104851262-05d9ed80-58c2-11eb-8806-83f5fe9ccd54.png)
![image](https://user-images.githubusercontent.com/3689038/104851432-f7400600-58c2-11eb-854b-124a2a5a2fda.png)


**Additional information (please complete the following information):**
 - OS: Windows 10
 - Audacity 3.0.0-alpha-Jan 16 2021
 - cmake version 3.18.20081302-MSVC_2

**Additional context**
It seems like an issue with the `COPY|INSTALL` step of cmake that prevents one of the remaining 3 steps that would take care of building the modules, but I am not so sure. The modules don't seem to be being built which is why I say that. I can't just copy them myself because they don't exist. Please help!

I will happily use my setup to test further, provide more info, experiment, etc. I am not sure where to go next w.r.t. debugging the issue.

P.S. I tried to post to the forums about this first since the guidelines make it out to be the appropriate first step but when I tried doing so the forum filter blocked me from posting, I suppose due to the build logs tripping CF's 'exploit detection' robot.""I think this is the ninja rule that is failing. Is it the link step that is failing ? That seems strange because the .exe ultimately gets generated and it runs and I think that wouldn't happen if linking was failing. Then again it is strange to see the x64 version of tools referenced here (and reflected in the corresponding screenshots above).

```
#############################################
# Rule for linking CXX executable.
rule CXX_EXECUTABLE_LINKER__Audacity_Release
  command = cmd.exe /C ""$PRE_LINK && ""C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\Common7\IDE\CommonExtensions\Microsoft\CMake\CMake\bin\cmake.exe"" -E vs_link_exe --intdir=$OBJECT_DIR --rc=C:\PROGRA~2\WI3CF2~1\10\bin\100183~1.0\x64\rc.exe --mt=C:\PROGRA~2\WI3CF2~1\10\bin\100183~1.0\x64\mt.exe --manifests $MANIFESTS -- C:\PROGRA~2\MICROS~2\2019\COMMUN~1\VC\Tools\MSVC\1428~1.293\bin\Hostx64\x86\link.exe /nologo @$RSP_FILE  /out:$TARGET_FILE /implib:$TARGET_IMPLIB /pdb:$TARGET_PDB /version:0.0 $LINK_FLAGS  && $POST_BUILD""
  description = Linking CXX executable $TARGET_FILE
  rspfile = $RSP_FILE
  rspfile_content = $in_newline $LINK_PATH $LINK_LIBRARIES
  restat = $RESTAT
``` =||= Here's some good news! By changing the CMake generator to use VS 16 2019 instead of ninja, the build runs without any problems.

![image](https://user-images.githubusercontent.com/3689038/104853958-3f1a5980-58d2-11eb-911e-ae5a3d543aab.png)

I have no idea why but if someone does I'd like to understand what's going wrong when ninja is used.
 =||= We've never tried to get ninja working since we use VS directly.  I doubt any of use have even ninja installed. =||= Thank you, that would explain it. I assumed since VS was defaulting to ninja build system that it was supposed to be that way.
 =||= Can I open a pull updating the win/build.txt documentation to include the steps I took in the CMake GUI in VS 2019? Right now it explicitly mentions VS 2017 and doesn't mention anything about the build system. =||= That'd be great.  I think 2019 has been out long enough that we need to start thinking about supporting it. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
725Update windows build instructionsJefferson Hudsonl4cr0ss01/20/21, 07:12:13 AM"Update documentation for building on Windows using VS 2019. See #724 

I confirmed these steps through a fresh clone and rebuild.

Proofreading welcome.

Thank you."Thanks Jefferson. =||= Update windows build instructionsJefferson Hudsonl4cr0ss01/20/21, 07:12:13 AM"Update documentation for building on Windows using VS 2019. See #724 

I confirmed these steps through a fresh clone and rebuild.

Proofreading welcome.

Thank you."NaNJefferson Hudson01/20/21, 04:44:58 AMSpecify CMake variable name1
726Fix awful Polish translation for zero-padding.Marek Materzoktilk02/04/21, 08:03:15 PM"I found a very bad Polish translation for the zero padding factor. The translation in the locale file is ""zerowe dopełnienie czynnika"", which means in English something like ""zero-ish complement of a factor"". I replaced it with ""współczynnik uzupełnienia zerami"". ""Uzupełnianie zerami"" is the Polish term for ""zero padding"", used in the literature."This has now been applied.  Thanks. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
727Fix typos (user facing and non-user facing)luzpaz01/24/21, 09:46:08 AM"Found via `codespell v2.1.dev0`  
`codespell -q 3 -S *.po,./lib-src -L parm,parms,toke`"Thank you. =||= Fix typos (user facing and non-user facing)luzpaz01/24/21, 09:46:08 AM"Found via `codespell v2.1.dev0`  
`codespell -q 3 -S *.po,./lib-src -L parm,parms,toke`"NaNluz paz01/24/21, 12:45:54 AM"Fix typos (user facing and non-user facing)

Found via `codespell v2.1.dev0`  
`codespell -q 3 -S *.po,./lib-src -L parm,parms,toke`"1
728mpd -> BlackHole 2ch -> Audacity creates Choppy AudioDevin Rothdevinroth01/24/21, 05:25:53 PM"**Describe the bug**

BlackHole dev here. This is a super specific bug that I'm pretty sure is coming from Audacity.

https://github.com/ExistentialAudio/BlackHole/issues/273

mpd -> BlackHole 2ch -> Audacity creates choppy audio. What I found interesting about this bug is that if I change anything in the chain there are no issues. 

I've attached an image for reference. Top track is mpd -> BlackHole 2ch -> Audacity. Bottom track is mpd -> BlackHole 16ch -> Audacity. There are no differences between BlackHole 2ch and BlackHole 16ch except for the number of channels. mpd -> BlackHole 2ch ->  Logic Pro X works normally. iTunes -> BlackHole 2ch -> Audacity works normally. 

<img width=""1552"" alt=""Screen Shot 2021-01-24 at 12 18 39 AM"" src=""https://user-images.githubusercontent.com/13010961/105625239-7a3df080-5ddc-11eb-88a9-bba6a0e3747f.png"">

The audio drop outs happen every 4096 samples. The length of the drop out varies but I've recorded them at ~920 and ~1430 samples.

What I suspect is happening (may be completely wrong) is the audio thread is not getting priority and audio is being dropped. 

I'm happy to run additional tests as needed. 

**Additional information (please complete the following information):**
 - OS: macOS 11.1 
 - Version: Audacity 2.4.2
"This also happens with mpd -> BlackHole 2ch -> CamillaDSP. Again BlackHole 16ch fixes the problem. Like I said above the code is exactly the same but the number of channels changes. So what does CamillaDSP and Audacity have in common? =||= I figured it out. Check out the issue on BlackHole if you're interested. https://github.com/ExistentialAudio/BlackHole/issues/273 =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
730noice suppression doesnt workpromic101/27/21, 02:52:53 PM"why is the noice suppression is not even working it doesnt alter at all any noice in the back i got the step from
https://www.techsmith.fr/blog/il-nest-pas-trop-tard-comment-reduire-le-bruit-de-fond-dans-vos-enregistrements-gratuitement/
o dam i believe i posted on the wrong section it should be in issues i think but i cant seems to be able to move it there or delete it so hopefully someone can help me""Post was meant to be to issues.
Pull request closed. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
731noice suppressionpromic105/12/21, 12:54:30 PM"**Describe the bug**

after selecting the part where i want the noice fix i go in effects and noice suppression but none of the option available there does alter the background noice i want to remove

**To Reproduce**
Steps to reproduce the behavior:
1. select the part
2. go on effects
3. noice suppression
4. none of these options does alter the noice 

**Expected behavior**
i am expecting to be able to alter and remove the background noice




**Additional information (please complete the following information):**
 - OS: [e.g. Mac High Sierra, Ubuntu 18.04, Windows 10]
 - Version any version
 - (if relevant) Sound Device [e.g. Windows WASAPI, USB Sound card]

**Additional context**
""I'm guessing the OP did not select a suitable section of noise.  For example they selected silence.
Anyway, Closing: WORKS-FOR-ME. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
732Fix source typosluzpaz01/28/21, 12:35:24 PMCoefficents->CoefficientsNaNFix source typosluzpaz01/28/21, 12:35:24 PMCoefficents->CoefficientsNaNluz paz01/28/21, 11:23:04 AM"Fix source typos

Coefficents->Coefficients"1
733Fix typos (user facing and non-user facing)luzpaz01/28/21, 12:36:42 PMFound via `codespell`NaNFix typos (user facing and non-user facing)luzpaz01/28/21, 12:36:42 PMFound via `codespell`NaNluz paz01/28/21, 11:20:13 AM"Fix typos (user facing and non-user facing)

Found via `codespell`"1
734Bug 2582 - Enh: Repeat last Process, Part 2JohnColket02/03/21, 11:02:49 AM"Bug 2582 - Enh: Repeat last Process, Part 2

This commit implementsl features suggested by Peter And Steve and fixes Repeat NyQuist Command Tool.

It should close:
Bug 2582 - Enh: Repeat last Generator, Analyzer or Tool
Bug 2640 - Plot Spectrum and Contrast analyzers are not ""Repeatable""
Bug 1019 - Plot Spectrum and Contrast analyzers are not ""Repeatable""

(although it does not address the original issue reported in
Bug 1019 - Enh: Contrast and Plot Spectrum cannot be disabled in Plug-In Manager.)

This commit adds Plot Spectrum and Contrast Anaylyzer to the list of repeatable Analyzers;
This commit adds Macros, Palette, Screenshot, Run Benchmark, and Nyquist Prompt to the list of repeatable tools.""Cool, thank you, James.  - John

On Wed, Feb 3, 2021 at 6:03 AM James Crook <notifications@github.com> wrote:

> Merged #734 <https://github.com/audacity/audacity/pull/734> into master.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/734#event-4284602616>, or
> unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ASKE4NIPQKTA4LFQDAMDBSTS5EUOZANCNFSM4W2KQB2Q>
> .
>
 =||= You'll see in https://github.com/audacity/audacity/commit/67dff35a123297152b67bcc6bcb46787a80b05d4 I removed them from the menus, so they are just in the keyboard bindings - which is right.  They are for power users.  Let's not confuse new users.  See comment in that commit. =||= James,

  Good plan. Personally, I thought these menus were looking a little top
heavy myself, what with both Add/Remove... and Repeat...  It was a good
idea to set them aside.

  I had another idea that could be considered at some future time.  Add the
Repeat Last Process, which would be the umbrella.  That should prove to be
fairly straightforward to implement.  Later....

  And thanks for the time you spent on this as well.

- John

On Wed, Feb 3, 2021 at 10:42 AM James Crook <notifications@github.com>
wrote:

> You'll see in 67dff35
> <https://github.com/audacity/audacity/commit/67dff35a123297152b67bcc6bcb46787a80b05d4>
> I removed them from the menus, so they are just in the keyboard bindings -
> which is right. They are for power users. Let's not confuse new users. See
> comment in that commit.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/734#issuecomment-772604500>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ASKE4NIDHZJBYW6DVYGXSIDS5FVGLANCNFSM4W2KQB2Q>
> .
>
 =||= On Wed, 3 Feb 2021 at 17:01, JohnColket <notifications@github.com> wrote:

> James,
>
> Good plan. Personally, I thought these menus were looking a little top
> heavy myself, what with both Add/Remove... and Repeat... It was a good
> idea to set them aside.
>
> I had another idea that could be considered at some future time. Add the
> Repeat Last Process, which would be the umbrella. That should prove to be
> fairly straightforward to implement. Later....
>

Nice idea.

Perhaps the umbrella version could replace the individual ""Repeat"" commands
with a Preference to select which menus it works with? Perhaps that's too
much? Perhaps we could try out alternatives early in the 3.1.0 release
cycle and see what works best.

Steve


>
> And thanks for the time you spent on this as well.
>
> - John
>
> On Wed, Feb 3, 2021 at 10:42 AM James Crook <notifications@github.com>
> wrote:
>
> > You'll see in 67dff35
> > <
> https://github.com/audacity/audacity/commit/67dff35a123297152b67bcc6bcb46787a80b05d4
> >
> > I removed them from the menus, so they are just in the keyboard bindings
> -
> > which is right. They are for power users. Let's not confuse new users.
> See
> > comment in that commit.
> >
> > —
> > You are receiving this because you authored the thread.
> > Reply to this email directly, view it on GitHub
> > <https://github.com/audacity/audacity/pull/734#issuecomment-772604500>,
> > or unsubscribe
> > <
> https://github.com/notifications/unsubscribe-auth/ASKE4NIDHZJBYW6DVYGXSIDS5FVGLANCNFSM4W2KQB2Q
> >
> > .
> >
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/734#issuecomment-772664316>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ACZD2SJDVSMF2XV2GU26OTLS5F6QDANCNFSM4W2KQB2Q>
> .
>
 =||= I regret this merge.

Much done here that creates problems for rebasing of my many-more-modules branch onto latest master.

Changing CommandManager and Menus and EffectManager as done here just to support these things is a sign that something is wrong with the design.

I must look closer and consider how it ought to be rewritten.
 =||= The growing switch statement in EffectUI::DoEffect is a sign that something is wrong with the design.  The testing for the special string ""Nyquist Prompt"" assumed to be identical to another string elsewhere in the program is a fragility.  Adding state variables to MenuManager just to support this isn't good either.

But my branch did rebase and build.  Still I'm bothered by some things in here and would look for another implementation in future consistent with a more decoupled plug-in architecture.

 =||= Thank you, Paul. - John

On Wed, Feb 3, 2021 at 3:39 PM Paul Licameli <notifications@github.com>
wrote:

> I regret this merge.
>
> Much done here that creates problems for rebasing of my many-more-modules
> branch onto latest master.
>
> Changing CommandManager and Menus and EffectManager as done here just to
> support these things is a sign that something is wrong with the design.
>
> I must look closer and consider how it ought to be rewritten.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/734#issuecomment-772807176>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ASKE4NJ4UMGYBI3CFZJA7GTS5GX7TANCNFSM4W2KQB2Q>
> .
>
 =||= I'm not saying redo it.  These points aren't obvious.

It's more for me to think about as I try to bring better structure to the whole.
 =||= This may be a real problem.  Why was it necessary to delete these lines from CommandManager.cpp?  Did you make an error in rebasing?


-#if defined(BE_CAREFUL)
-      // Don't be tempted to do this unless you're willing to change how
-      // HandleMenuID() decides if a menu action should be performed.
-      // (see comments 6-9 in bug #2642 for symptoms)
-      else if (name == wxT(""Copy""))
-         entry->id = wxID_COPY;
-      else if (name == wxT(""Cut""))
-         entry->id = wxID_CUT;
-      else if (name == wxT(""Delete""))
-         entry->id = wxID_CLEAR;
-      else if (name == wxT(""Paste""))
-         entry->id = wxID_PASTE;
-      else if (name == wxT(""SelectAll""))
-         entry->id = wxID_SELECTALL;
-#endif =||= Paul, are you OK with it going through to 3.0.0 release in the current form
[and then perhaps a tidy up in 3.1.0]?

The reason I ask is because if you are not, then I feel we do not have time
to refactor it AND test that refactoring for 3.0.0.  So in that case it
should be reverted and held over to 3.1.0.


On Wed, 3 Feb 2021 at 23:00, Paul Licameli <notifications@github.com> wrote:

> I'm not saying redo it. These points aren't obvious.
>
> It's more for me to think about as I try to bring better structure to the
> whole.
>
> —
> You are receiving this because you modified the open/close state.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/734#issuecomment-772885491>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AAML4FPLFNC7QOYYTIKGYO3S5HISVANCNFSM4W2KQB2Q>
> .
>
 =||= BE_CAREFUL is not defined.  This is unused code.

The value of that code is the comment, the link to bug #2642 for
background, and I put that link back in.

On Wed, 3 Feb 2021 at 23:36, James Crook <james.k.crook@gmail.com> wrote:

> Paul, are you OK with it going through to 3.0.0 release in the current
> form [and then perhaps a tidy up in 3.1.0]?
>
> The reason I ask is because if you are not, then I feel we do not have
> time to refactor it AND test that refactoring for 3.0.0.  So in that case
> it should be reverted and held over to 3.1.0.
>
>
> On Wed, 3 Feb 2021 at 23:00, Paul Licameli <notifications@github.com>
> wrote:
>
>> I'm not saying redo it. These points aren't obvious.
>>
>> It's more for me to think about as I try to bring better structure to the
>> whole.
>>
>> —
>> You are receiving this because you modified the open/close state.
>> Reply to this email directly, view it on GitHub
>> <https://github.com/audacity/audacity/pull/734#issuecomment-772885491>,
>> or unsubscribe
>> <https://github.com/notifications/unsubscribe-auth/AAML4FPLFNC7QOYYTIKGYO3S5HISVANCNFSM4W2KQB2Q>
>> .
>>
>
 =||= I do not mean my objections to be blocking for 3.0.0.
 =||= OK.  Then let's tidy it up in 3.1.0. =||=   Paul, yes, I think you are exactly correct.  - John

On Wed, Feb 3, 2021 at 6:34 PM Paul Licameli <notifications@github.com>
wrote:

> This may be a real problem. Why was it necessary to delete these lines
> from CommandManager.cpp? Did you make an error in rebasing?
>
> -#if defined(BE_CAREFUL)
>
>    -
>
>     // Don't be tempted to do this unless you're willing to change how
>
>    -
>
>     // HandleMenuID() decides if a menu action should be performed.
>
>    -
>
>     // (see comments 6-9 in bug #2642 for symptoms)
>
>    -
>
>     else if (name == wxT(""Copy""))
>
>    -
>
>        entry->id = wxID_COPY;
>
>    -
>
>     else if (name == wxT(""Cut""))
>
>    -
>
>        entry->id = wxID_CUT;
>
>    -
>
>     else if (name == wxT(""Delete""))
>
>    -
>
>        entry->id = wxID_CLEAR;
>
>    -
>
>     else if (name == wxT(""Paste""))
>
>    -
>
>        entry->id = wxID_PASTE;
>
>    -
>
>     else if (name == wxT(""SelectAll""))
>
>    -
>
>        entry->id = wxID_SELECTALL;
>
>
> -#endif
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/734#issuecomment-772901196>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ASKE4NN7JGRVR7KM2JY4CADS5HMRTANCNFSM4W2KQB2Q>
> .
>
 =||= "Bug 2582 - Enh: Repeat last Process, Part 2JohnColket02/03/21, 11:02:49 AM"Bug 2582 - Enh: Repeat last Process, Part 2

This commit implementsl features suggested by Peter And Steve and fixes Repeat NyQuist Command Tool.

It should close:
Bug 2582 - Enh: Repeat last Generator, Analyzer or Tool
Bug 2640 - Plot Spectrum and Contrast analyzers are not ""Repeatable""
Bug 1019 - Plot Spectrum and Contrast analyzers are not ""Repeatable""

(although it does not address the original issue reported in
Bug 1019 - Enh: Contrast and Plot Spectrum cannot be disabled in Plug-In Manager.)

This commit adds Plot Spectrum and Contrast Anaylyzer to the list of repeatable Analyzers;
This commit adds Macros, Palette, Screenshot, Run Benchmark, and Nyquist Prompt to the list of repeatable tools."NaNJohn Colket01/27/21, 07:18:44 PMBug 2582 - Enh: Repeat last Process, Part 21
736Fix minor typo: coninue -> continueYuri Chornoivanyurchor02/01/21, 11:49:27 AMThanks in advance for reviewing.NaNFix minor typo: coninue -> continueYuri Chornoivanyurchor02/01/21, 11:49:27 AMThanks in advance for reviewing.NaNYuri Chornoivan02/01/21, 11:38:20 AMFix minor typo: coninue -> continue1
737Project edition time trackerNozalys05/22/21, 12:48:05 PM"**Is your feature request related to a problem? Please describe.**
After working several hours spread out over several days on a project I wonder how many time I spent on it. Audacity doesn't provide such work-log tracker. Some software tracks the time spent on the edition of a document and keep this data in the document file itself.

**Describe the solution you'd like**
A _quick and dirty_  solution could be to start a second counter as soon as Audacity is launched, or when a project is opened or even when the first audio data is added/imported in the first audio track. The _`current_elapsed_second`_ counter is then saved in the `.aup` file, as a new attribute in the `project` XML node.
Having the edition time stored in seconds (or in `hh:mm:ss` format) in the XML file would be enough in a first step.
This implementation have benefits to be very fast to implement.

**Describe alternatives you've considered**
- We could also imagine that this edition time could be displayed in a small pop-up by an clicking item in the Extra menu.
- To be more accurate, the _`current_elapsed_second`_ counter could be paused when Audacity is no more in foreground, and resumed when it comes back as the front application. This would avoid increasing time if we reduce Audacity instead of closing it when we've done.
- To be even more accurate, the _`current_elapsed_second`_ counter could be paused after an arbitrary delay (i.e. 30 s) of inactivity. _""Inactivity""_ detection could be : no audio edition, no audio playback, no display events, no menu navigation. Or maybe no mouse move and no key pressed. This option is probably the most difficult to implement because it requires to collect a lot of various events.

**Additional context**
The goal of knowing the edition time, in addition of satisfying my curiosity (I don't see the time running when I'm editing music) is to be able to estimate the workload required for few minutes of final result.""Sounds interesting and more useful to professional users.  We would not show the feature by default since most of our users are beginners, but having it there/available for more professional users would be worthwhile.

Are you a programmer as well?   =||= > Are you a programmer as well?

Yes, but maybe not enough familiar with neither C/C++ nor Github to start implementing by myself. I don't know.. =||= Closing.  Can done with a third party app that is designed for work tracking.  On that you could also record time spent on client work writing emails, on the phone, etc. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
738Update pl.po from TransifexGrzegorz PruchniakowskiGootector02/04/21, 10:32:45 PM"Update pl.po from Transifex

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "Thanks.  Merged. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
739Update Polish from Transifex - fix PR #726Grzegorz PruchniakowskiGootector02/05/21, 08:05:35 AM"Update Polish from Transifex.
This is updated pl.po file from Transifex with this PR: https://github.com/audacity/audacity/pull/726.
Greetings,
Gootector

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
740Update Polish from Transifex - fix PR #726Grzegorz PruchniakowskiGootector02/05/21, 12:44:38 PM"Update Polish from Transifex.
This is updated pl.po file from Transifex with this PR: https://github.com/audacity/audacity/pull/726.
Greetings,
Gootector

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "Thanks! =||= Update Polish from Transifex - fix PR #726Grzegorz PruchniakowskiGootector02/05/21, 12:44:38 PM"Update Polish from Transifex.
This is updated pl.po file from Transifex with this PR: https://github.com/audacity/audacity/pull/726.
Greetings,
Gootector

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNGrzegorz Pruchniakowski02/05/21, 08:16:25 AM"Update Polish from Transifex - fix PR #726

Update Polish from Transifex.
This is updated pl.po file from Transifex with this PR: https://github.com/audacity/audacity/pull/726.
Greetings,
Gootector"1
741Cleanup and update FFmpeg support to v4.3.1Leland Luciuslllucius05/05/21, 03:54:37 PM"This upgrades FFmpeg support to version 4.3.1 and cleans up the initialization code a bit.  Attached to this request is updated FFmpeg libs for Windows and Mac.  Updated library  build scripts as well.

[FFmpeg_v4.3.1_for_Audacity_on_Windows_32bit.exe.zip](https://github.com/audacity/audacity/files/5941948/FFmpeg_v4.3.1_for_Audacity_on_Windows_32bit.exe.zip)
[FFmpeg_v4.3.1_for_Audacity_on_Windows_32bit.zip](https://github.com/audacity/audacity/files/5941949/FFmpeg_v4.3.1_for_Audacity_on_Windows_32bit.zip)
[FFmpeg_v4.3.1_for_Audacity_on_Windows_64bit.exe.zip](https://github.com/audacity/audacity/files/5941952/FFmpeg_v4.3.1_for_Audacity_on_Windows_64bit.exe.zip)
[FFmpeg_v4.3.1_for_Audacity_on_Windows_64bit.zip](https://github.com/audacity/audacity/files/5941959/FFmpeg_v4.3.1_for_Audacity_on_Windows_64bit.zip)
[FFmpeg_v4.3.1_for_Audacity_on_Windows_Build.zip](https://github.com/audacity/audacity/files/5941960/FFmpeg_v4.3.1_for_Audacity_on_Windows_Build.zip)

[FFmpeg_v4.3.1_for_Audacity_on_OSX.dmg.zip](https://github.com/audacity/audacity/files/5941942/FFmpeg_v4.3.1_for_Audacity_on_OSX.dmg.zip)
[FFmpeg_v4.3.1_for_Audacity_on_OSX.pkg.zip](https://github.com/audacity/audacity/files/5941943/FFmpeg_v4.3.1_for_Audacity_on_OSX.pkg.zip)
[FFmpeg_v4.3.1_for_Audacity_on_OSX.zip](https://github.com/audacity/audacity/files/5941945/FFmpeg_v4.3.1_for_Audacity_on_OSX.zip)
[FFmpeg_v4.3.1_for_Audacity_on_OSX_Build.zip](https://github.com/audacity/audacity/files/5941947/FFmpeg_v4.3.1_for_Audacity_on_OSX_Build.zip)"NaNCleanup and update FFmpeg support to v4.3.1Leland Luciuslllucius05/05/21, 03:54:37 PM"This upgrades FFmpeg support to version 4.3.1 and cleans up the initialization code a bit.  Attached to this request is updated FFmpeg libs for Windows and Mac.  Updated library  build scripts as well.

[FFmpeg_v4.3.1_for_Audacity_on_Windows_32bit.exe.zip](https://github.com/audacity/audacity/files/5941948/FFmpeg_v4.3.1_for_Audacity_on_Windows_32bit.exe.zip)
[FFmpeg_v4.3.1_for_Audacity_on_Windows_32bit.zip](https://github.com/audacity/audacity/files/5941949/FFmpeg_v4.3.1_for_Audacity_on_Windows_32bit.zip)
[FFmpeg_v4.3.1_for_Audacity_on_Windows_64bit.exe.zip](https://github.com/audacity/audacity/files/5941952/FFmpeg_v4.3.1_for_Audacity_on_Windows_64bit.exe.zip)
[FFmpeg_v4.3.1_for_Audacity_on_Windows_64bit.zip](https://github.com/audacity/audacity/files/5941959/FFmpeg_v4.3.1_for_Audacity_on_Windows_64bit.zip)
[FFmpeg_v4.3.1_for_Audacity_on_Windows_Build.zip](https://github.com/audacity/audacity/files/5941960/FFmpeg_v4.3.1_for_Audacity_on_Windows_Build.zip)

[FFmpeg_v4.3.1_for_Audacity_on_OSX.dmg.zip](https://github.com/audacity/audacity/files/5941942/FFmpeg_v4.3.1_for_Audacity_on_OSX.dmg.zip)
[FFmpeg_v4.3.1_for_Audacity_on_OSX.pkg.zip](https://github.com/audacity/audacity/files/5941943/FFmpeg_v4.3.1_for_Audacity_on_OSX.pkg.zip)
[FFmpeg_v4.3.1_for_Audacity_on_OSX.zip](https://github.com/audacity/audacity/files/5941945/FFmpeg_v4.3.1_for_Audacity_on_OSX.zip)
[FFmpeg_v4.3.1_for_Audacity_on_OSX_Build.zip](https://github.com/audacity/audacity/files/5941947/FFmpeg_v4.3.1_for_Audacity_on_OSX_Build.zip)"NaNNaNNaNNaN1
742Wrong French translation commitOlivier Humberttrebmuh02/09/21, 12:45:42 AM"While updating the French translation for the next version, I looked at the fr.po file history. I then noted [this commit](https://github.com/audacity/audacity/commit/215abfb5a81e246ad06a34180bea948599d93ab8#diff-7492bbb6f390fea02fc9436169b1642bc06b1990cf3cf6354b6002264bcde3f2).

I'm very surprised because it didn't go through the ML or a PR on github if I'm not wrong, so I wouldn't have seen it without thinking to check the file history (which I don't usually do). That would have been unfortunate because everything this commit does is wrong:
- the ""paramètrer"" changes (3 times) are grammatically incorrect
- removing a mnemonic that works is also an error
- last thing, it move the header from `""PO-Revision-Date: 2020-08-10 15:00+0100\n""` to `""PO-Revision-Date: 2020-06-09 22:59+0100\n""` which seems to be a regression

@JamesCrook can you please ping me next time?
Thank you."Thanks.  Will fix.  See explanation on audacity-translations list. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
743l10n: zh_TW: update audacity translationpan93412pan9341202/13/21, 05:21:17 PMNaN@JamesCrook thanks! =||= l10n: zh_TW: update audacity translationpan93412pan9341202/13/21, 05:21:17 PMNaNNaNYi-Jyun Pan02/10/21, 06:17:42 PMl10n: zh_TW: update translation for audacity1
744Update Polish TranslationGrzegorz PruchniakowskiGootector02/13/21, 05:16:36 PM"Update pl.po from Transifex - 2 fixes.

Greetings,
Gootector

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNUpdate Polish TranslationGrzegorz PruchniakowskiGootector02/13/21, 05:16:36 PM"Update pl.po from Transifex - 2 fixes.

Greetings,
Gootector

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNGrzegorz Pruchniakowski02/10/21, 09:36:52 PM"Update Polish Translation

Update pl.po from Transifex - 2 fixes.

Greetings,
Gootector"1
745Windows build instructions failJohnColket03/17/21, 04:55:34 PM"Windows build instructions fail:

1) CMake requires Python 3 NOT 2.7
2) Ninja, Windows default builder fails.
3) git commands clone to wrong directory
4) (2017 not 2019) solution file specified for wxWidgets build
5) CMake GUI instructions are confusing and incorrect
6) Incorrect CMake toolset specified
7) Jack program name is case-sensitive (portaudio-v19\CMakeLists.txt)
8) These instructions overcome inconsistencies and timing issues with CMake""James, thanks for looking into this.  See comments inline below.

On Sun, Feb 21, 2021 at 9:07 AM James Crook <notifications@github.com>
wrote:

> *@JamesCrook* commented on this pull request.
>
> I'm building just fine John on Windows 10.  Are you perhaps building in a
> VM?
>
No. I am sure the existing instructions work just fine for someone who
already has all of the tools downloaded and who has previously done the
build on the same machine, and knows what they are doing.  I am not doing
this on VM, but I deliberately started on a new (32-bit) machine my wife
had been using with none of the tools installed.  I also verified that the
instructions worked on my 64-bit machine.

I am not saying my instructions are perfect, that there are no typos, or
that they will work on the next update to VS, for example.  Lord knows I
have made my share of mistakes.  I am just hoping it is an improvement.


> We had:
>
>     Then in system variables, for variable and value,  add (for example)
>
>         WXWIN         C:\wxWidgets-3.1.3
>
> You changed that to:
>
>     Then in system variables, for variable and value,  add (for example)
>
>     ==> WXWIN         C:\aud300\wxWidgets
>
> That's maybe an improvement.  However it's just a different name that
> makes it clearer it is specifically for audacity.  The example name we give
> works too.
>
The reason for the change here is solely for consistency.  The build is
complicated enough.  See later on where the instructions specify:
C:/wxWidgets/lib/vc_dll; also, it wouldn't hurt to git bash clone into this
directory.

> You added:
>
>  When the build completed, you will get the message:
> ========= Build: 24 succeeded, 0 failed, 0 up-to-date, 0 skipped
> ============
> Close Visuual Studio.
>
> We don't want that in the instructions, as the number of items built may
> change with future updates.
>
OK, but it would help the noob builder immensely, just to have *some* kind
of assurance that he was on the right track, and could safely proceed to
the next step. What do you suggest ?

> The changes sound basically good, especially the Python 3 one, I am using
> Python 3, but I want more than just me to review these changes. I don't
> want to just take them as is, because a change that works for me may not
> work for someone else.
>
> I am deciding your changes should wait. I know you must think it really
> valuable to get them done in 3.0.0. The current instructions work for me,
> and I would rather make changes when work starts on 3.0.1.
>
That's fine.  Being Release Manager is stressful enough.  Thanks for the
time you have taken to review this.  🙂

- John

> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/745#pullrequestreview-594844702>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ASKE4NMI5475PEI5GB4DH2DTAEHTVANCNFSM4XTLAWZQ>
> .
>
 =||= Thanks John.  Especially for the understanding.
I think I will actually be making all the changes after 3.0.0.  They are
helpful.
I do want to get them reviewed, not just by me.
Thanks for your work on this.  When I/we follow up on it, it should make it
easier for more people to get involved in coding on Audacity.

--James.


On Sun, 21 Feb 2021 at 15:45, John Colket <jcolket@gmail.com> wrote:

> James, thanks for looking into this.  See comments inline below.
>
> On Sun, Feb 21, 2021 at 9:07 AM James Crook <notifications@github.com>
> wrote:
>
>> *@JamesCrook* commented on this pull request.
>>
>> I'm building just fine John on Windows 10.  Are you perhaps building in a
>> VM?
>>
> No. I am sure the existing instructions work just fine for someone who
> already has all of the tools downloaded and who has previously done the
> build on the same machine, and knows what they are doing.  I am not doing
> this on VM, but I deliberately started on a new (32-bit) machine my wife
> had been using with none of the tools installed.  I also verified that the
> instructions worked on my 64-bit machine.
>
> I am not saying my instructions are perfect, that there are no typos, or
> that they will work on the next update to VS, for example.  Lord knows I
> have made my share of mistakes.  I am just hoping it is an improvement.
>
>
>> We had:
>>
>>     Then in system variables, for variable and value,  add (for example)
>>
>>         WXWIN         C:\wxWidgets-3.1.3
>>
>> You changed that to:
>>
>>     Then in system variables, for variable and value,  add (for example)
>>
>>     ==> WXWIN         C:\aud300\wxWidgets
>>
>> That's maybe an improvement.  However it's just a different name that
>> makes it clearer it is specifically for audacity.  The example name we give
>> works too.
>>
> The reason for the change here is solely for consistency.  The build is
> complicated enough.  See later on where the instructions specify:
> C:/wxWidgets/lib/vc_dll; also, it wouldn't hurt to git bash clone into
> this directory.
>
>> You added:
>>
>>  When the build completed, you will get the message:
>> ========= Build: 24 succeeded, 0 failed, 0 up-to-date, 0 skipped
>> ============
>> Close Visuual Studio.
>>
>> We don't want that in the instructions, as the number of items built may
>> change with future updates.
>>
> OK, but it would help the noob builder immensely, just to have *some* kind
> of assurance that he was on the right track, and could safely proceed to
> the next step. What do you suggest ?
>
>> The changes sound basically good, especially the Python 3 one, I am using
>> Python 3, but I want more than just me to review these changes. I don't
>> want to just take them as is, because a change that works for me may not
>> work for someone else.
>>
>> I am deciding your changes should wait. I know you must think it really
>> valuable to get them done in 3.0.0. The current instructions work for me,
>> and I would rather make changes when work starts on 3.0.1.
>>
> That's fine.  Being Release Manager is stressful enough.  Thanks for the
> time you have taken to review this.  🙂
>
> - John
>
>> —
>> You are receiving this because you authored the thread.
>> Reply to this email directly, view it on GitHub
>> <https://github.com/audacity/audacity/pull/745#pullrequestreview-594844702>,
>> or unsubscribe
>> <https://github.com/notifications/unsubscribe-auth/ASKE4NMI5475PEI5GB4DH2DTAEHTVANCNFSM4XTLAWZQ>
>> .
>>
> _______________________________________________
> audacity-devel mailing list
> audacity-devel@lists.sourceforge.net
> https://lists.sourceforge.net/lists/listinfo/audacity-devel
>
 =||= Thank you.  Merged now.

This was really helpful. =||= Thanks, James. - Now I can get off my butt and consider other things.  😉

On Wed, Mar 17, 2021 at 12:55 PM James Crook ***@***.***>
wrote:

> Closed #745 <https://github.com/audacity/audacity/pull/745>.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/745#event-4471463865>, or
> unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ASKE4NKPVSZR56LS35VB5WTTEDNJZANCNFSM4XTLAWZQ>
> .
>
 =||= HI @JohnColket, I tried following your instructions 'to the letter' and it all worked pretty well (never knew you could 'drive' VS from the cmake file, that was interesting). At least until the final build step, where VS spat out this error:

```
    Generating ../bin/Release/Languages/af/audacity.mo
    The system cannot find the path specified.
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\MSBuild\Microsoft\VC\v160\Microsoft.CppCommon.targets(231,5): error MSB6006: ""cmd.exe"" exited with code 3. 
```
The error message points to an unhelpful generic template bit of code, so you can't tell what the real problem was.

The bit about `audacity.mo` makes me wonder if there's some prerequisite software missing to do with gettext or so. =||= @gregsskyles 
So these errors are always a puzzle...

I'm thinking for this particular error perhaps you are using the Ninja builder instead of VS 16 2019; see: ""==> Change CMake generator: VS 16 2019 (was Ninja)"" in the instructions.

Also note,  these instructions have been copied (and perhaps updated and improved) here: https://wiki.audacityteam.org/wiki/Building_On_Windows

Also, check here: https://github.com/audacity/audacity/pull/826/files

And there is an ongoing discussion about COMPILING AUDACITY: #windows here: https://discord.gg/KWMbsbVh =||= No, I was using the VS builder, not Ninja, I had changed that as per the instructions.
After checking through things, I found that there were updates to VS 2019 I hadn't yet applied, and after doing that, re-running the CMake config, and dealing with a python issue CMake complained about with my Miniconda install, it all worked. Got an executable that ran on my Windows box just fine - 
```
Program build date: May 20 2021
Commit Id: 77f8e6 of Mon May 17 08:46:54 2021 -0400
Compiler: MSVC 19.28.29915.00
```
So a thumbs-up to your new build instructions! =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
746Cannot Open A VST Effect PluginMrTeeXDMrTeeXD03/16/21, 05:11:43 PM"**Describe the bug**
For some reason and I dont know why but Audacity fails to open my EQ VST. The effect is not broken and it works in other programs

**To Reproduce**
Steps to reproduce the behavior:
1. Go to the plugins folder
2. Drop your EQ VST of Choice
3. Open Audacity and click add new plugins
4. Set the filter to New and try to enable that VST

**Expected behavior**
I remember clearly that in previous versions, this worked perfectly

**Screenshots**
This is the error I got when attempting to load the effect:
![audacity_jIE9Ums4cT](https://user-images.githubusercontent.com/37266538/107966710-ec0cf280-6fb4-11eb-8586-9dd287df2ea0.jpg)

**Additional information (please complete the following information):**
 - OS: Windows 10 64bit Home Edition
 - Version: Audacity 2.4.1
 - (if relevant) Sound Device: Windows WASAPI

**Additional context**
I am using the Zipped Version of Audacity""Audacity on Windows is currently a 32-bit app, so it only supports 32-bit VSTs.
End user support for Audacity is available via the Audacity forum: https://forum.audacityteam.org =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
748Fix LGTM 'Testing equality to None' alertsluzpaz02/28/21, 06:18:38 PMref: https://lgtm.com/projects/g/audacity/audacity/?mode=tree&ruleFocus=7900090"Rejected.

We generally try not to change 3rd party code in lib-src since we then have to check and reapply fixes when we upgrade. =||= @JamesCrook apologies. is this where I should submit the patch to ? https://gitlab.com/ita1024/waf/ =||= @luzpaz I'm not too sure!  Try them, and they will at least redirect you if you are in the wrong place. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
749Sliding Stretch / Sliding Time Scale and Pitch Shift crashes on multiple tracksdlh-049203/03/21, 06:32:45 PM"**Describe the bug**
Hi, I've noticed that the Sliding Stretch utility keeps crashing when I apply it to more than one track. So, for example, when I apply Sliding Stretch to both channels of a stereo track at once, or to more than one mono track at once, it will go through the shifting but then Audacity will crash at the end.

**Expected behavior**
A clear and concise description of what you expected to happen.

**Screenshots**
If applicable, add screenshots to help explain your problem.

**Additional information (please complete the following information):**
 - OS: Linux (Ubuntu)
 - Version 2.4.2
 - Sound Device: ALSA

This wasn't an issue in the 2.3.x versions.""Thanks for the report.
It is a known bug and has been fixed for the next Audacity release (Audacity 3.0.0). =||= Thanks! =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
750Audacity fails to compile with VS2019 16.9.0 (lrint, lrintf)JohnColket03/17/21, 03:50:25 PM"While prior releases of Windows VS2019 seemed to work with the new build instructions (see prior pull request), the very latest release 16.9.0 of VS2019, seems to have a problem with the intrinsic functions lrint and lrintf, and generates 68 compile errors.
Specifically, the build fails with an error: error C2169: 'lrint': intrinsic function, cannot be defined
and error C2169: 'lrintf': intrinsic function, cannot be defined while compiling AudioIO.cpp and other modules.

This patch removes the lrint and lrintf definitions using conditional compilation instructions depending on the value of ""_MSC_VER"".  I am sure there are other, perhaps more valid, approaches.

Note: the value of _MSC_VER is 1928 in 16.9.0. (_MSC_VER is also 1928 in 16.8.0, but _MSC_VER is 1927 in 16.7.0)
_MSC_FULL_VER happens to be 192829910 in my copy of 16.9.0, which has the problem.

I do not have _MSC_VER numbers of all prior successful Audacity builds, but it is reported that 16.3.8 builds OK (corresponding to _MSC_VER of 1923).  See this forum report: https://forum.audacityteam.org/viewtopic.php?p=418872#p418872""I don't have this problem compiling with 16.9.0 - it compiles without errors. =||= Thanks for this report, David.  Very curious....  I'll take a look-see...

- John

On Mon, Mar 8, 2021 at 4:36 AM DavidBailes <notifications@github.com> wrote:

> I don't have this problem compiling with 16.9.0 - it compiles without
> errors.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/750#issuecomment-792621763>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ASKE4NIQVVM5HMOC5JGOQLTTCSLBTANCNFSM4YYHSNPQ>
> .
>
 =||= So I uninstalled VS2019, then reinstalled it.  I still have the issue.  I
had been suspecting there might be micro versions of 16.9.0, so I checked
and found that _MSC_FULL_VER is still 192829910 which is what it was
yesterday.  I don't know if there is any way for me to download a prior
version of VS2019.

On Mon, Mar 8, 2021 at 7:17 AM John Colket <jcolket@gmail.com> wrote:

> Thanks for this report, David.  Very curious....  I'll take a look-see...
>
> - John
>
> On Mon, Mar 8, 2021 at 4:36 AM DavidBailes <notifications@github.com>
> wrote:
>
>> I don't have this problem compiling with 16.9.0 - it compiles without
>> errors.
>>
>> —
>> You are receiving this because you authored the thread.
>> Reply to this email directly, view it on GitHub
>> <https://github.com/audacity/audacity/pull/750#issuecomment-792621763>,
>> or unsubscribe
>> <https://github.com/notifications/unsubscribe-auth/ASKE4NIQVVM5HMOC5JGOQLTTCSLBTANCNFSM4YYHSNPQ>
>> .
>>
>
 =||= Revising my previous comment. I don't have any problems compiling the debug version, but do have problems with the release version. =||= The suggested fix of removing the inline definitions of lrint and lrintf reintroduces bug 2457.

An alternative fix, is in the #if (defined (WIN32) || defined (_WIN32)) && defined(_MSC_VER) && defined(_M_IX86) statement, to add the following line before the inline definitions:

#pragma function(lrint,lrintf)   // do not use intrinsic versions

I'm not sure if the inclusion of this line needs to depend on the version of the compiler.

 =||= David,

Thank you very much for your discoveries and your input. ☺

I have also tried VS 2019 build 16.10.0 (Prelease 1.0) and I have the same
issue as with 16.9.0

I have an old VS 2017 audacity.sln file which I have (meticulously)
upgraded/modified so that it runs on VS 2019 on my machine.  I do not have
the issue with this old upgraded solution file either for Release or for
Debug builds.

So, it seems that the issue appears when CMake is used to create the build,
but not with the solution file.  Perhaps there is some compiler default
that was changed in 16.9.0 that was somehow specified in the old solution
file.

We are not the first ones to see lrint problems.  See also,
https://github.com/InsightSoftwareConsortium/ITK/issues/1967

Later...

-  John

On Tue, Mar 9, 2021 at 5:45 AM DavidBailes <notifications@github.com> wrote:

> The suggested fix of removing the inline definitions of lrint and lrintf
> reintroduces bug 2457.
>
> An alternative fix, is in the #if (defined (WIN32) || defined (_WIN32)) &&
> defined(_MSC_VER) && defined(_M_IX86) statement, to add the following line
> before the inline definitions:
>
> #pragma function(lrint,lrintf) // do not use intrinsic versions
>
> I'm not sure if the inclusion of this line needs to depend on the version
> of the compiler.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/750#issuecomment-793700522>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ASKE4NLQTATI6ZQDUHYI2DTTCX34JANCNFSM4YYHSNPQ>
> .
>
 =||= Thanks, James.  ditto.  😉

On Wed, Mar 17, 2021 at 11:50 AM James Crook ***@***.***>
wrote:

> Merged #750 <https://github.com/audacity/audacity/pull/750> into master.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/750#event-4471096837>, or
> unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ASKE4NJLNDI6J2WEZPXRWG3TEDFVPANCNFSM4YYHSNPQ>
> .
>
 =||= "Audacity fails to compile with VS2019 16.9.0 (lrint, lrintf)JohnColket03/17/21, 03:50:25 PM"While prior releases of Windows VS2019 seemed to work with the new build instructions (see prior pull request), the very latest release 16.9.0 of VS2019, seems to have a problem with the intrinsic functions lrint and lrintf, and generates 68 compile errors.
Specifically, the build fails with an error: error C2169: 'lrint': intrinsic function, cannot be defined
and error C2169: 'lrintf': intrinsic function, cannot be defined while compiling AudioIO.cpp and other modules.

This patch removes the lrint and lrintf definitions using conditional compilation instructions depending on the value of ""_MSC_VER"".  I am sure there are other, perhaps more valid, approaches.

Note: the value of _MSC_VER is 1928 in 16.9.0. (_MSC_VER is also 1928 in 16.8.0, but _MSC_VER is 1927 in 16.7.0)
_MSC_FULL_VER happens to be 192829910 in my copy of 16.9.0, which has the problem.

I do not have _MSC_VER numbers of all prior successful Audacity builds, but it is reported that 16.3.8 builds OK (corresponding to _MSC_VER of 1923).  See this forum report: https://forum.audacityteam.org/viewtopic.php?p=418872#p418872"NaNJohn Colket03/07/21, 07:03:00 PMAudacity fails to compile with VS2019 16.9.0 (lrint, lrintf)1
753linux/build.txt:Inserted testing of wxWidget.Piyush Thangeits-crypted04/17/21, 03:31:51 PM"Added examples of wxWidgets to confirm building to verify
the build is working OK.
Two examples are provided
1. The Sample which reside in the source code.
2. Hello World Tutorial from wxWidget.

Signed-off-by: Piyush Thange <pthange19@gmail.com>

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
754Play-at-speed should have an option to keep the pitch constant (change only tempo)quazgar03/16/21, 02:17:04 PM"**Is your feature request related to a problem? Please describe.**
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

**Describe the solution you'd like**
A clear and concise description of what you want to happen.

**Describe alternatives you've considered**
A clear and concise description of any alternative solutions or features you've considered.

**Additional context**
Add any other context or screenshots about the feature request here."Thanks.  That's a great suggestion and one we already have on our radar. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
755Turkish translation updateSerkan ÖNDERserkan-maker03/17/21, 10:20:20 AM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "correction =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
756[FEATURE REQUEST] Create layour mobile devicescoldspark2903/17/21, 11:28:00 AMI would really like to see a layout for mobile devices like the pinephone. As of now, it is not useable.NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
757Extend theme manager to make it easier to switch between custom themescoldspark2903/17/21, 11:59:48 AM"As of now, you can only copy one theme into the audacity profile folder and then choose ""custom"". Would be nice if you could copy several themes in there and then choose from the menu.

I think it would also be great if these themes were added by default. They très chique.
[https://www.deviantart.com/podel1/art/Audacity-Clean-Dark-Theme-1-3-by-Podel-715604676](https://www.deviantart.com/podel1/art/Audacity-Clean-Dark-Theme-1-3-by-Podel-715604676)""It is unlikely that theme support will be developed further until there has been a significant amount of ""under the hood"" work done relating to the Audacity GUI, so I'm closing this feature request for now. When the ""under the hood"" work has been completed there will be a lot more scope for improving the appearance of Audacity. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
758Create layout for Linux mobile devicescoldspark2903/17/21, 11:53:59 AM"I would really like to see a layout for mobile devices like the Pinephone. As of now, it is not useable.""Audacity does not currently support mobile devices or mobile operating systems.
A mobile version of Audacity may be developed in the future. =||= The application itself works really well on the Pinephone. The problem is just the layout. To avoid misunderstanding: The Pinephone is a mobile phone that runs a full ARM-based Linux. I am not talking about Android. So there is just a need for proper scaling for the smaller screen. =||= To be really usable I think it would need extensive redesign of the interface rather than just scaling, which is on the cards for the future, but not the immediate future. Thanks for the clarification. =||= The developers of the phone said that the line input of the SoC is not connected to the jack anyway. So there would just be mic input and for that a simpler app would suffice. Linux phones are on the horizon though. Maybe in 1-2 years it would be worth the effort.

> Am 17.03.2021 um 13:55 schrieb Steve Daulton ***@***.***>:
> 
> ﻿
> To be really usable I think it would need extensive redesign of the interface rather than just scaling, which is on the cards for the future, but not the immediate future. Thanks for the clarification.
> 
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub, or unsubscribe.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
759Update 2.4.2 Turkish TranslationSerkan ÖNDERserkan-maker03/29/21, 12:22:35 PM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests ""Hi, thanks for the translations. I'll continue the review later on, but so far these translations are hardly an improvement over the current ones, moreover some of the previously correct translations are broken. I'd recommend a re-pass over the translations as a whole, and make sure that the ""audio"" context is preserved. =||= Hello, I corrected some incorrect translations. I did not make much change in the current translation. The majority was to add accelerators. I fixed the translation of the most parts. I would appreciate it if you report the mistake I made, I would be considered a novice in the translation business. There are also 270 missing translation lines that are not in the .pot file but are available in the interface. These missing lines are present in the .po file but cannot be used.
[audacity_tr.po.zip](https://github.com/audacity/audacity/files/6161718/audacity_tr.po.zip)
 =||= I will continue reviewing later on. It will take a while, since I was able to barely review a quarter of the changes. =||= I corrected the wrong translations you warned
[tr.po.zip](https://github.com/audacity/audacity/files/6163845/tr.po.zip)
 =||= > I corrected the wrong translations you warned
> [tr.po.zip](https://github.com/audacity/audacity/files/6163845/tr.po.zip)

Thanks for the corrections, I appreciate it. Is it possible to commit your changes here for easier review? =||= incorrect translation corrections
[tr.po.zip](https://github.com/audacity/audacity/files/6169563/tr.po.zip)
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
760Apple Silicon build (e.g. M1 processor)Vas Sudanaguntavassudanagunta03/27/21, 10:06:50 PM"**Is your feature request related to a problem? Please describe.**

A native build for Apple Silicon Macs will both perform better and use much less batter power. 

**Describe the solution you'd like**

Audacity released in an Apple universal binary that includes an Apple Silicon build.

**Describe alternatives you've considered**

Currently Audacity's Intel build works on M1 Macs using Rosetta translation software.
"#684 =||= @JamesCrook @Margen67 I opened this issues because that one was closed for some reason. One of them should be re-opened... I think. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
761Experimental flagsPaul LicameliPaul-Licameli04/27/21, 05:08:10 PM"# Pull Requests
Reimplement EXPERIMENTAL flags using CMake, eliminating Experimental.h; making it impossible to omit Experimental.h by mistake and quietly change the meaning of the code if you cut and paste it to another file""Seems like a good idea to me.  How about exposing the experimental options as DEFINES on the cmake command?  We'd supply the defaults in Experimental.cmake and then they could be overridden in the CMake GUI or command line.

Probably overkill though. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
764Update cs.po - for Audacity 3pafri03/29/21, 09:20:20 PM"I've updated the file, that I previously worked on in 2020, for the new version of Audacity 3. Greetings

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "Thank you.  Merged. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
766Fixed Bitrot and empty label boxesm_shariffcrpto-bug03/20/21, 04:15:44 PM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNFixed Bitrot and empty label boxesm_shariffcrpto-bug03/20/21, 04:15:44 PM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNcrpto-bug03/20/21, 04:01:46 PMFixed Bitrot and empty label boxes1
767Correcting grammar and wordiness in maketarball.shNikita Mahoviyanikitamahoviya05/13/21, 06:59:29 PMImproving the grammar and punctuation for better presentationClosed by committing #768 =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
768Fixed the grammar-related issues in maketarball.sh #767Nikita Mahoviyanikitamahoviya03/21/21, 09:11:41 AM"Fixed the grammar-related issues in maketarball.sh #767

There were some minor errors and spelling mistakes, hence corrected them."Thanks. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
771"Use unambiguous units for ""Measure RMS"""endolith03/25/21, 11:46:56 PM"**Is your feature request related to a problem? Please describe.**
If you generate a full-scale sine wave and then use the `rms.ny` plugin to measure it, it says -3 dB:

![image](https://user-images.githubusercontent.com/58611/112539189-0e014e00-8d87-11eb-8446-f42150b63790.png)

But ""dB"" for an RMS level is ambiguous, with different meanings in different contexts.

**Describe the solution you'd like**

This is consistent with the dBov unit in ITU-T G.100.1 telephony standard, so it could be labeled ""-3 dBov"" and that would be unambiguous.

However, I'd prefer that it use the unit dBFS, which is more common in pro audio contexts.  This is defined in AES17, IEC 61606, etc.  This would require multiplying the level by √2 (+3.01 dB), and then it could be labeled ""0.000 dBFS""  (= ""0 dB down from a full-scale sine wave"")

Likewise, if you generate a tone with amplitude 0.0001 it should say ""-80.000 dBFS"", etc.""Thanks.
A contributor has provided a solution you can use: https://github.com/audacity/audacity/pull/772

We're not planning to use/distribute it though. =||= It should be part of the rms.ny file distributed with Audacity =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
772Fixes #771godspeed503/25/21, 11:47:19 PMWe could have a different script for DBFS I guess? I've just changed the name to dBov for now.Thanks.  We're not planning to use this though. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
773Bug 2124 - Importing non audio file gives misleading errorVishal Narnawarevishalnarnaware03/27/21, 11:14:44 PM"
Fixed misleading error by adding file extension test""This fix would centralize an exhaustive list of all known audio file extensions, duplicating the information made in the several different subclasses of ImportPlugin.  It's not good to have such duplicated assumptions in different parts of the code, which might become inconsistent with each other.

Whereas the existing logic gave the error only after trying to import the file with all ImportPlugins first.  That is better and more extensible.

Besides which, bug 2523 duplicated this bug, and was already fixed at commit aa89805fd2cf2949f31e43f249581e623215c2cf.
 =||= This change blocks importing of some files that worked before which FFMpeg could import (even if they weren't in the officially supported list of types), such as brstm files (which I use occasionally).  IMO the fix from aa89805fd2cf2949f31e43f249581e623215c2cf is better. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
774Internal error at DBConnection.cpp line 275. Please inform the Audacity team at https://forum.audacityteam.org/.Tim Tassonistimtas03/28/21, 11:54:04 AM"Projects cannot be saved


Steps to reproduce the behavior:
1. Create a new project, or open an existing one
2. Save it
3. Close it

An internal error box appears:

Internal error at DBConnection.cpp line 275. Please inform the Audacity team at https://forum.audacityteam.org/.


**Additional information (please complete the following information):**
 - Linux (Linux from Scratch 10.0)
 - Audacity 3.0.0
 - Sqlite 3.34.1
 ""Could you attach the log please? =||= I have now resolved this issue by adding ""-Daudacity_use_sqlite=local"" to cmake, forcing the use of the bundled library version, so the issue might be closed with this work-around.

I now however am stuck at opening aup3 files, always getting the error: ""Failure parsing project information"". But I guess I will open a separte issue for that.



 =||= Note that we patched an issue for FreeBSD subsequent to 3.0.0 tag.  https://bugzilla.audacityteam.org/show_bug.cgi?id=2697  =||= Ok, will rebuild with that, test and give you an answer. I'm not really optimistic though, as my problem also happens with newcly created projects. But it's certainly worth a try.
 =||= Sadly, I was right, this patch did not fix my issue. Is it advisable to delete the ~/.audacity-data directory after an upgrade, might there be something in there causing problems? =||= Best bet is to use very latest code form GitHub, which has more reporting in it, compile with that, and post info from the logs (help->diagnostics).

Might as well delete ~/.audacity-data directory.  It's unlikely to be a problem, but good to rule out one more thing.

We only officially support Windows (32bit), macOS and Ubuntu.  We also only support builds using our patched wxWidgets 3.1.3.
 =||= Yes, I'm using your patched wxWidgets 3.1.3, and I previously never had any problems with building audacity from source. It's clear that you cannot support any odd platform, I will give git master a go and see where that gets me. In the meantime, I'm very happy with 2.4.2  =||= So, very good news! I now compiled git master from source, and while I cannot open the previously created aup3 files, I can both:
- open old projects, store them as aup3 and then successfully open the new aup3 file
- create a new project, save it as aup3 and the re-open it.

So, to summarize, all my issues are resolved with git master audacity, and local sqlite

Thanks again for your help.
 =||= Thanks timtas.  That's good to hear. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
775Scripting not working under GBK charset.imbazhang05/24/21, 07:57:38 AM"**Describe the bug**
I'm a user from China. To support Chinese in the computer system, we use the GBK charset. When running the script _docimages_all.py_, the process terminated with following information:

```
Traceback (most recent call last):
  File ""docimages_all.py"", line 31, in <module>
    exec( inner( 'tracks' ) )
  File ""<string>"", line 90, in <module>
  File ""<string>"", line 16, in track_image1and8
  File ""<string>"", line 109, in capture
  File ""<string>"", line 71, in do
  File ""<string>"", line 66, in doCommand
  File ""<string>"", line 58, in getResponse
UnicodeDecodeError: 'gbk' codec can't decode byte 0x98 in position 51: illegal multibyte sequence
```

This bug related to the unique encode style of the GBK charset.

**To Reproduce**
Steps to reproduce the behavior:
1. enable 'mod-script-pipe'
2. switch language to '简体中文' or 'Chinese(simplified)'
3. run any python script
4. See error

Since this bug may be difficult to understand for those whose primary language is not Chinese, I will try to fix it. Further information will be updated in this issue and discord channel.""There has been a known Windows issue  for Japanese, Korean and Chines with a recent Windows update.  I believe that microsoft may have issued a further update to address this. =||= But the scripting too has/will-have its own issues.
Once past the issue @imbazhang reports, I'd expect labels with surrogate pairs in them to be a particular problem.

This would be very welcome as part of a Google summer of code, which I see you are taking part in. =||= After seeing Unicode issues in Audacity and comments on Nyquist's lack 
of Unicode, I decided to ""bite the bullet"" in another language project 
and support Unicode. One thing I've learned is C and C++ probably 
adopted wide characters prematurely, and many more recent languages are 
using UTF-8 internally. Some general conclusions I've come to:

  * general text processing, if you just want to read/store/write text
    without looking at it, is simpler/faster without any conversion, and
    works pretty much like ASCII if you are really concerned about
    performance.
  * to compare strings, text must be ""normalized"" so that ligatures and
    some other interesting compound characters have a canonical
    representations. Normalized strings have to be renormalized if you
    concatenate or append them -- it's ugly.
  * Strings used as identifiers are even messier because you can have
    very similar-looking strings that compare as unequal (the surrogate
    pairs James mentions). A different form of normalization, e.g. NFKC,
    is recommended to map similar-looking strings to a canonical form to
    avoid security loopholes like creating a user-ID that looks like
    someone else, and maybe just basic sanity for variable and field
    names. You could do this for everything, but it does not preserve
    typographic details, so it seems inevitable that you have to work
    with at least 2 different kinds of normalization.

This may be old hat to everyone, but I'd be happy to share what I know 
and the code I found for UTF-8.

-Roger

On 3/28/21 1:40 PM, James Crook wrote:
>
> But the scripting too has/will-have its own issues.
> Once past the issue @imbazhang <https://github.com/imbazhang> reports, 
> I'd expect labels with surrogate pairs in them to be a particular problem.
>
> This would be very welcome as part of a Google summer of code, which I 
> see you are taking part in.
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub 
> <https://github.com/audacity/audacity/issues/775#issuecomment-808930297>, 
> or unsubscribe 
> <https://github.com/notifications/unsubscribe-auth/AALLUHD6QKTRLYXJNEWKEGTTF5ZZ7ANCNFSM4Z5IVYCQ>.
>
 =||= Roger, just to note that under Windows the wxString we use right now is UTF-16.  The surrogate pairs there are pairs of 2 byte characters that together represent one 20 bit code point.  Windows itself uses UTF-16.  We can I believe switch wxWidgets to use UTF-8 even on Windows, and that seems to me worth doing to simplify our code and keep it consistent across platforms.  Possibly worth doing at the same time as moving to 64 bit for Windows.
I learned recently that I can tell directly from the current character whether I am on the start of a code point.  I do not need to parse from the start of string.   =||= I misunderstood ""surrogate pair"" thinking it was a codepoint pair such 
as a letter plus an accent.

My take on UTF-16 is unless you restrict yourself to character sets with 
16-bit code points (we don't), you get all the pain of UTF-8 and up to 
double the memory space.

Since UTF-16 is pretty much just windows, I think it's a good idea to 
use UTF-8. For Audacity, which is not text-intensive, UTF-32 isn't 
crazy, but you still should deal with normalization and input/output to 
UTF-8, so I'm not sure it helps much.

Yes, the UTF-8 encoding is really ingenious. Unicode is still a pain, 
but maybe if I didn't ""grow up"" with ASCII, it would be routine pain 
just like memory management, stack overflow, case-sensitivity, and so 
many other gotchas.

-Roger

On 3/28/21 2:59 PM, James Crook wrote:

> Roger, just to note that under Windows the wxString we use right now 
> is UTF-16. The surrogate pairs there are pairs of 2 byte characters 
> that together represent one 20 bit code point. Windows itself uses 
> UTF-16. We can I believe switch wxWidgets to use UTF-8 even on 
> Windows, and that seems to me worth doing to simplify our code and 
> keep it consistent across platforms. Possibly worth doing at the same 
> time as moving to 64 bit for Windows.
> I learned recently that I can tell directly from the current character 
> whether I am on the start of a code point. I do not need to parse from 
> the start of string.
>
> —
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub 
> <https://github.com/audacity/audacity/issues/775#issuecomment-808942411>, 
> or unsubscribe 
> <https://github.com/notifications/unsubscribe-auth/AALLUHFB55PFLIUC6QN2PELTF6DCRANCNFSM4Z5IVYCQ>.
>
 =||= > Since this bug may be difficult to understand for those whose primary language is not Chinese, I will try to fix it. 
>Further information will be updated in this issue and discord channel.

I have also created an entry for this in our Bugzilla bugtracker:
https://bugzilla.audacityteam.org/show_bug.cgi?id=2790
Bug 2790 - Scripting not working under GBK charset

But as **imbazhang** aims to try to fix this themselves, I will also leave this GitHub Issue open, for now at least ...

 =||= @imbazhang have you manged to fix this ? =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
776Bug 2663 - Audacity can make unwanted moves of toolbarsJohnColket03/28/21, 08:16:09 AM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNBug 2663 - Audacity can make unwanted moves of toolbarsJohnColket03/28/21, 08:16:09 AM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNJohn Colket03/28/21, 12:05:32 AMBug 2663 - Audacity can make unwanted moves of toolbars1
778On hover Effect menu is not visibledev941404/08/21, 05:06:49 PM"**Describe the bug**
when hovering on the effect menu, the expanded menu hides the effect menu.

**To Reproduce**
Steps to reproduce the behavior:
1. open audacity
2. click on any menu except ""effect menu"" (i.e. file, edit, etc..)
3. now move the mouse towards effect menu/ directly hover on effect menu
4. See an error

**Expected behavior**

Expanded menu supposed to expand below effect menu so that effect menu can be visible
same as other menus
![Screenshot (175)](https://user-images.githubusercontent.com/46513305/112747917-0b486800-8fd6-11eb-92dd-540b3c3ccdb6.png)



**Screenshots**

![Screenshot (174)](https://user-images.githubusercontent.com/46513305/112747908-01bf0000-8fd6-11eb-8690-a5b1e02c9d72.png)


**Additional information (please complete the following information):**
 - OS: [Windows 10]
 - Version [Audacity 3.0.0]""And this also makes it difficult to get to the remaining menu items: Analyze, Tools, Extra, Help...

See also the comments posted under ""Divide plug-in menus further"" Enhancement Request
(#752 opened 12 days ago by SMcCandlish) and countless other posts on the forum.

Try this: Edit > Preferences > Effects > Sort or Group: Group by Publisher  (perhaps this should be set by default?)  =||= Looks like a minor bug to me - I think I will log this on Bugzilla (but this may not be today) =||= This appears to be a Wndows-only issue - I cannot reproduce this on Mac - but Mac handles its app menus separate from any app itself, handle in the Mac menu bar at the top of the screen, with only the current active app showing menus =||= I have logged this as:
Bug 2728 - Win: Effect menu overlays menu bar
https://bugzilla.audacityteam.org/show_bug.cgi?id=2728 =||= The developer who looked as this bug commented
>this is Windows doing this and there's nothing we can do to prevent it.

Accordingly I have closed 2728 as NOT-A-BUG

There are a couple of workarounds
1) In Effects preferences set the Maximum effects per group to say 10
or
2) In Effects preferences set the ""Sort or group"" to ""Group by type"" =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
779Bug 1334 - Enh: Add Warning Message if some tracks muted when exportingVishal Narnawarevishalnarnaware03/29/21, 06:42:30 PM"There are warning messages when all tracks are muted. 
However, there was no warning message if some tracks were muted.
This PR adds a warning message with ""Do not show this again"" check box.""Personally I'm not keen on this change. I think most users expect that their exported audio will sound the same as the current project state. Showing a warning, just in case a user has ""accidentally"" muted a track, seems like excessive hand-holding. =||= Yes maybe, however clicking one time on Do not show this again would not show it again.   
This little enhancement will be useful for new users who accidentally mutes and clicks on export and wonders later why some audio files are not edited/added. =||= Thanks @SteveDaulton , and thanks @vishalnarnaware .  Closed, see updated bug in bugzilla.  https://bugzilla.audacityteam.org/show_bug.cgi?id=1334 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
780Bug 2718 - improve the error message when opening a project in a read…Dmitry Vedenkocrsib03/29/21, 05:40:40 PM"Improves handling of the case when the project directory is read-only. ""Looks good.  I think the 'read only' error message might happen in some other rare cases, but those are errors that amount to the same thing in practice.

Returning the error code makes this easy to extend.

Committed.   =||= "Bug 2718 - improve the error message when opening a project in a read…Dmitry Vedenkocrsib03/29/21, 05:40:40 PMImproves handling of the case when the project directory is read-only. NaNDmitry Vedenko03/29/21, 02:45:12 PMBug 2718 - improve the error message when opening a project in a read-only directory.1
782Turkish translation updated to 3.0.1Serkan ÖNDERserkan-maker03/31/21, 06:01:45 PM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNTurkish translation updated to 3.0.1Serkan ÖNDERserkan-maker03/31/21, 06:01:45 PM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNSerkan ÖNDER03/31/21, 05:40:18 PMTurkish translation updated to 3.0.11
783Fixed the TitileJ0hnRqcker03/31/21, 09:37:13 PM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
784Internal error at DBConnection.cpp line 308 when closing audacitymonochromecmonochromec04/02/21, 07:38:42 PM"**Describe the bug**
Cf. title

**To Reproduce**
Steps to reproduce the behavior:
1. Open audacity
2. Work on a project
3. Save project
4. Close audacity and observe error

**Expected behavior**
audacity closes without error

**Screenshots**
If applicable, add screenshots to help explain your problem.

**Additional information (please complete the following information):**
 - OS: Stock Groovy with wxrc 3.1
 - Current master (3.0.0)
 - Pulse on Alsa
 - libsqlite3-dev is 3.33.0-1ubuntu0 (stock Groovy)

**Additional context**
Please let me know if you need additional information - more than happy to help!""After which audacity locks up and has to be killed. =||= 3.0.0 and the latest alpha test build I have for the upcoming 3.0.1 both close fine at your Step 4 =||= I had this issue, too, it went away after I 
- added -Daudacity_use_sqlite=local to the cmake command line
- switched to latest git master (that was at 2020-03-28)

Maybe you could try this as well?

 =||= @timtas Great - works like a charm. Thanks for the hint. @Maintainers: Perhaps this hint can be included the docs? =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
785Update Polish Translation from Transifex - 3.0.1Grzegorz PruchniakowskiGootector04/01/21, 11:34:24 AM"Update Polish Translation from Transifex - 3.0.1

Greetings,
Gootector

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
786Update Polish from TransifexGrzegorz PruchniakowskiGootector04/01/21, 02:31:10 PM"Update Polish from Transifex

Greetings,
Gootector

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNUpdate Polish from TransifexGrzegorz PruchniakowskiGootector04/01/21, 02:31:10 PM"Update Polish from Transifex

Greetings,
Gootector

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNGrzegorz Pruchniakowski04/01/21, 11:38:48 AM"Update Polish from Transifex

Update Polish from Transifex

Greetings,
Gootector"1
787Unable to parse project informationCyberRexCyberRex005/03/21, 07:52:05 AM"**Describe the bug**
Saved the project in the new aup3 format released in version 3.0.0.
However, I am unable to load it later.

**To Reproduce**
Steps to reproduce the behavior:
1. Record or edit project
2. Save as aup3 project format
3. Open project after close Audacity

**Expected behavior**
Audacity says ""Unable to parse project information.""

**Screenshots**
![image](https://user-images.githubusercontent.com/26585194/113370520-0e10d780-939f-11eb-89fd-a0a4db255597.png)

**Additional information (please complete the following information):**
 - OS: Windows 10 Build 2004 64bit
 - Version: Audacity 3.0.0 64bit
 - Language: Japanese ( I took a screenshot with English for upload to github )

**Additional context**
None in particular.""It seems that many CJK users are faced with this problem:

unable to parse project information - Audacity Forum
https://forum.audacityteam.org/viewtopic.php?t=116677 =||= I also encountered the same situation, this situation may only be reproduced on Windows systems
The language of my windows system is Chinese, I guess it may be related to the system language, but I have no evidence yet. =||= Fixed? -> https://github.com/audacity/audacity/commit/ffebbe0 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
788noise reduction in macro: false sample rate mismatch simplesalt04/03/21, 12:03:27 PM"After creating a noise sample from a file (m4a, aac, stereo, sample rate: 22.05 khz, 32-bit float), I tried to run a macro including ""noise reduction"" effect.  Every time, I get the error, ""The sample rate of the noise profile must match that of the sound to be processed.""  The sample rate (and all other codec spec details) do match.  noise profile file attached for your convenience.  Initial source file available upon request but is copyrighted so I'm not gonna publish it for everyone here.  

I notice that windows mentions a bitrate of 196kbps in the noise sample, and the source m4a reports a bitrate of 58kbps.  I created the noise sample by opening the source and deleting the non-""silence"" parts and saving with default options, including a project rate of 22050, so if the bitrate was changed, it was audacity's decision, and there's nowhere I can see to adjust it in the UI.  

The issue doesn't happen with mp3s with stereo, sample rate 24k, 32-bit float.  

File:
[1-01 noise reduction sample.zip](https://github.com/audacity/audacity/files/6250252/1-01.noise.reduction.sample.zip)

**Additional information (please complete the following information):**
 - OS: Win10
 - Version Audacity 3.0.0""The important thing is the sample rate of the audio tracks (shown in the panel on the left end of the track).
Check that the sample rate of the track that you create the noise profile from and the sample rate of the track that you are applying noise reduction to are the same.
If you require further help, please ask on the Audacity help forum. https://forum.audacityteam.org
If you are still convinced that this is a bug, please post full details, including step by step instructions to reproduce the problem, to the Audacity forum. =||= It is exactly the same - that's what the ticket said.  Please read tickets before closing them.  

![image](https://user-images.githubusercontent.com/49482082/113478496-b762d680-944e-11eb-930f-37d76bef88d3.png)
 =||= I did read the ticket before closing.
The alleged bug is not reproducible for me. To pursue this issue further will require further discussion to determine how to reproduce the problem. That's unlikely to happen here on GitHub as we use the forum for discussion. When / if we can find how to reproduce the issue, or at least confirm that it occurs for multiple users, the bug will be logged on the Audacity bug tracker for fixing. =||= here's a video of the issue.  As you can tell, even if I switch the bitrate to match the original, it still complains about the sample rate.  https://youtu.be/c-NkNl_58Iw =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
789noise reduction in macro: false sample rate mismatch simplesalt05/21/21, 01:28:33 PM"After creating a noise sample from a file (m4a, aac, stereo, sample rate: 22.05 khz, 32-bit float), I tried to run a macro including ""noise reduction"" effect.  Every time, I get the error, ""The sample rate of the noise profile must match that of the sound to be processed.""  The sample rate (and all other codec spec details) do match.  noise profile file attached for your convenience.  Initial source file available upon request but is copyrighted so I'm not gonna publish it for everyone here.  

I notice that windows mentions a bitrate of 196kbps in the noise sample, and the source m4a reports a bitrate of 58kbps.  I created the noise sample by opening the source and deleting the non-""silence"" parts and saving with default options, including a project rate of 22050, so if the bitrate was changed, it was audacity's decision, and there's nowhere I can see to adjust it in the UI.  

The issue doesn't happen with mp3s with stereo, sample rate 24k, 32-bit float.  

File:
[1-01 noise reduction sample.zip](https://github.com/audacity/audacity/files/6250252/1-01.noise.reduction.sample.zip)

**Additional information (please complete the following information):**
 - OS: Win10
 - Version Audacity 3.0.0
 
 Re-opened from bug #778 that @SteveDaulton closed in error.
 
 Response on that bug included for convenience: 
 
> [Sample rate] is exactly the same - that's what the ticket said.  Please read tickets before closing them.  
> 
> ![image](https://user-images.githubusercontent.com/49482082/113478496-b762d680-944e-11eb-930f-37d76bef88d3.png)""The issue seems to affect mp3s as well.  I was able to get around the problem by encoding with different bitrates with ffmpeg first.  I had the same issue with another set I'm trying to process, you can see here in a video capture of the problem: https://youtu.be/c-NkNl_58Iw.   =||= I cannot reproduce this on my W10 PC with 3.0.0, 3.0.2 or the latest alpha test build I have for 3.0.3

1) launch Audacity (default project rate 44100 Hz
2) Import audio file
3) change track rate to 22500
4) select the noise profile range
5) Noise Reduction => Get Noise Profile
6) Run my Macro on Project - all is does is Select All and then Noise Reduction
7) Observe:  success

Of course if I reverse steps 3 and 4 then I do get the error message as my noise sample is at 44100 Hz and my audio to be processed is at 22500 Hz - so of course there is a rate mismatch and the error message is tightly displayed.

@simplesalt  Can you please retest following my Steps to Reproduce? =||= Due to lack of response from OP and my testing as in previous comment I am going to close this issue =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
790"Fix source newlines for translation from \n to ~%"Thomas De RockerRockyTDR05/16/21, 03:03:18 PM"Thanks to @Phroneris on Transifex for noticing this
@JamesCrook "Thanks.  We are in string freeze and most translations are already in, so these will wait until later.  We will aim to get this right for 3.0.2. =||= @JamesCrook Any news to approve this pull request? =||= Tanks for the 'bump' (i,e thanks for reminding me of this pull request). =||= "Fix source newlines for translation from \n to ~%"Thomas De RockerRockyTDR05/16/21, 03:03:18 PM"Thanks to @Phroneris on Transifex for noticing this
@JamesCrook "NaNThomas De Rocker04/03/21, 06:06:50 PMUpdate label-sounds.ny1
791"Bug 2511 - Enh: Remove the ""Variable Speed: Fast / Standard"" option from MP3 dialog"Vishal Narnawarevishalnarnaware04/03/21, 07:42:38 PM"Variable Speed Standard has no advantage over Variable Speed Fast.   
Removed Variable Speed option from export MP3 dialog.
Enhancement Description:
https://bugzilla.audacityteam.org/show_bug.cgi?id=2511""Rejected.
Vishnal, you didn't bother to check basic functionality such as changing Bit Rate Mode.
mMode is now uninitialised, and yet it is used in function OnABR() and OnCBR(), causing a crash. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
792Broken links on the audacity websiteChristian WinterBeayemX09/21/21, 08:26:32 AM"Sorry to use a github issue for this but I could not find a better way to contact you devs.

There are some broken links on the audacity website.
For one link I found the correct address. 
But for the donations-link I could not find the desired site.

**Donations**

Here
```
https://www.audacityteam.org/contact/advertising-and-monetization-opportunities/
```

it points to the non-existing link:

```
https://www.audacityteam.org/donate/
```

**Contacts**

On this website
```
https://www.audacityteam.org/about/credits/ 
```

there is a link in the second line to the following address that does not work:

```
http://audacityteam.org/contact/
```

It should probably link to this address:

```
https://www.audacityteam.org/contact/
```""Thanks for the report. This is being dealt with.

Generally the best way to contact us is via the Audacity forum as that is constantly monitored across multiple time zones.
https://forum.audacityteam.org
 =||= Hi @SteveDaulton I would like to work in this issue.
How can I start?
 =||= Thanks  for the offer.
I've already fixed some of the bad links. The remaining bad links are due to redirects not working correctly, and that requires root  access to the server. Only the system administrators have that access, so we're waiting for them.

If you notice any other broken links on the website, it would be very useful if you could report them here: https://forum.audacityteam.org/viewforum.php?f=32

Steve =||= This appears to have been fixed =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
793Bug 2511 - Enh: Remove Variable Speed and make Fast default from MP3 dialogVishal Narnawarevishalnarnaware04/04/21, 12:58:12 PM"From #791 :
```
Variable Speed Standard has no advantage over Variable Speed Fast.
Removed Variable Speed option from export MP3 dialog.
Enhancement Description:
https://bugzilla.audacityteam.org/show_bug.cgi?id=2511
```
PR #791 's review made me realize that I have commented out wrong part of the code.  
So a new PR to do the same but correctly this time. 

PS: Thank you for reviewing."Thanks.  Merged. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
794git branch testDevesh KashyapKashyapdevesh04/04/21, 01:53:31 PM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
795Some additional error checking and loggingLeland Luciuslllucius04/04/21, 10:06:01 PM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNSome additional error checking and loggingLeland Luciuslllucius04/04/21, 10:06:01 PM"# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNLeland Lucius04/04/21, 07:18:05 PMSome additional error checking and logging1
799Bug2700: intermittent failure to open project database...Paul LicameliPaul-Licameli04/08/21, 06:56:07 PM"... Logging data from the wild shows that the SELECT query in
ProjectFileIO::CheckVersion() returned SQLITE_BUSY sometimes.

A plausible explanation is that the concurrently starting checkpoint thread
was sometimes creating a new connection simultaneously.

Instead, serialize the creation of the two connections in the main thread and
pass the second one ready made into the checkpoint thread.

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNBug2700: intermittent failure to open project database...Paul LicameliPaul-Licameli04/08/21, 06:56:07 PM"... Logging data from the wild shows that the SELECT query in
ProjectFileIO::CheckVersion() returned SQLITE_BUSY sometimes.

A plausible explanation is that the concurrently starting checkpoint thread
was sometimes creating a new connection simultaneously.

Instead, serialize the creation of the two connections in the main thread and
pass the second one ready made into the checkpoint thread.

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNPaul Licameli04/08/21, 04:10:27 PM"Bug2700: intermittent failure to open project database...

... Logging data from the wild shows that the SELECT query in
ProjectFileIO::CheckVersion() returned SQLITE_BUSY sometimes.

A plausible explanation is that the concurrently starting checkpoint thread
was sometimes creating a new connection simultaneously.

Instead, serialize the creation of the two connections in the main thread and
pass the second one ready made into the checkpoint thread."1
800limiter blocks on long recordingsdjbenbe04/18/21, 07:03:35 PM" - OS: Windows 10
 - Version  3.0.0

I have 1 hour recordings.
when I use the limiter it blocks.
it works for a short exposure.""This is bug that has already been fixed for the soon to be upcoming 3.0.2 (the Release Candidate RC)1 was made available for testing today.

See:  P1 Bug 2708 - Nyquist effects fail silently with One hour plus stereo 
https://bugzilla.audacityteam.org/show_bug.cgi?id=2708 =||= thank you. i would like to test this version. =||= The latest RC is here: https://www.fosshub.com/Audacity-devel.html =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
801System language display and setting language conflictJ0hnRqcker05/20/21, 10:14:45 PM"**Describe the bug**
First of all, after I compiled the software, I discovered that Audacity will display with the system language. I set the software language to **English** in the settings. Most of them can be displayed perfectly, but there are still some functions that cannot be fully displayed in the language I set. They are still displayed as system language.

**To Reproduce**
Steps to reproduce the behavior:
1. Go to 'Audacity'
2. Click on 'Generate'
3. Scroll down to 'Risset'
4. It can be found that the following three options are all displayed as system languages
  
Similarly, when I open other toolbars, I still find a mixed display of the system language and the set language. Toolbars with problems: **""Generate"", ""Effect"", ""Analyze"", ""Tools""**.

**Expected behavior**
The improvement goal is to achieve unity of language functions. All functions should be displayed in the language set by the user. (It shouldn't be a situation where multiple languages are mixed like this.)

**Screenshots**
The following screenshots take **English** and **Chinese** as examples. After setting the display language to English:
**1. Generate:**
![Generate](https://user-images.githubusercontent.com/20661419/114219409-8872c600-9962-11eb-9658-0bfd6dc92c06.png)
**2. Effect:**
![Effect](https://user-images.githubusercontent.com/20661419/114219667-dd164100-9962-11eb-9f26-07544daf29ba.png)
**3. Analyze:**
![Analyze](https://user-images.githubusercontent.com/20661419/114219839-1949a180-9963-11eb-8a9b-1af7cd9d9cd1.png)
**4. Tools:**
![Tools](https://user-images.githubusercontent.com/20661419/114219901-33837f80-9963-11eb-8780-81b4e850699a.png)


**Additional information (please complete the following information):**
 - OS: x64 Windows 10
 - Version: Audacity 3.0.1-alpha-Apr 9 2021
 - Sound: Device Realtek High Definition Audio

**Additional context**
Only the display interface is affected, and the specific functions implemented by the software are not affected.""I have seen this issue when switching to European languages then back to English. =||= Is Windows English or Chinese locale.  I.e. is default Audacity on your machine Chinese and you switch to English?

BTW there is a later version of Audacity out now 3.0.2 - and we never released a 3.0.1 we went straight from 3.0.0 to 3.0.2 so I am totally surprised that you say you were on 3.0.1.

Can you please
a) Upgrade to 3.0.2 with the EXE installation
b) accept the Reset options that occur during the upgrade an initial launch.
c) then post back and tell us if this still happens =||= > Is Windows English or Chinese locale. I.e. is default Audacity on your machine Chinese and you switch to English?
> 
> BTW there is a later version of Audacity out now 3.0.2 - and we never released a 3.0.1 we went straight from 3.0.0 to 3.0.2 so I am totally surprised that you say you were on 3.0.1.
> 
> Can you please
> a) Upgrade to 3.0.2 with the EXE installation
> b) accept the Reset options that occur during the upgrade an initial launch.
> c) then post back and tell us if this still happens

Hello Peter, 
  The defaults language of my win10 system is Chinese. I have switched the software to English. I am pretty sure that the version I am using is 3.0.1. I am a student participating in GSoC2021, this exe is after I compile the code. The screenshot is a screenshot of the software. I still encounter this problem in the latest version.

![image](https://user-images.githubusercontent.com/20661419/118501793-fdcf7480-b720-11eb-91e6-cffb79531ad9.png)

Thanks,
Junhao
 =||= You have an alpha test version of 3.0.1 - it had some bad bugs that's why we skipped it - You really need to install 3.0.2
https://www.audacityteam.org/download/windows/ =||= Hello, the problem was successfully solved in version 3.0.2.
Thanks all, Cheers! =||= Thanks for the feedback @Rqcker  - glad it got sorted, so I'll close this.

Many thanks,
Peter. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
803explain how to generate the vc_lib folderJeroenjeroenbaas05/26/21, 03:28:40 PM"This is pretty basic; just adding a step in the build.txt in order to be able to build from scratch.
See https://github.com/audacity/audacity/issues/802""The build.txt instructions were recently tested and worked OK on a machine with new Windows installation (no prior development tools, no prior audacity or wxWidgets of any kind).

Did you skip a step? For example, one of these: 
	    In Windows File Manager, right-click on ../wxWidgets/build/msw/wx_vc16.sln,
	    Select Visual Studio 2019.
	    In the solutions configurations drop-down list, change ""Debug"" to 
      ""DLL Release"",
 ====>	Then select Build > Build Solution. =||= Step 4 does indeed generate the DLLs (it creates the vc_dll folder), but not the vc_lib folder. Perhaps this can also be achieved without the nmake command and selecting a different build, but the current ""DLL Release"" doesn't produce the required vc_lib (on my machine, fresh install of the tools described in the build txt). =||= Just did a quick check, Building in VS2019 using ""Release"" instead of ""DLL Release"" also produces the vc_lib folder, so we don't need nmake, but I do think the build instruction needs amendment. This is easy to reproduce. just rename the folders to vc_lib.old / vc_dll.old and rebuild and _not_ see certain folders appear after building. =||= You are correct.  The instructions at this point need rewording.  During the next week or so, I am hoping to make some other clarifications that others have suggested.  If it would please you, I'll take a look at this as well at that time.

Do we need the vc_lib folder for either the the current Audacity Release or Debug CMake builds? =||= We have changed the way the dependencies are handled =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
804When editing an MP3 format file, deleting the selected range freezes.Deleted userghost05/21/21, 01:22:59 PM"**Describe the bug**
When editing an MP3 format file, deleting the selected range freezes.

**To Reproduce**
Steps to reproduce the behavior:
1.Import MP3 format files.
2.Deletes the selected range.
3.See error

**Expected behavior**
Software freezes

**Screenshots**
![image](https://user-images.githubusercontent.com/62015371/114358878-61a8cf80-9bae-11eb-8c28-b6a72fb020b2.png)

**Additional information:**
 - OS: Windows 10 20H2
 - Version: Audacity 3.0.0
 - Sound Device: Windows MME""Works fine for me on W10 with 3.0.0 and the latest RC02 release candidate build I have for the upcoming 3.0.2 =||= Since I can't reproduce this on my W10 PC or my Big Sur 11.2.3 Macbook Pro on 3.0.0, 3.0.2 and the latest alpha test build I have for 3.0.3
can you please provide more detailed steps to reproduce, in particular:
a) how you make the selection,
b) how you attempt to make the deletion ?

Please note that you Issue title is a little misleading as you are not actually editing an MP£ file - rather what happens when you Import it is that Audacity coverts it into its own internal 32-bit float format for working on.

@ghost -  So can I please also ask yo the repeat your deletion test with:
1) some audio that you Record.
2) some audio that you make with one of the generators in the Generate menu?

Thanks =||= In the lack of response from the OP and due to the fact that such deletions work fine on my W10 PC and my Macbook Pro with macOS 11.3.1 Big Sur I shall close this issue. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
805Windows 10.0.19042.867, Audacity 3.0.0 GUI does not respond to any input ZhongYao LuoLuoZhongYao05/17/21, 01:34:01 PM"**Describe the bug**
Open Audacity, perform some operations, click menus or buttons or use shortcut keys, it is very likely that the GUI interface does not respond to any input. Check the task manager, Audacity is not dead, right-click on the taskbar to close, Audacity will still pop up Save the modification dialog, but still does not respond to any input 

**To Reproduce**
Steps to reproduce the behavior:
1. run audacity
2. some operations, etc click menu, click buttons, use shortcut key
3. audacity don't respond any input

**Expected behavior**
Audacity works normally 

**Screenshots**
If applicable, add screenshots to help explain your problem.

**Additional information (please complete the following information):**
 - OS:Windows 10.0.19042.867
 - Version: Audacity 3.0.0

**Additional context**
It is easier to reproduce the problem by using shortcut keys ""Is anyone tracking this issue? 3.0.2 version still exists, and this problem is very bad  =||= What system language is your OS set to?  We did see problems with a bad interaction with a particular windows update (on Korean and Japanese systems). =||= > 
> 
> What system language is your OS set to? We did see problems with a bad interaction with a particular windows update (on Korean and Japanese systems).

Simplified Chinese  =||= I have transferred this issue to our Bugzilla bugtracker and thus will close this GitHub Issue in favor of that.
https://bugzilla.audacityteam.org/show_bug.cgi?id=2789
Bug 2789 - Windows: Simplified Chinese locale Audacity fails to respond  =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
812Separate playback schedulePaul LicameliPaul-Licameli05/14/21, 11:10:29 PM"   RecordingSchedule and PlaybackSchedule moved to new files...
    
    ... so that AudioIOBase is less involved with real-time playback and recording.
    
    Its responsibilities are mostly (but not yet solely) to query available audio
    devices and the rates they support.

This branch breaks some dependencies and splits some files, and is just one common step along the road to splitting AudioIO out into libraries, or to the cleanup of audio engine code that will allow better looping play or scrubbing and seeking of MIDI tracks.
""Update: added a commit to fix Windows build

 =||= "Separate playback schedulePaul LicameliPaul-Licameli05/14/21, 11:10:29 PM"   RecordingSchedule and PlaybackSchedule moved to new files...
    
    ... so that AudioIOBase is less involved with real-time playback and recording.
    
    Its responsibilities are mostly (but not yet solely) to query available audio
    devices and the rates they support.

This branch breaks some dependencies and splits some files, and is just one common step along the road to splitting AudioIO out into libraries, or to the cleanup of audio engine code that will allow better looping play or scrubbing and seeking of MIDI tracks.
"NaNPaul Licameli12/17/20, 11:23:46 AMMove RecordingSchedule, PlaybackSchedule to new files1
813Separate files for PluginRegistrationDialog...Paul LicameliPaul-Licameli06/22/21, 11:53:37 PM"
    Separate files for PluginRegistrationDialog...
    
    ... so that PluginManager can avoid using GUI""I have rebased and force-pushed, but also turned one commit into a few, I hope to make it more easily reviewable so that you can verify I made no mistakes.  See comments in each new commit.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
814CI: macOS: Unblock Xcode versionEwout ter HoevenEwoutH06/22/21, 07:10:17 AM"Unblocks the Xcode version in the macOS CI build, since the default is now 12.4.

Practically reverts ef88cb17 now that the GitHub environment was updated, as was intended."Looks like a conflict needs to be resolved, but excited that this is one step closer to apple silicon support! =||= Done! =||= Looks like another conflict cropped up 👀 =||= This PR is nothing more than removing a line of code, so I’m closing it for now. A maintainer can easily make this change when he has time himself. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
815Update pl.po from Transifex - fixesGrzegorz PruchniakowskiGootector04/20/21, 08:09:22 AM"Update pl.po from Transifex - fixes

Greetings,
Gootector

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "Thank you. =||= Update pl.po from Transifex - fixesGrzegorz PruchniakowskiGootector04/20/21, 08:09:22 AM"Update pl.po from Transifex - fixes

Greetings,
Gootector

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNGrzegorz Pruchniakowski04/20/21, 06:16:35 AM"Update pl.po from Transifex - fixes

Update pl.po from Transifex - fixes

Greetings,
Gootector"1
818Fix function declaration in mod-script-pipeIan McInerneyimciner204/23/21, 08:12:30 AMIt was defined as taking a size_t paramater when it was written, so the declarations used to call it should also use a size_t parameter to ensure the call is correct.NaNFix function declaration in mod-script-pipeIan McInerneyimciner204/23/21, 08:12:30 AMIt was defined as taking a size_t paramater when it was written, so the declarations used to call it should also use a size_t parameter to ensure the call is correct.NaNIan McInerney04/22/21, 01:07:12 PM"Ensure declaration of function matches its definition

It was defined as taking a size_t paramater when it was written,
so the declarations used to call it should also use a size_t parameter
to ensure the call is correct."1
820JACK detection broken on Linux in release 3.0.2Eric Hameleersalienbob05/13/21, 06:48:20 PM"Commit https://github.com/audacity/audacity/commit/5b4cd040ebdddc943925990819ff5de6fa52d729#diff-033fedc31a5937995b8e216fecda6fe78dff2b94b39ff68d68322a9bfb2875d3 was meant to fix building on Windows but the change of 'find_package( Jack )' to 'find_package( jack )' breaks the build on Linux.
While configuring portaudio, JACK will no longer be detected and the resulting audacity binary does not have support for JACK audio,

When I revert that change in ./cmake-proxies/portaudio-v19/CMakeLists.txt (changing 'jack' to 'Jack') the resulting binary does again offer ""Jack Audio Connection Kit"" next to ""ALSA"" in the Audio Host dropdown.""Triaged to Bugzilla as a P2 bug, and DEVEL-FIX-MADE there.
https://bugzilla.audacityteam.org/show_bug.cgi?id=2758

Closing here, as we track it there rather than in multiple places.  Cross reference added. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
821Project Save / Project Export doesn't worksh-si04/26/21, 06:52:00 PM"**General Information**
I've used audacity in the past for several years. I just installed Audacity 3.0.2 on a Windows10 pro 64bit German edition Thinkpad. Audacity was never installed on that machine before.

**Describe the bug**
I'm not able to save any project. Even Export as MP3 doesn't work.

**To Reproduce**
Steps to reproduce the behavior:
1. Open Audacity
2. Import Audio
3. Load existing MP3 sequence file 405 KB
4. Save as Project 
5. Save as window appears
6. open target folder 
7. set save filename (without blanks in it) test.aup3
8. hit save
6. Project can't be saved due to not existing file... 🙄

**Expected behavior**
I can save the aup3 project even from an existing mp3 import sequence.

**Screenshots**
See https://forum.audacityteam.org/viewtopic.php?f=46&t=111271&p=396343&hilit=save+project+win10#p396343
It's the eaxctly same behavior as mentioned inside this forum post.

**Additional information (please complete the following information):**
 - OS: Windows 10 64bit pro german
 - Version 3.0.2
 - Sound Device Windows WASAPI

**Additional context**
- I did not try to save the project inside a network folder
- i tried to save it inside the documents folder (without blanks inside the path)
- you can try save project OR save project as - same behavior

Any help appreciated!

Thanks,
Stefan""Just checked the Audacity protocol and realized a little popup in the lower right corner of my desktop: ""Virus & Trust Protection in Windows Security""

The access was blocked from windows itself while save any file from audacity.exe.
I adjusted the setting and everything is working again! =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
822Bug2759Paul LicameliPaul-Licameli05/02/21, 12:24:00 AM"Bug2759: A failed macro command should not leave vacuous undo item"Looks fine to me...merging =||= Bug2759Paul LicameliPaul-Licameli05/02/21, 12:24:00 AMBug2759: A failed macro command should not leave vacuous undo itemNaNPaul Licameli04/29/21, 01:41:13 PMBug2759: A failed macro command should not leave vacuous undo item1
824Update pl.po from Transifex - fixGrzegorz PruchniakowskiGootector04/30/21, 08:16:53 PM"Update pl.po from Transifex - fix

Greetings,
Gootector

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNUpdate pl.po from Transifex - fixGrzegorz PruchniakowskiGootector04/30/21, 08:16:53 PM"Update pl.po from Transifex - fix

Greetings,
Gootector

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNGrzegorz Pruchniakowski04/30/21, 08:12:27 PM"Update pl.po from Transifex - fix

Update pl.po from Transifex - fix

Greetings,
Gootector"1
826Clarify Windows build.txtDaan Michielsdaanmichiels06/16/21, 04:41:04 PM"Fix typo in wxWidgets DLL name, and clarify release vs debug build.
Fix a typo in the toolset."Thank you.  I was going to do this - you saved me the trouble. :) =||= The build process has changed, build.txt is removed now =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
828Bug 2750 export multiple default metadataJohnColket05/03/21, 12:03:44 AM"Bug 2750 - Export Multiple substitutes default metadata for user-entered metadata 

Well, this was a cherry pick if I've ever seen one.  One might think it was deliberately designed to take the defaults."NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
830Color scheme for spectrogramMyungchul Keumdofuuz06/15/21, 04:41:44 PM"I made a post for this PR:
https://forum.audacityteam.org/viewtopic.php?f=20&t=117875

Same content, but with code for generating the colormap:
https://github.com/dofuuz/audacity-colormap

![proposal](https://user-images.githubusercontent.com/8174871/116871743-b42a5880-ac4f-11eb-8777-8423c9ced85f.png)

![color-scheme](https://user-images.githubusercontent.com/8174871/116871759-bbe9fd00-ac4f-11eb-9a0d-7807776d37de.png)""We're still interested in this proposal.

Please see more discussion at the Audacity Forum.
 =||= @Paul-Licameli
Rebased commit at recent upstream master branch.

TBH, I'm not fully satisfied with CLA.
But I belive that commercial profit and support can boost imporvement on OSS.
So I signed at the CLA anyway.

I just wish Audacity would remain free, open and be **much greater** than now. 😀 =||= > @Paul-Licameli
> Rebased commit at recent upstream master branch.
> 
> TBH, I'm not fully satisfied with CLA.
> But I belive that commercial profit and support can boost imporvement on OSS.
> So I signed at the CLA anyway.
> 
> I just wish Audacity would remain free, open and be **much greater** than now. 😀

As for that, I share those hopes.

I not only hope so, I expect so, from what I know.

Though that is on the understanding that code of the Audacity audio editor ""remaining free"" is consistent with the possibility of a dual sub-licensing of parts of it that the CLA leaves open.
 =||= @Paul-Licameli Ping =||= I have not forgotten this!  I will write more today.
 =||= I just tested on W10 with dofuuz's latest build and I see that we now have the changed color descriptions in Spectrogram Preferences as we discussed.  Thanks for sorting that.
![image](https://user-images.githubusercontent.com/50205984/121699753-7f6fb380-cacf-11eb-9826-6d0af883401c.png)
 =||= I tested with pure Spectrogram and with Multi-view dor the new and alternative colorways =||= Thanks, Peter.  Did you also observe the changes in Set Track Visuals?  A choice replaces what was only a checkbox for grayscale.
 =||= Paul, I assume you mean from the TCp - in which case yes, I have been playing with that too and all looks fine.
 =||= > Paul, I assume you mean from the TCp - in which case yes, I have been playing with that too and all looks fine.

No, I refer to one of the Macro commands.  See #969 
 =||= I'm pleased with these changes to address my points.  Each commit builds.

I am satisfied too now with changes in AColor.cpp.  (I might suggest that the names in AColorResources.h could be made static, to have no linkage and spare a little space in symbol tables.)

But I do not want the change in Experimental.h.  It leaves no visual indication of sync lock in a spectrogram.  If you think this change is very important, than I think some alternative solution should be sought.  The sync lock tiles might be painted more than once (as they are in Waveform view).  They might be repainted last, with transparency.  Perhaps you fill follow up this implementation suggestion.

So to summarize:   please rebase onto most master, and omit the change to Experimental.cmake.  Then I will approve it and merge it!

 =||= Removing transparency from spectrogram is important fix! Without the change, new colormap gonna lose its power.
I'll find if there are easy and nice fix for this situation... =||= > But I do not want the change in Experimental.h. It leaves no visual indication of sync lock in a spectrogram. If you think this change is very important, than I think some alternative solution should be sought. The sync lock tiles might be painted more than once (as they are in Waveform view). They might be repainted last, with transparency. Perhaps you fill follow up this implementation suggestion.


But even in current Audacity there is very poor visual indication of sync-lock in a spectrogram ...

The example image below was made with 3.0.2
![image](https://user-images.githubusercontent.com/50205984/122001420-9c96d180-cdb0-11eb-9025-2538e946b4c3.png)

This image flatters the real-life situation
a) It is (at least) double real-life size - much harder to see in Audacity on-screen
b) I deliberately greatly reduced the amplitude of the left half of the selction, note that in the right half of the selection in the spectrogarm track the clocks are barely visible at all.

I thought we had a Bugzilla entry for this, but I can't find it.  Maybe we should be logging one ...
 =||= >I thought we had a Bugzilla entry for this, but I can't find it. Maybe we should be logging one ...

I logged this as P3 Bug #2806
https://bugzilla.audacityteam.org/show_bug.cgi?id=2806
Spectrogram view has poor/inadequate visual cues to show Sync-lock selection

And remember that this is not a result of the new Spectrogram colorway - it's always been like this. =||= > Removing transparency from spectrogram is important fix! Without the change, new colormap gonna lose its power.
> I'll find if there are easy and nice fix for this situation...

As your branch is now, there is no indication at all of sync lock, rather than the existing one, poor though that might be.

Why do you think removing transparency of the spectrogram is very important?  In my own trials building your branch,  I did not think it looked bad either with or without it.

Would you consider merging the branch with transparency, but opening an issue to correct the problems?

I see your example in ""Obstacles."" https://forum.audacityteam.org/viewtopic.php?f=20&t=117875#p424607

 =||= I don't think that losing the Sync-Lock ""clocks"" in spectrogram view is a problem. Even with ""classic"" spectrogram view they are barely visible with real world audio, and imo they are little more than visual clutter when they are. Waveform view, or multi-view are far better suited to temporal editing. I'd rather have a clearer view of the spectrogram in track spectrogram view than overlaid information that is irrelevant to ""spectral"" editing. =||= ![synclock](https://user-images.githubusercontent.com/8174871/122051527-a99ed980-ce1f-11eb-8d73-1d8415d95ac8.jpg)
↑ New color with `SPECTROGRAM_OVERLAY` transparency. Clock background on 4th track is almost not visible.

Transparency makes the visual totally different from what I intended(accurate and pretty).
Background becomes brighter than some of foreground. There are some grain around black which should not appear. It means loss of accuracy.
Overall color becomes desaturated. Not pretty.

Bringing clock overlay on top of spectrogram [like this](https://user-images.githubusercontent.com/8174871/122054382-96d9d400-ce22-11eb-9890-a7db4d253904.jpg) might be the fix. 
But basically I have same opinion with @SteveDaulton. =||= If we want to keep the clocks but also make spectrogram non-transparent, then I think a solution is to draw the clocks with transparency, not the track, and paint the clocks later.

If we lose all of the clocks in spectral view, arguably that's a regression.  But maybe Steve and Peter would agree not to treat it as such.

Are there examples of clocks on the spectrogram in the manual?  If so they would be one more thing to change in manual images.

I think the objection that clocks are clutter for spectral editing is irrelevant.  The track that you do interact with, for spectral editing, never shows the clocks.  The clocks indicate what part of another track will be affected, if the track you do interact with changes its length with insertion or deletion.  Spectral editing doesn't do that, but other edits do.



 =||= > Bringing clock overlay on top of spectrogram [like this](https://user-images.githubusercontent.com/8174871/122054382-96d9d400-ce22-11eb-9890-a7db4d253904.jpg) might be the fix.
> But basically I have same opinion with @SteveDaulton.

How did you do that ""like this"" picture?  Did you change Audacity source code to do it?
 =||= > How did you do that ""like this"" picture? Did you change Audacity source code to do it?

No. I used image editor. =||= > If we lose all of the clocks in spectral view, arguably that's a regression. But maybe Steve and Peter would agree not to treat it as such.

It's not really our call any more - But I would certainly be happy with the way it si now with the closcks invisible on the spectrogram (I agree with Steve's views above that  
a) they've been largely unvisible on Soectrograms anyway and 
b) other views are better for temporal editing)

So if MUSE QA and RM agree (Dmitry, Martin, Jouni) I would vote for this - and this would then let me close P3 Bug 2806.

As far as I can recall no user has ever complained about the clocks on Spectrograms - porr visibiliy of or lack thereof.
 =||= I would leave bug 2806 open.  But we need to get a release out very soon, and these new colors will be a banner feature, and I don't want this detail to block it.

Maybe Myungchul will even write the fix easily.  I outlined how we might to do it.  Repaint the clocks, after the spectrum, making the clocks the transparency.

 =||= ![image](https://user-images.githubusercontent.com/8174871/122081263-ed9ed800-ce39-11eb-99a4-09727c22429f.png)
↑ In development screenshot, Left: Light theme, Right: Dark theme

Fortunately, It seems like the fix is not hard to implement.
I'll push commit after some cleanup in couple of days. For now, I have to sleep😴

To adjust color and transparency of clock overlay, we need to edit theme image. I won't do this.
I think the clock should be gray, 50% transparent. =||= Thanks for trying the clocks dofuuz, but from a user perspective I would much prefer to NOT have the clocks.

When using track spectrogram view and Sync-Lock, I would have to temporarily turn off Sync-Lock to remove the distraction of the clocks. That's more work for the user, and a needless distraction from their workflow. The user can already see if Sync-Lock is on by looking for the clock in the control panel on the left hand end of the track - which is how users have had to work (with zero complaints) when using the ""classic"" spectrogram color scheme.

With QA hat on, usability trumps consistency. Now that I can see what it looks like with the new color scheme + clocks (thank you), I would say that it is significantly worse than not having the clocks showing in spectrograms.

Steve =||= Thank you, Steve.

You have a strong opinion about the clocks.  I do NOT have a strong opinion about them -- which is why I brought the matter up:  in the absence of strong opinions, the presumption should be conservatism about the application's behavior, changing only what one needs to change for the really new feature.

In this case, hiding the clocks was not the intention of the feature, but a side-effect of trying to achieve something else, the non-transparency that improved spectrogram appearance.

However, given your remarks now,  I find no reason left to delay the merger of this pull request.  If someone really wants to overrule the elimination of the clocks, let them raise an issue.


 =||= Merged!

The residual issue about the clocks -- if anyone insists on keeping them -- is already at: https://bugzilla.audacityteam.org/show_bug.cgi?id=2806
 =||= Great😆
We can implement sync-lock overlay later, if there are anyone complain about it. =||= dofuuz, do you wish to be listed in the Credits dialog of the next version?  If so, how exactly should we spell your name?  (In Hangul too if you like.)
 =||= @Paul-Licameli 
Yes. List me as
Myungchul Keum
Thanks😆 =||= I have updated the Website Credits page adding Keum to the ""Contributors""
https://www.audacityteam.org/about/credits/

I cannot update the in-app credits.

Thanks for your work on this Keum/dofuuz   😆 =||= Please help, we want to be sure that it is correct to alphabetize that under K and not M!
 =||= Keum is my family name. =||= Thanks for that clarification dofuuz ( Myungchul)  - I have adjusted that ordering in the Website credits:
https://www.audacityteam.org/about/credits/

Th latest 3/.0.3 alpha already has the correct alphabetic ordering.

Peter.

 =||= "Color scheme for spectrogramMyungchul Keumdofuuz06/15/21, 04:41:44 PM"I made a post for this PR:
https://forum.audacityteam.org/viewtopic.php?f=20&t=117875

Same content, but with code for generating the colormap:
https://github.com/dofuuz/audacity-colormap

![proposal](https://user-images.githubusercontent.com/8174871/116871743-b42a5880-ac4f-11eb-8777-8423c9ced85f.png)

![color-scheme](https://user-images.githubusercontent.com/8174871/116871759-bbe9fd00-ac4f-11eb-9a0d-7807776d37de.png)"NaNdofuuz06/11/21, 02:59:50 AMChanges to Spectrogram color scheme user-visible strings because of string freeze1
833Update pl.po from TransifexGrzegorz PruchniakowskiGootector05/04/21, 09:15:51 AM"Update pl.po from Transifex
A lot of improvements

Greetings,
Gootector

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "Thank you very much for this. =||= Update pl.po from TransifexGrzegorz PruchniakowskiGootector05/04/21, 09:15:51 AM"Update pl.po from Transifex
A lot of improvements

Greetings,
Gootector

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNGrzegorz Pruchniakowski05/04/21, 09:04:29 AM"Update pl.po from Transifex

Update pl.po from Transifex
A lot of improvements

Greetings,
Gootector"1
834Different GUI candidates, possible proaudio-orientednick87720z05/11/21, 03:50:26 PM"**Related problems**
- WxWidgets itself is rather meta-gui, using other system GUI with different look. Not all devs like that. At least some apps, like Carla by falktx and MuseScore installers include own qt engine (with so called 'pro' style, both in dark and light versions) to unify look. Also (may be just opinion to me), that it makes impossible or ugly some solutions, easily doable at Qt and GTK.
- Another issue is with GTK itself, used as backend in linux. GTK is not more independent of gnome. It's not more secret that gnome is not interested in gtk usage outside of gnome.
- Qt... well, both Qt and GTK are somewhat heavy for resource usage. And that's not just opinion from internet, at least my opinion matches to that.
- JUCE - perhaps it's technically nice, but I remember there were some hidden telemetry, and some reliability issues with developer.

**Solution**
There is at least one proaudio-oriented gui toolkit. RobTK by x42 (Robin Gareus) is used for its own plugins, many of which are cross-platform and compile not only as lv2 plugins, but also as standalone apps. Which means for me,  robtk is not restricted for lv2 plugins only. RobTK uses pugl (opengl canvas by David Robillard, initially created for patchbays). I still don't know, if it involves gtk runtime ever though, so I certainly have to try it my self.

**Alternatives**
Another alternative could be NTK, which is forked from fltk but using cairo. As far as I know, NTK was first used in non stuff, then utilized in zynaddsubfx. Other uses are unknown to me. I'm not sure though, how good is it comparing to robtk - as it supports opengl, but only for custom, explicit use

**Additional context**
This paragraph could be im problems list too, but imho too big.
I found mentions of some destructive activities, originating from gnome since gnome3, and now paralysing all the freedesktop part (it's not secret that gnome and freedesktop have same benefactors, and fd standards are mostly tuned for gnome needs) - mentioning of some issues may be cause for ban (like overengineering problem). Of course I have seen little of this, but from what I see in gtk - slow removal of low-level style control API (below css), inability to disable double buffering in windows. Moving to complete alternative could bye some time until fd is either stabilized, contained or purged.
Even for writing own gui from scratch - there are cross-desktop windowing toolkits, like sdl, glut and gdk.""I am gonna go ahead and ask this one be closed.

The OP seems to be under the misconception that the needs of ""pro audio"" applications are sufficiently different from other GUI's that they need their own framework. This is naive, as there is little difference between the rendering pathway of an audio application and any other GUI. 

The OP also seems to be requesting that the UI toolkit used be changed to allow it to be ""prettier"", without recognizing that most of the application would need to be rewritten from the ground up, and that changing toolkit does not automatically fix the problem of how the application looks. 

The OP also seems to conflate stand alone applications and plugins several times in their post, which have very different requirements for rendering. Namely plugins are provided a restricted rendering context from their host, meanwhile standalone applications are provided no rendering context at all and need to figure out how to create a window on the system themselves.

Formal Request for closure. =||= Playing extrasence,  oohhkaaayyy...

> The OP seems to be under the misconception that the needs of ""pro audio"" applications are sufficiently different from other GUI's that they need their own framework.

Incorrect.
I would gladly prefer such toolkits for any other apps as well :) Its just application issue, making higher requirements for them.

> The OP also seems to be requesting that the UI toolkit used be changed to allow it to be ""prettier"", without recognizing that most of the application would need to be rewritten from the ground up, and that changing toolkit does not automatically fix the problem of how the application looks.

Missed.
Look is not reason:  it's not problem to reproduce x42, kokkinizitta, blender of whatever-you-like look-and-feel in gtk/qt css.

> The OP also seems to conflate stand alone applications and plugins several times in their post, which have very different requirements for rendering. Namely plugins are provided a restricted rendering context from their host, meanwhile standalone applications are provided no rendering context at all and need to figure out how to create a window on the system themselves.

ERR: x42-plugins do standalone well.
Bigger application scale only emphasizes requirements for GUI toolkits.
It's smaller/simpler UI's, where performance issues are hard to notice.

NTK is just modified FLTK, in ZynAddSubFX it has very complex layouts - enough hard to be proposed everywhere, not just proaudio.

Correction: I would exclude RobTK proposal until I'm sure it got some standard dialogs and enough widget diversity for wide use. Perhaps Nuklear, also based on PuGL, could concur it.

One more reason for this issue:
I proposed this all after got news about audacity movement to Muse group, which I assumed means rewrite in qt. =||= I mean you raise some interesting points. If NTK is so similar have you considered swapping the build deps over and replacing the includes?

You idea would be a lot more compelling if you were coming across with even a partially working proof of concept. Would really help get a handle on what your ideas will help fix, and what extra work is needed. =||= Maybe we should write a new audio editor in Rust and QML :laughing:  =||= Unless its planned to anyway rewrite at something other than wxWidgets, my proposal would make no sence.

> Maybe we should write a new audio editor in Rust and QML

That's case, for which I wrote it. Above rewrite could fall is same category as WIP cinelerra-gg rewrite to gtk, called Luimia.
I forget one thing, btw. Many devs are upgrading their gui for direct wayland support. If this is imporant, than list of possible candidades may seriously shrink, excluding even NTK. Otherwise I could propose one more candidade - cinelerra-gg gui.

I guess, no need to present what cinelerra-gg is. If complete rewrite is ever considered, cinelerra could be just used for base, getting audacity-specific features - anyway yeah, it would be something completely new. I wish I could ever join this party before its obsolete. =||= > Maybe we should write a new audio editor in Rust and QML laughing

I would vote for Rust and GTK. Qt's open source future is sorta on the rocks atm =||= This is a feature request to use NTK or RobTK.  Any porting effort to a new toolkit is a big step, and realistically will actually be decided by Muse.  Realistically Muse porting to Rust (great though Rust is) or NTK or RobTK is extremely extremely unlikely, so keeping this issue open is no use at all in progressing Audacity, so I am closing it.

Aside: @IGBC Yep, Qt's open source future is sort of dodgy at the moment.  

  =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
835Basic telemetry for the AudacityDmitry Vedenkocrsib05/09/21, 08:27:00 PM"Please, see our response:

https://github.com/audacity/audacity/discussions/889

---

Dear all,

Due to the large amount of worry about this PR, (which we completely understand), we want to clarify exactly what is going on:

1. Telemetry is **strictly optional and disabled by default**. No data is shared unless you choose to opt-in and enable telemetry.
2. Telemetry only works in the builds made by GitHub CI from the official repo (the telemetry URLs are only defined there). 
3. If you are compiling Audacity from source, we will provide a CMake option to enable the telemetry code. This option will be turned **off** by default.

![image](https://user-images.githubusercontent.com/2660628/117440186-6312b100-af3c-11eb-884e-3db660a0cc1f.png)

**Why have telemetry at all?**

Essentially, it’s to help us to identify product issues early:

1. Audacity is widely used across several platforms, but we have no information on the application stability.
2. It is difficult for us to estimate the size of the user base accurately.
3. We need a way to make informed decisions about which OS versions to support. For example, can we raise the minimum version of the macOS to 10.10 to update the wxWidgets to the latest version?
4. We have a known issue with the new file format introduced in Audacity 3.0. We found it with the great help of the community members on our forum. However, there is no way for us to estimate the impact of these issues on users. Is it just a random case? Do we need to rush the work on the recovery tool or help the users one by one? Or do we need to rethink the file format to make it safer and more easily recoverable?

Regarding the concerns about the choice of providers:

1. We do not incorporate cross-site tracking, limiting the ability to identify the user by both Google and Yandex.
2. Yandex would only receive the “application opened” event to help us estimate the size of the user base.
3. Google would only receive:	
    a. Session start and end events;
    b. Errors for debugging;
    c. File formats used for import and export;
    d. OS and Audacity versions;
    e. Use of effects, generators, and analysis tools to prioritize future improvements;
4. We will consider replacing Google and Yandex with another service if we find one that fulfills our requirements - thanks for the suggestions and keep them coming.


Just to reiterate, **telemetry is completely optional and disabled by default**. We will try to make it as clear as possible exactly what data is collected if the user chooses to opt-in and enable telemetry. We will consider adding the fine-grained controls that some of you have asked for.

---

Also:

To address the concerns about use of private library versions, the largest part of this pull request is a networking layer built on top of **libcurl**. This library is chosen as it is an industry-standard for cross-platform networking. It is exceptionally tested and reviewed by industry experts. The layer on top of it, aka `lib-network-manager` meant to simplify the development of future features. **libcurl** is used without any patches. It is possible to use the system-provided version of the library available on the Linux distributions, and we will double-check that this works as expected.

---

Original PR description:

This request provides the basic telemetry for Audacity.

To implement the network layer libcurl is used to avoid issues with the built-in networking of the wxWidgets.

Universal Google Analytics is used to track the following events:

* Session start and end
* Errors, including errors from the sqlite3 engine, as we need to debug corruption issues reported on the Audacity forum
* Usage of effects, sound generators, analysis tools, so we can prioritize future improvements.
* Usage of file formats for import and export
* OS and Audacity versions

To identify sessions we use a UUID, which is generated and stored on the client machine.

We use Yandex Metrica to be able to correctly estimate the daily active users correctly. We have to use the second service as Google Analytics is known to have some really tight quotas.

Both services also record the IP the request is coming from. 

Telemetry collection is optional and configurable at any time. In case of data sharing is disabled - all calls to the telemetry Report* functions are no-op.

Additionally, this pull request comes with a set of libraries to help the future efforts on Audacity.

""VERSION was renamed to VERSION-* due to issues with the XCode 12.5.

The same reason stands for raising minSDKVersion on macOS to 10.9 =||= New libs need COPYING files (or equivalent) to state their license.
New libs need to be listed with their licenses in the top level README.txt file. =||= > New libs need COPYING files (or equivalent) to state their license.

ThreadPool has COPYING, libcurl is downloaded in a similar way to the wxWidgets.

> New libs need to be listed with their licenses in the top level README.txt file.

Both libraries are now added to REAMDE.txt
 =||= What's the status on lib-string-utils, lib-uuid, lib-timer, lib-telemetry Dmitry?

E.g. if they are entirely ours, are they ""GPL2 or later"" or MIT or something else?  Maybe that just needs a comment in README.txt to say that /libraries is under same license as /src ?

Separately, now assuming these are all ours, the class files will need the /****  and \class \brief style of doxygen comments, so that doxygen https://doxy.audacityteam.org/annotated.html will include these classes.  Probably the doxygen .dox.in file needs to be updated to include /libraries too. =||= > E.g. if they are entirely ours, are they ""GPL2 or later"" or MIT or something else? Maybe that just needs a comment in README.txt to say that /libraries is under same license as /src ?

Will do. The list of internal libraries will be further extended as part of @Paul-Licameli future work.

> Separately, now assuming these are all ours, the class files will need the /**** and \class \brief style of doxygen comments

Sure, no problem.

 =||= > New libs need COPYING files (or equivalent) to state their license.
> New libs need to be listed with their licenses in the top level README.txt file.

Is this also pertinent to pull request #836 ? https://github.com/audacity/audacity/pull/836
 =||= I'm trying to verify that each commit in the sequence is buildable for me, on my MacBook at least.  I fail at the first one:

echo ""Performing update step for 'curl'""
Performing update step for 'curl'
cd /Users/paullicameli/GitHub/audacity/build/cmake-proxies/libcurl/libcurl/src/curl && /Applications/CMake.app/Contents/bin/cmake -P /Users/paullicameli/GitHub/audacity/build/cmake-proxies/libcurl/libcurl/tmp/curl-gitupdate.cmake
echo ""Performing configure step for 'curl'""
Performing configure step for 'curl'
cd /Users/paullicameli/GitHub/audacity/build/cmake-proxies/libcurl/libcurl/src/curl-build && /Applications/CMake.app/Contents/bin/cmake -DCMAKE_INSTALL_PREFIX=/Users/paullicameli/GitHub/audacity/build/cmake-proxies/libcurl/libcurl -DHTTP_ONLY=On -DBUILD_CURL_EXE=Off -DCMAKE_USE_SECTRANSP=On -GXcode /Users/paullicameli/GitHub/audacity/build/cmake-proxies/libcurl/libcurl/src/curl
-- The C compiler identification is AppleClang 12.0.0.12000032
CMake Error at CMakeLists.txt:48 (project):
  No CMAKE_C_COMPILER could be found.



-- Configuring incomplete, errors occurred!
See also ""/Users/paullicameli/GitHub/audacity/build/cmake-proxies/libcurl/libcurl/src/curl-build/CMakeFiles/CMakeOutput.log"".
make: *** [/Users/paullicameli/GitHub/audacity/build/cmake-proxies/libcurl/libcurl/src/curl-stamp/Debug/curl-configure] Error 1
Command /bin/sh failed with exit code 2
 =||= The commit dc7c7368f7bb9e40772cae271648edc8607ec254 ""Fixes XCode 12.5 build"" still doesn't fix my build.  I'm using XCode 12.4 and macOS 10.15.6.  Are you increasing the minimum needed for builds?

If this commit ""Fixes"" the build, that suggests to me that not all of the previous commits were buildable for you even on 12.5.  Can you permute this list of commits so that each step is sure to build and run?
 =||= > If this commit ""Fixes"" the build, that suggests to me that not all of the previous commits were buildable for you even on 12.5. Can you permute this list of commits so that each step is sure to build and run?

Only XCode 12.5 was broken, 12.4 worked fine, as obviously 12.3 does (as build succeeds on CI). 

12.5, however, won't be able to build Audacity master as well.  

I'm not sure if force push will be a great idea now, as Anton has already started working from this branch. However, if you are worried about bisect in the future - we can do a squash merge. This will be less time-consuming and much safer.

Can you please post the full error? From the CMakeOutput.log? I'm not able to reproduce it with the clean build and everything builds fine with GitHub Actions. Usually, `No CMAKE_C_COMPILER could be found` means some environmental problems.

 =||= I think some interactive rebasing to simply this commit history would be useful.

As I have said, don't squash everything into a big commit, rather, do leave logical steps of the project in place for easier review and possibly later bisection for debugging.  But don't leave a record of mistakes and corrections made during development.  Squash the small corrections.

What requires the macOS deployment target minimum to increase from 10.7 to 10.9?  If the XCode minimum to build also increases, then what is forcing that?  Explain these things prominently in commit comments.

You introduce the libraries folder, which I also want to do in my misc-modules branch.  Are we agreed that:  each sub-folder of libraries builds one library, which Audacity depends on?  Each of these is (for now) shared?  (Though I might in future want to make certain of them static instead.)  Where should the compiled libraries be copied?  (In my branch they simply go into the folder with the executable file.)

And the code in libraries is always ""ours"", whereas anything in lib-src is only third-party code plus only small patches of ours that we must apply.  Yes?

About white space preferences,  I don't want to expend much time on those, but I do find it a little odd to see a space between a function name and the left parenthesis.  I prefer to leave the space before the parenthesis only for if, for, and while.




 =||= > I think some interactive rebasing to simply this commit history would be useful.
> 

At this point, force-pushing will break the day for another developer. Rebasing into a fully compilable and runnable set of commits will be very time-consuming. So if you are concerned about bisecting the master - we can squash the request or create a merge commit.

> What requires the macOS deployment target minimum to increase from 10.7 to 10.9? If the XCode minimum to build also increases, then what is forcing that? Explain these things prominently in commit comments.

If we want to support developers running newer XCode versions and/or M1 hardware - we need to increase the target, because compiling for 10.7 and 10.8 is no longer supported. It is possible to take the Xcode version and host system into account and configure it on this basis if we think that is critical to stay on 10.7, but I recall you wanted to raise min SDK version as well.
 
> You introduce the libraries folder, which I also want to do in my misc-modules branch. Are we agreed that: each sub-folder of libraries builds one library, which Audacity depends on? 

Yes.

> Each of these is (for now) shared? 

Yes.

> Where should the compiled libraries be copied? (In my branch they simply go into the folder with the executable file.)

This is system-dependent. Currently, on macOS, they will be placed into the Frameworks directory.

> And the code in libraries is always ""ours"", whereas anything in lib-src is only third-party code plus only small patches of ours that we must apply. Yes?

Yes.


**Just to clarify the situation with XCode 12.5:**

It was released last week (Apr 26) and breaks the Audacity build. There are two major issues: 

1. Looks like we cant compile for 10.7 anymore
2. We need to force CMake to use the legacy build system.

 =||= > > I think some interactive rebasing to simply this commit history would be useful.
> 
> At this point, force-pushing will break the day for another developer. Rebasing into a fully compilable and runnable set of commits will be very time-consuming. So if you are concerned about bisecting the master - we can squash the request or create a merge commit.

I think what I suggested is a good rule for topic branches that are the work of one person.  I do this sort of interactive rebasing of my own work in progress often, and I don't find it very time consuming.  But collaboration with someone else does make force pushes difficult, that is true.

> 
> > What requires the macOS deployment target minimum to increase from 10.7 to 10.9? If the XCode minimum to build also increases, then what is forcing that? Explain these things prominently in commit comments.
> 
> If we want to support developers running newer XCode versions and/or M1 hardware - we need to increase the target, because compiling for 10.7 and 10.8 is no longer supported. It is possible to take the Xcode version and host system into account and configure it on this basis if we think that is critical to stay on 10.7, but I recall you wanted to raise min SDK version as well.

I'd like to use C++17.  You say developing on M1 also requires it.

The increase of the minimum supported version is not strictly necessary, though, to make telemetry work in the product.  Is that right?

So it's still not strictly needed to abandon 10.7 and 10.8 for that reason.  Still I hope that affects only a small minority of users.

 =||= > and I don't find it very time consuming

Rebasing is quick and fun :-) But in this case, it will be more of `git reset --soft` and then checking every commit against the CI. I hope that in the future we won't have the feature branches of this size. Strictly speaking - this branch should be divided into like 5 different branches merged one by one, each for a library. The problem, however, that `lib-telemetry` is the main consumer of the functionality included in the other libraries now.

> Is that right?

That's right. I can implement a set of checks in the CMake that will set the `CMAKE_OSX_DEPLOYMENT_TARGET` based on the version of XCode and the host hardware.

AFAIK 10.7 and 10.8 stand for less than 0.5% of the macOS install base, that is hard to say how many Audacity users are on this versions.

 =||= 
> AFAIK 10.7 and 10.8 stand for less than 0.5% of the macOS install base, that is hard to say how many Audacity users are on this versions.

Think of some statistic we might want to know about the users -- and now we might write code to collect just that information!  (If they opt in)

(I'm not suggesting we necessarily build 3.0.3 for 10.7 still, just so collect the hard data on just how few really use it, and only then decide to abandon 10.7.)


 =||= > > and I don't find it very time consuming
> 
> Rebasing is quick and fun :-) But in this case, it will be more of `git reset --soft` and then checking every commit against the CI. I hope that in the future we won't have the feature branches of this size. Strictly speaking - this branch should be divided into like 5 different branches merged one by one, each for a library. The problem, however, that `lib-telemetry` is the main consumer of the functionality included in the other libraries now.

Those five little branches would add the lib-* one at a time, bottom up?  That might be less overwhelming to review.

The stuff in lib-* is all your work, not copied from elsewhere?

I can't see yet in his fork how much work Anton has done with dependency on your branch, which is why you don't want to force commit.
 =||= > Those five little branches would add the lib-* one at a time, bottom up? That might be less overwhelming to review.

Yep. But the most of the code is in lib-network-manager still

> The stuff in lib-* is all your work, not copied from elsewhere?

It is mine, no 3d party code there =||= I know me leaving a comment is not going to stop this feature being included in Audacity, but I want to voice my opposition to this change anyway. Feel free to ignore me if my opinion is inconvenient to you.

I've never contributed to Audacity, and haven't really engaged in the development of the project before. I have however used audacity for various audio editing tasks for the better part of a decade. And while I welcome the prospect of new development, and the project getting some of the updates it deserves, I am concerned about the use of analytics, from a principled stand point.

We live our lives in a world where virtually every movement we make online, and many of the movements we make in the real world are subject to surveillance and tracking. It has been normalised to the point where the majority of people just put up with it, or don't question its usage.
Fundamentally tracking and analytics are about a power imbalance between the people doing the tracking and the people being tracked on. Yes, I understand that this is opt-in, but that is how a lot of things started, and how they become normalised to the point where a lot of applications and websites _don't_ ask for permission first. Worse, because a lot of users have been conditioned to think that tracking is normal, many will just press ""ok"" or ""yes"" to make an annoying dialog go away, not fully realising what they are consenting to. Consent based on incomplete data is not truly consent.

As I said, I am very happy to see that Audacity is getting some love and attention from a design perspective. I'm excited to see how the project can be improved. But I am worried about the use of analytics, especially using large data mining companies (Google & Yandex) as a platform to do so. If you want to know what your users think about something, ask us. Ask us directly and out in the open. Don't spy on us.

Thank you for reading. =||= Is telemetry opt-in only or do users have to disable it manually once they update to the next release? =||= I agree with @spacekookie. I don't think these kinds of data collection are actually very helpful. The Mixxx website had Google Analytics for years and in practice it never changed a decision we made. If you're going ahead with this, I think you owe it to users to explain in specific terms (not some vague ""this will help us improve Audacity"") what you are planning to do with this data and how it is going to help users. You can get the information you need to improve Audacity by listening to what users already say and watching them use the software in usability tests.

As a harm reduction measure, I suggest to use a service that Audacity hosts. Collecting data about Audacity users is one thing and sending that data to Google and Yandex is another. I would feel deceived if I thought I was opting into sending data to the Audacity developers and later found out it was also going to Google and Yandex.

I also suggest to guard this with a CMake option that defaults to `OFF`. I suspect some Linux distributions will want to build without this. Like users, packagers should have to specifically opt into this. =||= Also, you may want to think about the GDPR, Google isn't known for respecting it... And although it only applies to ""personal information"", the definition of it isn't really precise, and an IP may be considered ""personal info"".

PS: I'm no lawyer, that's why I used conditional... [Other people](https://github.com/audacity/audacity/pull/835#issuecomment-833852063) down below pointed out that IP is in fact a personal information, by law. =||= Google is a monopoly and a bad actor and I do not want their spyware in Audacity. Please do not include it in any form. I've spent more time than I care to account for trying to divest from Google and I don't want to have to worry that Audacity is funneling data about me to them when I listen to or work with music tracks. I will simply stop using it.

Telemetry isn't that useful anyway. It's certainly not useful enough to justify selling out users to a very large surveillance company, in my view. Please remove it completely. =||= I'm just some rando, but I've been using Audacity for at least a decade at this point, for everything from school assignments to experimental art. I will find something to replace it if this is merged.

Getting information about users would be more ethically conducted via a survey of some sort, linked to from the startup modal, ideally with a fully-qualified URL and hosted by a site without tracking. At the very least then there would be more transparency for the user about who is collecting one's information, how, and what of that information is received by Audacity developers. This could even be done - albeit with less automation - by linking to a forum thread whose sole purpose is to retrieve user feedback. The first post could explain the thread and provide a template for what information the developers would most like to have. =||= Telemetry won't tell you if users like the software or wish for a new feature. It only tells them they've been subjected to economic surveillance in an economic manner, and not even a decently useful one. Let's face it: telemetry is useless. By its nature, it can't bear any context information, as the telemetry to read a user's mind is yet to be found. (A quest which hopefully never succeeds.) 

How comes that other successful open source software never had any use for analytics? Blender, Inkscape, GIMP... afaik none of them utilitized Google or Yandex or any other corporate surveillance service and they're doing great without. Some out-of-the-box thinking which innovative companies claim to be good at is probably what's required here. =||= in addition to all the above comments, i'd like to point out that mandating telemetry may hurt people with any issues related to connectivity. i hope you make this opt-in(and not google! google is terrible with privacy. look into ethical alternatives to data analytics!), rather than opt-out. don't spy on your users. let them tell you things. =||= Audacity is wonderful software. It is great, because it works well at what it does. Sending surveillance data to third-party companies is not part of that. If you want to collect data, please save it locally, without Google or other intermediaries, and ask when you want to send it, giving me the option to inspect it beforehand.

Even better: Allow me to enable recording my actions in a typical use-case and send you exactly this data as usage scenario. That way you get self-curated data which is much more useful for improving audacity, and you avoid selling our privacy to surveillance companies. =||= I guess we can learn from the past of where musecore did also having a backlash for implementing telemetry. Since Audacity now is part of mu.se group, its inevitable. (https://musescore.org/en/telemetry)

 But yes... make it opt-in option and if possible, please give an option to disable to this feature in build/make parameter too. =||= It is quite concerning that this comes so soon after the announcement regarding Muse Group. I was excited to learn that Audacity was getting attention on its design, but this makes me concerned about what other questionable changes are coming for Audacity in the future. =||= We need a community fork without telemetry and using a different branding, so, as soon as Muse Group implements more ~~privacy-abusing~~ people-abusing features, or decides to simply make Audacity proprietary, development can continue independently. =||= There are two separate issues:
1. Telemetry itself;
2. The sharing of user data with Google Analytics, Yandex or other third-party for-profit ad-oriented companies.

While telemetry itself is sometimes included in libre software (as explicit opt-in), I don't believe piping user behavior data into Google Analytics et al is a widespread practice in well-known free software projects yet. (I _may_ be totally wrong and other projects may already be doing this, but at least the explicit opt-in popups that I have seen as a user didn't mention Google Analytics).

I suspect that GDPR-wise this might be an interesting legal problem not only for Audacity but for Linux distributions as well.

Please manage the telemetry data yourself instead, without using Google Analytics (perhaps by using self-hosted open-source tools).

And make it opt-in, with clear consent (GDPR, again). =||= > or decides to simply make Audacity proprietary

Let's not get hyperbolic here. Audacity is licensed under the GPLv2. Nobody can make it proprietary. =||=  > Let's not get hyperbolic here. Audacity is licensed under the GPLv2. Nobody can make it proprietary.

if muse group holds the license to all the code, they can simply not release future versions under the GPL. the existing code would exist, but the other code wouldn't be GPL licensed. =||= > Universal Google Analytics is used to track the following events:
    Session start and end
    Errors, including errors from the sqlite3 engine, as we need to debug corruption issues reported on the Audacity forum
    Usage of effects, sound generators, analysis tools, so we can prioritize future improvements.
    Usage of file formats for import and export
    OS and Audacity versions

Please make each of these categories of information easy for the user to individually opt into with separate checkboxes. A simple ""send information to Audacity developers"" option is not sufficient for informed consent or giving users meaningful choices to make about their privacy. I personally would be fine telling Audacity developers what effects, OS, and Audacity version I am using, but I am not comfortable telling you when I am using Audacity. That feels invasive and you don't need to know that.

Also, please explain directly in the user interface where these options are toggled how sending each of these pieces of information to the Audacity developers will benefit users sending the information, for example, ""Telling us what operating system you are using helps us prioritize which operating systems to keep Audacity compatible with."" =||= > Also, you may want to think about the GDPR, Google isn't known for respecting it... And although it only applies to ""personal information"", the definition of it isn't really precise, and an IP may be considered ""personal info"".

IP **is** a personal data [according to the GDPR](https://ec.europa.eu/info/law/law-topic/data-protection/reform/what-personal-data_en):

> Examples of personal data
>
> …
> an Internet Protocol (IP) address;
> …

(See also this [working party document](https://ec.europa.eu/justice/article-29/documentation/opinion-recommendation/files/2007/wp136_en.pdf), page 16.)

When it comes to Google Analytics, it’s a no-brainer: if the user has a Google account and has been connected to the account on the same IP address Audacity is used, there will likely to be a match (depending on the number of users having the same IP, and/or sharing the device).

That said, if Audacity maintainers want to do telemetry:
- you’re by law required to make it opt-in, at least for European users;
- there are open source and/or self-hosted alternatives you should consider:
  - https://matomo.org
  - https://umami.is
  - https://plausible.io
  - https://usefathom.com
  - https://simpleanalytics.com
  - https://ackee.electerious.com
  - https://github.com/milesmcc/shynet
  - https://chiffre.io
- make sure your privacy policy:
  - receives the attention it deserves;
  - is explicit about what you track and what it enables;
  - states that the collected data are publicly accessible, because it’s open software. =||= > This request provides the basic telemetry for Audacity.

If you audaciously add this I'm going to have to fork Audacity and remove it again. =||= Please post screenshots with your pull requests when you propose to change the GUI to make it easier for users to give feedback on the design, especially considering you require a forked version of wxWidgets which makes it cumbersome to build Audacity locally. =||= As a long time user, I'm really struggling to see why you'd want to add telemetry. First, it's going to Google, which is kinda againsty the FOSS (free and open-source software) philosophy, and second, what is that going to help you with? Audacity managed to be the best FOSS sound editing software you can get, with a lot of features, and without a bit of telemetry.

If your goal is to provide a good piece of software to the FOSS community, then listen to the community instead of selling it to Google, and ""trying to figure out what they want"" based on some numbers in a chart. =||= Are users able to see the data that is collected or is that only available to a few Audacity developers? =||= I am concerned for the direction of the project if the maintainers are considering incorporating telemetry, of all things. =||= @Be-ing 
> Let's not get hyperbolic here. Audacity is licensed under the GPLv2. Nobody can make it proprietary.

Not necessarily, it depends on whether the copyright of code and contributions is owned entirely by the developers/authors, or not. Contribution agreements play an important role on whether you can take a GPL'd software proprietary or not.

This article explains different cases: https://wpandlegalstuff.com/taking-gpld-code-proprietary/ =||= One suggestion: make it clear in the permission dialog that telemetry uses Google Analytics rather than a private service you host yourself. This may be particularly of note to users who are covered by GDPR regulations. =||= > Is telemetry opt-in only or do users have to disable it manually once they update to the next release?

Including it in the first place (opt-in or opt-out) is the problem. Changing the default down the road is just too tiny a change (and maybe too tempting not to do it).

This should not be included at all.
 =||= Some users are going to be upset if you merge any form of telemetry whatsoever. Personally, my respect for Audacity would increase if you really take the feedback here to heart, put in the work to switch to a self-hosted server, and work with us to make the GUI design very specific and clear so users can easily make informed decisions about their privacy. I think you will get more complete and useful data if users feel they can trust you with it.

EDIT: My [opinion has changed](https://github.com/audacity/audacity/pull/835#issuecomment-834969949). =||= Is there a specific issue or request that this PR addresses? I'm not seeing any reference here to the usual discussion a major change like this would usually require. =||= The commit stats on this are amazing to me:

> +5,506 −25 
> Commits 29
> Files changed 92
 
5,506 lines of code inserted to implement telemetry that should not be in there. That is a substantial amount of code that certainly contains dozens of bugs and likely several security issues. That is enough code to be a maintenance headache for someone forever. That's also enough code to implement at least one cool new feature that end users actually want to have.

Why telemetry, in an already excellent piece of software? Whyyyyyyyyyyyy? =||= > 5,506 lines of code

Most of that code is from vendored dependencies. The changes to the Audacity code are quite small. =||= > > 5,506 lines of code
> 
> Most of that code is from vendored dependencies. The changes to the Audacity code are quite small.

Good point. So perhaps the ""dang, this could have been an actually useful feature"" part of my mini-rant is not as relevant. The rest is though--that's a lot of code, with potentially a lot of bugs and security holes, and you've already started documenting above! Adding a bunch of new dependencies is worrisome generally speaking, too, let alone for this. =||= Not going to dispute that this is a bad look, or might violate the GDPR, or even that it's a slippery slope and all that.

But as a long time casual Audacity user this is not the end of the world for me either:

* at least it's Google (motto: ""We're Not Evil™""), and not Facebook (motto: ""Hahah, whoops you caught us…"")
* sounds like I will not be required to opt-in (and/or at least can opt-out, …and block any initial attempts via Little Snitch until then ;-)

And one thing that makes a big difference to me:

* the telemetry agent looks to be custom code tracked in the repository itself, instead of dropping in some supply chain attack that an advertising company offers in pre-built form (and which may/may-not actually respect my tracking preferences behind the scenes!) =||= > Adding a bunch of new dependencies is worrisome generally speaking, too, let alone for this.

Yup. They're adding a whole network and HTTP stack *just* for that. =||= > > Adding a bunch of new dependencies is worrisome generally speaking, too, let alone for this.
> 
> Yup. They're adding a whole network and HTTP stack _just_ for that.

it seems like the PR author forgot that this is an audio editing program and not a ""stream mouse clicks to Google"" program. =||= > * at least it's Google (motto: ""We're Not Evil™""), and not Facebook (motto: ""Hahah, whoops you caught us…"")

@natevw I strongly recommend you read up on just how evil Google is. They've had multiple, multi-billion dollar fines for their various misdeeds; they spy relentlessly on anyone who gets near their platform; they are involved in multiple lawsuits in the US for violations of antitrust law; they're a revolving door for US military higher-ups; they take large amounts of money from the US military and there's good reason to believe it's helping to build weapons; etc etc etc etc. Literally Google ""Google actually is evil"" and you'll find lots.

""As least it's Google and not Facebook"" doesn't make sense. That's like saying you're glad you had a major stroke instead of a heart attack.
 =||= I'll add my vote against this PR. You shouldn't be sending any data to Google. Looking forward to the fork without the telemetry code. =||= Your privacy policy is missing all your information how to handle collected data on your website https://www.audacityteam.org/contact/privacy-policy/. 

Do you even have a privacy policy for your application?

You have a google searchbar, but dont list the conditions of usage (including privacy terms) which is legally worrisome at least.

I want to quote your message on your website https://www.audacityteam.org/contact/advertising-and-monetization-opportunities/
""We are happy with our current advertising partners and are not interested in new offers of advertising or monetization schemes.
We do not, and will not bundle other applications with Audacity.""

Your website and ""The Google logo is a trademark of Google, Inc."" (https://www.audacityteam.org/copyright/) makes me think different. =||= Itemize this down into several parts.

Adding libcurl, while increasing the complexity and dependency chain of Audacity, may be useful in the future (e.g., networked live/streaming audio capture, linking audio files in a project from network sources) but not to implement a development nightmare like this.

Don't import the library wholesale, but rather, include its code in a maintainable way that is safe to upgrade by maintainers. Lobbing the whole library into local scope may interfere with the speedy response to security/vulnerability reports, and looks ugly in general to maintainers.

Don't fork wxWidgets for one feature. Try instead, to write the feature in a local scope - a lot of the Wx APIs are declared weak, for a reason.

Don't add telemetry to a third-party provider that isn't owned by a maintainer of Audacity, or a leading member of the Audacity team.

> _I am not an Audacity team member; these are only suggestions, and may not reflect the Team's views or goals._ =||= > @Be-ing
> 
> > Let's not get hyperbolic here. Audacity is licensed under the GPLv2. Nobody can make it proprietary.
> 
> Not necessarily, it depends on whether the copyright of code and contributions is owned entirely by the developers/authors, or not. Contribution agreements play an important role on whether you can take a GPL'd software proprietary or not.
> 
> This article explains different cases: https://wpandlegalstuff.com/taking-gpld-code-proprietary/

as far as I can see, there isn't and wasn't any sort of CLA in place that specified that anyone submitting patches to the project would agree to future license changes. So if I'm not mistaken, the license of the project cannot be changed from GPL unless the new project managers obtain permission from everyone who contributed in the past and/or remove code contributed from people who refuse to change the license. Therefore, while monetisation can come into the project by building additional paid cloud services or selling the telemetry data, the project cannot become closed source with respect to what is on a user's desktop. =||= bruh =||= '-'

\""
\-

\""
0
\= =||= > Therefore, while monetisation can come into the project by building additional paid cloud services or selling the telemetry data, the project cannot become closed source with respect to what is on a user's desktop.

Half of that sentence is true, it can not become closed source. The other half is not related in any way. Of course one can and may charge for open source software. You can tie pre-built binaries to payment, for example.

 =||= adding telemetry is a good way to instantly create 20 new forks of this project, all of which remove muse group's control over their investment. Consider yourselves threatened. =||= Neat! Another project I can cross off my list. =||= Also what are you doing to keep this GDPR and local Data Protection laws complaint? =||= Just to reassert this: making it opt-in is a __requirement__ of the GDPR. Without misleading dialogs, and without manipulation like a shiny green 'accept' button vs. a tiny 'reject' button.

And yes, other commenters have been correct in saying that telemetry isn't that useful, and you should just *ask* users what issues they run into with the software. You will learn a lot more actionable information, without being invasive.

Edit: To clarify, ask users what they dislike or what frustrates them, not what they want. Learning what people *don't* want is the most actionable information for improving a piece of software - pie-in-the-sky ideas are much less useful. =||= This nonsence, but still no bug fixes to Jack support.... Really? I guess the Muse Group money had strings attached. =||= I feel bad for all the people getting emails about this right now...

Personally, I wouldn't mind the change if it didn't add more dependencies (both locally in terms of libraries, and in terms of depending on 2 relatively large tech companies for your data). Maybe if it was a Matomo instance (or similar), it would be more likable. =||= > This nonsence, but still no bug fixes to Jack support.... Really? I guess the Muse Group money had strings attached.

How do we know he's with them?  =||= @lodenrogue I did some digging, the account is largely inactive until this year. First contribution to Audacity was in 29 March, and was an edit to the Error handling. One other PR merged yesterday was a SQLite version bump, presumably to support this change. Finally the account states his location is St Petersburg, and has a very small set of projects given the account's 9yr old age.

Generally it stinks of corporate interference, but at least they didn't sneak this in as a side entry to some other more important changes. Clearly they're new to this FOSS thing. =||= > @lodenrogue I did some digging, the account is largely inactive until this year. First contribution to Audacity was in 29 March, and was an edit to the Error handling. One other PR merged yesterday was a SQLite version bump, presumably to support this change. Finally the account states his location is St Petersburg, and has a very small set of projects given the account's 9yr old age.

The most suspicious thing here is how readily reviewers jumped to inspecting the implementation details of a PR given the complete lack of any discussion of the feature, or even a single relevant ticket.  =||= > Finally the account states his location is St Petersburg

Okay, I can understand why you would be suspicious of the other things but why is being located in Russia a suspicious thing? Does country of origin really matter in this case?

 =||= Wow so many people in this thread need to chill out.
A) It's opt in
B) It's anonymous
C) It's only collecting basic stats about how users are using the application, ya know, helpful stuff that helps developers make decisions on how to improve the user experience?

Chill out folks. =||=  Its where muse group's headquarters are. No malcontent to any Russians intended, I am only pointing out that makes it more likely this where that guy works.  =||= As someone who has worked and collaborated on many open-source audio applications and plugins myself, **please DO NOT merge** this PR.
I will fork and maintain a custom Audacity build myself if I have to.

We do not want analytics, phone-home or other ""modern"" crap in such tools.
Thank you
 =||= I don't think we need a fork if this is behind a compile option that defaults to off. =||= > Wow so many people in this thread need to chill out.
> A) It's opt in

For now.

> B) It's anonymous

It's pseudonymous at best, Google and Yandex can likely de-pseudonymize you.

> C) It's only collecting basic stats about how users are using the application, ya know, helpful stuff that helps developers make decisions on how to improve the user experience?

There's already a tool for that, it's called asking.

> Chill out folks.

[It's very likely that this “feature” is illegal in the EU.](https://noyb.eu/en/101-complaints-eu-us-transfers-filed) =||= > A) It's opt in

Yup, but it's a slippery slope to see it enabled by default some day...

> B) It's anonymous

Nope, that's GA. They will do whatever they can to add that data to the (already large) user profile they have of everybody.

> C) It's only collecting basic stats about how users are using the application, ya know, helpful stuff that helps developers make decisions on how to improve the user experience?

Tracking users is not the FOSS way of making better software. There are tons of great FOSS software that has decent UX (blender, inkscape, ...) and spoiler, they're not tracking their users. =||= > I don't think we need a fork if this is behind a compile option that defaults to off.

100% not the point. One of the pillars of FOSS is maintaining decentralized systems. This PR is in direct conflict with those values. =||= Get the GDPR lawsuit threats ready just in case folks

and pitchforks =||= I'm concerned about the use of a persistent identifier and google analytics here. Google does not have much respect for user privacy, and this change provides more than enough information to allow a user to be tracked across networks. =||= I personally can see some value in having telemetry information, but I would politely, yet firmly, disagree with the notion of adding Google-based tracking to Audacity and, instead, would ask for something that wouldn't deliver information, ""anonymized"" or otherwise, to a company such as Google on a silver platter...

Isn't OpenTelemetry a thing? =||= just do a survey =||= Is the author aware of submodules? Why are those dependencies directly included? =||= > I personally can see some value in having telemetry information, but I would politely, yet firmly, disagree with the notion of adding Google-based tracking to Audacity and, instead, would ask for something that wouldn't deliver information, ""anonymized"" or otherwise, to a company such as Google on a silver platter...

I second this.

> Isn't OpenTelemetry a thing?

It is a thing, but Google is heavily involved with the project, but I am not sure if it's actually a Google project:

> OpenTelemetry is an open source observability framework created when CNCF merged the OpenTracing and OpenCensus projects.[64] OpenTracing offers ""consistent, expressive, vendor-neutral APIs for popular platforms""[65] while the Google-created OpenCensus project acts as a ""collection of language-specific libraries for instrumenting an application, collecting stats (metrics), and exporting data to a supported backend.""[66] Under OpenTelemetry, the projects create a ""complete telemetry system [that is] suitable for monitoring microservices and other types of modern, distributed systems — and [is] compatible with most major OSS and commercial backends.""[67] It is the ""second most active"" CNCF project.[68] In October 2020, AWS announced the public preview of its distro for OpenTelemetry.[69] 

https://en.wikipedia.org/wiki/Cloud_Native_Computing_Foundation#OpenTelemetry

Also: https://opensource.google/projects/opentelemetry =||= Nice, it's almost a ""real DAW"" now.

Fork name suggestions? =||= 🍞 💨  =||= Please don't post one word or just an emoji in a comment. It only makes noise with notifications and clutters the discussion. Use GitHub reactions instead. =||= > Is the author aware of submodules? Why are those dependencies directly included?

Audacity already [directly includes other dependencies](https://github.com/audacity/audacity/tree/master/lib-src) instead of using submodules.  I don't know exactly why it's done like that, but one advantage is that downloading the repository as a zip file includes the libraries (which doesn't happen with submodules), and also regular `git clone` works normally instead of requiring `git clone --recurse-submodules`.

IMO it would be wrong to add a new dependency as a submodule without converting the existing ones to submodules, which would also be something that should happen in its own PR (if converting to submodules is actually a good idea). =||= As a developer who does a lot of ""proprietary-flavored"" services, stuff that has a very corporate coat of paint over it, I know the value of telemetry information to get a sense of user base topology. Audacity is often prided on its high-quality forum, but it's really hard to get users to actually speak up when they find something wrong with your service. Users don't report crashes or bugs; they just complain. The thing is, I want to make my software better for them!

Telemetry and crash reporting is *super* helpful, because it takes the effort off of the user to get information about crashes. If you have issues with a given feature, it ends up on your radar a lot quicker. As such, I totally support the decision by Audacity to include telemetry in the next release of Audacity.

But...\
Google Analytics?

Guys, I think you need to reconsider. Google Analytics isn't a telemetry or analytics platform; it's the eyes and ears of a cosmic horror of a company. I shouldn't need to go into the details of why Google or GA is so bad. I realize I alone won't have any power to dissuade you guys, but I seriously implore y'all to reconsider. Please, guys, pick another telemetry platform. =||= I would like to point out there is in the shadow of this PR a draft PR to add breakpad support. Which is a crash and error reporting tool, much more appropriate to the types of information that *should* be collected here.

That said breakpad is also a google technology and I am unaware how tightly it is integrated with google infra, but It stands as a statement that even in google's wheel house analytics is a tool for making money, not actionable insites on software stability. =||= I understand the need for this kind of telemetry. But I think it would be better if instead of the telemetry of being opt out it would be opt in. This way people who value privacy wouldn't feel like they are using creepware and people who are willing to give their information can do so by changing a setting.

Also, using Google Analytics is a very bad move and would discourage a lot of people from keeping the setting enabled. I would be willing to send my information somewhere I trust but Google is definitely not a company that is trustworthy and has a horrible privacy track record. =||= I will say that self-hosted telemetry services are a thing. I'm not inherently against the idea of telemetry; but while a high-dollar, professional and closed-source application may handle it with Google and wide-brushed opt-out click-tracking, this particular implementation is extremely sore for a free-software project.

The damage done by even *__suggesting__* this line of action, will completely undo the supposed benefits of direct feedback, knowing which features are used how, in a general user workflow.

I'm aware Audacity is under new management, in general, but that just makes things even more sore for the community of users and contributors on seeing this change come to light. It puts egg on the face of not the project, but its management, leadership and ownership.

I strongly suggest cancelling this change set - as I mentioned before, keep the parts which do have value to the project now or in the future, like library additions and upgrades - the SQLite upgrade merge happened without issue! And this change set is at least in multiple commits, which are easier to break down and work with - those should have been separare PR's, rather than this obstructive patch of regolith with many layers to support one core function.

I'd recommend that you do keep the different parts in separate itemized PRs with a smaller code footprint, and do open a public request for comments on telemetry implementations, best-practices, things like GDPR/California CCPA regulatory and compliance hurdles, and get a general feel for the community that uses the software. Hell, if you have legal counsel on the team, it would be a bright idea to loop them in on the telemetry changes. Audacity is a global project, and legal scope matters just as much as jurisdiction.

All in all, everyone commenting and 👎'ing the PR here, are a very small minority of Audacity users; most (myself included!) won't even see changes like this, until it's brought to their attention by someone, likely a contributor, who _has_ seen this.

If a small cluster of us, including open-source contributors, are strongly against it, it would be remiss of you, and the management of the project here, to push through without soliciting further comment and considering changing course in the ways that matter.

This change set exemplifies ""audacity"" by the word; not as in ""bold courage"", but as in ""brazen impudence"". =||= If there was a way to force this branch to always conflict, so that it could never successfully merge, that would be cool. 

Others have pointed to GDPR, Privacy Policies, statements made previously about third parties, and whatnot. I'm here, looking at a merge that passes checks and is two affirmative reviews away from a hard fork away from here. 

If we, as a community, created and got approved merge requests that intentionally conflict with this branch it could slow this down. 

I say this as someone who has yet to contribute to the Audacity project. 

How dare you have the audacity to put analytics into FOSS!? =||= > If there was a way to force this branch to always conflict, so that it could never successfully merge, that would be cool.
> 
> Others have pointed to GDPR, Privacy Policies, statements made previously about third parties, and whatnot. I'm here, looking at a merge that passes checks and is two affirmative reviews away from a hard fork away from here.
> 
> If we, as a community, created and got approved merge requests that intentionally conflict with this branch it could slow this down.
> 
> I say this as someone who has yet to contribute to the Audacity project.
> 
> How dare you have the audacity to put analytics into FOSS!?

This kind of sabotage, and spam, and general anger in this thread isn't the right way to do this and isn't productive. The important thing is that reviewers don't approve it and the maintainers don't merge it until it gets the thorough evaluation and discussion it deserves. Spam does nothing but make the people who object (who are right, of course) look bad.

**Don't** simply merge this PR. That's the obvious takeaway here.

**Do** open a full and thorough issue and discussion about whether to have any sort of analytics. If there's consensus that analytics are beneficial, then have a discussion about what platforms and providers to use, and how to safely protect that information to confirm to the relevant requirements. If there's consensus about that, then we can figure out what the best software stacks are to use. This PR is jumping *far* ahead of a reasonable process. =||= > If we, as a community, created and got approved merge requests that intentionally conflict with this branch it could slow this down.

Git is not a weapon. Behavior like this would be counter productive and damaging to the software as a whole.


 =||= @ThisIsPaulDaily, this pull request is definitely bad, but antagonizing the Audacity developers who have put *years* of hard work into this software is unhelpful and ungrateful. =||= @Be-ing agreed =||= > I don't think we need a fork if this is behind a compile option that defaults to off.

I think we do. If this is merged I don't know that I can trust the Audacity team anymore. And I don't think anyone else should either. The privacy of their users and the backlash that this is getting should be strongly considered.

If this is merged I will no longer be using Audacity. I will no longer be installing it on my own machines or the machines of any company whose infra I manage, now and in the future.

We have enough stuff that is watching us and listening to us already. I don't need my audio editor added to the list.

Privacy is a human right. Involving Google or Yandex in the use of a piece of software like this is completely uncalled for.

I was legitimately excited when I heard Muse Group was getting involved in Audacity. I see my excitement was misplaced. =||= > This PR is jumping far ahead of a reasonable process.

I strongly recommend all Audacity developers read this [blog post](https://aturon.github.io/tech/2018/05/25/listening-part-1/) about the Rust project's experience with an inside group trying to push through a controversial change, the lessons learned, and the changes in process and culture that resulted from that. The whole 3 part series of blog posts is fantastic.  =||= 



> If there was a way to force this branch to always conflict, so that it could never successfully merge, that would be cool.
> 
> Others have pointed to GDPR, Privacy Policies, statements made previously about third parties, and whatnot. I'm here, looking at a merge that passes checks and is two affirmative reviews away from a hard fork away from here.
> 
> If we, as a community, created and got approved merge requests that intentionally conflict with this branch it could slow this down.
> 
> I say this as someone who has yet to contribute to the Audacity project.
> 
> How dare you have the audacity to put analytics into FOSS!?

This is the exact mindset that lead to the actix web incident. =||= > This is the exact mindset that lead to the actix web incident.

Sounds to me like the outcome of that was the project rid themselves of a Toxic individual.
 =||= No problem. If this is merged, a fork will emerge that will most likely take over. I certainly won't be using upstream Audacity if it does.

Why on earth anyone thought this was a good idea is astounding. Tantacrul, if you're here, this is highly suspicious. I sincerely hope this has nothing to do with MuseScore.

---

# EDIT: Another PR that is adding Google dependencies, potentially telemetry: #836 =||= > 
> 
> Is the author aware of submodules? Why are those dependencies directly included?

Noob question, why is directly including the dependencies bad?  =||= As stated by many before me, **please** don't add telemetry to Audacity. Doesn't matter if it is opt-in or if it helps to improve user experience. When a user had an issue in the past, they posted to forums and got help that way. That's how it can still continue to work. Analytics are __not__ needed, especially due to the decentralized aspect of free software. Who will collect theses logs? This is absurd. This is an audio software, not a data collection solution.

I think this PR (or any that involves telemetry) should not be merged. I believe this goes against the essence of free software. I will be using a telemetry-free fork and encouraging people to do the same if the project decides to go down that path. =||= > that will most likely take over

@Qix- except it won't. Visual studio code is a great example that bundling telemetry in a FOSS project can be done. Adding telemetry in audacity, even opt out, will inevitably affect the privacy of the majority of people. The ones who won't bother to switch to one of the forks. =||= > Noob question, why is directly including the dependencies bad?

A module which is included directly won't get updates or security patches, requiring developers to manually upgrade. This increases the risk that a fix for a security vulnerability or important bugfix doesn't get into the program quickly. =||= > > Is the author aware of submodules? Why are those dependencies directly included?
> 
> Noob question, why is directly including the dependencies bad?

It puts the responsibility to update and maintain the dependency on the maintainer, it also provides an opportunity for the dependency to diverge from its upstream which has license and maintainability concerns. the UNIX philosophy would be to dynamically link against the library, allowing the OS to manage updates and provide bugfixes when available, but that its its own can of worms. Using a sub module is an in between. =||= Whether this PR is merged or not, it's a good thing that this issue came to the community's attention. I don't really pay much attention to the developer side of most of the products I use, and I doubt vast majority of people on the consumers' end do either. Good on you guys!
 =||= > > Is the author aware of submodules? Why are those dependencies directly included?
> 
> Noob question, why is directly including the dependencies bad?

Not a noob question imo, and a very good one, too. <3 People don't ask questions about large codebase management often enough, at all. :)

There's pros and cons to including the dependencies, versus alternatives like, getting tarballs in the buildscripts, or git submodules.

**Include all libraries in-tree, and maintain them ourselves.** (Audacity does this.)
- **Pro:** By homing the dependencies and libraries, you can quickly integrate your own changes to the libraries you need as you need them, without waiting for upstream developers and maintainers to review and merge them.
- **Con:** However, including dependencies can cause bit rot and API erosion, where new versions of the library are introduced that are incompatible with the included version, and contain important or valuable changes (such as security fixes or performance improvements),

**Separately download and patch a specific version of upstream libraries, at build-time, through build automation.**
- **Pro:** Having the build scripts pull in the libraries and patching them locally is a good compromise between self-maintainership, flexibility and autonomy, while better enabling out-of-tree development to continue, and for the upstream changes to be included in the current source as needed, efficiently. Many GNU-type tools do this.
- **Con:** Getting the libraries separately as a tarball can introduce bit rot when remote maintainers (like, say, the GNU project or a sourceforge page) change URL formats, remove old versions, or otherwise go dark.

**Use Git submodules to fragment dependencies out-of-tree, and handle patches through change-request branches.**
- **Pro:** Including the dependencies as submodules works best for a Git-based workflow, and is automatic, Further, this exposes changes that Audacity would seek to include in a future version of a dependency, to maintainers who may wish to import and merge the changes. And, if they choose not to, the branch you made will remain available for your own use, regardless.
- **Con:** Well, this can be quite a headache to maintain, especially to someone not strongly familiar with Git and Github and the like, and this method does not easily carry over into a tarball format (unless the .git tree, or at least the submodules/gitconfigs, are included alongside.)

I view the first issue as the most problematic, far outweighing its pros, and would recommend against including the libraries in-tree for that reason alone.

Personally, I'd do a mix of the above:
- Host our own version of dependencies, libraries and such, under the Audacity github organization or its canon git server.
- Have the build scripts download and patch the library dependencies, using Git as needed, if they're not found (e.g., by way of tarball); 
- Use submodules, pointing to the included versions hosted by Audacity, which are forks of upstream libraries at specific versions;
- and, finally, provide tarballs including a flat (`--depth=1`) git tree, plus making `git bundle` format sourceballs available alongside the tarballs, as Git may compress the code better than a flat code tree in gzip. =||= > I view the first issue as the most problematic, and would recommend against including the libraries in-tree for that reason alone.

Audacity's vendoring of PortAudio has already caused hassle for Fedora packaging (#840), which ends up affecting developers of other applications (Mixxx) that use PortAudio because it is up to us to do the work to keep Audacity working with the distribution package and include the updates our applications need (to be fair, the PortAudio maintainers were not very responsive in the past few years which has gotten better in the past few months). =||= while we're on the topic of problematically bundling dependencies why on earth does Audacity have an SQLite <s>server</s> **Database** in it in the first place? =||= > while we're on the topic of problematically bundling dependencies why on earth does Audacity have an SQLite server in it in the first place?

IIRC SQLite doesn't require a server =||= > while we're on the topic of problematically bundling dependencies why on earth does Audacity have an SQLite server **Database** in it in the first place?

I don't use databases much but sqlite is useful for small single user databases for standalone applications 

from their own page https://sqlite.org/whentouse.html =||= > while we're on the topic of problematically bundling dependencies why on earth does Audacity have an SQLite server **Database** in it in the first place?

I have answered my own question, aup3 files are actually SQLite databases. Seems like a strange design decision but this PR is not the place to argue about such things. =||= > I have answered my own question, aup3 files are actually SQLite databases. Seems like a strange design decision but this PR is not the place to argue about such things.

that's interesting, but it makes sense - a lot of embedded, serialized data types use sqlite for such things - like, video game save files, working projects in some video editors, configurations for some IDEs and text editors, and things like Mozilla Firefox for storing a combination of user settings, history, bookmarks and such in a nicely bundled, easily-queried and reproducible tabular form. =||= is there an official statement about telemetry and this pull request? Trying to be respectful to all parties, but this does not seem like it is helping the user and/or the maintainers at the moment. Does this coincide with the recent acquisition?   =||= While adding some form of telemetry is useful, I would absolutely recommend against using google analytics, there are plenty of good alternatives that don't require you pinging google every time you use audacity =||= Just no.  =||= No. Remove entirely. Shouldn't even be opt-in. 100% using a fork without this from now on if this malware is merged. =||= I'm ok with telemetry. I'm _not_ ok with Google telemetry. I'll immediately stop using Audacity if you put this in and I'll warn all of my colleagues to do the same. 

I understand the need for telemetry and analytics, but I cannot and will not condone Google analytics in any open source software I use.  =||= There is no public statement that I am aware of yet, but I imagine there
will be one tomorrow, or if not, in the next few days. I can't imagine them
not making one with the amount of pushback the PR has received.

On Thu, May 6, 2021, 22:50 Ict ***@***.***> wrote:

> is there an official statement about telemetry and this pull request?
> Trying to be respectful to all parties, but this does not seem like it is
> helping the user and/or the maintainers at the moment. Does this coincide
> with the recent acquisition?
>
> —
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/835#issuecomment-834021100>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ATJASMGGMEHKXQE6KUYLEQLTMNIQXANCNFSM44C5SLTA>
> .
>
 =||= the first red flag has arrived =||= @a-wip0 it's only the beginning =||= I have been reading through this PR, and all of the comments, and agree that the idea of adding telemetry using the Google API's is extremely problematic.  There really does need to be a lot of conversation around this PR considering all of the issues that have been brought up, including (but not limited to):

- The apparent lack of following the normal process for this PR.
- The apparent lack of consideration of how this change needs to be implemented for different localities, such as the EU's GDPR, California's CCPA regulations, and other regions regulation, etc.
- Questions surrounding Google API's being used for gathering this information.
- Serious issues with privacy questions.
- Questions about the custody of this information: ie, who is going to gather and use this information?  And to what end is this information going to be used?
- Are there other options that can be implemented that will enable the same functionality without impeding on the privacy of users?

The problem with this PR is now that it is out there is a stain of mistrust on the Audacity project... Something that I would never have thought I would be saying about one of the most revered Open Source projects of all time.  (Seriously, I can't think of many projects that have had the enduring admiration of such a large audience.)

IMO - if there is not a public statement about this PR made tomorrow, I would suggest that someone participating in these comments start a **respectful** conversation on the forum, as this PR's proposals need to be discussed with the much larger user base of Audacity. =||= I tried to find discussion about this in the forum and could not.

If you want to know more about how to improve Audacity for users, I recommend switching to modern and more usable infrastructure, in particular migrating your old phpBB forum to Discourse. This will make it nicer for users to tell you what they want. =||= > I tried to find discussion about this in the forum and could not.
> 
> If you want to know more about how to improve Audacity for users, I recommend switching to modern and more usable infrastructure, in particular migrating your old phpBB forum to Discourse. This will make it nicer for users to tell you what they want.

The forum is an interesting idea, but really any GitHub PR should be strongly linked to one (or more) GitHub issues =||= > I tried to find discussion about this in the forum and could not.

So did I, and for some reason I cannot create a new conversation, which is why I suggested that someone should start one.

 
> If you want to know more about how to improve Audacity for users, I recommend switching to modern and more usable infrastructure, in particular migrating your old phpBB forum to Discourse. This will make it nicer for users to tell you what they want.

Personally, I'm not a fan of Discourse, and a forum with over 150,000 members, and hundreds of users online at a time migrating to a new forum is likely something that would (a) take considerable effort, and (b) be just as divisive as this PR. :) =||= I strongly recommend never putting any telemetry code into Audacity. Audacity is an open source music app for editing sound and music. You don't need numerical data and metrics and analytics to improve the app. It's not the end of the world if someone encounters an error and the developers aren't aware of it right away. What good could possibly come out of it? None. What bad could come out of it? Lots privacy issues and bugs.

From the PR:

>Session start and end
>Errors, including errors from the sqlite3 engine, as we need to debug corruption issues reported on the Audacity forum
>Usage of effects, sound generators, analysis tools, so we can prioritize future improvements.
>Usage of file formats for import and export
>OS and Audacity versions

You can fix bugs as you encounter them. Or as people report them and you are able to reproduce them. If you want, you can make logs and have people to upload those log files manually. You don't need to know which file formats are popular, you can just ask people to open Issues if they want a file format supported. You don't need to know which effects are popular. Prioritize improvements based on your own experiences with the app and encourage people to give written feedback. Why does it matter which OS version or Audacity version people are using? That information should be private. If for some reason you really care you can create a poll. =||= Excuse me, but what the fuck do you think you're doing to our baby?! =||= based! =||= This is completely unnecessary, nobody except the users who run the program should know anything about the host machine or what the user did with the program. Audacity is one of the last FOSS programs out there without Telemetry in it, there is no reason to add any to it. It's a fucking AUDIO EDITOR for Christs sake! =||= > If you want to know more about how to improve Audacity for users, I recommend switching to modern and more usable infrastructure, in particular migrating your old phpBB forum to Discourse. This will make it nicer for users to tell you what they want.

What benefit is derived from moving from one forum to another? =||= > What benefit is derived from moving from one forum to another?

Moving to infrastructure that is easier to use makes it easier for users to give feedback, which helps developers know what is important to users, much moreso than questionably useful incomplete statistics. =||= Regarding the software used on the forum. Respectfully, I do not believe
this PR is the right avenue to discuss this. We should keep this discussion
on topic. Post here should be directly related to this PR. We have plenty
enough to discuss in the PR already.

On Thu, May 6, 2021, 23:57 jxu ***@***.***> wrote:

> If you want to know more about how to improve Audacity for users, I
> recommend switching to modern and more usable infrastructure, in particular
> migrating your old phpBB forum to Discourse. This will make it nicer for
> users to tell you what they want.
>
> What benefit is derived from moving from one forum to another?
>
> —
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/835#issuecomment-834045448>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ATJASMAIACKKJQBSTD2HCB3TMNQMBANCNFSM44C5SLTA>
> .
>
 =||= > > What benefit is derived from moving from one forum to another?
> 
> Moving to infrastructure that is easier to use makes it easier for users to give feedback.

There is nothing difficult about using a phpbb forum.

(Personally I find Discourse to be horribly ugly and difficult to navigate, compared to traditional forums. You may think the opposite, but the change from a well established forum won't go over easily.) =||= > > What benefit is derived from moving from one forum to another?
> 
> Moving to infrastructure that is easier to use makes it easier for users to give feedback.

Easier to use for who?  Discourse is an annoyance (at best) to me, and I think it would be a pain to many of the 150,000+ users that are used to phpBB already.  IMO. =||= Okay, enough about the forum software. Let's not drag this further off topic. =||= NACK =||= I don't want to pile on in regards to analytics or the implementation here, so far as to say that I disagree with it and I largely agree with the community sentiment in the above posts.

I would like to point out that home assistant which is a very large and active community recently implemented some analytics. They had really good discussions and a significant amount of communication with the community about what they were going to collect and how they were going to use it, with specific tangible benefits and examples. I think a lot can be learned about the process that they went through and how they implemented this feature. While their implementation collects different information and is not directly equivalent to what is being implement it here, I think that how they went about implementing it and how they interacted with the community was excellent and is a good case study for how such things could by implemented in the future.

https://www.home-assistant.io/integrations/analytics =||= Emphatic -1. Google is a scourge on the internet. There is absolutely no way this analytics data will not be cross-referenced inside their insidious black box of multi-billion-dollar ad tracking, just another finger prying into people's online lives. I, like many others, will simply use a ""Google-free"" fork of this software and encourage everyone else to do so, even if there are no other changes to Audacity other than a bunch of red minus symbols cutting the entire Google stack out wholesale.

Don't take this as an invitation to more tightly integrate the software with Google, such as requiring their SSO or an email login to get access to ""enhanced features"" or whatever, either. =||= Waiting for a statement by Tantacrul who is quite active on social media (does he have a github account?) =||= ### For those that are saying telemetry should not **ever** be implemented: 
Yeah, sorry, but as the new maintainers are trying to improve the UI and UX (which I strongly support and am looking forward to as Audacity is still stuck with a really old-looking GUI and skinning is still horrible), analytics _can_ be helpful.  However, though I myself have no problems with Google Analytics, I have many friends that do.  It's not a matter of whether we can or should implement Google Analytics in Audacity - it's the fact that as one of the oldest/best FOSS projects the brand-new maintainers should not immediately begin making such controversial decisions without approval of the userbase.  

I'd once again draw the maintainer's attention to @meduzen's comment where they provide many decentralized and/or FOSS analytics platforms as alternatives: https://github.com/audacity/audacity/pull/835#issuecomment-833852063  There's little reason to use Google Analytics over these other options for the type of data the Audacity team _should_ be collecting in order to improve this project.  

I'd remind us all to stay positive and remember that as a community we don't get anywhere from division and anger.  The Muse Group has done an excellent job with MuseScore, so let's continue to support their efforts to improve Audacity and simply provide _constructive_ feedback.  Cheers! =||= As a mere user, I'd be fine with user tracking _only_ if:
- It was opt-in.
- It did not use Google Analytics, but rather an open-source analytics suite hosted by Audacity developers.
- The developers did not share this data with a third party.

EDIT: I'd even opt-in if it would provides developers with data useful for UX improvements. Considering Google Analytics is controversial in FOSS, I feel this early move by new management is somewhat worrying. =||= @jxu I messaged him on Patreon about this PR. If he isn't aware of it yet,
he likely will be by the morning.

On Fri, May 7, 2021, 00:13 jxu ***@***.***> wrote:

> Waiting for a statement by Tantacrul who is quite active on social media
> (does he have a github account?)
>
> —
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/835#issuecomment-834050545>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ATJASMECR72FLVSQQ5A4XXTTMNSHJANCNFSM44C5SLTA>
> .
>
 =||= >  messaged him on Patreon about this PR. If he isn't aware of it yet, he likely will be by the morning.

Oh right, he has a Patreon. It is for his videos, but given he made a popular video on being the head of audacity (how I found about him), it's safe to say it's relevant.

 =||= > @jxu I messaged him on Patreon about this PR. If he isn't aware of it yet, he likely will be by the morning.

I've found is Github account, but it doesn't look like he doesn't do much work on here, one commit to musescore and one PR review in musescore.

IMO - I'm guessing he isn't aware of this PR as he isn't on the approval chain.  It appears the author of this PR, and the approvers are likely associated with Ultimate Guitar, the company that acquired both MuseScore and Audacity.

This PR is likely not in his area of responsibility.  However, I have the feeling he would likely want to be aware of it since he has made himself and his associations with these projects very publicly visible. =||= > Ultimate Guitar, the company that acquired both MuseScore and Audacity

@SndChaser Just a quick correction, they're known as the Muse Group ([mu.se](https://mu.se)) 😄 =||= > > Ultimate Guitar, the company that acquired both MuseScore and Audacity
> 
> @SndChaser Just a quick correction, they're known as the Muse Group ([mu.se](https://mu.se)) smile

Thanks for the correction...  I picked up the UG name from Reddit, I should have double checked it before repeating it publicly.  (Although, at least UG is one of their applications...) =||= Absolute insanity. Google spying in an audio editor? Are you out of your mind, or are you just bought and paid for by some three-letter government agency?

You do realize that it will be forked and all the spying removed, right? Even if this is merged, all you will accomplish is taking all your goodwill in the open source community and lighting it on fire. =||= > Yeah, sorry, but as the new maintainers are trying to improve the UI and UX (which I strongly support and am looking forward to as Audacity is still stuck with a really old-looking GUI and skinning is still horrible), analytics _can_ be helpful. 

Okay but how do the following things help with UI/UX at all? Shouldn't we be getting feedback directly from the users instead of an automated system?

- Session start and end
- Errors, including errors from the sqlite3 engine, as we need to debug corruption issues reported on the Audacity forum
- Usage of effects, sound generators, analysis tools, so we can prioritize future improvements.
- Usage of file formats for import and export
- OS and Audacity versions

EDIT: Instead of having telemetry, why don't we make it easier for users to find places to submit issues and feedback in the program?
 =||= audacity team does not need info on how many fart.wav sound effects I export =||= > 
> 
> audacity team does not need info on how many fart.wav sound effects I export

Exactly lmao =||= I've created a fork of audacity that I'll be trying to maintain, if any of you would like to help out in any way, I'll be setting up Github Discussions for it shortly.

https://github.com/yonderbread/foss_audacity =||= I will sincerely hope for the failure of the audacity project and cheer for any clean fork if Audacity gains the capability to send any of my data to a third party data aggregator such as Google or Yandex, no matter how ""trivial"" that data is. =||= > I've created a fork of audacity that I'll be trying to maintain, if any of you would like to help out in any way, I'll be setting up Github Discussions for it shortly.
> 
> https://github.com/yonderbread/foss_audacity

I think it's a little premature and why should the community trust you as a maintainer?  =||= > 
> 
> I will sincerely hope for the failure of the audacity project and cheer for any clean fork if Audacity gains the capability to send any of my data to a third party data aggregator such as Google or Yandex, no matter how ""trivial"" that data is.

At this point I don't even know if I can trust the Linux kernel. =||= > > I've created a fork of audacity that I'll be trying to maintain, if any of you would like to help out in any way, I'll be setting up Github Discussions for it shortly.
> > https://github.com/yonderbread/foss_audacity
> 
> I think it's a little premature and why should the community trust you as a maintainer?

Simple. Follow upstream exactly except for the telemetry. Should be easy to see in git. =||= I don't have the knowledge but is there anyone out there who can copy the code base and start a new, really open source, spy and adware free (because you know the next thing will be ads) version of this and then drop this version? =||= > 
> 
> > I've created a fork of audacity that I'll be trying to maintain, if any of you would like to help out in any way, I'll be setting up Github Discussions for it shortly.
> > https://github.com/yonderbread/foss_audacity
> 
> I think it's a little premature and why should the community trust you as a maintainer?

Well they have no reason to trust me as of now, but I'm going to make sure all contributions to my fork are composed of 100% free and open source code. You shouldn't trust anyone, just use good judgement. =||= > At this point I don't even know if I can trust the Linux kernel.

@yonderbread Linux kernel is pretty trustworthy. =||= > 
> 
> > At this point I don't even know if I can trust the Linux kernel.
> 
> @yonderbread Linux kernel is pretty trustworthy.

So was audacity. =||= the audacity of this pull request - the 12 year old versions of ourselves would be kicking all of our asses right now if they knew this was going on =||= > > > I've created a fork of audacity that I'll be trying to maintain, if any of you would like to help out in any way, I'll be setting up Github Discussions for it shortly.
> > > https://github.com/yonderbread/foss_audacity
> > 
> > 
> > I think it's a little premature and why should the community trust you as a maintainer?
> 
> Well they have no reason to trust me as of now, but I'm going to make sure all contributions to my fork are composed of 100% free and open source code. You shouldn't trust anyone, just use good judgement.

A maintainer does a lot more than contribute code. He/she has to make tough decisions about what changes are made. =||= IMO it _is_ useful to know how often each function or file format is used, but it's much more sensitive than OS version numbers.  The only way that would be reasonable is if each type of information were individual opt-ins where the user explicitly says that they're OK with sending each kind of data.  And I didn't even know Google Analytics was a thing for non-web apps; I agree with everyone here that involving Google as a third party is a terrible idea.

Feedback from users is helpful, but it doesn't let you know what people _don't_ use, only what they _do_ use and have issues with.

And just to be explicit, **this change has not been merged yet**. =||= Anonymous telemetry is really good idea, this may help devs to improve software. Now you want to use surveillance software like Yandex and Google Metrics, that's definitely bad idea due to privacy reasons. I hope that this PR wouldn't be merged at the current state. If Audacity really needs some telemetry we should create _privacy and free_ friendly solution =||= > 
> 
> > > > I've created a fork of audacity that I'll be trying to maintain, if any of you would like to help out in any way, I'll be setting up Github Discussions for it shortly.
> > > > https://github.com/yonderbread/foss_audacity
> > > 
> > > 
> > > I think it's a little premature and why should the community trust you as a maintainer?
> > 
> > 
> > Well they have no reason to trust me as of now, but I'm going to make sure all contributions to my fork are composed of 100% free and open source code. You shouldn't trust anyone, just use good judgement.
> 
> A maintainer does a lot more than contribute code. He/she has to make tough decisions about what changes are made.

I guess I'll have to learn along the way! =||= In my opinion something similar to the way KDE does telemetry is a good way of doing it: [https://community.kde.org/Policies/Telemetry_Policy](https://community.kde.org/Policies/Telemetry_Policy)

If something similar gets implemented by Audacity, that will be fine. But Google Analytics, no thank you, =||= If you must have telemetry, why can't it be a transparent JSON file emailed to the maintainers? Is that ridiculous? =||= The audacity of adding telemetry to Audacity...

If the premise is to 'prioritize future improvements' then by nature of being opt-in, wouldn't there be an extremely small sample size relative to the entire userbase? I especially doubt many people would willingly opt-in knowing that the information is being collected by Google Analytics, let alone Yandex whose headquarters is in Moscow, Russia. =||= No. =||= I use audacity a lot and welcome all improvements. Telemetry is an extremely useful tool for helping release the full potential of software... because relying on users to report issues alone is simply not enough. It's clunky, prone to misinformation/misinterpretation, and just not giving the full picture.

I agree with all points regarding using your own FOSS hosted analytics platform, making it opt-in and ensuring privacy policy is succinct, correct and requiring explicit consent, handling GDPR considerations etc. If it's a FOSS project, it should be sensitive towards issues like privacy and the legality of collecting and storing certain data.

What I don't agree with is hyperbole and the freaking out some people are doing because of the mere idea of telemetry. That makes no sense at all. =||= > In my opinion something similar to the way KDE does telemetry is a good way of doing it: https://community.kde.org/Policies/Telemetry_Policy

This is great. Kudos to the KDE community for working to put together these sensible guidelines in clear, concise language. That page is licensed under the Creative Commons Attribution-Share Alike License, so I recommend that Audacity start by copying that verbatim and perhaps make some small adjustments for Audacity's use case. =||= > > In my opinion something similar to the way KDE does telemetry is a good way of doing it: https://community.kde.org/Policies/Telemetry_Policy
> 
> This is great. Kudos to the KDE community for working to put together these sensible guidelines in clear, concise language. That page is licensed under the Creative Commons Attribution-Share Alike License, so I recommend that Audacity start by copying that verbatim and perhaps make some small adjustments for Audacity's use case.

If you have to change the rules later, you might as well not have rules at all. =||= Disabled by default, a user must manually and without nagging explicitly opt-in to telemetry themselves. This is what GDPR demands, this is what i expect. =||= Telemetry burns the community as you should be able to see in this PR. User testing is more expensive than telemetry on its own, but contributors *will* leave over this. It isn't worth it. Please stop before you kill the project. =||= @kisaragi-hiu Realistically speaking, telemetry does not kill a project. Win10 is still the most-installed OS, GitLab still exists, and so will Audacity continue. However, the user base will shrink. Plus there's also the issue of how useful telemetry *really* is, 'cause there's an endless well of biases to consider when trying to use telemetry for anything more than automated sending of crash reports. =||= > Universal Google Analytics is used to track the following events:

This list seems somewhat misleading.

Every single [wxDialogWrapper title](https://github.com/audacity/audacity/pull/835/files#diff-4bfd3b3b53026d49a2072771cab4e8afd22b54de76baf68e3cb222adec2e191aR84) is being recorded. It doesn't matter if  there was an error or not. 

Seems it's only a matter of time before filenames(linked with IP) will be leaked through the titles.  =||= Google Analytics? Seriously?  =||= > @kisaragi-hiu Realistically speaking, telemetry does not kill a project. Win10 is still the most-installed OS, GitLab still exists, and so will Audacity continue. However, the user base will shrink. Plus there's also the issue of how useful telemetry _really_ is, 'cause there's an endless well of biases to consider when trying to use telemetry for anything more than automated sending of crash reports.

Win10 is not FOSS and cannot be forked sans telemetry. Audacity is and can.  =||= Audacity survived without having trackers for more than 20 years.

Why is this needed all of the sudden? =||= I rarely use Audacity. I think telemetry is a good thing to improve software.
But please, use open source platform to collect telemetry, if you will use proprietary platform, it has high chance to be removed from distros like Debian because of 3rd party non-free dependency.
So my wishes are:
1. Use open source telemetry platform
2. Dynamic linking, so it's easier to package audacity for distro developers
3. Ask on first launch if user wants to share telemetry =||= Just passing by to say that yes, this is a horrible idea. Don't integrate *Google Analytics*, of all things, into a FOSS desktop audio program. Please. Opt-*in* anonymous well-defined self-hosted analytics? I'm personally okay with that, but it still toes the line for a lot of people. I don't see the value-add here beyond error reporting, but even then, you could just implement a system where if an error happens it can be optionally reported by itself, like what JetBrains does in their IDEs. Just seems silly to me. =||= > In my opinion something similar to the way KDE does telemetry is a good way of doing it: https://community.kde.org/Policies/Telemetry_Policy
> 
> If something similar gets implemented by Audacity, that will be fine. But Google Analytics, no thank you,

VLC's implementation of first-run opt-in for something as basic as _network access for thumbnail lookup_ is something I think Audacity could model after for anonymous usage/failure data. =||= I'm so confused. Why use off the shelf analytics software for this? You can run your own endpoint to collect events with like....one PHP file. And that could be open source too so we see exactly how you collect analytics data and decide for ourselves whether we want to opt in or not. Why soil your non-controversial brand with associations to controversial ones? All of this just to avoid setting up a backend service that inserts rows into a table? =||= Please 1) make telemetry opt-in and 2) provide an easy way for users to see what technical information is collected *directly from within Audacity*. =||= > This list seems somewhat misleading.
Every single wxDialogWrapper title is being recorded. It doesn't matter if there was an error or not.
Seems it's only a matter of time before filenames(linked with IP) will be leaked through the titles.

Thank you for this astute code review. @Maykeye I hope you keep an eye on whatever proposed code changes follow this. =||= Just the fact that it collects your IP address and assigns a UUID to your machine ALONE is worrying..
(Yes, I'm aware Github probably does the same thing, but at least it isn't something that's directly installed on my PC and I can *easily* do something to anonymize myself from it) =||= > Google Analytics? Seriously?

This one *really* concerns me as well, not to say disgusts me. Not only is there an addition of telemetry, of which i do not see potential merits outweighing all concerns to be had, but that data is shoved right through fucking Google. The one entity with enough data to deanonymise anything they want to, given time and will.

I have not ever observed telemetry resulting in an improvement of usability of software. It always ended up just collecting biased data. You can't tell the difference between e.g. a person not being interested in a feature or just not being able to fucking find it or a person not seeing it due to accessibility issues. Yes, all damn software jumps onto that false prophet. And once it does, there's is zero guarantee that said software may not one day add none-of-your-business data to the mix, be it on purpose or by accident. (See the file name concern raised above.)

Looks like i should more seriously start reinstalling all my software except the browser in sandboxed environments without any network connections. =||= @yonderbread Precisely. There is *no such thing* as truly anonymised data. It's only obfuscated at best. Throw enough effort at it and everything's an open book. And all that for little benefit to the end user. =||= Yikes =||= No. =||= I feel like all the points have been driven in - for telemetry, against all telemetry, against _these_ telemetry services; jokes about ""the audacity of"" Audacity; how badly it will kill the project/the team/my ego/my ex's pet slime mold; rallying calls to pitch forks and spoons - all that remains now is to wait on a decision to be made, and set down the pitchforks for the time being.

After all, we're just a small sample of the audience. Many people use Audacity and may remain blissfully unaware of an issue like this, until people notice it being a problem. It would be rather difficult to rally the momentum behind millions of Audacity users to a random fork over a single issue like this.

It is best that we address it _in this project_ primarily, and avoid dragging users through miles of heartbreak over ""which audacity"" to use.

Also worth noting: Audacity ®️ is a registered trademark in the US and other jurisdictions. While I'm not a lawyer, and this is not legal advice: forks really must not carry the name ""Audacity"" on them without permission from its rights-owner - and, in my opinion, even for other reasons aside from the legal. =||= A shitty company will make shitty software, that's no surprise. =||= A summary of the general feeling would be : 

1) Basic telemetry isn't a bad idea but...
2) Opt-in and by default disabled. Ask on first run if the user wishes to enable it, and inform about it.
3) DON'T USE GOOGLE ANALYTICS.  =||= How about we cease the one-word comments and repetition of already-stated arguments and wait for a response from the Audacity team? I think it's pretty clear what the community's stance on this is. Further dilution only hides the actually good arguments. =||= @Zardoz89 I feel misrepresented by your summary. My standpoint is:

- Telemetry for UX studies is near useless thanks to all the sources of bias in your data.
- Automatic crash reports with user confirmation are super valuable.
- If you absolutely must have telemetry or else someone dies, at least follow the entire GDPR by the letter, take it as dogma, and whatever you do, no Google. =||= > Privacy always trumps any need for telemetry data, no matter how legitimate.

\- from the [KDE Telemetry Policy](https://community.kde.org/Policies/Telemetry_Policy).

I wonder how you got to this decision - as a team or as a FOSS contributor to just say ""yeah, it's fine if we can track users using Google Analytics"" (of all things). Don't you know that Google is a data mining company? Users are the _product_, data is their _currency_.

But to keep this constructive, what about another, self-hosted FOSS telemetry library (e.g. https://opentelemetry.io/)? Here's a list of different open source analytics libraries: https://github.com/0xnr/awesome-analytics (seems to be web focused mostly).

Really hope this doesn't get merged and this direction of questionable changes to Audacity under the new leadership will stop! =||= > Also worth noting: Audacity registered is a registered trademark in the US and other jurisdictions. While I'm not a lawyer, and this is not legal advice: forks really must not carry the name ""Audacity"" on them without permission from its rights-owner - and, in my opinion, even for other reasons aside from the legal.

then we can call the fork ""Audacious"" :+1:  =||= Ah, we doing joke fork names? Given the »audacity to telemetry«, how about naming the telemetry-free fork »Respect«? =||= > > Also worth noting: Audacity registered is a registered trademark in the US and other jurisdictions. While I'm not a lawyer, and this is not legal advice: forks really must not carry the name ""Audacity"" on them without permission from its rights-owner - and, in my opinion, even for other reasons aside from the legal.
> 
> then we can call the fork ""Audacious"" +1

Call it ""Humility"" or ""Respect"". =||= > Ah, we doing joke fork names? Given the »audacity to telemetry«, how about naming the telemetry-free fork »Respect«?

Beat me to it. =||= I know it's beating a dead horse at this point, but what exactly does adding telemetry accomplish?  Audacity is already the
> Basic audio editing program that runs on damn near anything.

And if there were any scenario in which it were not accomplishing the running on damn near anything which it already does near flawlessly for decades, would not somebody just open a ticket and upload a crashlog?

The benefit of FOSS is you don't need metrics on which platforms to support, because if it's not working on your end, you can just patch it until it does.  You don't need to predict what the market wants, just carry it forward every once and a while and barring a backport make old releases available. =||= @yzziizzy Concurrency hard. :) =||= @bbappserver Average Joe™ will indeed not open a GitHub issue with a crash report, 'cause Average Joe™ doesn't even know what GitHub is. We are the tech-savvy 1% here. But that's why i said automated crash/error reports with user confirmation are fine. Nobody has to open an issue, Audacity devs get their stack traces in the formats they prefer, everyone's happy. =||= Absolutely no. Remove it already. 
Why do you think people use this tool in the first place? You are taking away something. VERY bad idea.
Resolve this. Make a good decision. Thank you. =||= > @bbappserver Average Joe™ will indeed not open a GitHub issue with a crash report, 'cause Average Joe™ doesn't even know what GitHub is. We are the tech-savvy 1% here. But that's why i said automated crash/error reports with user confirmation are fine. Nobody has to open an issue, Audacity devs get their stack traces in the formats they prefer, everyone's happy.

Serious suggestion here: Put a button in the top right of the menubar that says ""Complain to the Developers"". It pops up a little input box, 128 character max, and sends it directly to a simple webserver along with the build number and OS version, both visible in the box. 100% anonymous. No UUID's, no machine fingerprints, no sneaky anything. Have a 10 minute cooloff or something to prevent spam. Post all the messages publicly on the audacity website. You will collect the real frustrations of your users very quickly. 

The wording of the button is important; do not soften it. You want _complaints_, not _feedback_. You want to know when things aren't working to the degree that people are getting frustrated enough to _complain_, not just that someone had a nifty idea about how the icon should be corn-flower blue. =||= As someone who values privacy more. I aggresively disagree with this. If this gets merged, then I guess I have to look for another Audio Recording software. This is just BS and a violation of our Privacy.  =||= > @bbappserver Average Joe™ will indeed not open a GitHub issue with a crash report, 'cause Average Joe™ doesn't even know what GitHub is. We are the tech-savvy 1% here. But that's why i said automated crash/error reports with user confirmation are fine. Nobody has to open an issue, Audacity devs get their stack traces in the formats they prefer, everyone's happy.

Opening a github issue is by no means the only recourse, the first recommended action in a google search is to ak the forum, then the bugzilla, not the github(though this may be historic, everybody likes the Cloud™ these days.

For modernizing bug reports, I would accept being prompted to upload a log as a convenience, but automatically collecting a bunch of log data during normal operation is probably mostly pointless, and having software that doesn't need to constantly call home just always feels nefarious, even if nobody would ever use Audacity to do something nefarious.  Just collect the last hour of logs, and the postmortem if necessary, maybe scrub some paths etc.

I can see a reason for prompting the user to upload a crash log on relaunch after dirty exit.  And I can see a reason to have a wizard under the help menu for opening a ticket with a simple HTTP POST from within the application for behaviours that are not behaving.   These are always nice to haves for non technical end users.  But session and platform tracking, now that's just dumb. =||= @yzziizzy On that note, i *really* like how MS Teams handles feedback/complaints after video calls. It politely asks for a star rating, you can just click it away. And if you rated, you get the option to specify whether something didn't work. A few checkboxes for expectedly common problems, an input field for custom complaints, done. =||= the level of paranoia on this PR is wildly out of control =||= > the level of paranoia on this PR is wildly out of control

Your level of denial to the practices of your run of the mill ""Don't be evil™"", ""Do the good thing™"" megacorporations is wildly out of control. =||= > the level of paranoia on this PR is wildly out of control

Funny, I just wanted to say the same about the level of ignorance. :D  =||= Excuse me what the funk =||= It's not paranoid to act suspicious of unnecessary features in software that is working fine, particularly if it adds a bunch of otherwise unnecessary dependencies that you now have to manage, and depends on an external commercial interest, especially one that has its entire business model predicated on violating your privacy as much as the law will allow. =||= > the level of paranoia on this PR is wildly out of control

In some countries, privacy is a matter of life and death. It is understandable that some people have strong feelings about it. 

That being said, most of the commenters do not have a problem with responsibly implemented, opt-in, truly and fully anonymous, completely FOSS usage data collection. That's not what this PR is. This PR sends the titles of all your windows to a company known to sell data to all sorts of bad actors. =||= I've been using Audacity since 15 years ago and it's perfectly fine without this unnecessary ""telemetry"" and stuff. =||= Also I've heard people defend telemetry because it would help the UI design. Personally I think the UI is fine as it is... =||= > > the level of paranoia on this PR is wildly out of control
> 
> In some countries, privacy is a matter of life and death. It is understandable that some people have strong feelings about it.
> 
> That being said, most of the commenters do not have a problem with responsibly implemented, opt-in, truly and fully anonymous, completely FOSS usage data collection. That's not what this PR is. This PR sends the titles of all your windows to a company known to sell data to all sorts of bad actors.

Exactly, I wonder how many people will die because US agencies use that data, collected by Google, for drone strikes. =||= This mostly echoes what other people have written but this would be my important shortlist before considering something like this.

- Implement your own data collection service, use data sampling to make the data volumes reasonable.
- Anonymize all data before it's being written to any kind of storage, preferably in the client when its possible.
- Be GDPR compliant (and really spend some time on understanding what this means).
- Provide a detailed document to the users that explains all the events that are collected.
- Always ask users for consent initially and for every change in what you collect.
 =||= > Also I've heard people defend telemetry because it would help the UI design. Personally I think the UI is fine as it is...

I second this. I'm sick and tired of having to constantly re-learn the UI of this or that application because it was ""modernized"" or the devs just felt like changing everything for fashion reasons. Very seldom is there a legitimate improvement in redesigns, and very often it's a step backwards. Look at Excel 2003 vs the new ""ribbon"" garbage. gedit is basically unusable now with the new CSD hamburger menus. =||= So in conclusion, nobody really likes this. Skedaddle. =||= I speak for the quantified opinion of the masses when I say this isn't going to happen.

The finer details of how this isn't going to happen are up to you, Dmitry Vedenko. =||= > - Be GDPR compliant (and really spend some time on understanding what this means).

If not, someone will report failures to be compliant to the corresponding offices, there'd be a tongue-lashing, and if things don't get fixed ASAP then, boy will it be expensive. =||= The first post be like
![image](https://user-images.githubusercontent.com/27609692/117412896-2c03b780-aeca-11eb-9d8e-cc1b2f4d0993.png)
 =||= Make this ONLY opt-in and I don't have an issue with this. We don't want to give Google even more data. I mean if you need analytics setup Matomo Analytics on a DO box and do it like that. I am 100% sure that DO or AWS will provide servers for free for this open-source project but we can also sponsor this. =||= ![funkyoucrsib](https://user-images.githubusercontent.com/61635519/117413852-fe3c6400-af05-11eb-84f7-cf65dc2de989.jpg)
 =||= I would not sponsor for telemetry infrastructure, btw. I prefer throwing my money into the river instead and watch it float. Much better UX. =||= > 
> 
> ![funkyoucrsib](https://user-images.githubusercontent.com/61635519/117413852-fe3c6400-af05-11eb-84f7-cf65dc2de989.jpg)

Respect for making that homemade meme right on the spot. =||= At this point most of this pull request is spam. It's very obvious audacity does not need telemetry. As far as I remember that audacity has plugin support. So why not make this a plugin instead? =||= > At this point most of this pull request is spam. It's very obvious audacity does not need telemetry. As far as I remember that audacity has plugin support. So why not make this a plugin instead?

A plugin tucked away in a repo deep, deep underground where no sunlight will ever reach it. =||= I have a few simple questions.

1) Why on earth would you need Telemetry in an audio editor like Audacity?
2) Telemetry and Crash Reporting are two different things. Why go with Telemetry?
3) Where is telemetry going to help users? Given that users escape Microsoft's Telemetry and come to GNU/Linux distributions for the privacy (as one of the many of the reasons that they use when they decide to switch OSes) why implement a feature that is so hated in a F/LOSS software that is so used?
4) Audacity is a pretty famous F/LOSS piece of software. Noone is denying that and there are plenty of evidence to back that claim up. Why the telemetry?Why now? What makes you guys think that this is ever going to change (apart from merging such a feature into a perfectly fine piece of software)?

Thank you in advance for taking the time to answer my questions. =||= Who's idea was this? 

![56ebpd](https://user-images.githubusercontent.com/45698918/117416505-0fbe4580-aedf-11eb-892f-5123c39051ba.jpg)
 =||= I thought this is a joke. It's not funny. I guess all that had to be said about this has already been said.

I trust the new maintainers will listen to the community and realize doing things this way is not actually going to help Audacity and it's community.

I'll happily share some data with the team to help improve Audacity, but **not like this**. =||= Might as well just use propietary software at this point. =||= > The damage done by even _**suggesting**_ this line of action

I don't know the communication policy of this project, but any other reasonably large project I know use one of ticket / RFC / forum post / mailing list post to “suggest” something like adding phoning home. A PR is for submitting implementations, as can be directly witnessed here it bifurcates into people discussing the change itself, while others focus on the technicalities of the implementation. So perhaps this is also an opportunity to reset the question how adding things like this are communicated to and discussed with the project first. =||= Nice idea ! You should also add a Bitcoin miner ! =||= No, just no =||= As with modern OSS development in 2021, it is likely the discussion here will be ignored, this PR and any issues marked as ""locked; too heated"", and merged anyway. =||= I would like to raise my concern about this pull request as the maintainer of this software for Arch Linux.
With several hundreds of packages to maintain I can not spend the time to start devendoring more things, that are being vendored into audacity for no good reason.

It is one thing to vendor [your custom version of wxwidgets](https://github.com/audacity/audacity/issues/625) (poorly), and not fix issues with the build system (https://github.com/audacity/audacity/issues/522, https://github.com/audacity/audacity/issues/521, https://github.com/audacity/audacity/issues/519). However, it is something completely different to start vendoring `curl` (poorly) and potentially expose users to its numerous CVEs per year.
To remove all this and protect users from this harmful decision making adds more work for me.

This decision is short sighted and *very* frustrating for users and maintainers alike... =||= Ah yes, Open Source Google Spyware, how great =||= WTF are you doing? You woke up one morning and decided your time was best spent writing this garbage? =||= Regarding the concerns of vendoring dependencies, I recommend considering [vcpkg](https://github.com/microsoft/vcpkg). I recently helped [set up vcpkg for Mixxx's Windows dependencies](https://mixxx.org/news/2021-02-23-build-infrastructure-updates/). Despite being made by Microsoft, it was surprisingly pleasant to work with. It's implemented with CMake scripts and integrates with CMake easily. I suspect Mixxx and Audacity have a lot of dependencies in common so you likely won't need to add many packages to vcpkg yourself. It's quite easy to add new packages to vcpkg and it's easy to vendor the dependencies you need to vendor while keeping the rest up to date. Mixxx uses GitHub Actions to build all Windows dependencies, scp an archive of them to a server, then downloads and caches that archive for the CI jobs on the application code repository. I'd be happy to discuss this further and give you some tips to get started on this if you're interested. =||= It is an absolute no-go to include a tracker. Please remove Google Analytics. I do not want to send my data to Google. And in particular certainly not via Audacity. =||= Well lads, if this gets merged, we might as well create a new fork. I’d absolutely hate it if telemetry were to be in Audacity, even more so if it is Google Analytics. =||= Google Analytics in FOSS... the sheer audacity of it all.

Realtalk: if you do this expect much of the userbase to move over to a fork without this spyware in it. =||= why the fuck would you add that =||= Don't really think this is a good idea I was hopeful they would just improve the UI and mostly leave it alone but seems I was wrong

I wouldn't mind if this was opt-in or heck opt-out if the user is prompted after install also don't like the idea of this being done with Google or Yandex

Tracking can be very useful sometimes for fixing bugs but shouldn't be too spook this is only going to push people away from Audacity and probably create many forks

Also don't know how true this is since I am probably the worst programmer on earth but many have pointed out that curl is not very secure and have many security bugs =||= Telemetry is not bad. Just make sure Google isn't the one collecting data. Also make it opt-in. =||= That's the beginning of the end of Audacity.

That's 5500 lines full of bugs that need to be maintained and will take brain time off the actual program. Such things are actively harmful to projects.

Projects that have become greedy for improvement so badly that they start to harm themselves (and their users) into a vicious cycle.

*Actual* users who liked the program and who have something to say about it will leave. And you'll be left with uninvolved people whose usage doesn't reflect the original usage anymore. And so will Audacity die. =||= Can I be in the screenshot? =||= Let's stop collectively posting insults and doomsaying, it's not helpful. The actual points have already been made, and this is just drowning them in the noise. =||= I strongly oppose this change =||= if this gets merged I will have to look for an alternative.  =||= I'll probably too. I try not to use software that ""adds"" my data into Google's magic data collection server lab to do... well nobody knows what they are going to do. =||= @crsib , why doesn't your management just stay away from Audacity development instead of slowly killing it? Just let this program alone, and the community will make it sustain without any telemetry junk!
Nice improvements from the very first days of acquisition! =||= 🍴 =||= ![Audacity](https://user-images.githubusercontent.com/11233299/117425064-baa42300-af22-11eb-964a-56c462bd88e7.png)
 =||= I am against this PR.
Not because it is telemetry, not because it is helpful for the developers

I am against this because it is not opt-in(It is opt-in, according to @SpyTec), and it is using third-party services suchs as Google Analytics and Yandex. 
Good luck writing the new privacy policy and we users are forced to accept =||= The fact that project members discuss implementation details of this instead of questioning the whole idea leads me to believe that a major fork is just a matter of time. =||= > I am against this because it is not opt-in

It is opt-in. Looking through the code can verify that =||= How about ***no*** =||= Next up, adding telemetry to the linux kernel via Google analytics.

Jokes aside, a big **NO**. =||= ITT Twitter and Reddit =||= I guess that this is going to be merged anyway, but have you considered at least using a self-hosted OSS analytics solution like [Plausible](plausible.io) or [Matomo](https://matomo.org/) instead of Google/Yandex?

At least that's a more privacy friendly solution and should get rid of the quota problem. =||= Traditional way to get feedback from users (which functions they use and how much) was to send questionnaire. I wonder if this would be better alternative (e.g. optional questionnaire shown after first run of newly installed Audacity)

Also - I think there are many users which use older versions of Audacity and does not need to update it (because older version just works fine without problems). So probably you will not get actual usage stats this way, but version somewhat skewed to new users / users who update regularly.

EDIT: I use Audacity a lot and updated to 2.4.2 only after I needed to use some advanced noise reduction trick which was not possible with older version which otherwise worked just fine for some years. =||= For all that I dislike the *idea* of having telemetry in FOSS, as a developer I have to admit that it _can be useful_ for cases such as tracking feature usage and bugs. Honestly, what percentage of users **will take the time to write an issue or a forum post** whenever they have a bug? 

That being said, *if* telemetry there is, it should absolutely be opt-in, and **not in the GDPR** ""click OK to accept all or spend fifteen minutes clicking on checkboxes to disable everything"" way.  There are numerous FOSS with telemetry that simply, at the first launch, present the user with a ""Do you agree for XXX to send usage data to the developers?"" dialog box with a simple Yes/No answer. 

That doesn't fix the problem of shipping additional libraries required for telemetry which increases both the time required for OS maintainers to package new releases, and the attack surface. The latter could be solved by providing telemetry-free builds of Audacity for those who want them (remember the ANSI/Unicode Windows builds days?).

No real conclusion in this comment, I simply wrote it to say that the issue isn't as simple as ""Telemetry bad"". =||= It would be especially ironic if after all this true user feedback, Audacity decides to still spy on their users. Clearly it would show that ""user feedback"" is **not** what they really care about, at all. =||= If this gets merged, the project will be forked and the community split. =||= You will own nothing and you will be happy. =||= > > Let's not get hyperbolic here. Audacity is licensed under the GPLv2. Nobody can make it proprietary.
> 
> if muse group holds the license to all the code, they can simply not release future versions under the GPL. the existing code would exist, but the other code wouldn't be GPL licensed.

While we may choose to uplicense as necessary (ex: GPLv2 --> GPLv3), Audacity was born GPL and will remain GPL for as long as it will exist.

Uplicensing is also not something to take lightly either, as there are considerable downstream implications. It should only be done when there is a genuine blocker that prevents enhancements that are clear benefits to the user. 

A good example of such a blocker is the VST3 SDK which is GLPv3. If Audacity is not uplicensed to GLPv3, VST3 support is not possible, significantly limiting future capability and user choice.

Every choice we make as a company in contribution to the open source initiatives that we support is in service of improving the experience of the user.

Part of our commitment to open source is a commitment to transparency. Being fully transparent, the CLA of the open source projects we support does grant some form of flexibility in licensing. But what does this mean?

I will use the example of MuseScore. The MuseScore CLA does allow for the possibility to dual license the source code as GPL and proprietary, so long as it remains also available under GPL.

But why would we ever want to do this? How could this possibly be in service of the user and user choice?

To answer this, let's back up to when the Audacity project began. At that time, the most powerful and capable mobile devices on the market had a 2 inch bitmap screen. The most powerful potential of the capabilities of that device was the ability to play Snake.

Fast forward to now, where the new iPad Pro devices are even more powerful and capable than Apple's top Macbook Pro.

User choice also means choice of devices they wish to experience the software on. But there is only one problem. The ability to install software on some devices is limited by the manufacturer who acts as gatekeeper. 

As we have learned from the Apple/VLC issue from a few years back, there is considerable risk with being subject to these sole gatekeepers and their interpretation of GPL. To minimize such risk, it is good to have more flexible options for limited scenarios such as alternative licensing for a specific build for a specific platform to solve a specific issue (ex: excluded from platform due to GLP as in VLC case).

In more simple terms, we view the potential of dual licensing as an insurance policy in order to ensure availability for the user on the platform of their choice.

All of this is simply words. I completely understand this. I can only suggest that you look to our actions, particularly as it is related with MuseScore. =||= > 
> 
> > I am against this because it is not opt-in
> 
> It is opt-in. Looking through the code can verify that

It's not opt-in if the default is on.

https://github.com/audacity/audacity/pull/835/files#diff-38452b2ab9b100d5046eb855410add20e6158dbc69533301bfc15f6d0913d3efR93-R94 =||= Things like this are the work of corporate developers, not software engineers and computer scientists. Let it be known that users, especially those in the open source community, will not stand to be spied on.

This is quite possibly one of the largest rebuttals to a pull request I've seen, second only to GitHub's DMCA on youtube-dl (which I have commonly used in conjunction with audacity actually).

Good job people. =||= > I can only suggest that you look to our actions

This action looks very bad right now. Your response with an essay on a tangential issue rather than addressing the substance of this pull request only adds fuel to the fire. =||= > I can only suggest that you look to our actions

@workedintheory You seem to be including Google Analytics in Audacity as opt-out. Looking at that action alone shows that you are hostile towards your users: you data-mine them and feed the results into Google, so you can get a little bit of that data for yourself in return. =||= A big **NO**. Waiting for a split/fork and staying with the previous version. =||= Original Author:
> Universal Google Analytics is used to track the following events:
> 
>     * Session start and end
> 
>     * Errors, including errors from the sqlite3 engine, as we need to debug corruption issues reported on the Audacity forum
> 
>     * Usage of effects, sound generators, analysis tools, so we can prioritize future improvements.
> 
>     * Usage of file formats for import and export
> 
>     * OS and Audacity versions


Me Last Night:
> > while we're on the topic of problematically bundling dependencies why on earth does Audacity have an SQLite server **Database** in it in the first place?
> 
> I have answered my own question, aup3 files are actually SQLite databases. Seems like a strange design decision but this PR is not the place to argue about such things.

I have realized that the phrase ""Errors, including errors from the sqlite3 engine,"" is deliberately misleading. As mentioned in the Quote from an off topic discussion earlier the SQLlite3 engine IS the save file handler in the (new and ill-conceived) Audacity 3.0 save format. So without going through 5000 lines of code to confirm this there is a distinct possibility that 

## __this code is uploading portions of your save files to Google and Yandex__. 

Which is not as harmless as the developers have indicated but is a major invasion of privacy.

I commented last night that this is not the time to argue about save files, but it has come to my attention that even Archlinux (a distribution known for tracking software releases quickly) is refusing to update past Audacity 2.4.1 Which implies there is something fundamentally wrong with the new release. I think that the new save format which is evidently causing many issues on the forum is part of this problem. 

So a message for the devs: If you ditch this ill conceived idea of using web tech to store real time audio data that is fundamentally incompatible with how people want to use the software, maybe to won't need telemetry to track why it's broken. I can tell you why its broken RN, it was a bad idea!

I demand a community petition to roll the entire project back to v2.4, and divorce from MuZegroup
 
 =||= As the founder of Kludge Cyber Systems we are happy to make and adopt a community fork if this is merged. Rest assured, this ship will not sail anywhere other than the seas of freedom. =||= @falkTX has already offered to maintain a fork. If that ends up being necessary, it would best be done by someone with a strong reputation and skills in cooperative audio software. =||= > As the founder of Kludge Cyber Systems we are happy to make and adopt a community fork if this is merged. Rest assured, this ship will not sail anywhere other than the seas of freedom.

I thought this was a joke at first. Then I realized you really did found a company called Kludge Cyber Systems. My bad =||= > I thought this was a joke at first. Then I realized you really did found a company called Kludge Cyber Systems. My bad

No worries. My friends laughed at me for the name when I made it, too. But ultimately I founded it to prove to myself you don't have to swallow your morals to be successful, so that doesn't matter to me

> @falkTX has already offered to maintain a fork. If that ends up being necessary, it would best be done by someone with a strong reputation and skills in cooperative audio software.

I agree. This would be our first undertaking into audio software, but we pick up on things very quickly, and in general have a good reputation with maintaining open source projects of many sizes. For instance, we have inherited 2 year old Python abandonware, I myself know C++, Go, Rust, et cetera, and we are strong advocates of open source software.

Not to toot my own trumpet, though - this decision is best left to the community as a whole. =||= This is a really bad idea =||= > No worries. My friends laughed at me for the name when I made it, too. But ultimately I founded it to prove to myself you don't have to swallow your morals to be successful, so that doesn't matter to me

I like the name :) =||= _Embrace, Extend, Exterminate_ =||= > 
> 
> > > I am against this because it is not opt-in
> > 
> > 
> > It is opt-in. Looking through the code can verify that
> 
> It's not opt-in if the default is on.
> 
> [#835 (files)](https://github.com/audacity/audacity/pull/835/files#diff-38452b2ab9b100d5046eb855410add20e6158dbc69533301bfc15f6d0913d3efR93-R94)

No, it is opt-in. You're referring to a modal with ""Yes"" already focused so that pressing enter key will enable it. You still have a yes and no button next to each other. Throughout the code telemetry is disabled and will only be enabled if the user clicks yes. Focusing on the confirmation button does not mean it's opt-out =||= > No, it is opt-in. You're referring to a modal with ""Yes"" already focused so that pressing enter key will enable it.

I do have to ask, though - why is this even necessary? The only thing software like this needs to collect is when errors occur and crash logs happen, at which point a popup should display at the end of the session or on crash letting them see the log that's about to be sent and asking if they want to report it. =||= > This request provides the basic telemetry for Audacity.
> 
> To implement the network layer libcurl is used to avoid issues with the built-in networking of the wxWidgets.
> 
> Universal Google Analytics is used to track the following events:
> 
> * Session start and end
> * Errors, including errors from the sqlite3 engine, as we need to debug corruption issues reported on the Audacity forum
> * Usage of effects, sound generators, analysis tools, so we can prioritize future improvements.
> * Usage of file formats for import and export
> * OS and Audacity versions
> 
> To identify sessions we use a UUID, which is generated and stored on the client machine.
> 
> We use Yandex Metrica to be able to correctly estimate the daily active users correctly. We have to use the second service as Google Analytics is known to have some really tight quotas.
> 
> Both services also record the IP the request is coming from.
> 
> Telemetry collection is optional and configurable at any time. In case of data sharing is disabled - all calls to the telemetry Report* functions are no-op.
> 
> Additionally, this pull request comes with a set of libraries to help the future efforts on Audacity.

To whom it may concern,

I speak as only an individual amongst the huge FOSS community, so value the following comments as just a representation of only MY feelings & opinions on this matter.

*But* take note that this is the **FIRST** time that I have ever been so against a decision that I have felt that I needed to voice my opinion on it.


So the first issue I have here is just how **poorly** the *Audacity Development Team* have handled this entire Push Request/Suggested Changes process.
You have failed from the very outset to identify that as a widely used and well loved FOSS, you will be, and must be, at all times subject to public scrutiny of decisions prior to **ANY** kind of code changes being submitted.

Your entire teams complete lack of transparency, and the failure of your team to respond adequately & promptly following such a strong public disagreement shows that the systems you have in place for managing Public Relations are an utter shambles and really need to have attention paid to them so that situations similar to this if they do occur in the future aren't pushed through with such complete disregard for end-users & package maintainers.


Now that I have highlighted the flaws in the poor execution of public relations with the community I shall now move on to addressing the actual Code Commit itself, it's contents, it's intentions, and it's usefulness.

##1.) The addition of Telemetry inside of a FOSS project

Now that I have clearly outlined in the title of this section exactly what I will now cover you should hopefully be prepared to listen to and take note of the issues that I have with this change.

FOSS prides itself on being highly privacy-focused and open, this is something that many people in the FOSS community see as a cornerstone of FOSS development, and it seems that the the Audacity Development Team have failed to realise just how critical privacy is to many people that choose Linux and FOSS as thier chosen methods of software interaction.

Telemetry is not welcome in FOSS software, regardless of the project, and as someone who helps support a FOSS project I can tell you from my own personal experience that Telemetry is essentislly useless to most people looking to find faults with and fix bugs in software, the methods with which the data is gathered, and, the inability for that data to be understood from the users perspective mean that it is impossible to gain any useful context from Telemetry Data.

The Audactiy Development Team should be fully aware that Telemetry is useless for all but some very invasive marketing and analytical subjections.

***WHY*** **did you ever think this was an acceptable change to make?**

**Do you think we are stupid?**

Under no circumstances should Telemetry be included into Audacity.
It doesn't belong in FOSS projects under any circumstances.

And, your attitude towards how you have handled it's suggested integration into Audacity highlights your complete disconnection from the huge community that uses Audacity.


Stop the process here and now.
Go back to the drawing board and re-evaluate the feedback you have recieved from the community on this matter.
You'll learn a lot by listening to the communtiy and taking on-board the feedback that has been provided.

Don't make us fork this project just because you are unable to accept honest criticism from your end-users.
Do the right thing, work with us to improve the project in ways that the community want it to be improved.


The last two points I was going to cover are frankly irrelevant because they don't even need to be considered once you taken on-board my feedback on the first point.
But just in case you think you know better than your own end-users..... 

***NO Google. NO Yandex.***

**NO Opportunity for discussions on the matter either. It's the communities way or the highway for the current Audacity Development Team.**


Take heed, we want our values preserved, please don't fight against us on this matter.



 =||= I like the guy above me. =||= Don't merge this. =||= This is sus as. =||= Where am i? =||= If I had to guess, I don't think the community wants this. Not like there's 19 likes and 1570 dislikes.
In all seriousness, this might contribute to the development of Audacity but this seems unnecessary, especially with the existence of forums. If there's a crash... just post it on the forums. No automation or Google Analytics required, and users can leave their privacy concerns at rest. =||= > Where am i?

The place from where it all went down :( =||= This is preaching to the choir and may be melodramatic grandstanding: the spirit of Audacity was a open research project at Carnegie Mellon. I don't speak for my institution, but it seems like many of my peers are all to eager to cash out with a lucrative big tech job violating people's privacies. Somewhere along the way, most of the hacker spirit died and programming just became a way to market and track people more.  =||= > > Where am i?
> 
> The place from where it all went down :(

@CristhianCC and me looking at this PR :D
![image](https://user-images.githubusercontent.com/30338644/117431827-f7274d00-af29-11eb-94ed-1162cd2a4e62.png)
 =||= Use internal infrastructure instead of relying on a third party for analytics collection, please. =||= > This is preaching to the choir and may be melodramatic grandstanding: the spirit of Audacity was a open research project at Carnegie Mellon. I don't speak for my institution, but it seems like many of my peers are all to eager to cash out with a lucrative big tech job violating people's privacies. Somewhere along the way, most of the hacker spirit died and programming just became a way to market and track people more.

That isn't software engineering. That isn't computer science. It's computer industry. Your peers can enjoy it, but I'd hope you reasonably want no part of it, and certainly nor do the rest of us. =||= Polite reminder this is GITHUB, not your local discord server. Please keep discussions on topic, and ensure every new post adds to the discussion. As a further reminder every time someone clicks ""Comment"" about 200 people get an email.  =||= > adds

Sorry, i thought Reddit had a new feature to upload code. My bad. =||= > All of this is simply words. I completely understand this. I can only suggest that you look to our actions, particularly as it is related with MuseScore.

These are all very sweet words. But the TL'DR of your message is that you are somehow implying you will add a CLA to be able dual license Audacity, i.e. add a non-GPL version. Could you please clarify if you obtained that permission from all main constributors of _the existing code base_ (which in my understanding is a precondition to add dual licensing), and what you intend to do with code that has been submitted by people who were not part of that deal? =||= > and ensure every new post adds to the discussion.

I think that ship sailed 200 comments ago =||= > All of this is simply words. I completely understand this. I can only suggest that you look to our actions, particularly as it is related with MuseScore.

Not really a strong leg to stand on MuseScore has been littered with subscription only features and bolted to a closed source server infrastructure. With as far as I can tell little input from the community about if that is what they want. Muse is about monetizing these apps not improving them. =||= Currently over 99.97% of the reactions to the original commit are negative. Clearly the users are overwhelming opposed to it. If it gets added that will be a massive middle finger to people who have used Audacity all these years and will most likely result in a loss of users. =||= BTW Ardour is Free Open Source, has no tracking, and still manages to fund its self. BTW its also got 90% of the features of Audacity, and is a viable exit strategy for many.

 * Cough * https://ardour.org/ * cough * =||= > Currently over 99.97% of the reactions to the original commit are negative. Clearly the users are overwhelming opposed to it. If it gets added that will be a massive middle finger to people who have used Audacity all these years and will most likely result in a loss of users.

Most users who were led here by reddit, HN, etc. It would be more fair to survey ""the typical Audacity users"" (what telemetry does, but voluntarily). I think Audacity users care about open source, but a lot of people couldn't care less and just use it because it's free. Or maybe distro maintainers will decide whether or not to use a fork. =||= https://old.reddit.com/r/programming/comments/n6kxm8/psa_audacity_pr_to_add_telemetry_sharing_user/gx91j70/

> We're going to be writing up an announcement about this soon. Apologies for the delay. I just woke up to see this thread.
> 
> To calm those who are concerned, here are the facts about the telemetry PR:
> 
> The purpose is to collect app performance statistics. Most importantly, the crash rate.
> It is anonymous. There is understandable concern that this is intended to collect personal information. It really isn't.
> This has absolutely nothing to do with advertising of any kind
> It is optional. We ask users whether they will allow us to collect these statistics when the app opens. You can say 'no' and we don't ask again. We can not automatically track anything by law and wouldn't try to.
> There is nothing sneaky about our intentions here. We've been getting a few disturbing comments about crashes on large projects and we want to determine how widespread they are. It's a very useful tool to help us keep the app stable.
> 
> This message won't answer every concern raised here. We're getting on that. Just thought I'd at least let you know the basics.
> 
> edit: it is also disabled by default =||= Getting back on topic.. sorry to say but Google Analitycs and Datadog are ones of the most intrusive methods to datamine the user, the way and the ammount of data that it collects its disgustingly wide.

I honestly wouldn't feel comfortable knowing that Audacity uses it, even if there was a button to disable it. =||= > Most users who were led here by reddit, HN, etc. It would be more fair to survey ""the typical Audacity users"" (what telemetry does, but voluntarily).

Anecdotal data point: I'm a regular Audacity user and I also learned about this issue via Reddit. (I don't know if I would have learned about this in time if it wasn't for Reddit/HN.) I assume that many of the people speaking in this thread actually use the application instead of participating in storms about applications they don't even use or haven't seen them used themselves. =||= > Telemetry is not welcome in FOSS software, regardless of the project, and as someone who helps support a FOSS project I can tell you from my own personal experience that Telemetry is essentislly useless to most people looking to find faults with and fix bugs in software, the methods with which the data is gathered, and, the inability for that data to be understood from the users perspective mean that it is impossible to gain any useful context from Telemetry Data.

@TOGLK I understand the motive behind it but I disagree with this. While I do admit that telemetry is useless for the end user, it's *theoretically* only directly useless for them. If developers use telemetry properly, this will indirectly be useful for the end user as many more bugs will get squashed which will make it more stable and potentially faster, but that's only if developers use telemetry properly.

I'm all for FOSS telemetry. I don't like opt-in or opt-out telemetry; I prefer a prompt at first launch that asks the user if they want to enable telemetry or not, which can then be enabled or disabled in the settings depending on what you chose initially.

That being said, I'm all for FOSS telemetry. Google Analytics is something I will sincerely disagree with however. =||= > > Currently over 99.97% of the reactions to the original commit are negative. Clearly the users are overwhelming opposed to it. If it gets added that will be a massive middle finger to people who have used Audacity all these years and will most likely result in a loss of users.
> 
> Most users who were led here by reddit, HN, etc. It would be more fair to survey ""the typical Audacity users"" (what telemetry does, but voluntarily). I think Audacity users care about open source, but a lot of people couldn't care less and just use it because it's free. Or maybe distro maintainers will decide whether or not to use a fork.

That may be the case but that doesn't mean when the average user hears about this and how it was added to Audacity anyway despite the overwhelming concerns of other developers that there won't be a loss of users, not all users, most likely not a majority of users, but it will still drive people away from the program. Are the benefits of telemetry worth that loss? =||= 

> https://old.reddit.com/r/programming/comments/n6kxm8/psa_audacity_pr_to_add_telemetry_sharing_user/gx91j70/
> 
> > We're going to be writing up an announcement about this soon. Apologies for the delay. I just woke up to see this thread.
> > To calm those who are concerned, here are the facts about the telemetry PR:
> > The purpose is to collect app performance statistics. Most importantly, the crash rate.
> > It is anonymous. There is understandable concern that this is intended to collect personal information. It really isn't.
> > This has absolutely nothing to do with advertising of any kind
> > It is optional. We ask users whether they will allow us to collect these statistics when the app opens. You can say 'no' and we don't ask again. We can not automatically track anything by law and wouldn't try to.
> > There is nothing sneaky about our intentions here. We've been getting a few disturbing comments about crashes on large projects and we want to determine how widespread they are. It's a very useful tool to help us keep the app stable.
> > This message won't answer every concern raised here. We're getting on that. Just thought I'd at least let you know the basics.
> > edit: it is also disabled by default

This response by Tantracrul misses most of the complaints people have. I am not hopeful at this stage for the Audacity team to actually listen to the feedback. =||= This is a terrible idea, and is a crime against the values of many of your core users. Absolutely immoral. =||= I have a Distro developer telling me they are preparing a patch to remove this PR from future builds for their OS. So this is already starting to fracture the product. =||= Why do you want telemetry this much with all these services?
They're never going to make their way into this software, move on and make your own fork of audacity with Google Analytics telemetry if you want, but keep in mind that it isn't Audacity's goal to track (not directly) its users. =||= Yandex, seriously? Like a KGB cyber front? Haha, try harder next time... =||= All I will say is that after [this little gem](https://github.com/Xmader/musescore-downloader/issues/5) where, after the acquisition by Ultimate Guitar (now Muse Group), MuseScore developers threatened a developer with sending the police to their door for *using a public API* to download sheet music... I am not in the least bit surprised that their first move after taking control of Audacity would be something like this.

> Otherwise, I will have to transfer information about you to lawyers who will cooperate with github.com and Chinese government to physically find you and stop the illegal use of licensed content.

Seriously, read the whole thread for more. =||= This IMHO (and the success of programs like Blender) is the proof that FLOSS projects work best as non-profit endeavors (e.g. foundations) backed by donations. We have to change the culture so that all users realize the value of FLOSS programs they use and donate to feed the people who put their work into those programs! =||= The success of a fork or a continuing series of patches depends on where the regular contributors contribute to. The same issue arose when youtube-dl got into hot water on github. Have the regular contributors made any statements yet?  =||= > This IMHO (and the success of programs like Blender) is the proof that FLOSS projects work best as non-profit endeavors (e.g. foundations) backed by donations. We have to change the culture so that all users realize the value of FLOSS programs they use and donate to feed the people who put their work into those programs!

Yes, take a look at Krita and Ardour for positive examples of how to fund cooperative creative software. @workedintheory I recommend you have some discussions with the developers of those software about how they make it work in practice. =||= > every time someone clicks ""Comment"" about 200 people get an email.

Good. Telemetry is not wanted.
 =||= pls never merge this. =||= this is a horrible, horrible idea =||= It really is a bad omen if the first thing that MuseScore does is implement user tracking using Google, of all things. =||= > Polite reminder this is GITHUB, not your local discord server. Please keep discussions on topic, and ensure every new post adds to the discussion. As a further reminder every time someone clicks ""Comment"" about 200 people get an email.

What's the point of being constructive? This is garbage pull request, the points have been made, and now the only thing left is to get those points across. =||= I am as an end user firmly in the camp this pull request should be rejected as one it raises serious privacy concerns and two it will cause a fork. If something like this is allowed in can I trust the Audacity team any more? Because from where I'm standing I can not and this is coming from a long time user that has used Audacity in a professional context and suggested it to other people over the years.  The fact parts of the code are obviously obfuscated to hide what they actually do and where they are sending data is worrying especially with the fact we know there are actors out there trying to initiate supply chain attacks on OSS projects. 

EDIT: One thing I forgot to mention is I have no issue with some telemetry per say it's more the providers being used to process it as I know Google has been caught in the past intentionally trying to link 3rd part apps and services using their analytics to their user tracking database.  I do believe a better solution can be found with a little time with the greater community.  =||= yay another fork and revert  =||= > It really is a bad omen if the first thing that MuseScore does is implement user tracking using Google, of all things.

It's true. I haven't seen a single UX improvement yet. =||= > The fact parts of the code are obviously obfuscated to hide what they actually do

The Audacity code is not obfuscated. It's right here in this pull request, have a look yourself if you want. Multiple people have already. However, the code running on the servers this data is sent to *is* proprietary. =||= Please no. Thank you. =||= The telemetry should be put behind a define so one could compile Audacity without telemetry. Opt In after compiling it and optional in the compilation process. =||= This is an awful idea. At least you could have tried to implement it in some non-google, open-source way. If this gets accepted, you are losing me as a devoted Audacity user. Please do not continue with these efforts. =||= Umpteenth user chiming in: the issue is not telemetry, it's the provider used. I am happy to provide telemetry data, so long as the telemetry infrastructure is open source and hosted by Audacity. A black box is unacceptable in free and open-source software. =||= ""Additionally, this pull request comes with a set of libraries to help the future efforts on Audacity.""
Putting sugar on crap doesn't make it not crap. =||= > Umpteenth user chiming in: the issue is not telemetry, it's the provider used. I am happy to provide telemetry data, so long as the telemetry infrastructure is open source and hosted by Audacity. A black box is unacceptable in free and open-source software.

Maybe making it viewable for everyone would also help? Because that way everyone knows transparently whats being collected + independend devs can also use that data for improving the software. =||= People really going ""these people came here from reddit, they're not real users"" when the merge request calls the program ""the audacity"" like some geezer calling their grandkids' favorite game ""the pokemon"" =||= > People really going ""these people came here from reddit, they're not real users"" when the merge request calls the program ""the audacity"" like some geezer calling their grandkids' favorite game ""the pokemon""

That they had _the audacity_ to do this 🤪 (sorry I couldn't help myself) =||= It will be the ""Vital vs Vitalium"" situation all over again. An audio editing tool is an audio editing tool, not something that connects to your toaster and short-circuits it.

But if you're butt-tight about telemetry, how about using something like [plausible](https://plausible.io/) instead of Google analytics? Plausible is open source and can be self hosted. =||= I wouldn't care a lot about this but it is using Google analytics. No just no.  =||= > Umpteenth user chiming in: the issue is not telemetry, it's the provider used. I am happy to provide telemetry data, so long as the telemetry infrastructure is open source and hosted by Audacity. A black box is unacceptable in free and open-source software.

Even if the infrastructure is FLOSS, once your data leaves your computer you have no control over it. Audacity's servers could still send it to other servers owned by ad companies. My question is: since Muse Group is a for-profit company and it decided to buy Audacity, which is clearly an offline program, why did they buy it? What is their proposed business model? =||= bruh =||= And this, dear viewers, is the first step of a formerly very popular foss software into irrelevance.
Fair well, it was a good time before it stopped being Free and Libre Open Source software. =||= > People really going ""these people came here from reddit, they're not real users"" when the merge request calls the program ""the audacity"" like some geezer calling their grandkids' favorite game ""the pokemon""

Muse Group developers appear to be located in Russia. I wouldn't hassle them over English usage =||= > Umpteenth user chiming in: the issue is not telemetry, it's the provider used. I am happy to provide telemetry data, so long as the telemetry infrastructure is open source and hosted by Audacity. A black box is unacceptable in free and open-source software.

I would like to point out that I am NOT happy with any telemetry. Telemetry shows a shift from the user base being a community to being a customer base. Instead of cooperating with the community a telemetry system spies on them, and stores its findings in a database that only a handful of developers can access. This is flies in the face of the fundamental goals of free open source software that anyone can contribute and all project materials are freely available. =||= I think its clear that most of us don't like this PR, can we finally agree on that and cancel this PR?

![image](https://user-images.githubusercontent.com/30338644/117439179-d283a300-af32-11eb-84db-f86f2695ac04.png)


Worst case scenario, we can always make a fork if people want to keep using it without the proposed changes. =||= To all people complaining here, MuseScore already includes google analytics.
https://github.com/musescore/MuseScore/tree/master/thirdparty/qt-google-analytics

So they likely already have a working setup with GA, it makes sense (for them, on their side) to use the same setup once again.

I think complaining here will do nothing. They will merge this and just wait for the storm to die out as usual.
 =||= 

> To all people complaining here, MuseScore already includes google analytics.
> https://github.com/musescore/MuseScore/tree/master/thirdparty/qt-google-analytics
> 
> So they likely already have a working setup with GA, so make sense (for them, on their side) to use the same setup once again.
> 
> I think complaining here will do nothing. They will merge this and just wait for the storm to die out as usual.

I think it still makes sense to put it behind a define - maybe even making the data public - its open source after all (but especially not using Google or Yandex would help) =||= > I think its clear that most of us don't like this PR, can we finally agree on that and cancel this PR?

The people who can do that are project maintainers and members i.e. the people who have permissions to for this repo. =||= This was a dumb idea. It is just going to mean the project gets forked and the developers move. =||= > I think its clear that most of us don't like this PR, can we finally agree on that and cancel this PR?
> 
> `<image snipped>`
> 
> Worst case scenario, we can always make a fork if people want to keep using it without the proposed changes.



> bruh


> I don't like you.

Polite reminder this is GITHUB, not your local discord server. Please keep discussions on topic, and ensure every new post adds to the discussion. As a further reminder every time someone clicks ""Comment"" about 200 people get an email.

@Frenzoid  @CristhianCC  Final warning both of you before you get passed up to the GitHub Moderation team


 =||= @falkTX, so is distrho ports going to have a new addition? =||= I agree, terrible idea. I will use a fork. =||= Regular users shouldn't have their data unsolicitedly sent to servers. =||= we engage in subtle ammounts of tomfoolery =||= > @falkTX, so is distrho ports going to have a new addition?

distrho-ports is for juce plugins, not this.

for open-source and linux distributions in general, the best we can do for audacity is de-vendor the dependencies as much as possible.
the custom modifications to wxwidgets are particularly hard to deal with for packaging #625 =||= > To all people complaining here, MuseScore already includes google analytics.
> https://github.com/musescore/MuseScore/tree/master/thirdparty/qt-google-analytics
> 
> So they likely already have a working setup with GA, it makes sense (for them, on their side) to use the same setup once again.
> 
> I think complaining here will do nothing. They will merge this and just wait for the storm to die out as usual.

Well if true that's that. Time of death May 2021, age 22 years. =||= For error reporting a good alternative could be sentry.io, as it's opensource and has way better tools for catching errors.

For tracking there's always matomo.org, which is also opensource. =||= Please do not add telemetry to Audacity. I do not like the idea in general but using Google makes this even worse.
Maybe use polls and surveys to find out how people are using the program. I'm 1000 times more willing to fill out a survey than passively provide use information. I'm sure many other people feel the same, especially since this is open source software that people are inclined to trust more than proprietary software. =||= > 
> 
> > > Where am i?
> > 
> > 
> > The place from where it all went down :(
> > @CristhianCC and me :D
> > ![image](https://user-images.githubusercontent.com/30338644/117431827-f7274d00-af29-11eb-94ed-1162cd2a4e62.png)



> 
> 
> > To all people complaining here, MuseScore already includes google analytics.
> > https://github.com/musescore/MuseScore/tree/master/thirdparty/qt-google-analytics
> > So they likely already have a working setup with GA, it makes sense (for them, on their side) to use the same setup once again.
> > I think complaining here will do nothing. They will merge this and just wait for the storm to die out as usual.
> 
> Well if true that's that. Time of death May 2021, age 22 years.

Polite reminder this is GITHUB, not your local discord server. Please keep discussions on topic, and ensure every new post adds to the discussion. As a further reminder every time someone clicks ""Comment"" about 200 people get an email.

@IGBC Final warning before you get passed up to the GitHub Moderation team =||= Dear all,

We have updated the PR description to clarify what is going on. =||= I think its quite clear that people dont like this PR, as for this topic, as i said before, its gotten out of hands.

People already said more than 10 times that noone wants these changes, and the fact that it doesnt stop says alot about the progression of this topic.

Its gotten to the point where the conclusion of the topic is more than clear, and theres nothing else to add that could change the mind of the users.

The topic should be closed at this point, you wanted a feedback for this PR, and you got it.



Not meant to be rude with this message, but the topic started deviating from the original subject long ago. =||= > Dear all,
> 
> We have updated the PR description to clarify what is going on.

If this is absolutely necessary - what about at least making the data public (anonymized) and using open-source tools? =||= Please do not add telemetry to this project. =||= > Dear all,
> 
> We have updated the PR description to clarify what is going on.

The updated description states:

> We will consider replacing Google and Yandex with another service if we find one that fulfills our requirements - thanks for the suggestions and keep them coming.

As-is, going with GA is crossing a line many people here expressed not being okay with.

I am personally not okay with any kind of analytics, but if it really has to happen without question, FFS do not use Google.
The fact that we even need to state this makes me lose hope on the development process of the team behind Audacity.
 =||= >     2\. Telemetry only works in the builds made by GitHub CI from the official repo (the telemetry URLs are only defined there).

This will essentially erase all users of your software not using Windows or MacOS, as most UNIXes rebuild the software on their own servers which will automatically exclude them from your statistics. With an automatic measurement bias such as this how do you expect to extract meaningful information from this move, without punishing users on platforms that are not supporting your telemetry? =||= > Regular users shouldn't have their data unsolicitedly sent to servers.

Please fully read the PR comment:
`Telemetry is strictly optional and disabled by default. No data is shared unless you choose to opt-in and enable telemetry. `.

I don't know, do you cry over the fact that when Firefox crashes you can send crash info back to Mozilla? =||= Please don't merge this. I don't want to share my data – especially not with a google service. =||= I agree with @falkTX. I would like to see a clear, unambiguous commitment now that you will *not* use Google Analytics *nor* Yandex. To quote [KDE's Telemetry Policy](https://community.kde.org/Policies/Telemetry_Policy):

> Privacy always trumps any need for telemetry data, no matter how legitimate.

I understand it will take some time to evaluate the various alternatives that have been proposed and decide on one. If none fulfill everything you wanted, then continuing with Google Analytics and/or Yandex is still not acceptable. =||= Even its disabled by default, the fact that it use GA and Yandex as first start is still disappointing. Should have choose the free open source analytics one if still insisting doing telemetry =||= > Telemetry is strictly optional and disabled by default.

So on the prompt window the button for sending telemetry is pretty much highlighted. Yet you state, that it is disabled by default. It makes no sense to me.  =||= > Due to the large amount of worry about this PR

Nah you have mistaken worry for anger =||= > My question is: since Muse Group is a for-profit company and it decided to buy Audacity, which is clearly an offline program, why did they buy it? What is their proposed business model?

My guess? Make an ad filled mobile app with a paid ""premium version"" to remove the ads and slowly turn Audacity itself into a ""cloud based music creation platform"" with a subscription fee. =||= ![imagen](https://user-images.githubusercontent.com/45803478/117442748-78391100-af37-11eb-8d71-7670d053cbf7.png)
 =||= Is this a joke? =||= I'm not a fan of telemetry in general, especially for a fully offline application.

But my biggest concern lies with google and yandex, these are not privacy conscious companies nor do you have any control over how they use the data. (That's, of course, assuming the telemetry remains opt-in by default and that the behavior never changes, this seems unlikely to me seeing how this industry tends to operate so I'm strongly against it in general).

Notably this prompts the question ""how is this going to change over time?""
Is it going to become mandatory in five years? Is it going to then expand in scope? 

I suspect I'm not the only one finding this development concerning in both the short and long term. =||= > Telemetry is strictly optional and disabled by default. No data is shared unless you choose to opt-in and enable telemetry.

FYI, while opt-in is a good thing, the interface in the screenshot *still* violates the GDPR - it makes the ""accept"" option more visually attractive, which is not allowed. The accept and reject options must be presented on equal footing, without using 'dark patterns' like attractive colors for the accept button or extra-convincing label text.

Edit: It also doesn't mention *where* it is sending the data to, which is dubious under the GDPR at best. =||= > > Telemetry is strictly optional and disabled by default.
> 
> So on the prompt window the button for sending telemetry is pretty much highlighted. Yet you state, that it is disabled by default. It makes no sense to me.

Yeah this is concerning too. If they ship it into macOS also, should it have to be the ""Dont Send"" button that should be highlighted? because what i know about Apple ecosystem is they designed it like that and giving no option to tracking. =||= > Most users who were led here by reddit, HN, etc. It would be more fair to survey ""the typical Audacity users"" (what telemetry does, but voluntarily). I think Audacity users care about open source, but a lot of people couldn't care less and just use it because it's free. Or maybe distro maintainers will decide whether or not to use a fork.

I am very sick of this mentality to be very honest.

It is precisely us that should be opposing these changes. As developers we have the responsibility to fully understand the technical and ethical implications of such things and stick up for software users that are less informed than us - users that place all their trust in us.

When I go to the store to buy food I expect it not to contain poison because I trust that the experts in that industry have my best interests in mind, and have protected me against things that I may not know about. ""We can put telemetry in this software and the users will not realise"" is just as true as ""We can put poison in our food and the customer will probably not realise from the ingredients list"". =||= > > Telemetry is strictly optional and disabled by default. No data is shared unless you choose to opt-in and enable telemetry.
> 
> FYI, while opt-in is a good thing, the interface in the screenshot _still_ violates the GDPR - it makes the ""accept"" option more visually attractive, which is not allowed. The accept and reject options must be presented on equal footing, without using 'dark patterns' like attractive colors for the accept button or extra-convincing label text.
> 
> Edit: It also doesn't mention _where_ it is sending the data to, which is dubious under the GDPR at best.

bump bump bump =||= > Most users who were led here by reddit, HN, etc. It would be more fair to survey ""the typical Audacity users"" 

These are the typical Audacity users. Audacity users are almost a complete subset of reddit & HN users. =||= ![image](https://user-images.githubusercontent.com/24716467/117443386-f98ca580-af2f-11eb-85d6-67932de378d3.png)
Please make ""Don't send"" the default option, or don't specify a default option.  =||= Don't merge this please. =||= > To address the concerns about use of private library versions, the largest part of this pull request is a networking layer built on  top of libcurl. This library is chosen as it is an industry-standard for cross-platform networking. It is exceptionally tested and reviewed by industry experts.

In your clarifications you do not address the security implications that you introduce with vendoring an out-of-date and unpatched version of curl though (which would be the case for macOS and Windows users). Do you plan on releasing every time libcurl has a release? How do you envision to do security advisory tracking?

> The layer on top of it, aka lib-network-manager meant to simplify the development of future features. libcurl is used without any patches. It is possible to use the system-provided version of the library available on the Linux distributions, and we will double-check that this works as expected.

Opening an application to the internet like this is non-trivial and unnecessary attack surface.
The above leads me to the conclusion, that `lib-network-manager` will be used not only for telemetry in the future and I find this very worrying, as this means that while the user can opt-out of telemetry, a vendored libcurl would still be used to talk to e.g. a web shop or whatever it is you envision to do with it.

That thinking about the topic of ""how to build this sanely on a Linux distribution"" came after the fact makes me not very hopeful, that issues with the build system, such as #625 will ever be resolved. =||= The confirmation dialog says:

> We <u>do not</u> collect any personal data or sensitive information such as location or file names or any content of your audio.

… when at the same time the pull request says …

> * Errors, including errors from the sqlite3 engine, as we need to debug corruption issues reported on the Audacity forum
>
> …
> To identify sessions we use a UUID, which is generated and stored on the client machine.
> …
> Both services also record the IP the request is coming from.

So, errors reported “anonymously” can be matched with forum users. Great.

> * Session start and end
>
> …
> We use Yandex Metrica to be able to correctly estimate the daily active users correctly. We have to use the second service as Google Analytics is known to have some really tight quotas.

If you use Yandex to get daily usage, why do you need session start time? If you want to get session duration, why record start/end? Can you name a single feature that would benefit from usage duration information?

> We have to use the second service as Google Analytics is known to have some really tight quotas.

Why would you use GA then?
 =||= If this is merged I'm off official builds. I'm sure someone will be providing binaries off here that have the telemetry disabled at compile time.

In the end I have outgoing firewalls on everything anyway and block requests by default. Funny that the first thing you do when audacity is bought out is an unpopular ""feature"" 1/2 the user base is against. =||= I think Audacity can still come out on top and get back users trust if it closes this PR on the short-term.
The longer this PR is left open, the more people will be outraged and stop using it altogether.

At some point the shitstorm is not worth it.
Only if there are deeper plans for more ""modern"" practices coming after this, which I really, really hope it is not the case.

Please close this PR and show you care about yours users. =||= If audacity is going to add telemetry, I’d at least suggest using [matomo ](https://matomo.org/) instead of privacy-unfriendly solutions like Google analytics and similar. =||= > I think Audacity can still come out on top and get back users trust if it closes this PR on the short-term.
> The longer this PR is left open, the more people will be outraged and stop using it altogether.
> 
> At some point the shitstorm is not worth it.
> Only if there are deeper plans for more ""modern"" practices coming after this, which I really, really hope it is not the case.
> 
> Please close this PR and show you care about yours users.

nah this team will never again be trusted by anyone for anything ever again =||= completely off topic but @falkTX are you the guy who makes cadence? If so I really wanna talk to you about the world of jack mangers, you can find ways of contacting me in my bio.

 =||= > Can you name a single feature that would benefit from usage duration information?

I would like an answer to this as well. I cannot imagine any way this helps Audacity developers improve the software for users. It only seems intrusive for no benefit. =||= Hum... I guess, I'm not going to be using not recommending Audacity anymore. =||= > nah this team will never again be trusted by anyone for anything ever again

@kernelzeroday You seem to have a habit of thinking you speak for everyone. Your views are quite extreme and I'd prefer if you stopped assuming everyone was as hate and spite-filled as yourself. I'm sure we'd all prefer to come to a respectful middle-ground. 

Edit: I see the irony in saying ""I'm sure we'd all..."" after talking about speaking for everyone. To rephrase, I believe it'd be _better_ for everyone, whether everyone would prefer that or not. =||= > > nah this team will never again be trusted by anyone for anything ever again
> 
> @kernelzeroday You seem to have a habit of thinking you speak for everyone. Your views are quite extreme and I'd prefer if you stopped assuming everyone was as hate and spite-filled as yourself. I'm sure we'd all prefer to come to a respectful middle-ground.

I sure do buddy and I'll say it again, they fucked up here. If you genuinely think anyone can ever recover from this i have a bridge to sell you =||= > > nah this team will never again be trusted by anyone for anything ever again
> 
> @kernelzeroday You seem to have a habit of thinking you speak for everyone. Your views are quite extreme and I'd prefer if you stopped assuming everyone was as hate and spite-filled as yourself. I'm sure we'd all prefer to come to a respectful middle-ground.
> 
> Edit: I see the irony in saying ""I'm sure we'd all..."" after talking about speaking for everyone. To rephrase, I believe it'd be _better_ for everyone, whether everyone would prefer that or not.

Don't worry I flagged his first comment for ""hate speech"" ""inciting violence"" and ""directed threats"" already. An impressive number of rule violations in a single post I might add. =||= > > > nah this team will never again be trusted by anyone for anything ever again
> > 
> > 
> > @kernelzeroday You seem to have a habit of thinking you speak for everyone. Your views are quite extreme and I'd prefer if you stopped assuming everyone was as hate and spite-filled as yourself. I'm sure we'd all prefer to come to a respectful middle-ground.
> > Edit: I see the irony in saying ""I'm sure we'd all..."" after talking about speaking for everyone. To rephrase, I believe it'd be _better_ for everyone, whether everyone would prefer that or not.
> 
> Don't worry I flagged his first comment for ""hate speech"" ""inciting violence"" and ""directed threats"" already. An impressive number of rule violations in a single post I might add.

Incidentally I did this despite us being on the same side of the argument. that sort of conduct is not good for anyone involved. Just cos we don't like a software decision doesn't mean death threats are justified. =||= Adding telemetry is a useless act when nearly all your users (Linux distros) are gonna compile from source and create their own packages or downright disable it. All you are doing is shattering peoples faith. You obviously do not care about the previous user base of this application when  you have decided to include telemetry that a majority has clearly expressed they don't want. Who cares if you disabled it by default? In the end you are still leaving room for an opt-out scenario in the future and even more data gathering.  When a company owns a piece of software these things are added for improving your profit not the users experience.  =||= Whew, what a drama. I remember participating in another one, don't remember which one, got a lot of fun. 
crsib is a master troll, CristhianCC and IGBC are your typical github moderation team pet lapdogs.

I just hope Audacity will stay as it is, open source and free for everyone and from any kind of telemetry (which is used for selling to advertisers, not for improving software) and that this topic will never be brought back. =||= This is ridiculous. **It is disabled by default and if you don't want to use it, you can keep it disabled.**

Though I have to agree with some people - you should probably use open source/FOSS analytics tools instead. =||= > 
> 
> Whew, what a drama. I remember participating in another one, don't remember which one, got a lot of fun.
> crsib is a master troll, CristhianCC and IGBC are your typical github moderation team pet lapdogs.
> 
> I just hope Audacity will stay as it is, open source and free for everyone and from any kind of telemetry (which is used for selling to advertisers, not for improving software) and that this topic will never be brought back.

At least, mention me when you talk about me. And thank you, nobody told me i was a pet lapdog, that's kinda flattering. @Tataarujin =||= > > Can you name a single feature that would benefit from usage duration information?
> 
> I would like an answer to this as well. I cannot imagine any way this helps Audacity developers improve the software for users. It only seems intrusive for no benefit.

It's the type of information advertisers like to see when negotiating how much they'll pay for ad placement. =||= imo, if you REALLY want to add telemetry, you should add it like this:

- Log locally

- At a successful restart delete the data

- At a successful restart after a crash, ask to send it, and then delete it locally. =||= Not sure about others, but I for one would prefer to fill in a survey than telemetry. (I will always opt out of telemetry.) Please provide ways for the user to talk about the program instead! =||= >  IGBC are your typical github moderation team pet lapdogs.

At your service. I do enjoy a good FOSS food fight. Looks like this has just gone back to draft, so I guess we got through to them. Or they got sick of getting 100 emails an hour.

Good work everyone. =||= > 
> 
> This is ridiculous. **It is disabled by default and if you don't want to use it, you can keep it disabled.**

In 6 months its gonna change from disabled by default to enabled and people will be like: ""What are you mad about you can disable it?"".
6 months after that the option will disappear and people are like ""Who cares it wasn't even the default option"".

DO NOT add tracking for an OFFLINE ONLY application. =||= Imagine wanting to edit some audio files and suddenly you have 14 HTTP requests sent out a minute (optimistic I guess) =||= > > IGBC are your typical github moderation team pet lapdogs.
> 
> At your service. I do enjoy a good FOSS food fight. Looks like this has just gone back to draft, so I guess we got through to them. Or they got sick of getting 100 emails an hour.
> 
> Good work everyone.

Yeah, finally, after repating the same thing, and reading the same ""we don't like this PR"" for the 100th time. Its true that the topic deviated, but thats just because everyone were TIRED of repeating themselves.

People have to learn to noticed when something like this happends during a conversation.
Cause when that happends, you stop add anything of value to the conversation. =||= The mere existence of Google Analytics in the code is already a violation of the GDPR in the EU. The fact that the software is used in education and schools makes it even more problematic. Even more critical is the fact that the tracking could also capture the data of minors. Anyone (admin or school board responsible) who makes the software available unchecked and explicitly approved (in each individual institution) even just makes himself liable to prosecution under certain circumstances. She (or he) risks a fine and the loss of his job. If you want to see the software disappear into insignificance within a very short time, stay on this path. I work for a school board and - for my own self-protection alone - I will suggest to my superiors that the software be banned immediately in all schools in the state if there is a risk that it MAY contain unlawful tracking.  =||= Can't wait to be arrested for using Audacity in the EU. =||= > > > IGBC are your typical github moderation team pet lapdogs.
> > 
> > 
> > At your service. I do enjoy a good FOSS food fight. Looks like this has just gone back to draft, so I guess we got through to them. Or they got sick of getting 100 emails an hour.
> > Good work everyone.
> 
> Yeah, finally, after repating the same thing, and reading the same ""we don't like this PR"" for the 100th time. Its true that the topic deviated, but thats just because everyone were TIRED of repeating themselves.
> 
> People have to learn to noticed when something like this happends during a conversation.
> Cause when that happends, you stop add anything of value to the conversation.

nah I am only telling people off for posting memes or harrassing other users. Thankfully not much of that today. =||= So if they put this in, who is going to maintain the Audacity fork that lacks telemetry, but is otherwise the same? =||= > * At a successful restart after a crash, ask to send it, and then delete it locally.

@adryzz Thing is, that's crash reporting, not telemetry. Crash reporting is still immensely useful, and Audacity's also considering adding it via Breakpad. Telemetry is collecting information about platform, high-level usage context and performance, to help understand how the software is running when everything is working, rather than why it's failed when it has failed.

Telemetry is easier to argue shouldn't be present at all. Crash reporting is way easier to justify. I mentioned before that I find telemetry super useful for my own software, and I don't mind Audacity adding it; they should just be conscious about privacy, more so than they are right now by sending the data off to Google and Yandex.

Otherwise, I totally agree with you. =||= > So if they put this in, who is going to maintain the Audacity fork that lacks telemetry, but is otherwise the same?

Someone who will have the _audacity_ to fork it.

I'll see myself off. =||= > So if they put this in, who is going to maintain the Audacity fork that lacks telemetry, but is otherwise the same?

i mean it doesn't take much to cherry pick commits to merge... =||= > > > > IGBC are your typical github moderation team pet lapdogs.
> > > 
> > > 
> > > At your service. I do enjoy a good FOSS food fight. Looks like this has just gone back to draft, so I guess we got through to them. Or they got sick of getting 100 emails an hour.
> > > Good work everyone.
> > 
> > 
> > Yeah, finally, after repating the same thing, and reading the same ""we don't like this PR"" for the 100th time. Its true that the topic deviated, but thats just because everyone were TIRED of repeating themselves.
> > People have to learn to noticed when something like this happends during a conversation.
> > Cause when that happends, you stop add anything of value to the conversation.
> 
> nah I am only telling people off for posting memes or harrassing other users. Thankfully not much of that today.

Thats ok, but you jump too quickly :C. Not everyone posting a meme is insantly a bad user.
Memes are a way of expressing ourselves, and can be used to point out the mood of a conversation before it escalates, its true that we are adults here, but that doesnt mean that the convesation has to be stricly formal. =||= 
> i mean it doesn't take much to cherry pick commits to merge...

This is the sort of work a lot of distros already do. In researching this PR I found that debian have been modifying audacity privately for years just to keep the damn thing working on their OS.  =||= I can understand the desire to know users OS, as it allows indeed to support more users more effectively, but there are free/libre telemetry and helpdesk support systems.

More generally I have been thinking about the state of free/libre softwares support tooling recently. Often you will see a software great in its own field, but that uses a proprietary chat room system, forum, or telemetry. There should be more collaboration and free projects should offer support to other free projects when possible. You run a free forum ? Offer to run \<other free project\>'s forum. =||= > So if they put this in, who is going to maintain the Audacity fork that lacks telemetry, but is otherwise the same?

@TheStranjer See the clarification of the PR. Support for telemetry is only enabled by default in the official builds. If you build from source, it won't even ask if it's okay to send data; you're safe and sound.

That said, I'm not sure if Audacity supports reproducible builds. Considering they have all their dependencies included in the main git tree, rather than as submodules or traditional dependencies, I'm a little worried about their architecture. I'm no expert with Audacity (I use it casually and have never made any contributions to it) but this kind of software tends to have certain difficulties with building cleanly and consistently.

**Edit:** It's still concerning to me that they're including intrusive telemetry, but this reply is to clarify there's an official way to disable it from builds altogether. I guess there's solace in at least that. =||= Just wanted to share some support for the people working on this. I actually think telemetry data could prove extremely useful to understand how the software is used in the wild, and what are the potential pain points.

As long as it's opt-in, disabled by default, and there is a clear communication about what is sent, when, why and to whom, I don't think it's such big deal. And it seems to be the case.

That being said, an other backend than Google Analytics or Yandex for storing and querying the data would be nice, but hey, what good enough alternatives are available out there? =||= > > So if they put this in, who is going to maintain the Audacity fork that lacks telemetry, but is otherwise the same?
> 
> @TheStranjer See the clarification of the PR. Support for telemetry is only enabled by default in the official builds. If you build from source, it won't even ask if it's okay to send data; you're safe and sound.

@eunakria See the post on incrementalism by @Nex4rius. No ""telemetry."" Hard stop. =||= You cannot said is for dev only when you plug-in Google Analytics ... This monster just snif everything you do and you don't know what its take... =||= > Its where muse group's headquarters are. No malcontent to any Russians intended, I am only pointing out that makes it more likely this where that guy works.

Oh how nice. I'm another russki comrade, just freedom loving one. Gonna go and find this HQ and verbally assassinate everyone there. Wish me luck. =||= oh absolutely not =||= > > This is ridiculous. **It is disabled by default and if you don't want to use it, you can keep it disabled.**
> 
> In 6 months its gonna change from disabled by default to enabled and people will be like: ""What are you mad about you can disable it?"".
> 6 months after that the option will disappear and people are like ""Who cares it wasn't even the default option"".
> 
> DO NOT add tracking for an OFFLINE ONLY application.

If this gets merged and you further have to use use audacity, consider using [firejail](https://github.com/netblue30/firejail/blob/master/etc/profile-a-l/audacity.profile) to disable internet access and further restrict folder access in your $HOME. 

I dont know, why @JamesCrook @MartynShaw @Paul-Licameli and @SteveDaulton have not replied to the PRs and who has what access rights to the repo besides them. I will stop following this for now. The main devs should manage this. =||= Why is there a plan to send my usage data for Audacity as additional data points to an ever-growing analytics and Telemetry Monster instead of the fabled eighth magnifying glass i was promised Tantacrul?

But seriously: If you do analytics **please** selfhost it. Who has access, how long and when will it be deleted - and even better, how much will be made public so others can benefit - should be mandatory statements - as well as help compliance.

And make ""No"" the highlighted default. I know it sucks and it will lead to less users agreeing (Which effect does the close button/ESC call? Default? None?) to send usage data but that will be the most friendly, agreeable and least resistant way - plus 100% GDPR/DSGVO compliant too.

And while i value the effort to take audacity into the current century with a more consistent design after you applauded the amazing open source community please dont disappoint the same with the first action being telemetry to some of the biggest privacy violating monsters despised by FLOSS out there. We're all rooting for you to do the right thing. =||= > @TheStranjer See the clarification of the PR. Support for telemetry is only enabled by default in the official builds. If you build from source, it won't even ask if it's okay to send data; you're safe and sound.

As a side effect from this, which was touched by others but only briefly, is that Audacity team will only receive analytics reports from a certain, very specific kind of people.
If new developments and ideas happen because of the results of these analytics, it will be focused only on these people, no way around it.
 =||= >The only thing software like this needs to collect is when errors occur and crash logs happen, at which point a popup should display at the end of the session or on crash letting them see the log that's about to be sent and asking if they want to report it.

this is how Zrythm does it

![Screenshot from 2021-05-07 13-17-06](https://user-images.githubusercontent.com/3407655/117448316-7fabea80-af36-11eb-8012-b196fab42784.png)

example bug report that gets generated:
https://todo.sr.ht/~alextee/zrythm-bug/507 =||= > imo, if you REALLY want to add telemetry, you should add it like this:
> 
> * Log locally
> * At a successful restart delete the data
> * At a successful restart after a crash, ask to send it, and then delete it locally.

This is by far the best way. Bonus points for making the logs easy and intuitive to find so the average user can participate in submitting bugs with logs. =||= @ITotalJustice I really like the log local, ask to send approach. I personally would like to see what type of data is being sent as well... There could even be a ""Always send"" option that will cause a window to pop up that announces it is sending the data (along with an option to opt out of the ""Always send"" mode), but otherwise just works in the background. =||= > @eunakria See the post on incrementalism by @Nex4rius. No ""telemetry."" Hard stop.

@TheStranjer The idea of this being a slippery slope itself seems preposterous to me - as much as you might want to assure yourself with it, companies and projects are not inherently disposed to become evil once they get big. Again, I don't support the way Audacity is implementing telemetry, but I know how useful it can be as someone who includes it in my own software.

*I'm not interested in any profit incentive;* I would leave it out if I didn't gain anything from it. But knowing who my users are and how well my software is performing for them, is incredibly helpful. I expect Audacity feels the same about this.

Google and Yandex software range from cheap to free and are super easy to integrate, but they are ethical monstrosities. I've already spoken against the inclusion of any link to their platforms in Audacity. However, I believe telemetry can absolutely be done ethically and productively.

Being able to gauge Audacity's user base will greatly help them as a platform, I believe, and to this extent, I'll support them. What's so evil about knowing how many users you have and how generally they use your software? It's not going to spiral out of control. =||= >We will consider replacing Google and Yandex with another service if we find one that fulfills our requirements - thanks for the suggestions and keep them coming.

This is ridiculous. Your response to hundreds of users telling you they don't want their data to be shared with the privacy nightmare that is Google shouldn't be ""we'll replace it only if we can find something better"". If you can't find a solution for telemetry that the userbase can be happy with, like KDE's approach, then you shouldn't add telemetry at all. The fact that you're even considering adding Google Analytics at this point clearly shows that you aren't taking this feedback seriously. If you don't do a complete 180 on this, I expect that there'll be a fork that'll split the community. =||= >I actually think telemetry data could prove extremely useful to understand how the software is used in the wild, and what are the potential pain points.

How about they just ask their users instead? Like how we found out people's opinions on things for the entirety of human history?

Telemetry is invasive, anti-social, underhanded, and not even an effective tool. No amount of numbers and statistics is ever going to tell you *why* people are doing a certain thing or how they feel using your software. ""90% of people are using this feature"" is completely meaningless when you have no idea if they're pulling their hair out and punching the wall the entire time they're using it. =||= > 
> 
> imo, if you REALLY want to add telemetry, you should add it like this:
> 
>     * Log locally
> 
>     * At a successful restart delete the data
> 
>     * At a successful restart after a crash, ask to send it, and then delete it locally.

THIS. Or at the very least, use a self-hosted, open-source telemetry platform. Not Google Analytics...

I completely understand how this data _could_ be useful to improve Audacity, and I want to assume good faith here. But this is not the way. =||= This gets an absolutely big NO from me and almost all other audacity users in this thread, pretty unanimous. =||= People will be mentioning this PR for a decade in discussions about telemetry. We are witnessing history here folks. =||= > The idea of this being a slippery slope itself seems preposterous to me

@eunakria If you think foresight is preposterous then that's a you problem. =||= While this thread not locked, hello there! =||= You don't need to implement telemetry to make better software, take Blender as an example, it has no telemetry and yet it's the best free and open source 3D tool available out there.
You can use community forums to ask what people need and want, report bugs, have transparent discussions etc...
Again, you don't need telemetry. =||= Seriously, of all the telemetry and logging solutions out there you had to use F*****G GOOGLE?

I'm not opposed to opt-in telemetry, but come on, at least come up with something that isn't google. =||= I'd prefer not to have telemetry and I hope this PR gets dropped (but I'm not entirely against it if done well), but please in case DO NOT track more data than you REALLY need... You surely don't need file names, IP addresses, UUIDs, or other information that is user-identifying (maybe OS and kernel version are ok by themselves). This could be an issue with Google Analytics or Yandex (it's also not entirely clear why you have to use both, I think there are other ways to do that, maybe something like batching). I hope you'll use some analytics service that it's more privacy-oriented, in case this PR goes on...
Anyway, all Linux distributions build packages from source. Because of that and because telemetry is disabled when building from source, you likely won't receive ANY data from Linux users (I also really doubt distros' package maintainers will enable telemetry on your package) so the data you would receive will surely be incomplete. =||= If you take your users seriously and there's need for information about the user's system behavior, simply ask the users. Be it with polling or other services. =||= To reflect on the given reasons why this feature was built in:

1. ""Audacity is widely used across several platforms, but we have no information on the application stability""

On almost all platforms it is possible to catch fatal exceptions and let the user decide whether they want to report that crash. With the permission of the user (and this permission is only for that very crash and not all crashes after that), this crash report can be sent to servers owned by the community instead of sending them to Google&co to further process them and fix the bug.

2. It is difficult for us to estimate the size of the user base accurately.

I'm not sure how this would make Audacity better. You have the download statistics. Those numbers will be significantly higher and closer to the actual user base than the number of users actually agreeing to that telemetry feature. If you want to actually know the number of users, you can ask the user ONCE during installation or start up whether they would like to let this known. Again this information should be going to community servers instead of Google&co. Apart from that, trying to know the exact user base is only good for one thing; letting investors know how much potential customers they have to milk.

3. We need a way to make informed decisions about which OS versions to support. For example, can we raise the minimum version of the macOS to 10.10 to update the wxWidgets to the latest version?

Again, download statistics can help here or an optional questionaire on the download page or once at first startup.

4. We have a known issue with the new file format introduced in Audacity 3.0. We found it with the great help of the community members on our forum. However, there is no way for us to estimate the impact of these issues on users. Is it just a random case? Do we need to rush the work on the recovery tool or help the users one by one? Or do we need to rethink the file format to make it safer and more easily recoverable?

Telemetry does not help with prioritizing bugs. Bugs are usually not visible in telemetry data as bugs have the tendency to be unaccounted for and thus there is no telemetry data to count particular bugs. After all, why adding telemetry to understand a bug, instead of ""just"" fixing it? Also the number of users watching a particular issue (or the already mentioned crash report) will give you enough hints about how important a bug is.
 =||= To the poeple suggesting compile-time flags and distributions taking this feature out: Great, you're looking for a solution for **you**. How about we all agree that nobody likes tracking (at best, people are *indifferent* to tracking!) and that we don't want it in any version of Audacity?

If we debate ""opt-in"" vs. ""opt-out"", we've already lost the most important battle. This feature should not be part of the code. Saving Linux builds or self-compiled builds will not be helpful to the general user base of this program. If it's in the default, precompiled windows installer, that's probably used for 60% or more of all people using Audacity. And we're debating to screw them over.

So: no tracking, please. It's not exactly complicated. Not ""opt-in"". Not ""i can compile it away, I am so smart"". No ""we're forking this"". No tracking. Period. =||= >     1. It is difficult for us to estimate the size of the user base accurately.
This plus the measurement of the periods of users use of the software is suspicious. This is classic ""screen hours"" reporting.

The only reason I can see to do this is to determine the ""value"" of the software for a monetization strategy. If you look at https://mu.se the thing they are most proud of is ""100M Downloads"" not how this software has helped Individuals, educators, and Scientific Research for the last 22 years.  =||= Also, please, don't use a ""dark pattern"" if you decide to add telemetry. The ""Send anonymous data usage"" in blue is leading users to click it without reading, as usual.

Also, ""anonymous"" is a word a bit too strong when we know it's about using Google Analytics... There is no anonymity possible with Google Analytics. =||= >Saving Linux builds or self-compiled builds will not be helpful to the general user base of this program. If it's in the default, precompiled windows installer, that's probably used for 60% or more of all people using Audacity. And we're debating to screw them over.
> 

I think you have bigger problems than precompiled audacity opt-in telemetry if you are using windows. =||= The Audacity developer should have just implemented this and be done with it, and just let the people complain and do whatever they want. Just look at FileZilla. Tim Kosse gives zero f*s and do whatever he wants and people pretty much have to accept whatever he does 😆. FileZilla has worse stuff than telemetry mind you. =||= Both previous posts (Windows, FileZilla) are strawman arguments. =||= Just in case nobody said it before ;) This sucks.  =||= > The Audacity developer should have just implemented this and be done with it, and just let the people complain and do whatever they want. Just look at FileZilla. Tim Kosse gives zero f*s and do whatever he wants and people pretty much have to accept whatever he does laughing. FileZilla has worse stuff than telemetry mind you.

This is not how open source projects work in real life. The idea of FLOSS is for people to collaborate together and not one person making egoistical decisions =||= > I dont know, why @JamesCrook @MartynShaw @Paul-Licameli and @SteveDaulton have not replied to the PRs

Speaking for myself, a ""work in progress"" pull request is not a QA issue. I shall make my views clear to the development team when or if this work is merged, based on a calm and careful assessment of it as it is at that time. While I understand some of the concerns raised, and while I personally take the issue of user privacy very seriously, I also appreciate the benefits that telemetry can bring ""for users"". 

Having developed many features for Audacity, including TimeLine Quick Play, Split Stereo Track to Mono, the Distortion effect, Bass and Treble effect, Sample Data Import / Export, Label Sounds, Nyquist Plug-in Installer, countless plug-ins and many enhancements, I would LOVE to know which features Audacity users find useful. 

I improved the Pink Noise and Brownian Noise generators, but does anyone use them? Despite asking on the very active Audacity Forum, I have no idea. Was I wasting my time? Could I have brought more value to the Audacity community by doing something else? I have no idea, because asking users to give feedback on the forum does not work. 

What about all the time that I spent adding SBSMS to Change Pitch and Change Tempo? Is that something that people use, or was that a waste of time? I have no idea, I just assume that it might be useful for some, with hardly any user feedback to support that assumption.

Can telemetry be useful in FOSS? Yes I believe that it can, provided that it is opt-in, is transparent about what data is collected, who has access to that data, and what the data is used for. I see, and I am happy about the limited uses of telemetry in FOSS classics such as Firefox. 

I am rather disappointed to see so many negative comments from people that have clearly not even checked if this feature is opt-in or opt-out. I much prefer to see people contributing rather than just criticising. If you really want to help, get involved and contribute (I'm aware that several writers here do actually contribute to FOSS).

I am not going to speculate about the final form of telemetry, if any, that will end up in a future Audacity release. Many of Audacity's features have been through multiple iterations before being suitable for general release, and I have better things to do with my time than speculate about what may or may not be - at least I think I have better things to do.
 =||= grabbing some popcorn

https://youtu.be/FOn_82MKmFg =||= yikes wtf =||= @SteveDaulton 

> Despite asking on the very active Audacity Forum, I have no idea. Was I wasting my time? Could I have brought more value to the Audacity community by doing something else? I have no idea, because asking users to give feedback on the forum does not work.

That's not surprising - most users will likely never look at the forums. A much better approach to this is to have the *software* ask users to fill in eg. a survey. That doesn't require telemetry, and the problem in this case was likely just that users didn't *know* that their feedback was being asked for.

> I am rather disappointed to see so many negative comments from people that have clearly not even checked if this feature is opt-in or opt-out.

That should not be surprising, considering that the PR involves thousands of lines of code, included no explanation on what was going on, and the norm in the software industry is to violate user consent (which this proposal also does, through the use of dark patterns). That's an error on the side of the maintainers who have not communicated effectively, not an error on the side of the users who see a dark cloud descending over their favourite software.

> If you really want to help, get involved and contribute (I'm aware that several writers here do actually contribute to FOSS).

There's not really anything to ""contribute"" when the maintainers of the project have seemingly already decided to do this, without engaging with the community first. =||= > I am rather disappointed to see so many negative comments from people that have clearly not even checked if this feature is opt-in or opt-out. I much prefer to see people contributing rather than just criticising. If you really want to help, get involved and contribute (I'm aware that several writers here do actually contribute to FOSS).

@SteveDaulton it's not about opt-in or opt-out, it's more about the fact that there are plenty more non-invasive and privacy-friendly (even self-hostable) analytics provider out there than Google Analytics. =||= @Steve as others have stated, much of the concern is about the usage of
Google Analytics and Yandex, along with the violation of the GDPR.

There are also concerns about security by introducing dependencies on
libcurl and by doing downloads in the build scripts.

If they ran their own telemetry servers, fixed the issue with the
opt-in/opt-out dialog and removed the (poorly implemented) dependencies on
things like libcurl people would have been much less upset.

At this point though the cat is likely already out of the bag. The damage
has been done and clearly the dev team has lost a lot of trust with the
community. I suspect walking this back all the way and having a true
discussion with the community it the only way to win back that trust.

This should have never been a PR. This should have been an Issue. It should
have had discussion on the forums. There are so many mis-steps here.

On Fri, May 7, 2021, 09:05 Steve Daulton ***@***.***> wrote:

> I dont know, why @JamesCrook <https://github.com/JamesCrook> @MartynShaw
> <https://github.com/MartynShaw> @Paul-Licameli
> <https://github.com/Paul-Licameli> and @SteveDaulton
> <https://github.com/SteveDaulton> have not replied to the PRs
>
> Speaking for myself, a ""work in progress"" pull request is not a QA issue.
> I shall make my views clear to the development team when or if this work is
> merged, based on a calm and careful assessment of it as it is at that time.
> While I understand some of the concerns raised, and while I personally take
> the issue of user privacy very seriously, I also appreciate the benefits
> that telemetry can bring ""for users"".
>
> Having developed many features for Audacity, including TimeLine Quick
> Play, Split Stereo Track to Mono, the Distortion effect, Bass and Treble
> effect, Sample Data Import / Export, Label Sounds, Nyquist Plug-in
> Installer, countless plug-ins and many enhancements, I would LOVE to know
> which features Audacity users find useful.
>
> I improved the Pink Noise and Brownian Noise generators, but does anyone
> use them? Despite asking on the very active Audacity Forum, I have no idea.
> Was I wasting my time? Could I have brought more value to the Audacity
> community by doing something else? I have no idea, because asking users to
> give feedback on the forum does not work.
>
> What about all the time that I spent adding SBSMS to Change Pitch and
> Change Tempo? Is that something that people use, or was that a waste of
> time? I have no idea, I just assume that it might be useful for some, with
> hardly any user feedback to support that assumption.
>
> Can telemetry be useful in FOSS? Yes I believe that it can, provided that
> it is opt-in, is transparent about what data is collected, who has access
> to that data, and what the data is used for. I see, and I am happy about
> the limited uses of telemetry in FOSS classics such as Firefox.
>
> I am rather disappointed to see so many negative comments from people that
> have clearly not even checked if this feature is opt-in or opt-out. I much
> prefer to see people contributing rather than just criticising. If you
> really want to help, get involved and contribute (I'm aware that several
> writers here do actually contribute to FOSS).
>
> I am not going to speculate about the final form of telemetry, if any,
> that will end up in a future Audacity release. Many of Audacity's features
> have been through multiple iterations before being suitable for general
> release, and I have better things to do with my time than speculate about
> what may or may not be - at least I think I have better things to do.
>
> —
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/835#issuecomment-834364683>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ATJASMB7O4V3JJGV6SHIDULTMPQTDANCNFSM44C5SLTA>
> .
>
 =||= > 
> Can telemetry be useful in FOSS? Yes I believe that it can, provided that it is opt-in, is transparent about what data is collected, who has access to that data, and what the data is used for. I see, and I am happy about the limited uses of telemetry in FOSS classics such as Firefox.
> 
> I am rather disappointed to see so many negative comments from people that have clearly not even checked if this feature is opt-in or opt-out. I much prefer to see people contributing rather than just criticising. If you really want to help, get involved and contribute (I'm aware that several writers here do actually contribute to FOSS).
> 

@SteveDaulton many people here agree with you in that telemetry can be really useful, myself included! The biggest problem is _how_ this feature is implemented. No data is anonymous nor can it becollected in an ethical way when sent over to proprietary telemetry platforms owned by giant advertising companies.

But if the data IS anonymous and sent over to an open-source platform you guys DO have control over, and the data collected is sensible and will actually help improve Audacity? Then sure, collect away!

This implementation proposed is not sensible. At the very least it feels rushed. And I think it is important to acknowledge that. =||= ""Privacy by Design"" and ""Privacy by default"" are basic provisions of the GDPR! What is a tracking tool doing in an audio editor? It can only be used for user research. 
Was the reaction to the Whatsapp/Facebook announcement not seen? Users are switching to other solutions. 
Hopefully we don't have to look for another audio editor....
 =||= I see two paths here, and both of them are equally disgusting.

Path one:
You guys are selling your users' data to corporations, for money.

Path two:
You guys are trying to go public, showing how many users you have to convince corporations to buy the software alongside its user base.


Am I wrong? There are many evidences that are provoking these ideas in my mind. In case I'm wrong, then why would Yandex care of how many users are running Audacity? Why send data directly to Google?  =||= > > I dont know, why @JamesCrook @MartynShaw @Paul-Licameli and @SteveDaulton have not replied to the PRs
> 
> Speaking for myself, a ""work in progress"" pull request is not a QA issue. I shall make my views clear to the development team when or if this work is merged, based on a calm and careful assessment of it as it is at that time. While I understand some of the concerns raised, and while I personally take the issue of user privacy very seriously, I also appreciate the benefits that telemetry can bring ""for users"".
> 
> Having developed many features for Audacity, including TimeLine Quick Play, Split Stereo Track to Mono, the Distortion effect, Bass and Treble effect, Sample Data Import / Export, Label Sounds, Nyquist Plug-in Installer, countless plug-ins and many enhancements, I would LOVE to know which features Audacity users find useful.
> 
> I improved the Pink Noise and Brownian Noise generators, but does anyone use them? Despite asking on the very active Audacity Forum, I have no idea. Was I wasting my time? Could I have brought more value to the Audacity community by doing something else? I have no idea, because asking users to give feedback on the forum does not work.
> 
> What about all the time that I spent adding SBSMS to Change Pitch and Change Tempo? Is that something that people use, or was that a waste of time? I have no idea, I just assume that it might be useful for some, with hardly any user feedback to support that assumption.
> 
> Can telemetry be useful in FOSS? Yes I believe that it can, provided that it is opt-in, is transparent about what data is collected, who has access to that data, and what the data is used for. I see, and I am happy about the limited uses of telemetry in FOSS classics such as Firefox.
> 
> I am rather disappointed to see so many negative comments from people that have clearly not even checked if this feature is opt-in or opt-out. I much prefer to see people contributing rather than just criticising. If you really want to help, get involved and contribute (I'm aware that several writers here do actually contribute to FOSS).
> 
> I am not going to speculate about the final form of telemetry, if any, that will end up in a future Audacity release. Many of Audacity's features have been through multiple iterations before being suitable for general release, and I have better things to do with my time than speculate about what may or may not be - at least I think I have better things to do.

@SteveDaulton 
I think this response was carefully thought through but ultimately tone deaf. As has been repeated many times in this now unmanageably long thread, we, the community, are telling you, the developers, we don't believe this is an effective or appropriate measure.

We understand that you want feedback about the development direction of the software, and we are telling you the forum should be enough. I am curious why you do not trust the direct feedback from your thousands of active users, to the point you feel you need automated tracking systems to replace that model?

As for tracking in FOSS, IF it is indeed useful it must also be considered how that data can be shared safely and fairly. What segment of users this data truly represents, and how compliance with the myriad of laws surrounding data protection can be abided.  We, the community, have seen no planning or engagement with the community about how to approach these important issues. 

Finally with the introduction of new corporate developers in recent times means __we don't believe you__ when you say this is for the god of the community anymore. This is not helped by the repeated statements from devs that this is optional and anonymous, when frankly the ""opt in"" dialog is already in violation of GDPR, and it is widely accepted by the security community that google analytics is not anonymous. You either fundamentally misunderstand the technology you are trying to implement or your are misleading the community. 

You cannot sidestep these issues  =||= Yes, I would love to have my data collected by Google Analytics and Yandex, processed by them and told that my data is completely anonymous and untraceable. Sure thing! In a FOSS project :)

1:35 like to dislike ratio doesn't show a 'dislike', but an 'overwhelming majority voting against this bad idea'.

The first thousand user's data may be used for development, but the hundreds of thousands of other users' data will be used for data processing and collection, not for enhancing any user's experience.

Get rid of this draft... =||= I vote against this. Telemetry shouldn't even be optional, it should be kept out of the code completely. HARD NO TO TELEMETRY.
They all start with ""disabled by default"", then they become ""enabled by default"", then parts of telemetry become default, not an option anymore. And more will follow. So, NO to telemetry. 

People have mentioned that the window that asks for opt-in for telemetry has a dark pattern to trick the user to click on the opt-in button. I'd say that's evil. =||= Hey, the screenshot that has now been added to the PR message includes a [dark pattern](https://www.darkpatterns.org/). This isn't making things better.

Please listen to the community and everyone posting in here. This is not a change people will forget and will forever tarnish the reputation of Audacity. =||= I am a grad student in linguistics who used Audacity infrequently in the past, but will probably has more uses for it in near future as I'm studying phonology (inter alia). I'll probably also end up teaching on this subject in a few years, so that's were my single comment in this thread will be coming from (I'll refrain from participating otherwise as this is already a huge thread, and back and forth bickering won't add much).

First of all, I'll say as a student/researcher in phonology / phonetics, if this change goes through, I can not in good faith recommend Audacity as a good tool for research to my peers and any students I might have. Among others, I do not trust a now corporate project to stick to its word once tracking gets in to the software, and once that happens, we will ultimately face extra research ethics issues, as our science is based on human subjects who have rights to privacy we must respect.

Secondly, I want to parrot a comment I made on social media as to why I wouldn't trust you with keeping your word in the long run:

> I am fairly happy with what I read [in the updated PR] but I'm also concerned not only because it's Google APIs nevertheless, but it's indicative of a different, less community friendly culture. Telemetry communicates to me that you're taking a more Mozilla like statistics oriented approach. And justifications like

>> We need a way to make informed decisions about which OS versions to support. For example, can we raise the minimum version of the macOS to 10.10 to update the wxWidgets to the latest version?

> or 

>> It is difficult for us to estimate the size of the user base accurately.

> are scary because that implies, incorrectly or not, cutting corners and costs on compatibility instead of inclusive portability and a tendency to indirect monetisation, like ads etc., which will inevitably come with many other (chains of) effects eventually.

> This might well not be the direction they're going now, but so was the case for Mozilla back in 2010. If you told me back then that Firefox would come with trackers and Pocket and Hello and whatnot, I'd laugh in your face. But look where we are now.

> The whole concept of telemetry is anti-communal-software even when not considering the privacy aspects thereof.

My two cents. =||= How audacious! =||= Ah hell someone already made the joke =||= > How audacious!

after 487 messages these jokes are getting old =||= > Ah hell someone already made the joke

You tried ¯\_(ツ)_/¯ =||= While skimming through the source code, this is what I discovered is the information that Audacity will collect:

- client UUID (apparently generated on a per-session basis)
- Your OS name and version
- Audacity name and version
- Version number of wxWidgets
- System language
- when you start Audacity
- when you close Audacity
- when an exception/error occurs
- when you import audio (file format, and whether import succeeded?)
- when you export audio (file format, and whether export succeeded?)
- when you apply an effect
- when some kind of database error occurs?
- when you open a window?
- when you use the analyzer?
- it also appears to store cookies???

(NOTE: this list is based on my own rough review, I didn't look at the first post before! I might also not be 100% correct, it was only a quick and dirty look at the code.)

Both Google Universal Analytics and Yandex Metrica are used. It appears that the collected information is sent directly to Google and Yandex.ru (but not everything appears to be sent to Yandex.ru). This also means they know your IP.
Knowing your IP, in combination with OS name, version, Audacity version, etc. could be used for fingerprinting, similar to browser fingerprinting. There is a chance you could be de-anonymized with this information. Although I don't know if the information would be enough to fully de-anonymize someone, it is certainly in the realm of possibilities.
Also, this PR is called ""BASIC telemetry for the Audacity"". This implies that is is planned to add even more telemetry features in future, thereby increasing the chances of de-anonymization.
The fact that Google and Yandex are used for tracking doesn't make it any better. Google has like a billion tricks up their sleeve to track you. I don't know about Yandex, but they too are a big corporation.
I conclude that all claims of anonymity are VERY questionable. However, with this change, Audacity will lie to the user by claiming that this tracking is completely anonymous.

This is almost certainly a GDPR violation waiting to happen. Someone somewhere in the EU will probably install an Audacity build for an institution but tracking was ""accidentally"" enabled and now they're in trouble. I've already read comments of people who will go full ""scorched earth"" mode and get rid of all Audacity installation because they don't want that even just 1 bit is sent to Google or other tracking companies.
Also, this is certainly a violation of informed consent, since it suggests anonymity while this claim stands on very thin ice.

But let's not overlook the elephant in the room: Overall, this change is obviously completely useless for the user and no user wants this. From the user point of view, this feature is always bad since it has a risk of de-anoymization. In other words, this is an anti-feature. The discussion of opt-in vs opt-out is a distraction. The only reasonable decision here is complete rejection. =||= rip audacity, good night dear friend. =||= Feel free to have look at https://matomo.org/ for ""clean"" telemetry, if it exists. =||= > While skimming through the source code, this is what I discovered is the information that Audacity will collect:
> 
>     * client UUID (apparently generated on a per-session basis)
> 
>     * Your OS name and version
> 
>     * Audacity name and version
> 
>     * Version number of wxWidgets
> 
>     * System language
> 
>     * when you start Audacity
> 
>     * when you close Audacity
> 
>     * when an exception/error occurs
> 
>     * when you import audio (file format, and whether import succeeded?)
> 
>     * when you export audio (file format, and whether export succeeded?)
> 
>     * when you apply an effect
> 
>     * when some kind of database error occurs?
> 
>     * when you open a window?
> 
>     * when you use the analyzer?
> 
>     * it also appears to store cookies???
> 
> 
> (NOTE: this list is based on my own rough review, I didn't look at the first post before! I might also not be 100% correct, it was only a quick and dirty look at the code.)
> 
> Both Google Universal Analytics and Yandex Metrica are used. It appears that the collected information is sent directly to Google and Yandex.ru (but not everything appears to be sent to Yandex.ru). This also means they know your IP.
> Knowing your IP, in combination with OS name, version, Audacity version, etc. could be used for fingerprinting, similar to browser fingerprinting. There is a chance you could be de-anonymized with this information. Although I don't know if the information would be enough to fully de-anonymize someone, it is certainly in the realm of possibilities.
> Also, this PR is called ""BASIC telemetry for the Audacity"". This implies that is is planned to add even more telemetry features in future, thereby increasing the chances of de-anonymization.
> The fact that Google and Yandex are used for tracking doesn't make it any better. Google has like a billion tricks up their sleeve to track you. I don't know about Yandex, but they too are a big corporation.
> I conclude that all claims of anonymity are VERY questionable. However, with this change, Audacity will lie to the user by claiming that this tracking is completely anonymous.
> 
> This is almost certainly a GDPR violation waiting to happen. Someone somewhere in the EU will probably install an Audacity build for an institution but tracking was ""accidentally"" enabled and now they're in trouble. I've already read comments of people who will go full ""scorched earth"" mode and get rid of all Audacity installation because they don't want that even just 1 bit is sent to Google or other tracking companies.
> Also, this is certainly a violation of informed consent, since it suggests anonymity while this claim stands on very thin ice.
> 
> But let's not overlook the elephant in the room: Overall, this change is obviously completely useless for the user and no user wants this. From the user point of view, this feature is always bad since it has a risk of de-anoymization. In other words, this is an anti-feature. The discussion of opt-in vs opt-out is a distraction. The only reasonable decision here is complete rejection.

And all this for an audio editor! Why in the hell would an audio editor collect so many data if not for selling them to corporations in exchange of money? =||= Want to be extra ethical?

Don't use psychological manipulations by making the ""Send anonymous analytics data"" in blue. Users will be more likely to click on it. It should be a white button instead and make the ""Don't send"" button white.

Better yet listen to the people over here, people don't want this bullshit implemented. I liked Audacity for a reason, because of its open source non-telemetry software which is unlike most other proprietary crap that has spyware bundled with it. =||= Also hey while we're at it, can we talk about how this is going to negatively impact hundreds upon thousands of other computer users who don't know what GitHub is and consequently also cant protest to this egregious privacy violation? Cos that's also pretty cool, huh!

Small edit: I will say also that I'm not fully opposed to the idea of actually basic actually anonymous telemetry for the sake of actually helping development....but frankly, the reasons given are rubbish and as previously mentioned don't really _need_ telemetry. That, and the fact that you're so reluctant to move away from Google/Yandex despite multiple people giving you an absurdly long list of alternatives is ridiculous. Get over yourselves and actually listen to your community. =||= I'm no enemy to telemetry in general and making in opt-in is the only valid option. Having the buttons in a way to guide non-tech users towards opting-in is borderline, but may be ok.
But using google analytics (or any other privacy-denying provider) for that purpose is about the worst idea any open source project can have... =||= > Also hey while we're at it, can we talk about how this is going to negatively impact hundreds upon thousands of other computer users who don't know what GitHub is and consequently also cant protest to this egregious privacy violation? Cos that's also pretty cool, huh!
> 
> Small edit: I will say also that I'm not fully opposed to the idea of actually basic actually anonymous telemetry for the sake of actually helping development....but frankly, the reasons given are rubbish and as previously mentioned don't really _need_ telemetry. That, and the fact that you're so reluctant to move away from Google/Yandex despite multiple people giving you an absurdly long list of alternatives is ridiculous. Get over yourselves and actually listen to your community.

I hope somebody makes a fork out of this honestly! =||= > users who don't know what GitHub is cant protest to this egregious privacy violation

Of course they can protest. There is a ""Don't send"" button.

The default happy flow right now is sending your data. Many people unaware of what this means will thus give up their data. I'm sure the developers knew that while making it. This should be the other way around. =||= I don't wish to see telemetry become a broadly accepted feature of open-source software. I am very disappointed that the project is going in this direction.

Please reconsider, since you're risking splitting the community by forcing a telemetry-free fork. =||= >
> Of course they can protest. There is a ""Don't send"" button.
>

That implicates they can only protest to this thing when it's already passed and been included in the software. Not good enough, quite frankly. 
 =||= > The default happy flow right now is sending your data. Many people unaware of what this means will thus give up their data. I'm sure the developers knew that while making it. This should be the other way around.

As someone who tries to minimize my connections to Google, I'd like to see the dialogue box explicitly mentioning that Google is used for the telemetry, as that would make it a hard pass for me, and probably to others who in general wouldn't oppose sending *some* telemetry, but want to avoid Google. =||= > We need a way to make informed decisions about which OS versions to support.

> If you are compiling Audacity from source, we will provide a CMake option to enable the telemetry code. This option will be turned off by default.

I imagine most of Linux distros will have this option disabled - which means that vast majority of their users will not show up in statistics.
Making any OS-specific decisions on such biased data will lead to worse Linux support in the long run. (Especially in the event of corporate interests taking initiative) =||= Another case of a greedy company screwing over their users for making a profit.
As other people pointed out, this seems like a move to count the number of users for promoting the company. It is just sad. =||= > Making any OS-specific decisions on such bias data will lead to worse Linux support in the long run. (Especially in the event of corporate interest taking initiative)

Additionally, it would mean that Windows users would always receive a build of Audacity with telemetry baked in from the official channels. Windows users are not accustomed to compiling software from source. If Audacity ever decides to make it this feature mandatory, there is no one there to distribute binaries with this feature patched out. =||= > If Audacity ever decides to make it this feature mandatory, there is no one there to distribute binaries with this feature patched out.

Automating this with CI (after some initial setup) is trivial.
That would be the main reason for a fork. So people would download Librecity or whatever instead of Audacity.
 =||= > Due to the large amount of worry about this PR, (which we completely understand), we want to clarify exactly what is going on:
> 
>     1. Telemetry is **strictly optional and disabled by default**.

Am I reading things wrong, or did you just change this after people noticed and called you out? Looks to me like the original default was enabled:
https://github.com/audacity/audacity/pull/835/commits/fefeb2af3bc1cefe8649162b5222521999ba9f47

Usually when a company acquires a popular software project they wait a lot longer to start screwing it up. Hats off to you for hitting the ground running, I guess? Seriously, how could you possibly have expected the news that one of the most popular FOSS projects was going to implement Google analytics (again--originally enabled by default) was going to be accepted any other way?

Edit: Answer is I'm reading this wrong
https://github.com/audacity/audacity/pull/835#issuecomment-834449458

Edit edit: ...as least as far as the timing on the default change. I stand by my rush-to-screw-up opinion.
 =||= Data collection is absolutely crucial in software development. Google analytics doesn't just collect data though, it takes your soul with it. Don't ruin your reputation further. =||= > > Due to the large amount of worry about this PR, (which we completely understand), we want to clarify exactly what is going on:
> > ```
> > 1. Telemetry is **strictly optional and disabled by default**.
> > ```
> 
> Am I reading things wrong, or did you just change this after people noticed and called you out? Looks to me like the original default was enabled:
> [fefeb2a](https://github.com/audacity/audacity/commit/fefeb2af3bc1cefe8649162b5222521999ba9f47)
> 
> Usually when a company acquires a popular software project they wait a lot longer to start screwing it up. Hats to you for hitting the ground running, I guess? Seriously, how could you possibly have expected the news that one of the most popular FOSS projects was going to implement Google analytics (again--originally enabled by default) was going to be accepted any other way?

If you look in the actual PR history that change was made before this PR had any related comments on it. Most likely was just a default in development and changed for the actual release. =||= Tracker in FOSS... This not normal =||= I think one issue is that not everyone may be aware of the code. I, and many others, can adjust fine; I use 
some ruby scripts or just oldschool GNU sed to automatically eliminate undesired code, then compile 
from source. I do this, by the way, to automatically remove ""Code of Conduct"" files too since they are not
relevant (they are not part of the licence, for example, thus irrelevant propaganda).

When you go to the audacity homepage, though, you can read this, among other entries:

""Developed by a group of volunteers as open source.""

Of course we can ask what EXACTLY is meant with ""open source"". Is ethics included?

The audacity comes with a CODE_OF_CONDUCT.md by the way, yet audacity is currently
stating that ""telemetry"" is ethically and morally acceptable. Well, call me strange, but I 
find tele-sniffing and tele-spying on users much more problematic than a ""code of conduct""
which is already irrelevant to me (since it is not part of the licence, thus it can not be 
enforced).

I would highly recommend the audacity team to reconsider. It is clear that this is 
done for revenue-driven purposes and I think people can somewhat understand
different strategies used by different organization in this regard, which is 
understandably a problem with many open source projects. I am all in favour of 
state-driven aid AS WELL (provided that there are verifiable means to see that
this benefits the taxpayer too), but sneaky-tele-spying is just morally and ethically
inacceptable. The downvotes are very clear, so I think the audacity team should
completely reconsider the approach. I highly recommend dropping that idea.

See the libreoffice team reconsidering their approach in regards to two-class
apartheid (""business"" versus ""regular"" users) a few months ago as an example
to better the situation. And see the qt project for an example how to worsen 
the situation (the kde devs are in denial mode right now but this can not be
maintained in the long run either; nobody wants to be penalized up to 12 
months before patches are available for the open source community. The
kde devs have not understood this yet.) =||= I'm not as worried about analytics as some here - if things devolve, there'll be a pull request to review.

I do have two concerns with the pull request:

 - I agree that the screenshot should be more clearly opt-in - the ""dark pattern"" should become neutral, perhaps with enabling analytics requring a checkbox to enable the ""send data"" button + a button click.  That would make opting-in a positive decision.
 - I am concerned about shipping a private `libcurl`, even unpatched.  `libcurl` releases frequently and has had CVEs.  I don't think Audacity wants to be in the business of tracking `libcurl` and being forced to re-release Audacity on `libcurl`'s schedule.  Make `libcurl` a dependency, and check for a minimum version. This loose coupling will ensure that `libcurl` is as up-to-date as possible; whichever updates first will be used.  `libcurl` has been very good about not breaking APIs, so this is a low risk strategy,  There is nothing (on any OS) that prevents one library (DLL) from depending on or dyamically linking another.
 
I don't understand why you need two analytics services.  Depending on where a user lives, (s)he may be more worried about one or the other.  But both gives the worst of both worlds.  I'd suggest settling on one.  And you might satisfy some concerns if you allowed selection of what is collected.  Eg. a checkbox for ""census data only"" and another for ""usage details"".

[edit: fixed two typos.] =||= > > I am rather disappointed to see so many negative comments from people that have clearly not even checked if this feature is opt-in or opt-out. I much prefer to see people contributing rather than just criticising. If you really want to help, get involved and contribute (I'm aware that several writers here do actually contribute to FOSS).
> 
> @SteveDaulton it's not about opt-in or opt-out, it's more about the fact that there are plenty more non-invasive and privacy-friendly (even self-hostable) analytics provider out there than Google Analytics.

Also we all know as users that ""default off"" will eventually become ""always on"" as Muse Group slowly gets their tentacles all over it. Free isn't Free if your data is being mined. =||= If you hosted the telemetry collection server yourself, I might opt in. Sending your users' data to a third party is a hard NOPE. =||= Audacity is my go-to tool for whenever I need to make a very quick edit to some audio file that I have at hand, but I have one improvement for this PR:

Close it. **Scrap the ENTIRE request.** Don't even think about getting this merged in the future. I want _my_ privacy to be respected. =||= > > I dont know, why @JamesCrook @MartynShaw @Paul-Licameli and @SteveDaulton have not replied to the PRs
> 
> Speaking for myself, a ""work in progress"" pull request is not a QA issue. I shall make my views clear to the development team when or if this work is merged, based on a calm and careful assessment of it as it is at that time. While I understand some of the concerns raised, and while I personally take the issue of user privacy very seriously, I also appreciate the benefits that telemetry can bring ""for users"".
> 
> Having developed many features for Audacity, including TimeLine Quick Play, Split Stereo Track to Mono, the Distortion effect, Bass and Treble effect, Sample Data Import / Export, Label Sounds, Nyquist Plug-in Installer, countless plug-ins and many enhancements, I would LOVE to know which features Audacity users find useful.
> 
> I improved the Pink Noise and Brownian Noise generators, but does anyone use them? Despite asking on the very active Audacity Forum, I have no idea. Was I wasting my time? Could I have brought more value to the Audacity community by doing something else? I have no idea, because asking users to give feedback on the forum does not work.
> 
> What about all the time that I spent adding SBSMS to Change Pitch and Change Tempo? Is that something that people use, or was that a waste of time? I have no idea, I just assume that it might be useful for some, with hardly any user feedback to support that assumption.
> 
> Can telemetry be useful in FOSS? Yes I believe that it can, provided that it is opt-in, is transparent about what data is collected, who has access to that data, and what the data is used for. I see, and I am happy about the limited uses of telemetry in FOSS classics such as Firefox.
> 
> I am rather disappointed to see so many negative comments from people that have clearly not even checked if this feature is opt-in or opt-out. I much prefer to see people contributing rather than just criticising. If you really want to help, get involved and contribute (I'm aware that several writers here do actually contribute to FOSS).
> 
> I am not going to speculate about the final form of telemetry, if any, that will end up in a future Audacity release. Many of Audacity's features have been through multiple iterations before being suitable for general release, and I have better things to do with my time than speculate about what may or may not be - at least I think I have better things to do.

@SteveDaulton 
I'm happy to voice my support for this telemetry. I have experienced what it's like to be on the other side, developing an application and having access to telemetry, and the benefits are huge. It is not a privacy concern in my opinion, the data being collected is as anonymous as the data being collected about all of us here right now every time we visit a website. There is frankly some paranoia going on in this thread and I suspect this is a ""vocal minority"" venting. More than 99% of audacity users probably don't even have a github account to comment here, let alone care this much about telemetry.

The points you raised Steve about the uses of this anonymous data are great examples of why telemetry is useful. Being able to see real time data on how your changes are making a difference to users, positive or negative, is very valuable and a great tool for a UX focused development approach.

I'd also add you're right about how difficult it is to get feedback from users. Lots of people in this thread have talked about surveys and asking for feedback on forums, but almost no one ever does that and those who do are usually a vocal minority, and it's best not to let the vocal minority drive the direction of development.

Those talking about this being 'data mining' for money are a few fries short of a happy meal. No money will be made from this kind of telemetry. I don't know how the average person here could even think that information about how often an error occurs or how long the average Audacity session is, or which audio effects are the most popular, could be worth anything to anyone.

It feels like a lot of people here are just automatically making the connection between harmless anonymous opt-in telemetry, and Facebook style massive data mining operations for advertisers.

Also thankyou for your great work on Audacity over the years. =||= Please, do not do this. =||= The fact that with all this backlash, the new company is still ""forcing"" this PR and is not willing to listen the community is one of the most worrying parts.
This project got here thanks to the contribution of a lot of people, and hearing what they had to say.
They completely turn their backs on the community in like 4 days of developing. =||= A completely useless PR for a feature which nobody asked for.
Kindly close it. =||= Please dont turn OSS into Open Source Spyware =||= > Please dont turn OSS into Open Source Spyware

I will tell you they won't care. With the money they're going to get by selling users' data, who needs morals and _**Audience**_? (possible name for a future fork intended) =||= This time could be far better spent doing anything else than implementing telemetry. At least it's optional, but PLEASE focus on cleaning up Audacity's UI instead, it's quite daunting to newcomers. =||= @SteveDaulton I think others have expressed my views to you in a better way than I could right now. Nonetheless, especially after your last post here, I think you should reconsider especially since none of your messages addresses the legal standpoint, such as GDPR for example, where consent is explicitly required and AFAIK, no mechanism is present to handle such a thing in your code.

To be honest, and I know that most people in the FLOSS communities I contribute to, would just stop using a FLOSS project that might contain such ""telemetry"" even before it is implemented. In other words, unless this draft is abandoned in the near future, you will make a lot of users run away from your Audacity. This would be a shame, especially since this project is so good and well-established.

I hope you will take the right decision. =||= > > Please dont turn OSS into Open Source Spyware
> 
> I will tell you they won't care. With the money they're going to get by selling users' data, who needs morals and _**Audience**_? (possible name for a future fork intended)

Waiting for a fork to come up :trollface:  =||= > This time could be far better spent doing anything else than implementing telemetry. At least it's optional, but PLEASE improve Audacity's UX, it's quite daunting to newcomers.

That's why they're adding telemetry, to get useful information to help drive UX improvements? =||= > > This time could be far better spent doing anything else than implementing telemetry. At least it's optional, but PLEASE improve Audacity's UX, it's quite daunting to newcomers.
> 
> That's why they're adding telemetry, to get useful information to help drive UX improvements?

You could just get useful information by asking for feedback instead of tracking user activity. Have a ""send feedback"" button, reach out to users, etc. There's no need to turn Audacity into spyware. =||= No, no and no. Don't do this. =||= Good Night, Audacity.   Either I will conserve the Version I have got, or I will deinstall. =||= If the future advertisers, they're going to sell our data to, wanna know about the user count...
Spoiler alert: it decreases drastically in this very moment. =||= Well this is bad.
A legend falls. =||= > > > This time could be far better spent doing anything else than implementing telemetry. At least it's optional, but PLEASE improve Audacity's UX, it's quite daunting to newcomers.
> > 
> > 
> > That's why they're adding telemetry, to get useful information to help drive UX improvements?
> 
> You could just get useful information by asking for feedback instead of tracking user activity?

Majority of users completely ignore any request for user feedback, and the small number who don't, usually try to use it as a means of voicing their strong opinions to affect change in the direction of development, making their feedback less useful. Even when users are being honest and reasonable with their feedback, they usually can not provide the kind of detailed useful information that telemetry can offer. =||= > It feels like a lot of people here are just automatically making the connection between harmless anonymous opt-in telemetry, and Facebook style massive data mining operations for advertisers.

@mindinsomnia except that, it's actually a data sellout to google/rest of advertisers/nsa and yandex/russian government, can't believe you say facebook is data mining a lot of data while not acknowledging that google does it for the same scale, if not larger
 =||= > If the future advertisers, they're going to sell our data to, wanna know about the user count...
> Spoiler alert: it decreases drastically in this very moment.

Which advertisers do you think are going to buy information on which menu items are being clicked the most and which error messages are the most common? Think about this. This data wouldn't even be useful to advertisers.  =||= > > This time could be far better spent doing anything else than implementing telemetry. At least it's optional, but PLEASE improve Audacity's UX, it's quite daunting to newcomers.
> 
> That's why they're adding telemetry, to get useful information to help drive UX improvements?

Adding the telemetry is **fine**. But relying the data handled to the third party, and even big tech company operating from advertising like Google is **NOT FINE** and Yandex too, even i dont know how good their privacy practice is.

Also dont forget the bad UI decision such as possible ""dark patterns"" in the screenshot dialog too. Not to mention the legal stuff on GDPR. =||= > > > This time could be far better spent doing anything else than implementing telemetry. At least it's optional, but PLEASE improve Audacity's UX, it's quite daunting to newcomers.
> > 
> > 
> > That's why they're adding telemetry, to get useful information to help drive UX improvements?
> 
> You could just get useful information by asking for feedback instead of tracking user activity. Have a ""send feedback"" button, reach out to users, etc. There's no need to turn Audacity into spyware.

Seriously, just talk to your users. Build software that people _want_, not software that makes a number on a dashboard go up. =||= > > If the future advertisers, they're going to sell our data to, wanna know about the user count...
> > Spoiler alert: it decreases drastically in this very moment.
> 
> Which advertisers do you think are going to buy information on which menu items are being clicked the most and which error messages are the most common? Think about this. This data wouldn't even be useful to advertisers.


> Yandex would only receive the “application opened” event to help us estimate the size of the user base.  =||= Yooo its time to never update my audacity again =||= > > > > This time could be far better spent doing anything else than implementing telemetry. At least it's optional, but PLEASE improve Audacity's UX, it's quite daunting to newcomers.
> > > 
> > > 
> > > That's why they're adding telemetry, to get useful information to help drive UX improvements?
> > 
> > 
> > You could just get useful information by asking for feedback instead of tracking user activity?
> 
> Majority of users completely ignore any request for user feedback, and the small number who don't, usually try to use it as a means of voicing their strong opinions to affect change in the direction of development, making their feedback less useful. Even when users are being honest and reasonable with their feedback, they usually can not provide the kind of detailed useful information that telemetry can offer.

What ""detailed useful information"" could you get from storing client UUIDs and making network requests every time a window is opened? =||= Don't make me firewall yet another application. Users shouldn't have to worry about every application on their computer chipping away at their bandwidth caps, especially not an audio application. =||= Welp, to /dev/null audacity goes, ardour is now the only music software worth using on linux. =||= > Adding telemetry is a useless act when nearly all your users (Linux distros) are gonna compile from source and create their own packages or downright disable it.

That's an important point. There will be distro maintainers who will consider disabling this compile flag and so no telemetry data will come from those distros. If the audacity developers will base their focus on this telemetry data, they might think that no one uses the software on those operating systems and they might be inclined to just ignore bug reports or seize to support it entirely.

As some distro maintainers will forsee this problem, they will be inclined to not disable this flag because it might negatively affect the support of their platform.
 =||= > > > > This time could be far better spent doing anything else than implementing telemetry. At least it's optional, but PLEASE improve Audacity's UX, it's quite daunting to newcomers.
> > > 
> > > 
> > > That's why they're adding telemetry, to get useful information to help drive UX improvements?
> > 
> > 
> > You could just get useful information by asking for feedback instead of tracking user activity?
> 
> Majority of users completely ignore any request for user feedback, and the small number who don't, usually try to use it as a means of voicing their strong opinions to affect change in the direction of development, making their feedback less useful. Even when users are being honest and reasonable with their feedback, they usually can not provide the kind of detailed useful information that telemetry can offer.

That doesn't make any sense. The benefits of telemetry are fairly limited, if not against the whole point of free software. And also it's not true as most contributors send a full detailed log of what's wrong. =||= > high-speed internet access and its consequences have been a disaster for humanity

Humanity and its consequences have been a disaster for humanity. =||= > Adding telemetry is a useless act when nearly all your users (Linux distros) are gonna compile from source and create their own packages or downright disable it.

I think there are some inaccurate assumptions being made here, such as:
A) Assuming the majority of users for audacity are on Linux, far more likely that the majority are on Windows.
B) Drastically over estimating the number of people who can / would compile software from source code.
C) Drastically over estimating the number of people who would care about telemetry so much that they would compile a fork of audacity from source just to remove telemetry which is already opt-in. =||= Audacity has worked just fine as is for 20 years. There are many venues to report bugs. 
Seeing how many midi files are people exporting or what OS are they using is not going to help you fix any issues. 
You still have time to turn back the ship before it turns into Titanic. =||= I'm starting to become fearful that viable alternatives for telemetry other than the kind that gives Google/Yandex data are being buried in the sea of messages. Is there any way that such alternatives can be organized into one neat list so that alternatives could actually be explored? I won't disagree with the mere concept of telemetry being included, given it's **always** opt-in, but I will fight back against the notion of willingly handing companies such as Google more data, and I know for a fact alternatives have been offered. =||= > > Adding telemetry is a useless act when nearly all your users (Linux distros) are gonna compile from source and create their own packages or downright disable it.
> 
> I think there are some inaccurate assumptions being made here, such as:
> A) Assuming the majority of users for audacity are on Linux, far more likely that the majority are on Windows.
> B) Drastically over estimating the number of people who can / would compile software from source code.
> C) Drastically over estimating the number of people who would care about telemetry so much that they would compile a fork of audacity from source just to remove telemetry which is already opt-in.

Meanwhile you are just underestimating us that we will not make a fork of it and not caring about telemetry at all. =||= > Not to mention the legal stuff on GDPR.

GDPR applies to data that identifies a person or can be uses to identify a person with reasonable certainty. Unless the telemetry collection services track the source IP address, this does not seem to be the case here as none of the listed info relates to a person. =||= > > Not to mention the legal stuff on GDPR.
> 
> GDPR applies to data that identifies a person or can be uses to identify a person with reasonable certainty. Unless the telemetry collection services track the source IP address, this does not seem to be the case here as none of the listed info relates to a person.

as someone in this thread said few hours ago, either google or devs are able to ""decrypt"" pseudonymous IDs GA gives so uhhh, thats gdpr breach =||= > Meanwhile you are just underestimating us that we will not make a fork of it and not caring about telemetry at all.

What's the point in creating a fork just to remove a feature that is already off by default?

That's like creating a fork of VLC to remove the option to have a custom skin because you don't plan to use one. =||= > > Meanwhile you are just underestimating us that we will not make a fork of it and not caring about telemetry at all.
> 
> What's the point in creating a fork just to remove a feature that is already off by default?
> 
> That's like creating a fork of VLC to remove the option to have a custom skin because you don't plan to use one.

there's a point in showing opposition to whatever dumb decision devteam decides to make =||= Have you looked at https://sentry.io/welcome/ as this seems to be what you want you want and would then remove Google and yandex which seems better and you can even host it yourself if I recall correctly =||= 
> Meanwhile you are just underestimating us that we will not make a fork of it and not caring about telemetry at all.

I'll make the logo! =||= > If the audacity developers will base their focus on this telemetry data, they might think that no one uses the software on those operating systems and they might be inclined to just ignore bug reports or seize to support it entirely.

The lack of support is already the case also without telemetry, which makes it all the more disappointing that a topic such as this receives so much attention while there are *actual problems to fix* with this application and its build system.

I would love to see improvements on that. =||= > > Adding telemetry is a useless act when nearly all your users (Linux distros) are gonna compile from source and create their own packages or downright disable it.
> 
> That's an important point. There will be distro maintainers who will consider disabling this compile flag and so no telemetry data will come from those distros. If the audacity developers will base their focus on this telemetry data, they might think that no one uses the software on those operating systems and they might be inclined to just ignore bug reports or seize to support it entirely.
> 
> As some distro maintainers will forsee this problem, they will be inclined to not disable this flag because it might negatively affect the support of their platform.

And that's not mentioning the distro mantainers that will just outright remove audacity from the repos, most likely to do that is debian, then they will upload their audacity fork without telemetry, and other distros will follow... =||= > 
> 
> > Meanwhile you are just underestimating us that we will not make a fork of it and not caring about telemetry at all.
> 
> What's the point in creating a fork just to remove a feature that is already off by default?
> 
> That's like creating a fork of VLC to remove the option to have a custom skin because you don't plan to use one.

In 3.2  you will switch it on by default
In 3.3. your tracking will try to search for Files on our discs
In 3.4. we will get annyoing advertisements from 3rd parties, probably with security leaks. 

Any further Questions?  

Audacity is dead for me if just one single line of tracking code is inside. It doesn't matter if it's ""optional"" for a small period of time. =||= > > Meanwhile you are just underestimating us that we will not make a fork of it and not caring about telemetry at all.
> 
> What's the point in creating a fork just to remove a feature that is already off by default?
> 
> That's like creating a fork of VLC to remove the option to have a custom skin because you don't plan to use one.

This is a silly comparison. One is harmful on the long run, while the other is just an aesthetic thing. Also, a certain group called 'suckless' would like to know your position. =||= But why? No, please. =||= > > > Meanwhile you are just underestimating us that we will not make a fork of it and not caring about telemetry at all.
> > 
> > 
> > What's the point in creating a fork just to remove a feature that is already off by default?
> > That's like creating a fork of VLC to remove the option to have a custom skin because you don't plan to use one.
> 
> This is a silly comparison. One is harmful on the long run, while the other is just an aesthetic thing.

Also they even wanted telemetry to be ON at the first place.
![unknown](https://user-images.githubusercontent.com/35190743/117471097-07015a00-af47-11eb-9ca3-14976c376419.png)
 =||= they have been lying repeatedly throughout this entire process. I have concluded in several comments above, that the only meaningful reason to collect the types and volume of data proposed in this PR is for constructing a monetization strategy not supporting feature development. Calling this conclusion paranoid ignores that the developers in question have a history of this exact behavior with MuseScore. =||= > Mention in the pop-up that Google Analytics and Yandex are used for processing/storing the data.

Or just don't add telemetry :) =||= > Mention in the pop-up that Google Analytics and Yandex are used for processing/storing the data.

thats not enough, either they use self-hosted telemetry, or don't use it at all =||= # OK poll time, 
lets find out what people really want:

https://www.strawpoll.me/45241130

I dunno how to make a poll on github =||= Are you trying to get people to stop using it, or just encouraging people to fork? =||= If this is implemented there is a very real danger that I hope the team avoids:

* Powers users (those that are more likely to be both privacy and technically conscious who may choose to disable telemetry) may use certain obscure features more than other users
* The analytics will, by dint of the above caveat, not reflect features used more often by power users
* This runs the risk of management choosing to cut features because they see them as not being used, and therefore not worthy of the time required to maintain them

I have seen other projects fall into this trap, so I hope the audacity team is aware of this and knows how to avoid it. =||= Just the fact that despite after 2500 dislikes and more than 500 comments all saying we **DON'T** want telemetry, they don't take action says long enough about what kind of people we are dealing with. If we can't fix their minds then there is no more reason to even try to fight against. =||= I don't understand the outrage. What they're doing is perfectly reasonable and (I think) in good faith. They just want to have data to improve Audacity, and the way they are doing it is the best way. Data is useful, there's no denying that. Knowing how your users use the software is vital to knowing what to even improve, without it, you can only guess or hear the complaints from a minority which may or may not represent the actual problems of the software.

Take into account, this data is **anonymous** and **opt-in**. **PLUS** this is only enabled if you compile from source with the intention of enabling it, most repositories will not even have this in the binary. There are other FLOSS projects which do the same, KDE comes to mind, it also has opt-in telemetry. Telemetry in itself isn't bad, it's only bad if it doesn't respect your privacy, and if you give consent to this, I don't see how your privacy is getting violated.

Also, Audacity is open source, if this actually gets out of hand, a fork will exist with all the crap removed. There's no reason to be alarmed. =||= If they don't quit with the idea of telemetry then a hostile fork will be made. Splitting the community.

Is it that what you want Audacity? =||= As a developer I know how valuable knowing some numbers is. And I usually opt-in non invasive telemetry.. BUT this whole PR is somehow shady.. the narrative is changing, clarifications that should've been there are just being added and the choice of Yandex and Google is just sloppy  =||= > Just the fact that despite after 2500 dislikes and more than 500 comments all saying we **DON'T** want telemetry, they don't take action says long enough about what kind of people we are dealing with. If we can't fix their minds then there is no more reason to even try to fight against.

they are just waiting for this shitstorm to die down and resume operation aftewards.
weekend is coming, so I guess on early next week we get a more definitive answer. =||= > They just want to have data to improve Audacity, and the way they are doing it is the best way. Data is useful, there's no denying that.

I think the main source of outrage is the telemetry provides they are using, it really wouldn't be too hard to process telemetry on their own servers, but instead they are planning to sent this data to *Google* of all people, only Facebook would be a worse choice =||= > I don't understand the outrage. What they're doing is perfectly reasonable and (I think) in good faith. They just want to have data to improve Audacity, and the way they are doing it is the best way. Data is useful, there's no denying that. Knowing how your users use the software is vital to knowing what to even improve, without it, you can only guess or hear the complaints from a minority which may or may not represent the actual problems of the software.
> 
> Take into account, this data is **anonymous** and **opt-in**. **PLUS** this is only enabled if you compile from source with the intention of enabling it, most repositories will not even have this in the binary. There are other FLOSS projects which do the same, KDE comes to mind, it also has opt-in telemetry. Telemetry in itself isn't bad, it's only bad if it doesn't respect your privacy, and if you give consent to this, I don't see how your privacy is getting violated.
> 
> Also, Audacity is open source, if this actually gets out of hand, a fork will exist with all the crap removed. There's no reason to be alarmed.

It will not be anonymous until they switch to a self-hosted telemetry service and stop collecting IPs.  =||= > Just the fact that despite after 2500 dislikes and more than 500 comments all saying we **DON'T** want telemetry,

Wrong, some of us are in agreement with the need for telemetry, so you're going to have to go through the comments and count up the positive/negative comments. =||= > I don't understand the outrage.

I'm with you on that. I don't get it either. It feels like a lot of paranoia in this thread. =||= We have come to a point where refusing being tracked and analytics is considered paranoia now... really sad state of affairs :( =||= > > I don't understand the outrage.
> 
> I'm with you on that. I don't get it either. It feels like a lot of paranoia in this thread.

So I take you did not read much of it. =||= > > Just the fact that despite after 2500 dislikes and more than 500 comments all saying we **DON'T** want telemetry,
> 
> Wrong, some of us are in agreement with the need for telemetry, so you're going to have to go through the comments and count up the positive/negative comments.

Mind insomnia you and a couple of others are individuals standing against dozens. I respect you for standing by your views in such a public forum, however you should acknowledge the consensus stands against you. =||= The edited OP makes it even more obvious that this is, at best, trying to solve a problem that doesn't exist, at least not nearly to the degree that would make it worth entering into a deal with the google.

I remember a couple years back when GZDoom had telemetry. No Google nonsense, just a very narrow question of how many people were still using some really old OSes and graphics hardware that the devs were struggling to keep supporting. These struggles had been voiced and well known for quite some time before the decision had been made.

*Once that question was settled the GZDoom team got rid of the telemetry.*

I don't see that kind of thinking with this PR. Instead, it just looks like someone wants to add telemetry to this because they think it's a good idea but without any immediate use case in mind, and then tried to come up with justifications for it. =||= The pop-up could be a lot clearer:

```
We would like to gather information about your usage of Audacity to analyze 
and improve the product.

If you agree, the following data will be stored:
- a unique identifier linked to your Audacity instance
- your IP address
- session start and end events with timestamps
- any errors you encounter
- usage of effects, sound generators and analysis tools
- file formats used when importing and exporting
- your OS type and Audacity version

You do not have to agree to this. If you agree, you can opt-out at any time by 
changing your preference at ""Preferences > Analytics"".

Some or all of this data is processed and stored by Yandex and Google. See our
Privacy Policy for more information.
``` =||= > > I don't understand the outrage.
> 
> I'm with you on that. I don't get it either. It feels like a lot of paranoia in this thread.

Simple, lack of transparency from the start + iffy choice of what to collect and absolutely unnecessary choice of provides like Google and Yandex = outrage =||= # Have your say 
lets find out what people really want:

https://www.strawpoll.me/45241130

yes I see the irony in collecting statistics on if people want statistics collected. =||= > Mention in the pop-up that Google Analytics and Yandex are used for processing/storing the data.

As-per GDPR (at least), they MUST do that and more (consent, etc.). =||= > > Just the fact that despite after 2500 dislikes and more than 500 comments all saying we **DON'T** want telemetry, they don't take action says long enough about what kind of people we are dealing with. If we can't fix their minds then there is no more reason to even try to fight against.
> 
> they are just waiting for this shitstorm to die down and resume operation aftewards.
> weekend is coming, so I guess on early next week we get a more definitive answer.

This is toxic mentality if they do, because it means they don't care about the transparency of the decisions and are no different than big companies.
Instead, what they could and should do, is discussing these decisions in forums and with people, not decide by themselves what it's best for them. =||= > # Have your say
> 
> lets find out what people really want:
> 
> https://www.strawpoll.me/45241130
> 
> yes I see the irony in collecting statistics on if people want statistics collected.

I refuse to be tracked by your survey! You'll just sell my data to advertisers! =||= @crsib :

> Due to the large amount of worry about this PR, (which we completely understand), we want to clarify exactly what is going on:

This is a good start, with 3000 people stating they are disapproving, confused or concerned it seems that the initial proposal was less than well considered.

>     1. Telemetry is **strictly optional and disabled by default**. No data is shared unless you choose to opt-in and enable telemetry.

Strictly optional for who?  Implementing an opt-in/opt-out dialog indicates that by default you are expecting this code to be compiled into the application

>     2. Telemetry only works in the builds made by GitHub CI from the official repo (the telemetry URLs are only defined there).
> 
>     3. If you are compiling Audacity from source, we will provide a CMake option to enable the telemetry code. This option will be turned **off** by default.

This seems rather disingenuous.  The vast majority of users do not compile this code themselves.  They get it from an upstream that compiles it for them, therefore the average user will have no way of knowing if this code is compiled into the application until they start it.

> **Why have telemetry at all?**
> 
> Essentially, it’s to help us to identify product issues early:

And this is a valid use case...  HOWEVER, having a valid use case doesn't make the jump to using API's from privacy disrespecting third parties an obvious solution.  Having identified the need and use case the obvious next step should have been to start a conversation how to best implement this feature, and make certain identify:

- Impact of the feature on developers
- Impact of the feature on users
- How to safeguard user information
- What is the chain of custody for the information being gathered
- What is the life cycle for the information
- What features will be available to users to see the information that is being gathered
- What types of transparency are the developers going to maintain around this information

> Regarding the concerns about the choice of providers:
> 
>     1. We do not incorporate cross-site tracking, limiting the ability to identify the user by both Google and Yandex.

Cross-site tracking is not necessary for Google to take the information supplied to them and use it against other sources they gather information from in order to fingerprint the user. This kind of data mining operation is precisely what they have been known to do for years now.


>     3. Google would only receive:
>        a. Session start and end events;
>        b. Errors for debugging;
>        c. File formats used for import and export;
>        d. OS and Audacity versions;
>        e. Use of effects, generators, and analysis tools to prioritize future improvements;

This is more than enough information for Google to use it in their mining operations.

>     4. We will consider replacing Google and Yandex with another service if we find one that fulfills our requirements - thanks for the suggestions and keep them coming.

Did you consider anything else?  I did a quick thought experiment about other common applications that I know that gather information.  What did I come up with?  Well, I'm using FireFox, and I know they gather information all the time.

So, I did a quick double check to see what their documentation / statement is around the information they gather.  They are very clear and transparent: [Telemetry collection and deletion](https://support.mozilla.org/en-US/kb/telemetry-clientid).  I note they have some very carefully stated guidelines surrounding the gathering and use of this information:

> **How long do you keep telemetry data?**

> We keep telemetry data for 13 months.

> **How do I opt out or delete telemetry data?**

> You can opt out of sending any Firefox telemetry information at any time. If you opt out of sending telemetry data, we will also treat this as a request to delete any data we previously collected. Data will be deleted within 30 days after you opt out. 

Your proposal is that you have an on / off switch, with no indication of:

1. Where the information is stored?
2. How long the information is stored?
3. What (if anything) will be done to anonymize the information?
4. Who will have access to the information (including any third parties)?
5. If the user turns off the option later, when will their information be deleted?

Speaking to #3 above, it's definitely necessary as you have stated:

> Both services also record the IP the request is coming from.

The simple FAQ style document from Mozilla addresses a number of these concerns, and links to more in depth information regarding the gathering of this information and all of the technical details of how it is used.  This is the kind of transparency that needs to be included when addressing this kind of situation.

One of the nicer things about Mozilla's implementation is they have a whole, publicly available portal for information surrounding the telemetry they gather: [Mozilla Telemetry Portal](https://telemetry.mozilla.org/) - nothing in your proposal suggests that you would implement anything similar.

Also, very noteworthy: Mozilla has a **whole open source [SDK called GLEAN](https://mozilla.github.io/glean/dev/index.html)** for this application.  This is the kind of implementation that should have been considered before even one line of code was written to try to implement this.,

The big takeaway here, is that as a developer you have misunderstood the practice for implementing a large new feature.  From a technology standpoint it is simple.  The hard part is the **policy, procedures and processes** that are needed to support this feature.  The code is the easy part, it's working with the whole community that is difficult, BUT IT IS ABSOLUTELY CRITICAL. =||= As they're obviously do not take the concerns of thousands of their users serious - Waiting for Forks to come.
Get ready to become the OpenOffice of audio software. =||= > I refuse to be tracked by your survey! You'll just sell my data to advertisers!

😆  very good. Yes straw poll collect your IP address for the purposes of ensuring you can't vote twice. However when creating the poll I disabled all other cheat tracking, including cookies. Unlike audacity at least straw poll is upfront about their what data they actually collect.
 =||= I think it's useless keep going. It's clear they won't change their mind, I will stay with my idea that the telemetry has been added to sell data to corporations and maybe one day sell the whole Audacity software, team and users.
Now, everybody is free to believe what they want to believe and keep going, just keep in mind you won't get listened. =||= @tralph3 

> They just want to have data to improve Audacity, and the way they are doing it is the best way.

Plenty of major FOSS projects get by without telemetry, this isn't necessary in any way. Even if it were, GA isn't the way to go about it.

> Take into account, this data is anonymous and opt-in. PLUS this is only enabled if you compile from source with the intention of enabling it

Anonymous it ain't. pseudonymous is the word here, the data it sends seems to be easily traceable to a personal profile on google's end. Opt-in and compile flag looks to have been last minute changes just to try to appease the crowd, one being a GDPR requirement in the first place and the second being a very fragile line of security.

> Also, Audacity is open source, if this actually gets out of hand, a fork will exist with all the crap removed. There's no reason to be alarmed.

Forking is the last line of defense against stuff like this. If arguing over it gets it away from being merged upstream, that's in the best interests of (I think) almost everyone involved.  =||= > lets find out what people really want:
> 
> https://www.strawpoll.me/45241130

:lol: Apologies for being off-topic, but did you read this on the  strawpoll.me site?

""Fandom and our partners use technology such as cookies on our site to store and collect information from your browser to personalize content and ads, provide social media features, and analyze our traffic."" =||= > > Meanwhile you are just underestimating us that we will not make a fork of it and not caring about telemetry at all.
> 
> I'll make the logo!

Make it cute and i'm in! =||= > > > Meanwhile you are just underestimating us that we will not make a fork of it and not caring about telemetry at all.
> > 
> > 
> > I'll make the logo!
> 
> Make it cute and i'm in!

[fork name]-chan will be the mascot! (please I hope the name will be 'Audience') =||= Things i learned in this disrespectful and in its execution illegal PR:

- Audacity shall be dead to me, time to install Ardour.
- Time to uninstall MuseScore and stop composing music until i managed to save the ~500€ for Finale.

Fuck this. =||= > > lets find out what people really want:
> > https://www.strawpoll.me/45241130
> 
> :lol: Apologies for being off-topic, but did you read this on the strawpoll.me site?
> 
> ""Fandom and our partners use technology such as cookies on our site to store and collect information from your browser to personalize content and ads, provide social media features, and analyze our traffic.""

yea websites be shitty. But there are tools and plugins and browser features for protecting yourself online. Maybe you see why we don't want these same technologies in a native app where no such protections exist? =||= > > lets find out what people really want:
> > https://www.strawpoll.me/45241130
> 
> :lol: Apologies for being off-topic, but did you read this on the strawpoll.me site?
> 
> ""Fandom and our partners use technology such as cookies on our site to store and collect information from your browser to personalize content and ads, provide social media features, and analyze our traffic.""

Also this:

>  How do we collect your data?
> Some data are collected when you provide it to us. This could, for example, be data you enter on a contact form.
> Other data are collected automatically by our IT systems when you visit the website. **These data are primarily technical data such as the browser and operating system you are using or when you accessed the page. These data are collected automatically as soon as you enter our website.** 

Strawpoll does literally the very thing this thread is against. =||= > 
> 
> > lets find out what people really want:
> > https://www.strawpoll.me/45241130
> 
> :lol: Apologies for being off-topic, but did you read this on the strawpoll.me site?
> 
> ""Fandom and our partners use technology such as cookies on our site to store and collect information from your browser to personalize content and ads, provide social media features, and analyze our traffic.""

Wait until you hear what GitHub collects

> 
> 
> > > lets find out what people really want:
> > > https://www.strawpoll.me/45241130
> > 
> > 
> > :lol: Apologies for being off-topic, but did you read this on the strawpoll.me site?
> > ""Fandom and our partners use technology such as cookies on our site to store and collect information from your browser to personalize content and ads, provide social media features, and analyze our traffic.""
> 
> Also this:
> 
> > How do we collect your data?
> > Some data are collected when you provide it to us. This could, for example, be data you enter on a contact form.
> > Other data are collected automatically by our IT systems when you visit the website. **These data are primarily technical data such as the browser and operating system you are using or when you accessed the page. These data are collected automatically as soon as you enter our website.**
> 
> Strawpoll does literally the very thing this thread is against.

Wait until you hear what data GitHub collects! =||= > > > lets find out what people really want:
> > > https://www.strawpoll.me/45241130
> > 
> > 
> > :lol: Apologies for being off-topic, but did you read this on the strawpoll.me site?
> > ""Fandom and our partners use technology such as cookies on our site to store and collect information from your browser to personalize content and ads, provide social media features, and analyze our traffic.""
> 
> Also this:
> 
> > How do we collect your data?
> > Some data are collected when you provide it to us. This could, for example, be data you enter on a contact form.
> > Other data are collected automatically by our IT systems when you visit the website. **These data are primarily technical data such as the browser and operating system you are using or when you accessed the page. These data are collected automatically as soon as you enter our website.**
> 
> Strawpoll does literally the very thing this thread is against.

y'all realise that every time you comment on this you bring more people to my poll

I have got over 250 votes  =||= > > > > lets find out what people really want:
> > > > https://www.strawpoll.me/45241130
> > > 
> > > 
> > > :lol: Apologies for being off-topic, but did you read this on the strawpoll.me site?
> > > ""Fandom and our partners use technology such as cookies on our site to store and collect information from your browser to personalize content and ads, provide social media features, and analyze our traffic.""
> > 
> > 
> > Also this:
> > > How do we collect your data?
> > > Some data are collected when you provide it to us. This could, for example, be data you enter on a contact form.
> > > Other data are collected automatically by our IT systems when you visit the website. **These data are primarily technical data such as the browser and operating system you are using or when you accessed the page. These data are collected automatically as soon as you enter our website.**
> > 
> > 
> > Strawpoll does literally the very thing this thread is against.
> 
> y'all realise that every time you comment on this you bring more people to my poll
> 
> I have got over 250 votes

With a highly biased sample size of mainly people who already agree with you.

But it's besides the point. The point is, Strawpoll's user tracking is actually worse than what audacity is proposing.
A) It's not even possible to opt out of strawpoll's tracking
B) Strawpoll is actually sending that data to advertisers =||= Are we making a Microsoft Audacity now? Come on. =||= this is getting kind of ""off-topic"" I feel. =||= Just to make sure to bump this question from @SndChaser doesnt get dumped because of the conversation

> @crsib :
> 
> > Due to the large amount of worry about this PR, (which we completely understand), we want to clarify exactly what is going on:
> 
> This is a good start, with 3000 people stating they are disapproving, confused or concerned it seems that the initial proposal was less than well considered.
> 
> > ```
> > 1. Telemetry is **strictly optional and disabled by default**. No data is shared unless you choose to opt-in and enable telemetry.
> > ```
> 
> Strictly optional for who? Implementing an opt-in/opt-out dialog indicates that by default you are expecting this code to be compiled into the application
> 
> > ```
> > 2. Telemetry only works in the builds made by GitHub CI from the official repo (the telemetry URLs are only defined there).
> > 
> > 3. If you are compiling Audacity from source, we will provide a CMake option to enable the telemetry code. This option will be turned **off** by default.
> > ```
> 
> This seems rather disingenuous. The vast majority of users do not compile this code themselves. They get it from an upstream that compiles it for them, therefore the average user will have no way of knowing if this code is compiled into the application until they start it.
> 
> > **Why have telemetry at all?**
> > Essentially, it’s to help us to identify product issues early:
> 
> And this is a valid use case... HOWEVER, having a valid use case doesn't make the jump to using API's from privacy disrespecting third parties an obvious solution. Having identified the need and use case the obvious next step should have been to start a conversation how to best implement this feature, and make certain identify:
> 
> * Impact of the feature on developers
> * Impact of the feature on users
> * How to safeguard user information
> * What is the chain of custody for the information being gathered
> * What is the life cycle for the information
> * What features will be available to users to see the information that is being gathered
> * What types of transparency are the developers going to maintain around this information
> 
> > Regarding the concerns about the choice of providers:
> > ```
> > 1. We do not incorporate cross-site tracking, limiting the ability to identify the user by both Google and Yandex.
> > ```
> 
> Cross-site tracking is not necessary for Google to take the information supplied to them and use it against other sources they gather information from in order to fingerprint the user. This kind of data mining operation is precisely what they have been known to do for years now.
> 
> > ```
> > 3. Google would only receive:
> >    a. Session start and end events;
> >    b. Errors for debugging;
> >    c. File formats used for import and export;
> >    d. OS and Audacity versions;
> >    e. Use of effects, generators, and analysis tools to prioritize future improvements;
> > ```
> 
> This is more than enough information for Google to use it in their mining operations.
> 
> > ```
> > 4. We will consider replacing Google and Yandex with another service if we find one that fulfills our requirements - thanks for the suggestions and keep them coming.
> > ```
> 
> Did you consider anything else? I did a quick thought experiment about other common applications that I know that gather information. What did I come up with? Well, I'm using FireFox, and I know they gather information all the time.
> 
> So, I did a quick double check to see what their documentation / statement is around the information they gather. They are very clear and transparent: [Telemetry collection and deletion](https://support.mozilla.org/en-US/kb/telemetry-clientid). I note they have some very carefully stated guidelines surrounding the gathering and use of this information:
> 
> > **How long do you keep telemetry data?**
> 
> > We keep telemetry data for 13 months.
> 
> > **How do I opt out or delete telemetry data?**
> 
> > You can opt out of sending any Firefox telemetry information at any time. If you opt out of sending telemetry data, we will also treat this as a request to delete any data we previously collected. Data will be deleted within 30 days after you opt out.
> 
> Your proposal is that you have an on / off switch, with no indication of:
> 
> 1. Where the information is stored?
> 2. How long the information is stored?
> 3. What (if anything) will be done to anonymize the information?
> 4. Who will have access to the information (including any third parties)?
> 5. If the user turns off the option later, when will their information be deleted?
> 
> Speaking to #3 above, it's definitely necessary as you have stated:
> 
> > Both services also record the IP the request is coming from.
> 
> The simple FAQ style document from Mozilla addresses a number of these concerns, and links to more in depth information regarding the gathering of this information and all of the technical details of how it is used. This is the kind of transparency that needs to be included when addressing this kind of situation.
> 
> One of the nicer things about Mozilla's implementation is they have a whole, publicly available portal for information surrounding the telemetry they gather: [Mozilla Telemetry Portal](https://telemetry.mozilla.org/) - nothing in your proposal suggests that you would implement anything similar.
> 
> Also, very noteworthy: Mozilla has a **whole open source [SDK called GLEAN](https://mozilla.github.io/glean/dev/index.html)** for this application. This is the kind of implementation that should have been considered before even one line of code was written to try to implement this.,
> 
> The big takeaway here, is that as a developer you have misunderstood the practice for implementing a large new feature. From a technology standpoint it is simple. The hard part is the **policy, procedures and processes** that are needed to support this feature. The code is the easy part, it's working with the whole community that is difficult, BUT IT IS ABSOLUTELY CRITICAL.

 =||= > > > > > lets find out what people really want:
> > > > > https://www.strawpoll.me/45241130
> > > > 
> > > > 
> > > > :lol: Apologies for being off-topic, but did you read this on the strawpoll.me site?
> > > > ""Fandom and our partners use technology such as cookies on our site to store and collect information from your browser to personalize content and ads, provide social media features, and analyze our traffic.""
> > > 
> > > 
> > > Also this:
> > > > How do we collect your data?
> > > > Some data are collected when you provide it to us. This could, for example, be data you enter on a contact form.
> > > > Other data are collected automatically by our IT systems when you visit the website. **These data are primarily technical data such as the browser and operating system you are using or when you accessed the page. These data are collected automatically as soon as you enter our website.**
> > > 
> > > 
> > > Strawpoll does literally the very thing this thread is against.
> > 
> > 
> > y'all realise that every time you comment on this you bring more people to my poll
> > I have got over 250 votes
> 
> With a highly biased sample size of mainly people who already agree with you.
> 
> But it's besides the point. The point is, Strawpoll's user tracking is actually worse than what audacity is proposing.
> A) It's not even possible to opt out of strawpoll's tracking
> B) Strawpoll is actually sending that data to advertisers

so what your saying is....

Statistics are a bad way of judging how the community as a whole feels about your software? =||= @mindinsomnia 

>  The point is, Strawpoll's user tracking is actually worse than what audacity is proposing.

I don't use Strawpoll every day to do my job. Strawpoll doesn't care about my usage patterns other than the 3 seconds I took to use their site. I have Privacy Badger and uBlock Origin installed, which thwarts most of what they try anyway.

None of that can be said for Audacity. You're arguing a moot point. =||= @mindinsomnia Are you realizing that you have more dislikes than likes in your posts?
The strawpoll is not biased in any way I see. =||= > > > > Meanwhile you are just underestimating us that we will not make a fork of it and not caring about telemetry at all.
> > > 
> > > 
> > > I'll make the logo!
> > 
> > 
> > Make it cute and i'm in!
> 
> [fork name]-chan will be the mascot! (please I hope the name will be 'Audience')

the damn weebs =||= # OK poll time,

lets find out what people really want:

https://www.strawpoll.me/45241130

400 responses and counting =||= @IGBC You're making a poll asking whether it's okay to send data to Google using a site that sends data to Google? =||= I don't know why people are acting as if this is new, musescore's website has used Yandex for telemetry since at least January 2019. https://musescore.org/en/node/283188 =||= > # OK poll time,
> 
> lets find out what people really want:
> 
> https://www.strawpoll.me/45241130
> 
> 400 responses and counting

you dont need to keep reposting this =||= fine :P I will put the results up when it slows down enough =||= @rak1507

> I don't know why people are acting as if this is new,

I would wager because Audacity is (most likely) used by exponentially more people than MuseScore. Nobody here is suggesting that sending analytics to shady companies is new. =||= > I don't know why people are acting as if this is new, musescore's website has used Yandex for telemetry since at least January 2019. https://musescore.org/en/node/283188

Because we are talking about Audacity here, I guess ¯\_(ツ)_/¯ =||= @rak1507 You do understand the difference between a damn website running behind uBlock Origin, uMatrix, and more, where *we* are in control over what code runs, somewhat, and a compiled executable that can do whatever it wants to, right? =||= May be use sentry.io (it's open source, you can selfhost it) for the data, described in PR? It's privacy friendly and (IMO) perfect fit for such case. =||= I think I put it the wrong way, I'm just pointing out that they've always been pretty shady. =||= > May be use sentry.io (it's open source, you can selfhost it) for the data, described in PR? It's privacy friendly and (IMO) perfect fit for such case.

Sentry wouldn't work for this, it's only for error reporting AFAIK. =||= > > > > > Meanwhile you are just underestimating us that we will not make a fork of it and not caring about telemetry at all.
> > > > 
> > > > 
> > > > I'll make the logo!
> > > 
> > > 
> > > Make it cute and i'm in!
> > 
> > 
> > [fork name]-chan will be the mascot! (please I hope the name will be 'Audience')
> 
> the damn weebs

Are more likely to fork software. =||= > > May be use sentry.io (it's open source, you can selfhost it) for the data, described in PR? It's privacy friendly and (IMO) perfect fit for such case.
> 
> Sentry wouldn't work for this, it's only for error reporting AFAIK.

Nope, you can report both errors and custom events, here is link to the doc page of sentry CLI, but the same for any platform with sentry SDK: https://docs.sentry.io/product/cli/send-event/

We literally used that for tracking user base count and ""open app home screen"" events for mobile apps in one of private projects, because we don't want to send our users data to google analytics or yandex (app)metrica =||= > Have you looked at https://sentry.io/welcome/ as this seems to be what you want you want and would then remove Google and yandex which seems better and you can even host it yourself if I recall correctly

I'd be cautious of this one...  I don't see anything licenses, and I don't see any clear statements about how data is handled if it isn't self-hosted.  IOW - it would be possible to encounter many similar issues that we have with Google and Yandex now...  And the fact that this isn't an open source project gives me quite a bad feeling about it being used in an open source project. =||= > > Have you looked at https://sentry.io/welcome/ as this seems to be what you want you want and would then remove Google and yandex which seems better and you can even host it yourself if I recall correctly
> 
> I'd be cautious of this one... I don't see anything licenses, and I don't see any clear statements about how data is handled if it isn't self-hosted. IOW - it would be possible to encounter many similar issues that we have with Google and Yandex now... And the fact that this isn't an open source project gives me quite a bad feeling about it being used in an open source project.

https://github.com/getsentry/ =||= > Things i learned in this disrespectful and in its execution illegal PR:
> 
>     * Audacity shall be dead to me, time to install Ardour.

As the original/lead dev of Ardour, I appreciate the sentiment, but it should be made clear that Audacity is an audio file editor, and Ardour is a DAW. Although their functionality overlaps somewhat, they are entirely different sorts of programs, and one does not replace the other (at least, not necessarily). 

Also in the interest of full disclosure, builds of Ardour from ardour.org (the only ones we recommend and support) will contact ardour.org (not google) when you start the application and send it your OS and current Ardour version. We use this to notify you of new releases. We necessarily know your IP address when you do this (because that's how the internet works). We do store this information, but do nothing else with it: ardour.org has no idea who you are or what you are doing with Ardour (and we don't want to know either). =||= Making an audacity app steal data and send it off to random third parties is pointless. Why would anyone want this

This provides zero value to the end user, is a huge potential risk, and its VERY bad public relations

Why? Just why =||= Ok, although I hate google enough to have moved entirely to SFOS (look at my repos), I certainly understand why this is being done. As long as it is opt-in, I'm ok with that. I never go anywhere near those settings and I've been using Audacity from the beginning. 

Thanks Muse and Audacity teams for your work!  =||= > > > May be use sentry.io (it's open source, you can selfhost it) for the data, described in PR? It's privacy friendly and (IMO) perfect fit for such case.
> > 
> > 
> > Sentry wouldn't work for this, it's only for error reporting AFAIK.
> 
> Nope, you can report both errors and custom events, here is link to the doc page of sentry CLI, but the same for any platform with sentry SDK: https://docs.sentry.io/product/cli/send-event/
> 
> We literally used that for tracking user base count and ""open app home screen"" events for mobile apps in one of private projects, because we don't want to send our users data to google analytics or yandex (app)metrica

Thanks for the correction, might not be too bad of a solution then.

> > Have you looked at https://sentry.io/welcome/ as this seems to be what you want you want and would then remove Google and yandex which seems better and you can even host it yourself if I recall correctly
> 
> I'd be cautious of this one... I don't see anything licenses, and I don't see any clear statements about how data is handled if it isn't self-hosted. IOW - it would be possible to encounter many similar issues that we have with Google and Yandex now... And the fact that this isn't an open source project gives me quite a bad feeling about it being used in an open source project.

You do bring up a good point. I looked into [their repository](https://github.com/getsentry/sentry) and it appears the code is licensed under the ""Business Source License"" which explicitly says it is not an open source license. The license changes from this ""BSL"" to Apache 2.0 after 3 years AFAIK, which is not ideal. So maybe Sentry is not the move here. =||= Because of the FUD around telemetry- making it optional would mean most half-informed people will turn it off (most of them being on Linux). Thus audacity will have no way to track linux usage hurting it's progress on Linux. I propose making it mandatory and impossible to turn off but with anonymization and less data points.	 	  =||= > Because of the FUD around telemetry- making it optional would mean most half-informed people will turn it off (most of them being on Linux). Thus audacity will have no way to track linux usage hurting it's progress on Linux. I propose making it mandatory and impossible to turn off but with anonymization and less data points.

if it cannot be turned off people will just disallow audacity internet access with a firewall =||= ```
ip netns add audacity
ip netns exec sudo -u $SUDO_USER audacity
``` =||= For OpenBSD:
```
route -T255 exec audacity
``` =||= I'm sure continued comments are going to get lost in the giant flood of folks already commenting here, but this is a bad idea :TM: as currently implemented. 

Since you are attempting this ostensably to collect user feedback/needs, I'll make my feedback very clear. If this PR is merged, I will no longer use Audacity and will find another solution. I will also no longer reccomend Audacity to friends/colleagues due to this stance on user privacy.

If this PR was revised to meet some of the suggestions of others in the thread (using a self-hosted and secured telemetry system, being clearer about what data is being collected, making opt-out the default) I would re-consider my stance. However, the trust has already been broken in my opinion and now I would have to cautious about every future change to Audacity being a change that violates user privacy. =||= @pauldavisthefirst :

> Also in the interest of full disclosure, builds of Ardour from ardour.org (the only ones we recommend and support) will contact ardour.org (not google) when you start the application and send it your OS and current Ardour version. We use this to notify you of new releases. We necessarily know your IP address when you do this (because that's how the internet works). We do store this information, but do nothing else with it: ardour.org has no idea who you are or what you are doing with Ardour (and we don't want to know either).

Hi Paul,

Thanks for wading into this messy PR to comment on some of these items.  I don't think the kind of ""check-in"" system is something that most would object to...  By implementing this feature in a way that is respectful to your users.

However, I wondered if you could provide some more feedback to help clarify some of the things about how Ardour went about implementing this feature?  Things I would be curious to see added to this conversation would include:

1. How transparent is this feature implementation to users?
2. Is there any end-user documentation surrounding the implementation of the feature? (IE, what's gathered, how long it's kept, how it's used, etc.)
3. Were there any internal discussions before the decision was made to implement this feature?
4. Were there any public conversations before this feature was implmented?
5. What is the data retention policy surrounding this information?
6. Were there any steps taken in light of regulations that could influence how this information is kept?
7. What procedures are followed to keep this information secure?

I do find it a little disheartening to hear that Ardour is storing the IP address.  It  would seem to me that during a check-in it would be possible to notify users of updates, and once that is done then the IP address is not really needed and could be scrubbed from the stored information.  If you are looking to build more usage data, then an anonymized UUID should be used instead of the IP address.


EDIT: Changed: """"check-in"" system is something that anyone would object to.."" To """"check-in"" system is something that most would object to.."" =||= >  I don't think the kind of ""check-in"" system is something that anyone would object to...

22% of respondants polled state they object to any form of network communication: https://www.strawpoll.me/45241130/r =||= > > I don't think the kind of ""check-in"" system is something that anyone would object to...
> 
> 22% of respondants polled state they object to any form of network communication: https://www.strawpoll.me/45241130/r

I should have said *most* instead of any.  Obviously 22% is not a majority.  And, a sample size of less than 1000 against a user base (at least according to the forum) of over 150,000 isn't quite significant. =||= Looking forward to a fork of the pre-tracking audacity ...  =||= You are absolutely insane. Don’t worry, I won’t ever be using Audacity ever again. You took the trust we had in your software and flushed it down the toilet.  =||= @Sciss 

> > I do find it a little disheartening to hear that Ardour is storing the IP address
>
> I don't know where you hear that?

Right here: https://github.com/audacity/audacity/pull/835#issuecomment-834598802

> We necessarily know your IP address when you do this (because that's how the internet works). **We do store this information**

Emphasis mine. =||= Audacity hasn't needed Telemetry in the past, and it doesn't need it now.

The fact that it's opt-in would make it useless any way, because the majority of your users wont go and opt-in I'm pretty sure. =||= > @Sciss
> 
> > > I do find it a little disheartening to hear that Ardour is storing the IP address
> > 
> > 
> > I don't know where you hear that?
> 
> Right here: [#835 (comment)](https://github.com/audacity/audacity/pull/835#issuecomment-834598802)
> 
> > We necessarily know your IP address when you do this (because that's how the internet works). **We do store this information**
> 
> Emphasis mine.

It's likely that the IP address being stored is in web server logs, etc. nginx, etc logs IP addresses in access logs by default. =||= @tilda Please read the original comment. They explicitly store this information along with the user's OS. It is deliberate, not a mis-configuration.

Even if it is web server logging, that doesn't make it OK. =||= Holy crap this is a lot of drama. I'm gonna just state my opinion:

* It is possible for analytics to be okay, because ""analytics"" is a very broad word. The word ""analytics"" includes things that are okay and also things that aren't.
* I have no problem with the developers of any program knowing someone is using their program on Linux, or on x64 Gentoo Linux
* I have no problem with the developers of any program knowing people use their program XX hours per day on average
* I have no problem with the developers of any program knowing that people are using certain plugins more than others
* The above information can be gotten without having a concept of sessions
* The above information can be gotten without linking data together. There would be no reason to need to know that people who start Audacity at a certain time of day are more likely to use a certain plugin.
* I wonder how useful the above information actually is
* I would be worried about the developers of a program knowing exactly when I'm using it.
* I would be worried about the developers of a program knowing in precise detail what I'm using it for (e.g. sending audio data to the server)
* I would be worried about the developers of a program linking together all that data and building a user profile.
* Google is permanently untrustworthy. If it would just collect the above-mentioned data and calculate statistics for the Audacity developers, that would be okay. But I doubt that it does just that. There is no transparency about what Google does with your data. Not even the Audacity developers would know. Same for other large advertising companies.
* You guys (you know who you are) are making a mountain out of a molehill considering the program asks you whether you'd like to enable analytics when you start it up. It's like you saw the word ""telemetry"" and just rushed in to attack the developers. Sheesh, cut it out.
* The fact that a program has telemetry *that you turned off* is a really dumb reason to avoid using the program.
* People who are irrationally pissed off are more likely to be commenting in this thread, than people who aren't. They are a ""vocal minority"" =||=    
> * How transparent is this feature implementation to users?

It can be disabled if running from the command line. If the system is not online, or has a firewall blocking the communication, Ardour continues normally and without delay (it is done in a separate thread, and can fail with no impact). 

> * Is there any end-user documentation surrounding the implementation of the feature? (IE, what's gathered, how long it's kept, how it's used, etc.)

There is not.

> * Were there any internal discussions before the decision was made to implement this feature?

There were.
 
> * Were there any public conversations before this feature was implmented?

With the core user group, on IRC. There may or may not have been some discussion on the user mailing list - I don't recall.

> * What is the data retention policy surrounding this information?

The information is not associated with any user ID at ardour.org and so cannot be deleted in connection with a GDPR-style request. Making it deletable on request would mean associating it in someway with a user ID, which we will not do. We currently retain all such ""pings"" back to 2013.

> * Were there any steps taken in light of regulations that could influence how this information is kept?

I researched this when the GDPR passed, and do not believe that it is affected by it.
 
> * What procedures are followed to keep this information secure?

The usual procedures that we follow to make ardour.org itself secure, nothing more. There is an unpublicized URL that provides an aggregate summary of the data, but we rarely use it because the DB query takes too long to execute. We already have the general message that Windows and Linux users are about equally sized groups, with macOS significantly smaller, and to be honest the information coming in likely only serves to reinforce that. In that sense, we would not lose much at this point by not storing the data at all.

 =||= @pauldavisthefirst

> In that sense, we would not lose much at this point by not storing the data at all.

You'd win a lot of points making this change in the near future, given the timing. Just a thought.

I've been looking to switch away from Cubase. Maybe Ardour can be my next destination. =||= > Because of the FUD around telemetry- making it optional would mean most half-informed people will turn it off (most of them being on Linux). Thus audacity will have no way to track linux usage hurting it's progress on Linux. I propose making it mandatory and impossible to turn off but with anonymization and less data points.

Bravo! You've won the award for the most irrational and stupifying dumb comment in this conversation. (1) Linux users tend to be much more technical, and much better informed than the general user base, (2) such a move would likely get Audacity removed from most Linux distributions, (3) a fork would likely be inevitable, (4) the harm to the reputation of Audacity would be irreparable, (5) there would be a good chance that this kind of move could find itself in a regulatory quagmire of GDPR, CCPA, and others.

This would absolutely guarantee that Audacity would go the way of OpenOffice.org.

Hmm, I think I like the name ""LibreAudio"" for the fork.... ;) =||= > (2) such a move would likely get Audacity removed from most Linux distributions,

As long as it can be disabled at compile time, this is exceedingly unlikely. Linux distributions (AFAIK) all build Ardour with the --no-phone-home configure-time option. It's not an issue. =||= > Bravo! You've won the award for the most irrational and stupifying dumb comment in this conversation. (1) Linux users tend to be much more technical, and much better informed than the general user base, (2) such a move would likely get Audacity removed from most Linux distributions, (3) a fork would likely be inevitable, (4) the harm to the reputation of Audacity would be irreparable, (5) there would be a good chance that this kind of move could find itself in a regulatory quagmire of GDPR, CCPA, and others.

I get the impression that comment was deliberately inflammatory (i.e. ""trolling"") =||= > > I do find it a little disheartening to hear that Ardour is storing the IP address
> 
> I don't know where you hear that? Without forestalling an answer by Paul, what seems 

Paul's original comment:

> We necessarily know your IP address when you do this (because that's how the internet works). We do store this information

Maybe I am reading that too tightly, but ""store this information"" would indicate storing the IP address.

> version. IP addresses are part of making an HTTPS query, other than that they are not stored or processed in any form.

Which is how it should be. It could just have been the wording of Paul's comment that lead me to incorrectly believe that the IP address is being stored.  If it isn't, then the feature is working the way I would hope most other developers (like you) would handle it. =||= > I've been looking to switch away from Cubase. Maybe Ardour can be my next destination.

For every person who tries Ardour and loves it, there's someone who emails me and says ""this is complete garbage, I can't even believe that you think this is usable"". For every person who says ""I used to use Logic, but Ardour is so much more intuitive"", someone emails ""this program is f***ing impossible to use, it's not intuitive at all, i'm never using it again"". I long ago stopped caring - we work for the people who like Ardour, everybody else has a great choice of amazing DAWs to work with (and prefer). =||=  1000 votes and the results seem pretty stable so I am happy to post them:

![Screenshot_2021-05-07 Audacity PR #835](https://user-images.githubusercontent.com/8123843/117485029-cd891880-af5f-11eb-9cd1-d51e75d8be54.png)

These strawpolls are perpetual (I can't close it) so you can still vote https://www.strawpoll.me/45241130/
  =||= @pauldavisthefirst I understand. Having worked on development of a DAW myself, I'm always interested in trying new ones. Cubase is pretty bad for how I work, and it's glitchy to boot. Updates are expensive.

You might not care, but I do. I also care about not being tracked. =||= already have a fork, without spyware? =||= >never using it again"". I long ago stopped caring - we work for the people who like Ardour, everybody else has a great choice of amazing DAWs to work with (and prefer).

Count me as one of those people who loves Ardour.  I've used it for numerous recording projects (of my weird, out there noise sound stuff), and used it for rough mastering other people's works.  It's a brilliant tool when used in the manner it was designed to be used.

Audacity has it's place in audio toolkits as a quick record and edit tool, right alongside Ardour.  They both have their places and uses. =||= > Which is how it should be. It could just have been the wording of Paul's comment that lead me to incorrectly believe that the IP address is being stored.

The IP address is stored. We consider it less identifying than a UUID, and wanted a way to count pings from the ""same address"" in order to differentiate 1-time ""testing the waters"" from repeat usage. But again, we've pretty much reached ""stable information"" - someone who has used it more than 3 times fires up a version they got from us about every 2.4 minutes, with at least once such user in almost every country on earth, windows & linux equal, macOS trailing. There's not a lot more we will ever glean from this data, so we may indeed stop storing any of it. =||= Just to add a thought to the whole discussion: At this point, the tracking and data collection, no matter how well meaning or not, hardly matters, the damage is already done. Open Source projects live through the community, and though the contribution of enthusiasts. Even the mention of something that makes the community lose trust in the development process and the software will negatively impact the outcome. This isn't just passionately discussed here, but at multiple places, and that will all impact the future of Audacity. The outcome will not be a net positive. Trust is a fickle thing in knowledgeable IT people... The best thing to do is for the people responsible to admit this to themselves and to the community, salvage what trust in the project remains, and maybe consider what Open Source in general and Audacity in particular really needs to thrive in the long term. =||= @pauldavisthefirst 

> The IP address is stored. We consider it less identifying than a UUID, and wanted a way to count pings from the ""same address"" in order to differentiate 1-time ""testing the waters"" from repeat usage. But again, we've pretty much reached ""stable information"" - 

That's regrettable.  Hopefully this is a topic that might be re-considered in the future.  IMO - I think the idea of using the check-in system is useful, and I think it would be possible to anonymize a UUID.  The reason IP's aren't anonymous is precisely what you commented on below:

> someone who has used it more than 3 times fires up a version they got from us about every 2.4 minutes, with at least once such user in almost every country on earth, windows & linux equal, macOS trailing. There's not a lot more we will ever glean from this data, so we may indeed stop storing any of it.

Gleaning the locations is what should be anonymized.  It is something that could be derived during the communication and stored, instead of storing the IP address itself.

Just a bit of feedback.  And, for what it's worth, I don't think gather the information you've described is a violation of anyone's privacy, it's good usage / demographic information.

I would still like to hear more about the other items I asked about if you have time to discuss them.

Thanks again! =||= If you **must** do telemetry, at least make it go to your own servers. How hard can it be, sounds like a simple REST API connected to a db.  =||= Those who hate tracking enough to never use a program again because it adds some analytics as an opt-in feature: Why the heck are you commenting on GitHub, a Microsoft website? =||= > If you **must** do telemetry, at least make it go to your own servers. How hard can it be, sounds like a simple REST API connected to a db.

You know as well as I do, if they were as clean, thoughtful, or even just willing to do so, this is how they would have gone from the start. Consider the big picture: this is done on purpose. =||= > Those who hate tracking enough to never use a program again because it adds some analytics as an opt-in feature: Why the heck are you commenting on GitHub, a Microsoft website?

You are free to offer an alternative.

Also, this is where the draft started, so... =||= > Just to add a thought to the whole discussion: At this point, the tracking and data collection, no matter how well meaning or not, hardly matters, the damage is already done... Even the mention of something that makes the community lose trust in the development process and the software will negatively impact the outcome.

On the contrary. What usually happens in these cases is everyone forgets about the whole thing by next week, analytics go in, no users are lost, because it turns out people actually don't care about analytics very much and they care about using the software a lot more. This happens *despite* the number of complaints in the PR. =||= > > Just to add a thought to the whole discussion: At this point, the tracking and data collection, no matter how well meaning or not, hardly matters, the damage is already done... Even the mention of something that makes the community lose trust in the development process and the software will negatively impact the outcome.
> 
> On the contrary. What usually happens in these cases is everyone forgets about the whole thing by next week, analytics go in, no users are lost, because it turns out people actually don't care about analytics very much and they care about using the software a lot more. This happens _despite_ the number of complaints in the PR.

And then they end up switching the default to it being enabled by default :) =||= Currently, this PR has 130 thumbs up vs 2692 thumbs down, which is a laughable 5% approval. =||= Goodbye, Audacity =||= > Currently, this PR has 130 thumbs up vs 2692 thumbs down, which is a laughable 5% approval.

Lines up roughly with the statistics I collected =||= > Those who hate tracking enough to never use a program again because it adds some analytics as an opt-in feature: Why the heck are you commenting on GitHub, a Microsoft website?

![](https://thenib.com/wp-content/uploads/2019/08/mister-gotcha-4-9faefa-1.jpg)

 =||= [Original comment](https://github.com/audacity/audacity/pull/835#issuecomment-834603395)
> Because of the FUD around telemetry- making it optional would mean most half-informed people will turn it off (most of them being on Linux). Thus audacity will have no way to track linux usage hurting it's progress on Linux. I propose making it mandatory and impossible to turn off but with anonymization and less data points.

Demonizing your very own target audience, implying they are luddites and ignorant, very cool. 👍 Don't forget mandatory surveillance is a magnet for legal trouble. If you merge this, it'll be no better than using Audition, at least Adobe has monetary incentive to add features. =||= > I would like to see a clear, unambiguous commitment now that you will not use Google Analytics nor Yandex.

I'm still waiting. I posted this 7 hours ago. This should not be hard, nor require much internal discussion. That fact that there has been no response on this simple matter in 7 hours does not give me confidence that the future of Audacity is in good hands. =||= > **Why have telemetry at all?**
> 
> Essentially, it’s to help us to identify product issues early:
> 
>     1. Audacity is widely used across several platforms, but we have no information on the application stability.
> 
>     2. It is difficult for us to estimate the size of the user base accurately.
> 
>     3. We need a way to make informed decisions about which OS versions to support. For example, can we raise the minimum version of the macOS to 10.10 to update the wxWidgets to the latest version?
> 
>     4. We have a known issue with the new file format introduced in Audacity 3.0. We found it with the great help of the community members on our forum. However, there is no way for us to estimate the impact of these issues on users. Is it just a random case? Do we need to rush the work on the recovery tool or help the users one by one? Or do we need to rethink the file format to make it safer and more easily recoverable?

@crsib Have you considered the following points?
1. If you have no information about the application stability it's probably because the application is already stable enough (?) and as a consequence people are not reporting a lot of bugs.
2. Why would you need to estimate the size of the user base accurately?
3. Open a thread about the switch here https://forum.audacityteam.org/ and ask for help to the community for testing.
4. Take your time for testing, solving issues isn't necessarily easy. Discuss these decisions with the community themselves. Though, a telemetry system won't help you fix this knows 3.0 issue. =||= Is there something wrong with having a bug reporter (upon crashing) instead of integrated tracking? =||= > Currently, this PR has 130 thumbs up vs 2692 thumbs down, which is a laughable 5% approval.

among people who bother to pay attention to it. There is a sampling bias there.

> Goodbye, Audacity

bets on this person installing it again within a week?

Seriously, these kinds of controversies have been rehashed over and over and over and over and over and over and ... and they always have the exact same outcome: nothing. If people care, which they do not, they will fork the project and the fork will gain traction over the original, but it won't because they do not.

Reacting with thumbs down doesn't prevent it from happening, it just tags you as the kind of person who thinks reacting with thumbs down prevents something from happening. =||= > among people who bother to pay attention to it. There is a sampling bias there.

so... you don't expect there to be sampling biases in the tracking data, like no data being able to be collected from Linux due to how its packaged? =||= > If people care, which they do not, they will fork the project and the fork will gain traction over the original, but it won't because they do not.

Speak for yourself.

I care enough that if this is merged, I will maintain a version with no tracking code enabled.
Then figure out CI so there are builds for win/mac without them too.

Just because other people do not care (usually out of ignorance) you do not have to follow.
Lead by example, make the world a better place, and all that...

Not everyone is the same, some people actually do want to do good stuff and have ethics about it.

EDIT: most of the CI stuff seems to be in https://github.com/audacity/audacity/blob/master/.github/workflows/cmake_build.yml
Then triggered via github actions? I never used those, but seems similar to travis.
Might be a good exercise to get familiar with these tools.
 =||= > On the contrary. What usually happens in these cases is everyone forgets about the whole thing by next week, analytics go in, no users are lost, because it turns out people actually don't care about analytics very much and they care about using the software a lot more. This happens _despite_ the number of complaints in the PR.

Even if the PR is merged, the people who care will look for alternative solutions and / or find methods to disable the telemetry anyways (patches, jailing, egress rules, etc).  ... Which kinda defeats the purpose of the telemetry in the first place, as it will only be available for a subset of the overall user-base, and likely only serve to complement other kinds of metrics (popularity contests, download counts, PR participation, etc).

... While I'd agree that protesting alone does not work (... alternative proposals tend to do better), it's not a totally a wasted effort; after all, the decision to make the feature opt-out was **a calculated one**, and implies that the data belongs to them, unless you're smart enough to stop them. =||= > If you **must** do telemetry, at least make it go to your own servers. How hard can it be, sounds like a simple REST API connected to a db.

https://opentelemetry.io/ =||= I still don't understand why using Google Analytics would be a good idea. It takes little effort to set up a a self hosted telemetry. =||= > If you are compiling Audacity from source, we will provide a CMake option to enable the telemetry code. This option will be turned off by default.

I doubt many distributions will go out of their way to enable that option. If this PR gets merged the people who actually have the telemetry enabled is so low that it completely defeats the point of having telemetry in the first place. =||= Something curious I found.
The recent changes on their wiki mention a few updates on the analytics documentation page made today https://alphamanual.audacityteam.org/man/Special:RecentChanges

They still keep insisting that this is all annonymous. From https://alphamanual.audacityteam.org/man/Analytics_Preferences
> It is anonymous. There is understandable concern that this is intended to collect personal information. It really isn't.

The use of UUID, IP and a few other details makes it really pseudonymous at best. Granted, they do not intend to record personal data, but end up helping facilitating that. =||= > > On the contrary. What usually happens in these cases is everyone forgets about the whole thing by next week, analytics go in, no users are lost, because it turns out people actually don't care about analytics very much and they care about using the software a lot more. This happens _despite_ the number of complaints in the PR.
> 
> Even if the PR is merged, the people who care will look for alternative solutions and / or find methods to disable the telemetry anyways (patches, jailing, egress rules, etc). ... Which kinda defeats the purpose of the telemetry in the first place, as it will only be available for a subset of the overall user-base, and likely only serve to complement other kinds of metrics (popularity contests, download counts, PR participation, etc).
> 
> ... While I'd agree that protesting alone does not work (... alternative proposals tend to do better), it's not a totally a wasted effort; after all, the decision to make the feature opt-out was **a calculated one**, and implies that the data belongs to them, unless you're smart enough to stop them.

All this stuff? It's what people say they'll do, every time it's happened in the past. Almost always, it doesn't happen. You don't have to agree or disagree, because reality agrees.

BTW since it prompts you on startup, there is no difference between opt-out and opt-in. You just call it opt-out to make it sound worse.

> The use of UUID, IP and a few other details makes it really pseudonymous at best. Granted, they do not intend to record personal data, but end up helping facilitating that.

I'll note there is no way to avoid recording IP. However, the UUID is totally unnecessary. So is the timing and order of events. All they really  want to know is: how long was the app used in total, and how many times was each option used, over a period of say a week. =||= > I'll note there is no way to avoid recording IP.

Yes there is. Don't put it in the logs. =||= > > I'll note there is no way to avoid recording IP.
>
> Yes there is. Don't put it in the logs.

There's no way for an end user to know whether it's logged or not. They could say they're not logging it, but then log it anyway. =||= Congratulations, you've proposed the most unpopular change in the history of this project.

> Dear all, Due to the large amount of worry about this PR, (which we completely understand), we want to clarify exactly what is going on

But at least you're aware of the concern. Will you act on it?

Give it up or be forked. =||= > > > I'll note there is no way to avoid recording IP.
> > 
> > 
> > Yes there is. Don't put it in the logs.
> 
> There's no way for an end user to know whether it's logged or not. They could say they're not logging it, but then log it anyway.

If you never send analytics data, there is nothing to record ;) ;) =||= > There's no way for an end user to know whether it's logged or not. They could say they're not logging it, but then log it anyway.

That's true. We'd have to take their word for it, which requires trusting them. Speaking for myself, my trust for Muse Group is hanging by a thread at this point. What they need to do to *start* rebuilding it is to immediately, unambiguously commit to not using Google Analytics nor Yandex. =||= Personally, I'm not against **strictly optional, disabled by default** telemetry if you specify which services (Google? Yandex?) you're using right in the box as opposed to the privacy policy link on the screenshot. Right now it's like you're ashamed of using Google (which you should) and hiding it (which isn't good).

If you don't want to be ashamed and still roll analytics, please try to set up your own analytics software (there are a few options, from Matomo to Plausible to rolling your own script that logs events in a table and using things like Metabase to build reports from that). It's really easy nowadays and a capable server should cost like $20/mo, so that shouldn't be that big of a deal. =||= FYI for devs: you've been brigaded from Reddit. https://www.reddit.com/r/programming/comments/n6kxm8/psa_audacity_pr_to_add_telemetry_sharing_user/ =||= > FYI for devs: you've been brigaded from Reddit. https://www.reddit.com/r/programming/comments/n6kxm8/psa_audacity_pr_to_add_telemetry_sharing_user/

I dont come from reddit and I oppose those changes.

What do they need my ip address for if it's to help debug stuff?

Please, lol. =||= I found out from a non-programming related discord. I recommend you salvage what is left of your and Tantacrul's reputation. =||= I don't come from Reddit (I heard about this via a Mastodon followee) and I still think this PR is actively harmful to Audacity, its users, and the free audio community broadly - both if merged, and frankly, at this point, even if it's not, in light of what seems to be a lack of willingness to change course to address the plethora of community concerns. I would feel this way whether I'd read zero or a million words of commentary around this thread and the underlying implementation.

Furthermore, ""brigading"" is a fairly loaded term to use for what was someone sharing a link. This is the internet. Links are shared all the time - it's the literal entire point. =||= > FYI for devs: you've been brigaded from Reddit. https://www.reddit.com/r/programming/comments/n6kxm8/psa_audacity_pr_to_add_telemetry_sharing_user/

It's more than Reddit, I see this issue's popped up on /g/ a bit ago, and it's been getting passed around IRC, Mastodon, Twitter, Matrix, Telegram and Discords here and there.

It is not a small issue, and I'm surprised comments have not been restricted to contributors here yet. =||= > It's more than Reddit, I see this issue's popped up on /g/ a bit ago, and it's been getting passed around IRC, Mastodon, Twitter, Matrix, Telegram and Discords here and there.

 > It is not a small issue, and I'm surprised comments have not been restricted to contributors here yet.

Turns out that when an open-source project does something wildly unpopular, the word spreads. =||= The only project that would get a stronger reaction than Audacity would probably be if the Linux Kernel tried to do something similar. Audacity is very proud of how many users their app has. A lot of those users feel that the FOSS values of the project are very important. =||= I hope y'all are connected to github with a vpn and throwaway account =||= guys, you're in the news https://www.theregister.com/2021/05/07/audacity_telemetry =||= Now that things have quietened down I think its important to remember this is the first battle in a long war for who controls the interests of Audacity. People stating that the devs will push this change through quietly have plenty of cases to back them up. From here on out the community needs to ruthlessly review every single PR going into this project and every single commit going into Master.

Until they give up or the money runs out. =||= > guys, you're in the news https://www.theregister.com/2021/05/07/audacity_telemetry

Excerpt: 

> 'A massive middle finger': Open-source audio fans up in arms after Audacity opts to add telemetry capture
> Move comes days after firm acquired by Muse Group =||= > I hope y'all are connected to github with a vpn and throwaway account

[Whataboutism](https://en.wikipedia.org/wiki/Whataboutism) adds nothing of value to this, or any, discussion. We can go down that rabbit hole all day and it will still do nothing but waste everyone's time. =||= > > It's more than Reddit, I see this issue's popped up on /g/ a bit ago, and it's been getting passed around IRC, Mastodon, Twitter, Matrix, Telegram and Discords here and there.
> 
> > It is not a small issue, and I'm surprised comments have not been restricted to contributors here yet.
> 
> Turns out that when an open-source project does something wildly unpopular, the word spreads.

I'm neither surprised nor disappointed - so far the discussion has remained, for the most part, civil here - and in case y'all missed it (I did) - there is a statement made in the OP above, about the use of telemetry, library cruft and what not.

While I'm glad they addressed it, I'm still unhappy with the decision to push forward as it is - though, I would be incredibly relieved if they saw it fit to work out a self-hosted telemetry service to use on public builds.

Another option IMO, would be to entirely separate telemetry-enabled builds on the Audacity download page, and gate that behind a strict privacy policy, for compliance's sake.
This makes it an opt-in proposition at download time - and, at first-run.
That way, users deploying Audacity en masse, which can ***not*** have Telemetry on their network for understandable reasons, can continue using a supported version of Audacity, rather than a fork or a build from source. =||= > > FYI for devs: you've been brigaded from Reddit. https://www.reddit.com/r/programming/comments/n6kxm8/psa_audacity_pr_to_add_telemetry_sharing_user/
> 
> I dont come from reddit and I oppose those changes.
> 
> What do they need my ip address for if it's to help debug stuff?
> 
> Please, lol.

cause it's impossible to send anything over the internet without an IP address...? =||= > > > FYI for devs: you've been brigaded from Reddit. https://www.reddit.com/r/programming/comments/n6kxm8/psa_audacity_pr_to_add_telemetry_sharing_user/
> > 
> > I dont come from reddit and I oppose those changes.
> > 
> > What do they need my ip address for if it's to help debug stuff?
> > 
> > Please, lol.
> 
> cause it's impossible to send anything over the internet without an IP address...?

They don't need to log it. =||= > They don't need to log it.

Correct, but there is no way to prove they aren't logging it, so we have to assume they are anyway =||= @crsib small request - could you specify what requirements you're looking for specifically, perhaps in a new issue report, for a non-Google/non-Yandex and/or self-hosted telemetry service?
The community has answers, but this PR comment space is getting crowded for sure.
> 4. We will consider replacing Google and Yandex with another service if we find one that fulfills our requirements - thanks for the suggestions and keep them coming.
 =||= > FYI for devs: you've been brigaded from Reddit. https://www.reddit.com/r/programming/comments/n6kxm8/psa_audacity_pr_to_add_telemetry_sharing_user/

It's not brigading when it's the wider free software community/users responding... =||= > Another option IMO, would be to entirely separate telemetry-enabled builds on the Audacity download page, and gate that behind a strict privacy policy, for compliance's sake.
This makes it an opt-in proposition at download time - and, at first-run.
That way, users deploying Audacity en masse, which can not have Telemetry on their network for understandable reasons, can continue using a supported version of Audacity, rather than a fork or a build from source.

I think this is a great idea. Several users have already mentioned that they are responsible for usage of Audacity in educational settings. In schools, universities, governmental agencies, companies, and other institutions with mass deployments of computers, it would be easier for them to use Audacity without a shred of doubt about compliance with institutional and legal policies if https://audacityteam.org hosts official builds with the telemetry not even compiled into the binary. In a mass deployment, it would be inconvenient to ensure that the checkbox for telemetry is disabled on every single computer. With GitHub Actions, this would be really easy to implement using the matrix feature. =||= NACK =||= > All this stuff? It's what people say they'll do, every time it's happened in the past. Almost always, it doesn't happen. You don't have to agree or disagree, because reality agrees.

... some people actually do care, and things can change. To think otherwise is feed into complacency. What people do and say matters. (If all this is for not, then what is the point of the PR -- or this dialog -- in the first place; just merge and be done with it).

> BTW since it prompts you on startup, there is no difference between opt-out and opt-in. You just call it opt-out to make it sound worse.

No, I'm calling it opt-out because it, in-fact, requires end users to ""opt out"" (the shinny blue default button in the mockup ;) , aside from the other comments about config defaulting) ... If the opt-out model sounds worse to you, that is inferred.

Would things change so much if users were required to check a box to **enable** telemetry; perhaps with the same catchy rationale above it?  ... yes, it would, because most users will not read the message, and as a consequence, telemetry would not be collected. The whole point of defaulting **on** is to collect information from those uses who indifferent, not paying attention, or are uninformed.

I think it is more appropriate, and in better taste, to produce software in an ethical manner and air on the side of caution for people who might not know any better, then it is to aggregate metrics.

(... a different way of saying it, with using that other phrase ...) =||= > ... some people actually do care, and things can change. To think otherwise is feed into complacency. What people do and say matters. (If all this is for not, then what is the point of the PR -- or this dialog -- in the first place; just merge and be done with it).

I'll believe it when I see your fork become more popular.
 =||= > > ... some people actually do care, and things can change. To think otherwise is feed into complacency. What people do and say matters. (If all this is for not, then what is the point of the PR -- or this dialog -- in the first place; just merge and be done with it).
> 
> I'll believe it when I see your fork become more popular.

oh, you got me there, maybe I should change the way I think about the world ... =||= > I'll believe it when I see your fork become more popular.

That is the thing, it doesnt have to.
For something to become a success, all it takes is 1 person using it and being grateful for it.

VSCodium is a thing for those that need to run VSCode (say the rest of the team is using the same tool and has a defined workflow for it) but are not ok with all the tracking and EULA associated with it.
VSCodium is never going to be more popular than VSCode, but because people use it, in my opinion it is already a success.

It serves a purpose and serves it well.
Those that care will find it and use it.

The developers that fork and create such projects are not interested on popularity contests, but about being useful. =||= > > ... some people actually do care, and things can change. To think otherwise is feed into complacency. What people do and say matters. (If all this is for not, then what is the point of the PR -- or this dialog -- in the first place; just merge and be done with it).
> 
> I'll believe it when I see your fork become more popular.

VScode is still more popular than VScodium.
 =||= > VSCodium

Ooh where do I download that? Need that. =||= @IGBC https://vscodium.com/ =||= But the thing is, unlike audacity, most people think of VScode as being a free tier of a Microsoft product, not as a OSS product.
Therefore, expectations are exponentially lower, given M$'s ancient reputation =||= Dear obviously confused committer,

I'm not from Reddit. I'm a random guy who knows Audacity exists, simply because it's one of the most well-known, most complete and most appreciated FLOSS alternatives to proprietary software.

Please consider to stop fucking with it. You're making it worse. Go back to your shitty commercial offerings that noone has ever heard about and stuff all your shitty telemetry, antipatterns and UI redesigns in there. In other words, kindly fuck off.

Best regards,
The Internet =||= Oh yea my favourite thing about this Muse takeover is they have promised to ""fix"" the GUI. 😆 

The GUI in audacity may not be pretty (and there's a couple of bugs) but its one of the most straight forward and intuitive interfaces I have ever used. In fact I have seen it be used as a case study for good interface layout before.

Making it pretty doesn't make it better.  =||= @SteveDaulton:
> I improved the Pink Noise and Brownian Noise generators, but does anyone use them? Despite asking on the very active Audacity Forum, I have no idea. Was I wasting my time? Could I have brought more value to the Audacity community by doing something else? I have no idea, because asking users to give feedback on the forum does not work.

I suggest taking a perspective more like these developers:

@pauldavisthefirst:
> For every person who tries Ardour and loves it, there's someone who emails me and says ""this is complete garbage, I can't even believe that you think this is usable"". For every person who says ""I used to use Logic, but Ardour is so much more intuitive"", someone emails ""this program is f***ing impossible to use, it's not intuitive at all, i'm never using it again"". I long ago stopped caring - we work for the people who like Ardour, everybody else has a great choice of amazing DAWs to work with (and prefer).

@falkTX:
> The developers that ... create such projects are not interested on popularity contests, but about being useful.

Please don't base your decisions on whether to continue support for a feature or operating system on necessarily unrepresentative numbers. Drop support for features when maintaining them becomes an obstacle to moving forward with the rest of the project. It doesn't matter if one person or ten million people use the feature. If it needs to go, it needs to go. If not, keep it. =||= Hi @pauldavisthefirst 

The majority of this response is very useful... I'll just add a few follow up comments where there might be some more interest:

> > * Is there any end-user documentation surrounding the implementation of the feature? (IE, what's gathered, how long it's kept, how it's used, etc.)

> There is not.

It would be a good idea if there were...  Say the way Mozilla approaches it: [Telemetry collection and deletion](https://support.mozilla.org/en-US/kb/telemetry-clientid)

> > * Were there any public conversations before this feature was implemented?

> With the core user group, on IRC. There may or may not have been some discussion on the user mailing list - I don't recall.

That's at least some consideration of the user base. :)

> > * What is the data retention policy surrounding this information?
> 
> The information is not associated with any user ID at ardour.org and so cannot be deleted in connection with a GDPR-style request. Making it deletable on request would mean associating it in someway with a user ID, which we will not do. We currently retain all such ""pings"" back to 2013.

Now that is something that I would suggest could be improved.  As noted in the Firefox document I linked above, they keep the data for 13 months, while removing IP addresses every 14 days.

> > * Were there any steps taken in light of regulations that could influence how this information is kept?

> I researched this when the GDPR passed, and do not believe that it is affected by it.

From what I've read (from documents like [Intersoft Consulting's](https://gdpr-info.eu/issues/personal-data/) guide), they tend to view ""personal data"" in the broadest terms possible.  Since IP addresses can be used to compel information from a service provider, it is generally regarded as personal information.  Just some food for thought.


> > * What procedures are followed to keep this information secure?
> 
> The usual procedures that we follow to make ardour.org itself secure, nothing more. There is an unpublicized URL that provides an aggregate summary of the data, but we rarely use it because the DB query takes too long to execute. We already have the 

IMO - while the fact that this URL only presents aggregate information is good, having an unpublished URL that is public facing (if it is, in fact public facing) is not.  This is an attack surface that someone who found the URL could use to try to gain access to the database itself.

> general message that Windows and Linux users are about equally sized groups, with macOS significantly smaller, and to be honest the information coming in likely only serves to reinforce that. In that sense, we would not lose much at this point by not storing the data at all.

Yes, you mentioned this in other posts.  Personally, I don't see the issue with gathering such information as it might be of use for other purposes (ie, identifying which versions of Ardour are still in wide use, identifying which platforms are most active - like you have already stated, how often Ardour is being used, and possibly a lot more).  I think the main point is to (a) secure the information as strongly as possible, and (b) keep the information as anonymous as possible.

It sounds like these were considerations when it was first implemented.  If anything, I would suggest that this topic could be re-investigated to update things to more current standards.

It's this kind of thinking that should be present in this PR that I think many of us are not seeing / reading... My hope is that this discussion might provide more of an example to MuseCorp about what users would like to see discussed about such an implementation. =||= > Essentially, it’s to help us to identify product issues early

The fact that they're calling it a product means it's already dead to me as FOSS, telemetry or not. =||= > > (2) such a move would likely get Audacity removed from most Linux distributions,
> 
> As long as it can be disabled at compile time, this is exceedingly unlikely. Linux distributions (AFAIK) all build Ardour with the --no-phone-home configure-time option. It's not an issue.

Hi Paul,

I was responding to the person that stated the telemetry should be left on permanently with no option to disable it.  This would not be acceptable to most distributions. =||= > > Essentially, it’s to help us to identify product issues early
> 
> The fact that they're calling it a product means it's already dead to me as FOSS, telemetry or not.

Amen, to that, I have been waiting for someone to say this for the last 24H =||= > > Bravo! You've won the award for the most irrational and stupifying dumb comment in this conversation. (1) Linux users tend to be much more technical, and much better informed than the general user base, (2) such a move would likely get Audacity removed from most Linux distributions, (3) a fork would likely be inevitable, (4) the harm to the reputation of Audacity would be irreparable, (5) there would be a good chance that this kind of move could find itself in a regulatory quagmire of GDPR, CCPA, and others.
> 
> I get the impression that comment was deliberately inflammatory (i.e. ""trolling"")

Probably, but I figured there was a chance he was serious so I thought a serious response was worthwhile. =||= F in the chat for old good Audacity.
What's a good name for the fork? =||= > F in the chat for old good Audacity.
> What's a good name for the fork?

I postulated LibreAudio earlier...  Borrowing from LibreOffice forking off of OpenOffice.org =||= F in the chat for old good Audacity.
What's a good name for the fork? =||= > How about ""Audacious""?

That's already [a thing](https://audacious-media-player.org/). =||= > > F in the chat for old good Audacity.
> > What's a good name for the fork?
> 
> How about ""Audacious""?

There's an audio player named Audacious. =||= I say we call it Audacity.

You know cos we have the Audacity to call it Audacity.

(Yea I know I know, I am going) =||= Audacity Origin ;-)

__Edit:__ But jokes aside, I thought _Audience_ was pretty nice, if there is no conflict with existing software. =||= Glad to see this made a draft. =||= It should probably get some practical and boring name like LibreAudio until someone can come up with a good pun. =||= > Glad to see this made a draft.

Baby steps: next get the PR closed altogether

Then get @crsib removed from the list of people with write access altogether.  =||= > It should probably get some practical and boring name like LibreAudio until someone can come up with a good pun.

@spacekatia (not in the topic) came up with Audacium (Audacity and Chromium stuck together) =||= Maybe this is a situation where a benevolent dictator leadership model would've helped. Torvalds would've rightfully cursed these changes out.   =||= Stallman is the counterpoint of when a benevolent dictator goes wrong however. Finding a truly benevolent dictator is hard.

Frankly I prefer the rust model where everyone even the lead devs are held to a set of community rules and processes for implementing changes, its a model where no one is above the law, and no one's voice is permitted to be louder than anyone else's (within practical reason). 

It's not perfect but it significantly reduces the amount of drama in the rust world.

(so far the discussion has been polite please don't flame me on this one) =||= I agree that this pull request should be closed at this point. Any alternative implementation should start fresh in a new pull request *after* discussing with the community how to do it in an acceptable way.

I'm still waiting on an unambiguous statement that Audacity will not use Google Analytics nor Yandex. =||= > F in the chat for old good Audacity.
> What's a good name for the fork?

Audiocity ? =||= > > F in the chat for old good Audacity.
> > What's a good name for the fork?
> 
> Audiocity ?

I feel we need another poll 😆  =||= Call it Cacophony lol =||= It would probably be wise to discuss a possible fork, its naming etc. somewhere else? The thread gets out of hand, and project maintainers (somewhat rightfully) could close/ lock it at some point. It could be on the Audacity user forum, or better suggestions? =||= > F in the chat for old good Audacity.
> What's a good name for the fork?

could call it animocity (portmanteau of animosity and audacity) =||= > It would probably be wise to discuss a possible fork, its naming etc. somewhere else? The thread gets out of hand, and project maintainers (somewhat rightfully) could close/ lock it at some point. It could be on the Audacity user forum, or better suggestions?

Oh I thought the point of having it here was to remind the dev's we are not going away. this isn't over just cos the thousands of tryhards from reddit and HN have stopped

 =||= I presume we haven't had an ""official response"" from either Muse group or Debian/Arch/other distro maintainers yet.  =||= @jxu They are working on one. That much has been confirmed. =||= Given that all of the Muse group people have not even considered removing Google and Yandex, the most controversial sticking points, I'm not hopeful.  =||= ohoh what about ANA ?
It stands for Ana is Not Audacity :)
Or even Audacity is Not Audacity if you will. =||= > F in the chat for old good Audacity.
> What's a good name for the fork?

duplicity is another neat one, a constant reminder of why people started the fork (also because it's a duplicate of audacity) =||= > Given that all of the Muse group people have not even considered removing Google and Yandex, the most controversial sticking points, I'm not hopeful.

They are considering it. They have not committed to not using Google Analytics and Yandex. =||= > Seriously, these kinds of controversies have been rehashed over and over and over and over and over and over and ... and they always have the exact same outcome: nothing. If people care, which they do not, they will fork the project and the fork will gain traction over the original, but it won't because they do not.

I would suggest you look at the community you are addressing this to: LibreOffice is the result of a fork from OpenOffice.org when Oracle took it over and started making changes that met with major disapproval.

The Maria Database came about from the same situation with Oracle taking over MySQL.

NeoVim came about because some users felt that the development speed and direction of Vim wasn't moving in the right direction (it wasn't even an issue was controversial as this one).

You should learn some history about the open source world.  There is a long history of projects being forked when there are issues that developers have ignored their users feedback.

> Reacting with thumbs down doesn't prevent it from happening, it just tags you as the kind of person who thinks reacting with thumbs down prevents something from happening.

No, reacting with a thumbs down is an indicator that your comment doesn't deserve support because it is a deeply flawed and ignorant argument. =||= > NeoVim came about because some users felt that the development speed and direction of Vim wasn't moving in the right direction (it wasn't even an issue was controversial as this one).

Vim and NeoVim are co-existing just fine. =||= ""We do not incorporate cross-site tracking, limiting the ability to identify the user by both Google and Yandex.""
This is misleading. If information is sent to either of these websites along with your IP, it's identifiable, period. It is easily correlated with you via the gobs and gobs of data they already have on you (Yandex more so if you're Russian). This is what they're good at, this is their bread and butter. 

And people know this. I will never opt into telemetry with them as the service provider, and so will many, many, many other people who use this app, which will limit the usefulness of this. If you switched to to a self-hosted solution, I'd definitely feel more comfortable with it. I recognize the utility and usefulness of telemetry in designing helpful applications, but there are tremendous privacy concerns that come with it, and using Google or Yandex is a non-starter for a huge swath of your userbase. =||= > > Given that all of the Muse group people have not even considered removing Google and Yandex, the most controversial sticking points, I'm not hopeful.
> 
> They are considering it. They have not committed to not using Google Analytics and Yandex.

They are still not addressing the main points though: why are they collecting the data they chose, why didn't they include the community, and why do they think this is apropriate way of collecting information about their __Community__ (not product)

my poll which has now over 1400 responses shows that 50% of respndants don't support the idea of any tracking at all. https://www.strawpoll.me/45241130/r yet no response on this matter from Audacity or Muse. =||= I think I should restate what I said directed at a developer earlier:

> 
> I think this response was carefully thought through but ultimately tone deaf. As has been repeated many times in this now unmanageably long thread, we, the community, are telling you, the developers, we don't believe this is an effective or appropriate measure.
> 
> We understand that you want feedback about the development direction of the software, and we are telling you the forum should be enough. I am curious why you do not trust the direct feedback from your thousands of active users, to the point you feel you need automated tracking systems to replace that model?
> 
> As for tracking in FOSS, IF it is indeed useful it must also be considered how that data can be shared safely and fairly. What segment of users this data truly represents, and how compliance with the myriad of laws surrounding data protection can be abided. We, the community, have seen no planning or engagement with the community about how to approach these important issues.
> 
> Finally with the introduction of new corporate developers in recent times means we don't believe you when you say this is for the god of the community anymore. This is not helped by the repeated statements from devs that this is optional and anonymous, when frankly the ""opt in"" dialog is already in violation of GDPR, and it is widely accepted by the security community that google analytics is not anonymous. You either fundamentally misunderstand the technology you are trying to implement or your are misleading the community.
> 
> You cannot sidestep these issues =||= > > NeoVim came about because some users felt that the development speed and direction of Vim wasn't moving in the right direction (it wasn't even an issue was controversial as this one).
> 
> Vim and NeoVim are co-existing just fine.

Exactly... This was less of an issue like this one, there was just a feeling that there needed to be a different direction for the development.  LibreOffice and OpenOffice are co-existing as well...but I'd guess the user base for OOorg is a lot smaller now. =||= > I would suggest you look at the community you are addressing this to: LibreOffice is the result of a fork from OpenOffice.org when Oracle took it over and started making changes that met with major disapproval.
> 
> The Maria Database came about from the same situation with Oracle taking over MySQL.

You will note that in these cases, the main developers of the project moved to the fork. =||= > It should probably get some practical and boring name like LibreAudio until someone can come up with a good pun.

Thanks for calling my suggestion boring and practical... LOL =||= Oh **** I didn't even see someone else made the same suggestion, sorry @SndChaser  =||= they are not addressing this and will not address it because it is all pretty normal for them.
musescore already added google analytics, so this was the obvious next step. just integrating the new acquisition onto the same toolset they have in place.

the responses here are the exception, not the norm.
I bet some of them are baffled to what is going on, doesnt make sense to them.

I personally have very little hopes of google analytics being taken out. it is now the modus operandi of businesses and corporations. in order to grow in userbase, understand which areas need attention, generally bringing ""value"" to the ""product"" :nauseated_face: they take analytics as a necessity.

this is a hard clash of ideals between corporate attitude and free, open-source ethos.
not everyone shares the same ideals of, for example, blender's author when he says he has no interest on money.
a recommended watch https://www.youtube.com/watch?v=qJEWOTZnFeg
 =||= > Oh **** I didn't even see someone else made the same suggestion, sorry @SndChaser

It's alright, I was genuinely laughing.... =||= > this is a hard clash of ideals between corporate attitude and free, open-source ethos.
> not everyone shares the same ideals of, for example, blender's author when he says he has no interest on money.
> a recommended watch https://www.youtube.com/watch?v=qJEWOTZnFeg

@falkTX Well stated, but it's our job to show muse their corporate mindset will not get them very far here. Audacity's roots are in the scientific community, that its where it grew from. I doubt many users are interested in the Musings or wills of our corporate overlords.

(pun intended) =||= > > I would suggest you look at the community you are addressing this to: LibreOffice is the result of a fork from OpenOffice.org when Oracle took it over and started making changes that met with major disapproval.
> > The Maria Database came about from the same situation with Oracle taking over MySQL.
> 
> You will note that in these cases, the main developers of the project moved to the fork.

In those cases that is true.  But there are lots of other cases where the original developer left a project, and others took over by forking the project.  

My point was that the concept of forking a project due to disagreements over development trajectories is not unusual in the open source world.  Whether the original developers move over, or if the fork gains the same following as the original was not really the point...  Addressing the lack of understand of the person I was responding to was the point. =||= Boo =||= > 
> 
> > It should probably get some practical and boring name like LibreAudio until someone can come up with a good pun.
> 
> Thanks for calling my suggestion boring and practical... LOL

Boring and practical and easy to remember and on-brand and self-explanatory... is good name =||= > > > It should probably get some practical and boring name like LibreAudio until someone can come up with a good pun.
> > 
> > 
> > Thanks for calling my suggestion boring and practical... LOL
> 
> Boring and practical and easy to remember and on-brand and self-explanatory... is good name

I was just making a joke based on the OpenOffice.org -> LibreOffice transition...  But it might just stick. :) =||= > > I would suggest you look at the community you are addressing this to: LibreOffice is the result of a fork from OpenOffice.org when Oracle took it over and started making changes that met with major disapproval.
> > The Maria Database came about from the same situation with Oracle taking over MySQL.
> 
> You will note that in these cases, the main developers of the project moved to the fork.

in these cases, the older projects are also more well known! please can we discuss forks as a last resort, because most people **will not ever** switch to your new audacity fork meaning they will not see the benefits of an audacity fork =||= ![Screenshot_2021-05-07 Audacity PR #835](https://user-images.githubusercontent.com/8123843/117512910-6fbcf680-af88-11eb-864a-07b45c41dba1.png)
The poll I created is at 1500 votes, now representing 1% an equivalent of the alleged user base on the forum. The statistics remain unchanged 50% of responses state a firm no to any form of tracking.
as always the poll is available at https://www.strawpoll.me/45241130/r =||= > > > Have you looked at https://sentry.io/welcome/ as this seems to be what you want you want and would then remove Google and yandex which seems better and you can even host it yourself if I recall correctly
> > 
> > 
> > I'd be cautious of this one... I don't see anything licenses, and I don't see any clear statements about how data is handled if it isn't self-hosted. IOW - it would be possible to encounter many similar issues that we have with Google and Yandex now... And the fact that this isn't an open source project gives me quite a bad feeling about it being used in an open source project.
> 
> https://github.com/getsentry/

Right, this doesn't use an Open Source license in my opinion: https://github.com/getsentry/sentry/blob/master/LICENSE

In fact to quote the license:

> The Business Source License (this document, or the ""License"") is not an Open
Source license. However, the Licensed Work will eventually be made available
under an Open Source License, as stated in this License.

P.S. I see that someone else replied to this earlier....I'm still catching up on comments since I was away for a couple of hours.  (Hopefully caught up now.)
 =||= This just occurred to me, and I'm not sure whether anyone mentioned it already: if the telemetry is using methods and services that goes against the conscious of most privacy minded folks, it would mean that most Linux distributions will build Audacity without it for their repositories, and that will result in no user data from Linux.
Wouldn't it just defeat the purpose of the telemetry from the start then? =||= Just edit you `/etc/hosts` and no google analytics for you. =||= > Just edit you `/etc/hosts` and no google analytics for you.

You shouldn't have to do that =||= > 
> 
> > Just edit you `/etc/hosts` and no google analytics for you.
> 
> You shouldn't have to do that

you keep using ad blockers? =||= > > > Just edit you `/etc/hosts` and no google analytics for you.
> > 
> > 
> > You shouldn't have to do that
> 
> you keep using ad blockers?

Yes, and I shouldn't have to. I use adblockers because I do not support super annoying and laggy ads, not to mention the tracking that comes with almost all of them. I strongly prefer websites that don't have ads at all. You did nothing to address my point whatsoever =||= @nicemicro 
> if the telemetry is using methods and services that goes against the conscious of most privacy minded folks, it would mean that most Linux distributions will build Audacity without it for their repositories, and that will result in no user data from Linux.

With this PR, telemetry would only be included in the official releases built through the GitHub CI system; Linux distributions building Audacity from source on their own infrastructure won't include the telemetry bit *at all*. This means the project wouldn't get *any* data from *any* Linux user installing it through their package manager in the first place. On one hand, I'm glad that none of my personal data would get sent to Google and Yandex. On the other hand, I'm pretty sure that means they wouldn't get potentially useful information from a significant chunk of their users so the collected data is incomplete.

Ignoring the privacy concerns for a moment, this functionality just seems badly implemented in its current state. =||= > @Amolith 

> GitHub CI system; Linux distributions building Audacity from source on their own infrastructure won't include the telemetry bit _at all_. This means the project wouldn't get _any_ data from _any_ Linux user installing it through their package manager in the first place. On one hand, I'm glad that none of my personal data would get sent to Google and Yandex. On the other hand, I'm pretty sure that means they wouldn't get potentially useful information from a significant chunk of their users so the collected data is incomplete.

Incomplete is an understatement.  From a statistical point of view it would be an invalid data set, which would be no basis for making any decisions (technical or otherwise).

> Ignoring the privacy concerns for a moment, this functionality just seems badly implemented in its current state.

Worse than badly implemented.  It seems broken by design. =||= Maybe this PR is more targeted towards windows and Mac OS users? =||= Seems like this could skew data a bit.

On 5/7/2021 17:46, AndreiS wrote:

> Maybe this PR is more targeted towards windows and Mac OS users?
>
> —
> You are receiving this because you commented.
> Reply to this email directly, [view it on GitHub](https://github.com/audacity/audacity/pull/835#issuecomment-834869857), or [unsubscribe](https://github.com/notifications/unsubscribe-auth/ABZZJCFJYCDFMNZM32CI2BTTMR3VJANCNFSM44C5SLTA). =||= > Reacting with thumbs down doesn't prevent it from happening, it just tags you as the kind of person who thinks reacting with thumbs down prevents something from happening.

So, I gather you hadn't spotted the number of new forks then.  =||= I've used Audacity all my life, since I was like 6 years old. I'm now 22. (take my data, mine it I don't care) and I did so on Windows. I've also run Linux exclusively for quite a few years. But these days, the only times telemetry genuinely annoys me is if it gets in my way. If I can turn off the targeted advertising that results from my data being collected. I don't care.

The way analytics are being approached in this case is at best useless and at worse worrying. [like stated in this comment](https://github.com/audacity/audacity/pull/835#issuecomment-834521293).

I don't agree with the foam at the mouth raging mentality of ""Audacity is dead, let's make a fork now."" (call it audavillage since you're reclused away from the city) I think I understand what happened here.

An attempt at a useful feature was made by a community member who was well-intentioned, But did not know how to handle these things properly. Using proprietary obscure services like Google Analytics and Yandex Metrics. As well as explicitly storing records of IPs and UUIDs.

The main developer of Ardour has popped up in this thread and mentionned how Ardour uses (used) anonymized telemetry to get a better idea of the divide in operating systems amongs their users. This is useful info. THAT CAN BE GUESSED FROM PEOPLE DOWNLOADING THE APP.

I will say, a manual analytics feature that lets you get a full system report including data about Audacity to put into a bug report would be useful. But automated background analytics aren't. Recurring data can only ever be used for engagement metrics useless to development.

I realize this is a mess of a comment. sorry.

I wish the best to the Audacity Team. =||= so, who's starting the preventive, no telemetry fork of audacity? =||= People who are focusing on there being analytics, and not the specificities of analytics being provided by large, known to disrespect privacy megacorps, are massively missing the point and proving they don't actually understand why anyone was originally concerned about analytics in general, and are just jumping on what they perceive to be a cool fad.

**Analytics can be great tools for developers** for a multitude of reasons (although I don't agree with her stated approach to invasive telemetry, @TripingPC has brought up some good ones, and I find @SndChaser's reply [here](https://github.com/audacity/audacity/pull/835#issuecomment-834543942) to be perfect in every way), but **the use of Google and Yandex tools is concerning and egregious, and goes against the very foundational ethical philosophies of a FLOSS application.**

I really, HIGHLY hope the Audacity team takes into consideration why going with these tools is harmful. If they aren't quite sure, I'm sure many people in their community are more than welcome to help them understand. 

Though I would [suggest they consider what has been said in this comment, because it is indeed a very valid concern.](https://github.com/audacity/audacity/pull/835#issuecomment-834521293) =||= Anyone who posts a pro-analytics comment who does not wish to
immediately out themselves as a hypocrite should include their IP address in their comment.

Either it is ""safe and anonymous information"" or it isn't, you can't have it both ways. =||= @mcilrain Here's mine: 127.0. 0.1

:) =||=  > It should probably get some practical and boring name like LibreAudio until someone can come up with a good pun.


Libredacity, but that sounds weird lol
 =||= > > It should probably get some practical and boring name like LibreAudio until someone can come up with a good pun.
> 
> Libredacity, but that sounds weird lol

Audience - Audio Editor with the audacity to listen to it's users =||= > Audience - Audio Editor with the audacity to listen to it's users

I'd rather not see a fork, but that name would be a fun one :^) =||= @polyjitter 

> **Analytics can be great tools for developers** for a multitude of reasons (although I don't agree with her stated approach to invasive telemetry, @TripingPC has brought up some good ones, and I find @SndChaser's reply [here](https://github.com/audacity/audacity/pull/835#issuecomment-834543942) to be perfect in every way), but **the use of Google and Yandex tools is concerning and egregious, and goes against the very foundational ethical philosophies of a FLOSS application.**

Thanks for the vote of confidence on my comment...it certainly took a while to put it together, and I still feel like I could have done some more...  Like gathering more policies around telemetry in other open source projects just to provide more examples that handle it appropriately. =||= I have changed my opinion. There should be zero telemetry in Audacity whatsoever, even if it is collected and stored in an anonymized, consentful way. @workedintheory has already demonstrated that he [will use it as a weapon against people with legitimate concerns](https://github.com/Xmader/musescore-downloader/issues/5#issuecomment-704372864):

> There are more than 12 million members of the community and it is growing at a rate of thousands per day. The number of people complaining about the particular issue of not having a more flexibility with variants of CC [Creative Commons] licenses is less than 50. This issue is not quite as large of an issue as you perceive it to be.

@workedintheory, you may think less than 50 people complaining is irrelevant. You are wrong. 50 people complaining is actually *a lot*.

It is your capitalist mindset that is irrelevant. You can't buy trust. What has your money done for Audacity? You've hired at least one new developer (@crsib) who has no history of contributing to Audacity. The only reference I can find of @crsib contributing to FOSS is a link to a [nonexistent repository](https://bitbucket.org/crsib/mani) from his LinkedIn profile. Now some of the first code he writes for Audacity sets off this shitstorm?

I'm not saying you shouldn't hire anyone who doesn't have a prior history in FOSS to work on Audacity -- that would amplify existing biases -- but did you even consider looking for FOSS audio developers to hire? When RedHat hires the Fedora Project Leader, they don't just hire any random programmer. They hire someone from the community and who they hire is subject to the advise and consent of the volunteer elected representatives of the Fedora community, as specified in [written policy](https://docs.fedoraproject.org/en-US/council/).

Did you even know that @falkTX recently started asking for financial support for his work? I'm not trying to speak for @falkTX; I don't know if he would even want the job. But it sure seems you didn't ask or were even aware that he was seeking financial support to work on FOSS audio software. And now through your mismanagement, he's prepared to maintain a fork and make your investment in the Audacity trademark worthless.

You've gone about this all wrong. You need to understand that the community is in charge here, not you, and come to us humbly, asking how to make amends and build trust. The first step would be closing this pull request and committing to not adding any telemetry to Audacity. A second step could be setting your new hires to work addressing longstanding complaints from the wider FOSS community about Audacity forking dependencies and making it hard to integrate Audacity's build system with Linux distributions' packaging policies. Audacity does not exist in a vacuum. It is far bigger than the regular contributors and active users on the forum. It is one part of a large ecosystem of interdependent software. =||= > > Because of the FUD around telemetry- making it optional would mean most half-informed people will turn it off (most of them being on Linux). Thus audacity will have no way to track linux usage hurting it's progress on Linux. I propose making it mandatory and impossible to turn off but with anonymization and less data points.
> 
> Bravo! You've won the award for the most irrational and stupifying dumb comment in this conversation. (1) Linux users tend to be much more technical, and much better informed than the general user base, (2) such a move would likely get Audacity removed from most Linux distributions, (3) a fork would likely be inevitable, (4) the harm to the reputation of Audacity would be irreparable, (5) there would be a good chance that this kind of move could find itself in a regulatory quagmire of GDPR, CCPA, and others.
> 
> This would absolutely guarantee that Audacity would go the way of OpenOffice.org.
> 
> Hmm, I think I like the name ""LibreAudio"" for the fork.... ;)

You sound retarded and self obsessed so I am not going to reply to individual points. Now go watch your netorare  =||= Gah, I saw this happening as soon as I saw the Muse announcment.

No.  No analytics, unless wholly self hosted.

But also, most linux distros will build this without analytics, so your data will be near useless, as a large userbase IS linux users.

Just a bad PR from the user story phase, right up to the systems architecture phase, and then still a bad PR in the user acceptance phase. =||= > > or decides to simply make Audacity proprietary
> 
> Let's not get hyperbolic here. Audacity is licensed under the GPLv2. Nobody can make it proprietary.

Ah, I see you didn't follow the VitualBox and MySQL debacles, huh? =||= > 
> 
> > > or decides to simply make Audacity proprietary
> > 
> > 
> > Let's not get hyperbolic here. Audacity is licensed under the GPLv2. Nobody can make it proprietary.
> 
> Ah, I see you didn't follow the VitualBox and MySQL debacles, huh?

And then came MariaDB =||= > To address the concerns about use of private library versions, the largest part of this pull request is a networking layer built on top of libcurl. This library is chosen as it is an industry-standard for cross-platform networking. It is exceptionally tested and reviewed by industry experts. The layer on top of it, aka lib-network-manager meant to simplify the development of future features. libcurl is used without any patches. It is possible to use the system-provided version of the library available on the Linux distributions, and we will double-check that this works as expected.

PR description keeps getting updated in a way that suggests there is no interest in dropping the telemetry. They just keep doubling down on why what they're doing is okay.

It's not okay. My audio editing app does not need ""cross-platform networking"", and it certainly doesn't need a layer on top of that for ""future features"".
 =||= > I have changed my opinion. There should be zero telemetry in Audacity whatsoever, even if it is collected and stored in an anonymized, consentful way. @workedintheory has already demonstrated that he [will use it as a weapon against people with legitimate concerns](https://github.com/Xmader/musescore-downloader/issues/5#issuecomment-704372864):
> 
> > The number of people complaining about the particular issue of not having a more flexibility with variants of CC [Creative Commons] licenses is less than 50. This issue is not quite as large of an issue as you perceive it to be.
> 
> You may think less than 50 people complaining is irrelevant. You are wrong. It is your capitalist mindset that is irrelevant. You can't buy trust. What has your money done for Audacity? You've hired at least one new developer (@crsib) who has no history of contributing to Audacity. The only reference I can find of @crsib contributing to FOSS is a link to [nonexistent repository](https://bitbucket.org/crsib/mani) from his LinkedIn profile. Now some of the first code he writes for Audacity sets off this shitstorm?
> 
> I'm not saying you shouldn't hire anyone who doesn't have a prior history in FOSS to work on Audacity -- that would amplify existing biases -- but did you even consider looking for FOSS audio developers to hire? When RedHat hires the Fedora Project Leader, they don't just hire any random programmer. They hire someone from the community and who they hire is subject to the advise and consent of the volunteer elected representatives of the Fedora community, as specified in [written policy](https://docs.fedoraproject.org/en-US/council/).
> 
> Did you even know that @falkTX recently started asking for financial support for his work? I'm not trying to speak for @falkTX; I don't know if he would even want the job. But it sure seems you didn't ask or were even aware that he was seeking financial support to work on FOSS audio software. And now through your mismanagement, he's prepared to maintain a fork and make your investment in the Audacity trademark worthless. You've gone about this all wrong. You need to understand that the community is in charge here, not you, and come to us humbly, asking how to make amends and build trust. The first step would be closing this pull request and committing to not adding any telemetry to Audacity. A second step could be setting your new hires to work addressing longstanding complaints from the wider FOSS community about Audacity forking dependencies and making it hard to integrate Audacity's build system with Linux distributions' packaging policies. Audacity does not exist in a vacuum. It is far bigger than the regular contributors and active users on the forum. It is one part of a large ecosystem of interdependent software.

I agree, **no telemetry at all** should be in Audacity. If this PR gets accepted, many people like me and people who value privacy will stop using Audacity and MuseScore (and both will both likely be forked). Prepare to become OpenOffice.org if this gets accepted! Also, if you disagree, please put your IP, email, and your Unix username below. It will be annonymized, I swear :) =||= > > 5,506 lines of code
> 
> Most of that code is from vendored dependencies. The changes to the Audacity code are quite small.

Nevertheless, they are now part of the Audacity maintenance, since they are included.  Bugs in the ""vendor dependencies"" are now bugs in Audacity. =||= Does anyone know any good software alternatives that don't include telemetry? I heard about ardour somewhere, is it legit? =||= >
>
> Does anyone know any good software alternatives that don't include telemetry? I heard about ardour somewhere, is it legit?

Ardour is a bit overkill.

On 5/7/2021 20:52, SirAxolot wrote:

> Does anyone know any good software alternatives that don't include telemetry? I heard about ardour somewhere, is it legit?
>
> —
> You are receiving this because you commented.
> Reply to this email directly, [view it on GitHub](https://github.com/audacity/audacity/pull/835#issuecomment-834999781), or [unsubscribe](https://github.com/notifications/unsubscribe-auth/ABZZJCEX5L2OVKNWRRWC7U3TMSRPTANCNFSM44C5SLTA). =||= @SirAxolot I'm on their website now https://ardour.org/support_expectations.html and I thought I read something about some limited telemetry I don't recall what exactly, I can't find it on the site, and it might not even be real (but even if it was, it was nothing of the sort that's being proposed in this PR).

And yeah, this program does look like overkill for a lot of us, but hey if we gotta drop something on such short notice to trade it for something that's even more, that's certainly a more pleasant surprise than dropping it for something less! =||= Well, ardour is a full fledged DAW (Digital Audio Workstation), of course it will be overkill compared to audacity, which is an Audio Editor, that's why if a PR like this, or something similar gets merged the only course of action is fork as there's no other good FOSS program to fill in audacity's use case, that of a ""simple"" Audio Editor. =||= As long as Audacity **commits** to never enable telemetry by default in the future, I have no problem with this. I don't want Audacity to become another Firefox. =||= @crsib there is a typo in this commit message https://github.com/audacity/audacity/pull/835/commits/e420e0f68f6dd6faf9359bb61a26ae122f10ee40
Also, I found a bug:
https://github.com/crsib/audacity/blob/telemetry/libraries/lib-network-manager/CookiesList.cpp#L67
This seems to have been copypasted from [here](https://github.com/crsib/audacity/blob/telemetry/libraries/lib-network-manager/CookiesList.cpp#L54-L56), I think you meant to use `trailingSemicolon` and not `semicolonPosition` in the npos check (As-is it looks like it can lead to bad things (tm) if the first semicolon is found and the ""Expires="" semicolon isn't, leading to `cookieString.substr (expiresPosition, trailingSemicolon - std::string::npos)`)


I'll stop using Audacity if this PR gets merged. Have a nice day =||= I generally agree with this PR and I would argue it's probably better to implement it anyway against the backlash depending on the risk of creating a fork.

The thing is, the upvote/down vote ratio is highly skewed because the sample size is not all Audacity users but only the ones who are outraged by this. The ones in favor will probably not click on articles about this and search the PR afterwards and also upvote (like I did).

Sure, in this bubble the shit storm is big, but the bubble in general is fairly small and I doubt that this would be such a controversial PR if every Audacity user had to vote on this before they could launch Audacity again.

As for the ""pro-people leave your ip address!"":
No I won't, because I don't have to. You also don't have to opt into telemetry.

To conclude:
The community can still create a fork if this gets out of hand, but as of now I don't see why this PR alone would warrant it.

EDIT: Please explain the downvotes on this comment. =||= > 
> 
> Anyone who posts a pro-analytics comment who does not wish to
> immediately out themselves as a hypocrite should include their IP address in their comment.
> 
> Either it is ""safe and anonymous information"" or it isn't, you can't have it both ways.

it's off by default and completely opt in. I honestly don't understand the issue. if you don't like it, you literally don't have to *do anything* to not share your data, because it *isn't*.
My IP is also 49.183.159.93 by the way, not that this does anything because the security risk of a simple IP address is greatly overstated anyway. =||= > EDIT: Please explain the downvotes on this comment.

Lol.
 =||= > EDIT: Please explain the downvotes on this comment.

No, just like I don't have to opt in to telemetry. =||= > To address the concerns about use of private library versions, the largest part of this pull request is a networking layer built on top of libcurl. This library is chosen as it is an industry-standard for cross-platform networking. It is exceptionally tested and reviewed by industry experts. The layer on top of it, aka lib-network-manager meant to simplify the development of future features. libcurl is used without any patches. It is possible to use the system-provided version of the library available on the Linux distributions, and we will double-check that this works as expected.

At this point, your justification rings hollow. I will make no claims about your motives for making this change, but I will say that you've already significantly damaged the trust that the community has in the people making the decisions for this software. Continuing to double down is only making things worse. Drop this patch, take a step back, and evaluate the situation. You're only digging yourselves deeper. I get that you want to gauge how the people using Audacity actually use the software, but this was never the way to do it.

Edit: It's also rather telling that you're even concerned with complaints about the use of private library versions. I'm sure a couple people here have voiced that concern, but the primary issue isn't the version of libcurl that's being included, it's the fact that libcurl is being included at all. It's the fact that you intend on adding *more* networking to an offline audio editor in the future. If you want to keep Audacity the same and not anger the people who use it, you're going about it the wrong way. =||= > I generally agree with this PR and I would argue it's probably better to implement it anyway against the backlash depending on the risk of creating a fork.
> 
> The thing is, the upvote/down vote ratio is highly skewed because the sample size is not all Audacity users but only the ones who are outraged by this. The ones in favor will probably not click on articles about this and search the PR afterwards and also upvote (like I did).
> 
> Sure, in this bubble the shit storm is big, but the bubble in general is fairly small and I doubt that this would be such a controversial PR if every Audacity user had to vote on this before they could launch Audacity again.
> 
> As for the ""pro-people leave your ip address!"":
> No I won't, because I don't have to. You also don't have to opt into telemetry.
> 
> To conclude:
> The community can still create a fork if this gets out of hand, but as of now I don't see why this PR alone would warrant it.
> 
> EDIT: Please explain the downvotes on this comment.

welp, if this kind of karen tier comment is the support for this PR..... then there's no other way around, fork, and fork hard! :D =||= @CiriousJoker
> 
> EDIT: Please explain the downvotes on this comment.

The general lack of empathy you’ve displayed for people using audio software for reasons extremely outside of your use case or opposite of your geography. That same lack of empathy could ricochet through a general software tool that millions of people use for reasons entirely outside your understanding of human communication in general. =||= > it's off by default and completely opt in. I honestly don't understand the issue. if you don't like it, you literally don't have to _do anything_ to not share your data, because it _isn't_.

The issue is that:
A. It uses closed source telemetry providers that are well known to data mine
B. The telemetry is not that useful considering that basically no Linux build will include it enabled

> My IP is also 49.183.159.93 by the way, not that this does anything because the security risk of a simple IP address is greatly overstated anyway.

It's not necessarily a security issue, it's a privacy issue.
 =||= A meta-concern:

If lots of apps decide that telemetry is important (even if it is disabled by default, with informed consent, and limited to sharing genuinely relevant data), then users are not going to have the time to stay aware of what information they are sending, to whom, and how to disable the items that they no longer wish to share.

This is similar to the situation that cookie consent banners have arrived in.  Many websites may follow the rules, but the overall effect is that users are overwhelmed and lack sufficient agency to be confident about how their data is used.

A scalable solution for the user population might require something more like a system settings dialog, where users could select what kind of information they are comfortable sharing, with the ability to add exceptions for specific types of application and/or data brokers.

Providing the ability for users to accurately vote with their data that way would help to create a telemetry/analytics data market, and increase the value of user data, encouraging data providers and application authors to play by the rules and maintain trust.

On a personal note: in the long term, I think some level of data sharing is beneficial for people.  It's difficult to exist entirely as an island.  But not everyone feels safe or ready to share - especially when it is in a digital, nebulous way that their senses cannot detect.  So we should always offer no sharing of data -- real privacy -- as a default, while explaining and showing the benefits (and drawbacks) that others experience from participating. =||= > My IP is also 49.183.159.93 by the way

How did you enjoy [PRED-313 (JAV porn) that you downloaded using BitTorrent a week ago?](https://iknowwhatyoudownload.com/en/peer/?ip=49.183.159.93)

 =||= I don't want to have to use Audacity through a VPN sheesh =||= I am sad to see @JamesCrook and @Paul-Licameli actively supporting this at the top of this pull request. I would like to hear your responses to the criticism here. Is this something you really want, or was this imposed by @workedintheory / Ultimate Guitar / Muse Group? Where did the decision to implement this come from and why is there nothing publicly available about the proposal before any code was written? If you really think sending data about Audacity users to Google and Yandex is okay, well, thanks for Audacity, but I can't trust you anymore. =||= > > My IP is also 49.183.159.93 by the way
> 
> How did you enjoy [PRED-313 (JAV porn) that you downloaded using BitTorrent a week ago?](https://iknowwhatyoudownload.com/en/peer/?ip=49.183.159.93)

Ya know most people have dynamic IP addresses that change regularly right? My IP address changes almost every day. =||= > You've gone about this all wrong. You need to understand that the community is in charge here, not you, and come to us humbly, asking how to make amends and build trust. The first step would be closing this pull request and committing to not adding any telemetry to Audacity. A second step could be setting your new hires to work addressing longstanding complaints from the wider FOSS community about Audacity forking dependencies and making it hard to integrate Audacity's build system with Linux distributions' packaging policies. Audacity does not exist in a vacuum. It is far bigger than the regular contributors and active users on the forum. It is one part of a large ecosystem of interdependent software.

Also friendly reminder to the new Team Members, that in case of a fork - Audacity could actually die like OpenOffice did - it's gonna be a race then I suppose =||= > > My IP is also 49.183.159.93 by the way
> 
> How did you enjoy [PRED-313 (JAV porn) that you downloaded using BitTorrent a week ago?](https://iknowwhatyoudownload.com/en/peer/?ip=49.183.159.93)

While this is admittedly incredibly funny as a response, it isn't really the gotcha you think it is. 

Analytics does not inherently mean collecting and storing data on IP addresses. There's plenty of useful data to be provided without any of that stuff being recorded. In fact, quite truthfully I don't know what analytics solution, third party or homegrown, WOULD provide that, since I can't see it as useful data in any way.

And if you're concerned about the mere connection to another party revealing said address, well... I hope you never visit the website for Audacity, or downloaded prebuilt binaries, or used any application that uses a P2P system, or used any centralized package repository on Linux. Or, uh, accessed the internet in general really.

This isn't a problem with analytics, this is just inherently how internet traffic works. Any time a project will provide some sort of connection, they will see your IP. That's downloads, that's websites, that's selfhosted git, that's extension managers, that's repositories, that's support communications. 

An IP address is inherently public information, which is why you should be careful with what you do about it. If you're going to do embarrassing or illegal stuff that is trackable via IP, use a VPN. That's basic knowledge and this person being sloppy with downloading pornography doesn't indicate that this is a ""privacy concern"". Sometimes we ARE responsible for our own actions.

Google and Yandex should not be trusted for analytics because of way too many other privacy concerns. And opt-out is a dark pattern. Opt-in analytics, through a solution that is both open source and privacy oriented, can provide useful information to improve an application and pinpoint issues and where things are failing. 

Keep in mind crash logs are technically a type of analytics... =||= > > You've gone about this all wrong. You need to understand that the community is in charge here, not you, and come to us humbly, asking how to make amends and build trust. The first step would be closing this pull request and committing to not adding any telemetry to Audacity. A second step could be setting your new hires to work addressing longstanding complaints from the wider FOSS community about Audacity forking dependencies and making it hard to integrate Audacity's build system with Linux distributions' packaging policies. Audacity does not exist in a vacuum. It is far bigger than the regular contributors and active users on the forum. It is one part of a large ecosystem of interdependent software.
> 
> Also friendly reminder to the new Team Members, that in case of a fork - Audacity could actually die like OpenOffice did - it's gonna be a race then I suppose

Not really. OpenOffice died because the original project's development slowed down to a crawl while the fork developed faster than OO ever did.

That would not be the case with a fork of audacity done purely remove an **opt-in** setting. The fork would likely be playing catch-up with the original constantly. A better comparison would be something like Firefox and the fork Waterfox. =||= > > > You've gone about this all wrong. You need to understand that the community is in charge here, not you, and come to us humbly, asking how to make amends and build trust. The first step would be closing this pull request and committing to not adding any telemetry to Audacity. A second step could be setting your new hires to work addressing longstanding complaints from the wider FOSS community about Audacity forking dependencies and making it hard to integrate Audacity's build system with Linux distributions' packaging policies. Audacity does not exist in a vacuum. It is far bigger than the regular contributors and active users on the forum. It is one part of a large ecosystem of interdependent software.
> > 
> > 
> > Also friendly reminder to the new Team Members, that in case of a fork - Audacity could actually die like OpenOffice did - it's gonna be a race then I suppose
> 
> Not really. OpenOffice died because the original project's development slowed down to a crawl while the fork developed faster than OO ever did.
> 
> That would not be the case with a fork of audacity done purely remove an **opt-in** setting. The fork would likely be playing catch-up with the original constantly. A better comparison would be something like Firefox and the fork Waterfox.

So your solution is playing chicken with the FOSS community rather than listening to criticism? =||= welp, if the dev team is in support of this form of telemetry.... you know what time it is

![image](https://user-images.githubusercontent.com/33670677/117529787-e3fe9680-af96-11eb-883c-068345a58744.png)
 =||= > > > > You've gone about this all wrong. You need to understand that the community is in charge here, not you, and come to us humbly, asking how to make amends and build trust. The first step would be closing this pull request and committing to not adding any telemetry to Audacity. A second step could be setting your new hires to work addressing longstanding complaints from the wider FOSS community about Audacity forking dependencies and making it hard to integrate Audacity's build system with Linux distributions' packaging policies. Audacity does not exist in a vacuum. It is far bigger than the regular contributors and active users on the forum. It is one part of a large ecosystem of interdependent software.
> > > 
> > > 
> > > Also friendly reminder to the new Team Members, that in case of a fork - Audacity could actually die like OpenOffice did - it's gonna be a race then I suppose
> > 
> > 
> > Not really. OpenOffice died because the original project's development slowed down to a crawl while the fork developed faster than OO ever did.
> > That would not be the case with a fork of audacity done purely remove an **opt-in** setting. The fork would likely be playing catch-up with the original constantly. A better comparison would be something like Firefox and the fork Waterfox.
> 
> So your solution is playing chicken with the FOSS community rather than listening to criticism?

A few hundred angry Karen's ranting on a GitHub issue does not equate to the entire community surrounding Audacity.

I'd be quite willing to bet that the majority of Audacity users don't care. Remember we still live in a world where more people use Facebook than desktop Linux. The concerns expressed here are extremist in nature and niche. =||= > Not really. OpenOffice died because the original project's development slowed down to a crawl while the fork developed faster than OO ever did.
That would not be the case with a fork of audacity done purely remove an opt-in setting. The fork would likely be playing catch-up with the original constantly. A better comparison would be something like Firefox and the fork Waterfox.

Take a look at the [contributors on GitHub](https://github.com/audacity/audacity/graphs/contributors). It's mostly 4 people. This situation has attracted a huge amount of attention, including by skilled software developers, some of whom (like myself) have years of experience building complex audio software. We have the means to fork Audacity and take it in a different direction even if those 4 developers stick with Muse Group. It would be really sad if it came to that. I don't want it to go that way. They haven't merged this, nor any telemetry, yet. They can start building trust by:

1. Committing to not adding telemetry to Audacity.
2. Explaining how the decision to implement this was made.
3. Work with the community to change their decision making process to ensure nothing like this happens again.
 =||= @eylles Very helpful to insult my comment as ""Karen tier"" just because you disagree without explaining why.

---

@chrismahoney I don't understand what you mean by that, can you elaborate?
I sometimes use Audacity to cut up songs or voiceovers, but I don't need it professionally or on any major capacity. Isn't that the average use case for this software?

What does my geography (Germany) have to do with any of this or am I missing a metaphor?

I get that my opinion of ""don't take the backlash too seriously"" is not very popular, but I really couldn't understand what the backlash is about.

Extra dependencies and networking is a completely separate concern, but that doesn't seem to be the issue judging from the comments. I feel like most commenters are just enraged because their open source ethos clashes with the desire to make data driven decisions by using telemetry.

Since the tracking is optional and opt in, nothing changes for the user, so aside from technical considerations, how could this possibly be bad?

I honestly don't get that and I'd like to understand it.

---

@logan2611 
A: Only data from consenting users would be included in the data set though.

B: Windows/Mac isn't affected by this and I would guess that that's still the majority of the users because at least for Windows there isn't really a good alternative (don't know for mac). =||= Why does telemetry literally gets added to every single thing? Don't you think we're getting tracked enough like that? Why do you want to know everything? You should not see what we're doing and how we're using the app. =||= > A few hundred angry Karen's ranting on a GitHub issue does not equate to the entire community surrounding Audacity.
> 
> I'd be quite willing to bet that the majority of Audacity users don't care. Remember we still live in a world where more people use Facebook than desktop Linux. The concerns expressed here are extremist in nature and niche.

I'm sorry you feel that way, but all software has ethical and moral ramifications. Those creating and using FLOSS software are going to be incredibly interested in being both ethical and moral in the software that is produced, since FLOSS values are foundationally about software that is honest about itself and does as little harm as possible, while being open and available for all. 

Closed source, third party analytics solutions do not fall within those goals and leave the door for plenty of abuse, not necessarily from the Audacity developers, but from providing more compilable data for a megacorp entity that is known to use software unethically, providing data to governments and other corporations that might seek to do harm to marginalized people and communities.

This is absolutely a justified conversation to be having, even though the toxicity in some places is rather unwelcomed and disappointing. =||= @CiriousJoker

> I honestly don't get that and I'd like to understand it.

Then read the 800+ comments explaining that above. Yes, all of them. It does not seem that you have. =||= > I don't want to have to use Audacity through a VPN sheesh

Then... Don't turn on the **opt-in** telemetry, and you won't have to. Simple. =||= > Since the tracking is optional and opt in, nothing changes for the user, so aside from technical considerations, how could this possibly be bad?

Have you heard of Goodhart's Law, @CiriousJoker? If you switch from ""listening to community feedback and trying to make choices that satisfy people"" to ""trying to maximise some telemetry metric as a proxy for community satisfaction,"" then that metric will rapidly become useless for that purpose.

Besides, making development decisions based off of Big Data:tm: is setting yourself up for failure, especially with open-source software. If your contributors don't have full and unrestricted access to the data you're making decisions off of, then you're going to be undercutting them at every turn. At that point, a fork would be inevitable.

> Then... Don't turn on the opt-in telemetry, and you won't have to. Simple.

Some people having telemetry on and others not means that the people with telemetry off will be silenced for being concerned about privacy. Given that these people often (but not always) use similar platforms, it might lead to support for those platforms being underestimated, as well as other annoying incorrect estimations/evaluations caused by this confounding factor. That means it'll mean the data collected is inaccurate and, well, that just defeats the purpose, doesn't it? =||= I might as well throw in my two cents: I like my privacy.

If you include telemetry, I'd prefer it to be an option in the settings, which is only enabled when the user navigates to it and turns it on (NOT ever prompting on startup, etc.) =||= Privacy concerns are not ""extremist in nature and niche."" =||= @CiriousJoker

> A: Only data from consenting users would be included in the data set though.

Yes.

> B: Windows/Mac isn't affected by this and I would guess that that's still the majority of the users because at least for Windows there isn't really a good alternative (don't know for mac).

Windows and Mac users are affected by this since they are the only people to have builds that have telemetry in them. As mentioned by several other people, this degrades the value of the telemetry as a large portion of the user base just isn't included. 

I'm not against telemetry, I just don't think that this PR is doing it right. In my opinion, it should be self hosted, completely transparent and as anonymous as possible. Ideally there would also be a way to toggle what is collected, but not a lot of projects do that.

 =||= > > Anyone who posts a pro-analytics comment who does not wish to
> > immediately out themselves as a hypocrite should include their IP address in their comment.
> > Either it is ""safe and anonymous information"" or it isn't, you can't have it both ways.
> 
> it's off by default and completely opt in. I honestly don't understand the issue. if you don't like it, you literally don't have to _do anything_ to not share your data, because it _isn't_.
> My IP is also 49.183.159.93 by the way, not that this does anything because the security risk of a simple IP address is greatly overstated anyway.

Good old ""i have nothing to hide so i dont care for privacy""

Edit: https://github.com/y4my4my4m/audacity-without-telemetry
Starting on this because, guess we'll have to, feel free to join in. =||= > I'd be quite willing to bet that the majority of Audacity users don't care. Remember we still live in a world where more people use Facebook than desktop Linux. The concerns expressed here are extremist in nature and niche.

This is all the more reason to care as somebody that cares enough to be replying here.

Quick thought: I always thought it was subversive for Audacity to have the name that it does, as if the open source community had the audacity to release a professional competitor to crap like Cool Edit Pro -> Adobe Audition. I _never_ expected the name to carry such irony where there was audacity enough to square up against that community by acquiring the software, this is just weird. =||= @MarinaGryphon 
I haven't heard of this law but it's an interesting read. However, I don't think it applies here. I don't think the goal of this telemetry is to get metrics to optimize for but rather to understand which effects & features are most popular (and then optimize those depending on real feedback and needs).

I definitely think the data should be public and that self hosted analytics should be used instead of Google/Yandex. Much of the outrage seems to be about telemetry in general though and not just the provider choice, that's why I was confused.

Also, you could normalize the statistics if you know how many users you have for each platform (which they probably have data on already). =||= > Also, you could normalize the statistics if you know how many users you have for each platform (which they probably have data on already).

You fundamentally cannot get representative statistics of how many people use software on Linux. This is a feature, not a bug. Linux users get most of their software through their distribution's package manager, not the application developer. =||= > You fundamentally cannot get representative statistics of how many people use software on Linux. This is a feature, not a bug. Linux users get most of their software through their distribution's package manager, not the application developer.

Do you think there's a disparity between feature popularity? As for bug reports, Linux users will report them and include logs themselves, but Windows/Mac users probably won't. In that case, it just improves Windows/Mac bug reporting without affecting the already good Linux bug reporting.

I doubt that the inaccuracy of the data set actually impacts the quality given the specific type of data collected. =||= Yay, the thumbs down finally broke 3000!

> Privacy concerns are not ""extremist in nature and niche.""

I'm immediately reminded of this one story:
https://www.islam21c.com/politics/does-spying-make-you-feel-safer/

> Umar said, “This is the house of Rabi’ah ibn Umayyah ibn Khalaf, and they are inside drinking wine right now! What do you think?” Abdur Rahman said, “Indeed, I think we have done what Allah has prohibited for us. Allah Almighty said, ‘Do not spy,’ (49:12) and we have spied on them.” Umar turned away and he left them alone.

And then that whole bit with Noah and Ham...
(Not that I think the techy computery crowd that'd be on this thread would be all that interested in theological moralizings of these old dead white(according to the US census!) men, just a not-quite-random example of the value of privacy being recognized even before the Industrial Revolution) =||= > You fundamentally cannot get representative statistics of how many people use software on Linux. This is a feature, not a bug.

You can, using telemetry, that is the entire point of this PR. What has gone utterly bad is the *how* part. Why Google and Yandex of all places, instead of using stuff like Firefox's Telemetry infrastructure, is beyond me. =||= > there's no other good FOSS program to fill in audacity's use case, that of a ""simple"" Audio Editor

I think there are few other audio editors out there. I use my own, [Eisenkraut](https://github.com/Sciss/Eisenkraut), but that hardly covers even a fraction of the functionality of Audacity (for example, doesn't offer volume breakpoint editor or independent tracks, doesn't feature Nyquist etc.), it's basically constrained to what I need in my work, though I'm open to additions. =||= > 
> Those who hate tracking enough to never use a program again because it adds some analytics as an opt-in feature: Why the heck are you commenting on GitHub, a Microsoft website?
> 

Whataboutism, strawman argument and  false equivalence in one post! Just because platform A does thing X, platform B doing X doesn't make it right. Besides browsers sandbox a lot internally, have adblockers and scriptblockers because people disliked telemetry this much.  

Such smokescreens only derail any meaningful discussions.
 =||= > Yay, the thumbs down finally broke 3000!
> 
> > Privacy concerns are not ""extremist in nature and niche.""
> 
> I'm immediately reminded of this one story:
> https://www.islam21c.com/politics/does-spying-make-you-feel-safer/
> 
> > Umar said, “This is the house of Rabi’ah ibn Umayyah ibn Khalaf, and they are inside drinking wine right now! What do you think?” Abdur Rahman said, “Indeed, I think we have done what Allah has prohibited for us. Allah Almighty said, ‘Do not spy,’ (49:12) and we have spied on them.” Umar turned away and he left them alone.
> 
> And then that whole bit with Noah and Ham...
> (Not that I think the techy computery crowd that'd be on this thread would be all that interested in theological moralizings of these old dead white(according to the US census!) men, just a not-quite-random example of the value of privacy being recognized even before the Industrial Revolution)

Thank you, now I have religious justification why this PR is bad.

Without getting into the weeds about morality, there seems to be a widely agreed upon right to privacy as a human right.  =||= > 1. Telemetry is strictly optional and disabled by default.

If this would be strictly optional and disabled by default for users of a free software, this would be an isolated, non-mainline branch that would never be filed as a pull request against trunk.

As @crsib likely is a knowledgeable software developer it is highly likely that they know how software works and what the consequences are and how this is _not_ in favor to Audacity users.

> (which we completely understand)

Sure otherwise this PR would have never been filed, despite even stayed open longer than 48 hours.

---

There is better utility for users doing bug reports than telemetry even on less accessible platforms . So if you really feel about improving that, could you elaborate what makes you, @CiriousJoker want adding Telemetry to Audacity to enable users?

Telemetry is not user participation in a software project. It's the opposite. And it is really hurting to see it here, as free software development has the potential to actually give answer to such problems, like the support problem in commercial software development. =||= Don't know if it's been mentioned yet and I don't feel like reading all those hundreds of comments, so I'm gonna mention it here: the screenshot makes the ""accept"" button more pronounced. A common dark pattern, sure, but one that stands against GDPR regulations. Might want to rethink that. =||= Telemetry is unnecessary for a project like this. If Audacity crashes for someone, they can just create a new issue about it. If you don't want to support a specific OS version, create an issue and let the community decide.

> Just to reiterate, telemetry is completely optional and disabled by default.

Your concept literally shows that the ""Send usage data"" is the focused button, which is nothing but a dark pattern. With this layout, the majority of users will not make a conscious choice and instead choose the big blue button on the right. =||= > Don't know if it's been mentioned yet and I don't feel like reading all those hundreds of comments, so I'm gonna mention it here: the screenshot makes the ""accept"" button more pronounced. A common dark pattern, sure, but one that stands against GDPR regulations. Might want to rethink that.

While rethinking, perhaps _privacy by design_ is important as this is the actual software development and it affects the design of the software (which includes the user interface (UI) but goes far beyond it, like how the code is organized, which libraries are used or taken in etc.).

Only given thought, the user is actually the primary  concern of the developers here.

> (which we completely understand) =||= Reminder: Poll https://www.strawpoll.me/45241130/r =||= Screenshot: Please note that ""Personal data or sensitive information"" includes the IP address.  If you collect it you cannot write what you are currently writing.
See also: https://ec.europa.eu/info/law/law-topic/data-protection/reform/what-personal-data_en

Also, what others say: This is still a ""dark design pattern"".   =||= > Reminder: Poll https://www.strawpoll.me/45241130/r

Quite offtopic, but i think it would be a great idea for github to implement some sort of poll system for this kind of debates over PRs.

It would be extremly useful. =||= Also, a unique identifier will always make it pseudonymous at best, and this cannot be called anonymous then.

But this is not the point I want to emphasize. The whole practice of tracking should not be included here (or pretty much anywhere). =||= > A few hundred angry Karen's ranting on a GitHub issue does not equate to the
> entire community surrounding Audacity.

> I'd be quite willing to bet that the majority of Audacity users don't care.
> Remember we still live in a world where more people use Facebook than
> desktop Linux. The concerns expressed here are extremist in nature and niche.

This is probably the most disappointing response to these concerns I
have seen in quite some time. ""They've already taken my freedom and
privacy anyway, so what's the point?"" is a truly upsetting stance to
see. Not caring is not the same as agreeing. We cannot knowingly stand
by and allow others to spy on people without their explicit consent.
And honestly, they don't need to be spied on anyway.

Our concern is more that despite this data collection being utterly
useless, they're still doing it anyway - and not for the reasons they
say, either. It is quite evidently just for the sake of data mining, as
evidenced by their choice to use closed source platforms owned by
companies that are quite literally known for selling people's digital
existence around like it's nothing.

These things have ethical issues attached, and really paints a bad
image on the character of the new maintainers. If, as a community, we
cannot trust the new maintainers to make decisions with our best
interests at heart, and it seems that they pertain more to computer
industry than computer science, we are left with no choice but to
express how we feel and work for change.
 =||= > We cannot knowingly stand by and allow others to spy on people

It's not spying. It's telemetry. They do not care what's on your PC or what your name is, or what your favourite colour is. They are recording stats only relevant to Audacity. The data is anonymous. No personal information is collected. We're talking about the same kind of information that almost every website, **including this one**, gather about usage patterns already. There is nothing nefarious about this, it's just useful information for product managers to make decisions about the direction of a project.

> without their explicit consent.

What part of ""opt-in"" does everyone in this thread find so hard to understand?
Just so we're clear, in case there's any confusion, ""opt-in"" is short for ""opting in"", opting is to make a choice.
Opt-in means that this will be off by default.
Telemetry will not be enabled unless **you** deliberately choose to enable it, and go do so.

So you can relax. No one will be spying on you. Take off the tin foil hat.

 =||= > So you can relax. No one will be spying on you. Take off the tin foil hat.

Can we stop using the term telemetry, and call it what it is: tracking. And stop to be naive that a for-profit company's only goal is to improve the software? They need to make it profitable, so this is the entry point to connecting it to future paid subscription cloud whatever service AND/OR selling behavioural data to whoever can use them to build whatever models, if not for advertising then perhaps to build a better commercial product. Point.

And as for networking at all or not - stop reading here if you just think this is tinfoil hat - an audio editor is also a journalistic tool. Why on earth do you want to open the possibility that as soon as the ""basic telemetry"" has been extended in some future version, the data thus obtained (not necessarily by the vendor, but whoever manages to hack the connection) can be used to identify people who have been editing particular sounds, interviews, whatever.

There is simply no good reason to add this. =||= > > You fundamentally cannot get representative statistics of how many people use software on Linux. This is a feature, not a bug.
> 
> You can, using telemetry, that is the entire point of this PR. What has gone utterly bad is the _how_ part. Why Google and Yandex of all places, instead of using stuff like Firefox's Telemetry infrastructure, is beyond me.

You can't, as has been explained at least 4 times above. It's FOSS, and (many of) the downstream users strip out tracking. 

Has anyone got a promising fork yet? =||= > The data is anonymous. No personal information is collected.

The data is not anonymous in any legal sense that is compliant with GDPR and other consumer protection laws worldwide; the data processor is Google Analytics and/or Yandex, both of which will record a variety of data and metadata including IP addresses, which are not only pseudonymous but considered personally identifiable information. While not ""personal"" in a sense, when you're a major advertising company already collecting lots of user data, crossing information and finding out who you are is trivial.

> We're talking about the same kind of information that almost every website, **including this one**, gather about usage patterns already. There is nothing nefarious about this, it's just useful information for product managers to make decisions about the direction of a project.

The mere fact there exist websites that may not comply does not make your argument valid. 

> What part of ""opt-in"" does everyone in this thread find so hard to understand?
> Telemetry will not be enabled unless **you** deliberately choose to enable it, and go do so.

Dark patterns are frowned upon (see PR description), and implicit tracking acceptance (see code) is not consent (see [fungiboletus' comment](https://github.com/audacity/audacity/pull/835/files#r628124998)).
 =||= > Dark patterns are frowned upon (see PR description), and implicit tracking acceptance (see code) is not consent (see [fungiboletus' comment](https://github.com/audacity/audacity/pull/835/files#r628124998)).

This is mistaken. Dark patterns are not frowned upon - they are illegal. 57 Mil might be small change for Google - would be it small change for Musecore? =||= @mindinsomnia The [ad hominems](https://en.wikipedia.org/wiki/Ad_hominem) towards people in this discussion voicing their concerns on *who* (e.g. Google and Yandex) will be using your data besides the project maintainers/developers (e.g. Muse Group) in a closed system - that is used to collect large amounts of data based on profiles, which are (also) derived from an IP address and can be identified across many websites and locations - is not helping your point across at all.
Please do not conflate that with the topic of *if* there is some form of tracking/telemetry.

Trying to discredit other people's factual assertions based on an [appeal to tradition](https://en.wikipedia.org/wiki/Appeal_to_tradition) (e.g. ""everyone is being tracked by everything by now anyways"") or an [appeal to hypocrisy](https://en.wikipedia.org/wiki/Tu_quoque) (e.g. ""why are you even using github, it also tracks you?"") is not providing any valid argument *for* this PR being merged. =||= > This is mistaken. Dark patterns are not frowned upon - they are illegal.

Unfortunately not everything that's usually considered dark patterns are explicitly made illegal. I'm not very well versed on GDPR legalese but I'm not sure a ""default/highlighted action button"" of accepting is an illegal dark pattern in this instance. =||= What happened to the IPs? **In the original post you mentioned both services collecting IP information.** This isn‘t mentioned any more in the updated post, but I find this a bit suspicious. I honestly doubt that there is a way to disable that. So please be honest and mention it! I don't like this way of dealing wih criticism.
That‘s also opposing the statement in the screenshot – **IPs are both personal data and yield to an estimated location information**. =||= @ElementW 

> Unfortunately not everything that's usually considered dark patterns are explicitly made illegal. I'm not very well versed on GDPR legalese but I'm not sure a ""default/highlighted action button"" of accepting is an illegal dark pattern in this instance.

It is. =||= The toll for the introductory post counts 3750 negative emojis and 252 positive emojis. Those are pretty staggering numbers, and if you can't see the writing on the wall and continue with this implementation **against the will of 93% of your userbase**, we will have to assume that Audacity is no longer fit to serve its user's needs and instead serves Muse, Google and Yandex. We had a good run, folks. =||= Telemetry, CLAs... Closed source incoming? =||= > @ElementW
> 
> > Unfortunately not everything that's usually considered dark patterns are explicitly made illegal. I'm not very well versed on GDPR legalese but I'm not sure a ""default/highlighted action button"" of accepting is an illegal dark pattern in this instance.
> 
> It is.

Well, to be sure, companies are doing their best to ""interpret"" the boundary here. Attached is the cookie selection of one of Germany's national newspapers. Tell me if you don't find it obvious that you ""should"" click the black button (""accept all data collection"").

![Screenshot from 2021-05-08 13-04-52](https://user-images.githubusercontent.com/131300/117538116-e8619880-b004-11eb-89db-844ee33556fa.png)
 =||= > Has anyone got a promising fork yet?

I am waiting on an official response from Audacity team before doing any work on that.
Let's give them the benefit of the doubt, you know.. innocent until proven guilty.
Sure, not a lot of hope for them to go in the right direction, but surprises happen sometimes.
 =||= I would vote to support the falkTX fork, if it will be necessary.  =||= > I am waiting on an official response from Audacity team before doing any work on that.

Please, call it **Audience** and I promise I will work on the logo if you need one! =||= off topic but i feel like github could really do with threads (similar to how reddit does it?) because the amount of different discussion in these replies is very overwhelming
also my poor inbox........  =||= > > Has anyone got a promising fork yet?
> 
> I am waiting on an official response from Audacity team before doing any work on that.
> Let's give them the benefit of the doubt, you know.. innocent until proven guilty.
> Sure, not a lot of hope for them to go in the right direction, but surprises happen sometimes.

@falkTX Man, call it ""honesty"" if you go ahead with that, pwweease ;P =||= > 
> 
> > My IP is also 49.183.159.93 by the way
> 
> How did you enjoy [PRED-313 (JAV porn) that you downloaded using BitTorrent a week ago?](https://iknowwhatyoudownload.com/en/peer/?ip=49.183.159.93)

😂 thanks I did have a good chuckle ahaha
sadly not me though, since I'm on CG nat and several hundred connections share my IP at any one time. =||= ![michael-jackson-eating-popcorn-gif](https://user-images.githubusercontent.com/31383123/117540784-1cdb5180-b011-11eb-8485-b8ab42967d13.gif)
 =||= I think this a good time to take a hard stance against automatic upload of tracked data (""telemetry"" is a word used to sugar coat).  =||= > Is telemetry opt-in only or do users have to disable it manually once they update to the next release?

It is opt-in.
On first run with this PR, you are asked if you would like to opt in. It is a binary choice, opt in or opt out. Your choice is remembered and you are not prompted again, but can change choice option in Preference settings should you wish to. =||= > This nonsence, but still no bug fixes to Jack support.... Really?

Jack support is broken in Audacity 3.0.2.
I fixed it here: https://github.com/audacity/audacity/commit/b4b5cc812483b311627bba48e26b91ae389ce713

A bit too late now, but I wish that GitHub users would observe basic GitHub etiquette. =||= > Disabled by default, a user must manually and without nagging explicitly opt-in to telemetry themselves.

Yes it is opt-out by default.
There is a one time dialog  that asks if you would  like to opt-in. If you choose not to opt in, that's it, no nags. =||= > It's not opt-in if the default is on.
> 
> https://github.com/audacity/audacity/pull/835/files#diff-38452b2ab9b100d5046eb855410add20e6158dbc69533301bfc15f6d0913d3efR93-R94

That's not correct. You are misreading the code. It is opt out by default. Telemetry is only enabled if you explicitly opt in.
If you don't believe me, please test it yourself. =||= > > Disabled by default, a user must manually and without nagging explicitly opt-in to telemetry themselves.
> 
> Yes it is opt-out by default.

This is misleading.
The current pop-up has the ""yes"" more prominently than the ""no"".

![image](https://user-images.githubusercontent.com/1334853/117542218-a25e0200-b00f-11eb-8712-88ffc25fae8a.png)

This is a GDPR violation. And makes it look as the ""yes"" should be default and preferred.
Please change that.

Also there is some oddity with https://github.com/audacity/audacity/pull/835/files#r628437539 where while the tracking preference is set to false at the start, later on the fallback value is true.

 =||= > 
> 
> > Is telemetry opt-in only or do users have to disable it manually once they update to the next release?
> 
> It is opt-in.
> On first run with this PR, you are asked if you would like to opt in. It is a binary choice, opt in or opt out. Your choice is remembered and you are not prompted again, but can change choice option in Preference settings should you wish to.

As Steve says - and if you use Tools > Reset Configuration that will turn off the sending of Analytics as part of its factory reset of Preferences (I QA tested that bit a couple of days ago)
 =||= > > This nonsence, but still no bug fixes to Jack support.... Really?
> 
> Jack support is broken in Audacity 3.0.2.
> I fixed it here: [b4b5cc8](https://github.com/audacity/audacity/commit/b4b5cc812483b311627bba48e26b91ae389ce713)

My apologies at the time of writing I did not know my distro was stuck on v2.4.1. (the v3 won't build on most Linux distros, including Archlinux) You guys should look into de-vendoring wxWidgets

Incidentally that doesn't change the fact that this PR is utter nonsense (not to mention complete unmaintainable spaghetti code) anyway you guys can do so much better than bending over and letting a megacorp feast on your users.
 =||= > This is misleading.
> The current pop-up has the ""yes"" more prominently than the ""no"".

That is likely to be changed (as one of the QA testers involved I pointed that out to the Developer as part of my initial feedback)

 =||= ![image](https://user-images.githubusercontent.com/8123843/117542352-2912df00-b010-11eb-98ce-f8b486a6201b.png)
BTW reposting the latest results cos the Devs are lurking

Over 2000 responses in less than 24h. 50% of people don't want tracking. About 91% of people don't want Google tracking. =||= It might help the authors to ignore the shitstorm by drawing an analogy with teh following tweet. 

https://twitter.com/bgolus/status/1080213166116597760 

Point is some linux people are perenially outraged and the one's clamoring about forks are also the ones with EXACTLY 0 PRs.

I do hope that you make the telemetry non-intrusive, only for essential use cases and mandatory so that correct data is collected. Please ignore the FUD-stricken sheeple. =||= > > > Disabled by default, a user must manually and without nagging explicitly opt-in to telemetry themselves.
> > 
> > 
> > Yes it is opt-out by default.
> 
> This is misleading.
> The current pop-up has the ""yes"" more prominently than the ""no"".
> 
> ![image](https://user-images.githubusercontent.com/1334853/117542218-a25e0200-b00f-11eb-8712-88ffc25fae8a.png)
> 
> This is a GDPR violation. And makes it look as the ""yes"" should be default and preferred.
> Please change that.
> 
> Also there is some oddity with https://github.com/audacity/audacity/pull/835/files#r628437539 where while the tracking preference is set to false at the start, later on the fallback value is true.

@falkTX also forgot to mention as has been repeated ad-infanitum throughout this PR ""anonymous"" is a misleading statement. It is not accepted that Googles session UUID's are anonymous and it is known that these cookies can be correlated with other data points in googles database to ""de-anonymise"" the user and determine who it is exactly. Sometimes the cookie and IP is enough for this process, for example if the user is using any google service from the same computer at the same time. =||= > Point is some linux people are perenially outraged and the one's clamoring about forks are also the ones with EXACTLY 0 PRs.

Now into personal / group attacks here?

Please, stop this nonsense. Just because some of us have 0 PRs in audacity does not mean we do not matter or should not have a say in the matter.
As a developer, I take as personally responsibility to lead by example.
Common folks do not completely understand the implications of analytics and tracking. If they see some developers being okay with it, they will just trust it and go along with it as well.
What a terrible example we give to these people.

Also, just because some of us have not directly contributed to Audacity, doesn't mean we are not involved.
Some people here maintain the backends Audacity ends up talking to, to be more specific, JACK.

What an awful statement to make...

 =||= > It might help the authors to ignore the shitstorm by drawing an analogy with teh following tweet.

@asdf8dfafjk I really don't know why you're on the side of pro-tracking. I checked, your're not shown to have ever contributed to Audacity on your profile. What do you stand to gain from having yet another program listening to your activity? I mean maybe you believe this is going to help move development forward, but in the lengthy and heated discussion over the last 2 days I think it has been over stated by developers of various projects that the benefits of tracking is dubious at best.

So I have to ask, what's your angle here? =||= >
> Point is some linux people are perenially outraged and the one's clamoring about forks are also the ones with EXACTLY 0 PRs.
> 
> I do hope that you make the telemetry non-intrusive, only for essential use cases and mandatory so that correct data is >collected. Please ignore the FUD-stricken sheeple.
>

Hi, I'm someone who uses Windows as their main OS and doesn't do any coding of any kind. A while back it turns out that I've had to make a GitHub account just for the sake of reporting bugs, problems or even adding in my own two cents to crap like this PR purely because it actively affects me, the end user. As the person who is using the app, I feel I have a right to kick up a fuss when something that is overtly shitty and bad is trying to get into the application I use at least once every week. 

Stop making broad sweeping generalizations and stop trying to shut down everybody's right to speak out against things. Part of the beauty of community run and developed software like Audacity is that people like us (in theory) get a say in what does or doesn't get added to the program.  =||= With over 3000 thumbs down it is clear what people think about this. It's an audio editor, it shouldn't make any network connections at all. Let alone track users, specially when the tracking is done with parties like Google and Yandex. I don't care if it's opt-in or opt-out, tracking users doesn't belong in an open source audio editor. =||= Hello, I am also an end user on Windows.

I don't want any telemetry, thank you!

>It might help the authors to ignore the shitstorm by drawing an analogy with teh following tweet.

>https://twitter.com/bgolus/status/1080213166116597760

>Point is some linux people are perenially outraged and the one's clamoring about forks are also the ones with EXACTLY 0 PRs.

>I do hope that you make the telemetry non-intrusive, only for essential use cases and mandatory so that correct data is >collected. Please ignore the FUD-stricken sheeple.

What a terrible way to dismiss an entire segment of community by comparing apples to oranges. Audacity is FOSS for audio manipulation, not a game that more or less failed to meet it's own goals.

I suggest you learn the difference, otherwise I'd be seriously concerned about your contributions. =||= > t's an audio editor, it shouldn't make any network connections at all.

Second =||= > 
> Hi, I'm someone who uses Windows as their main OS
>

Also, just getting this in now before some smartarse tries to make a strawman over it AGAIN: yes, I'm using Windows and yes, it is indeed Windows 10. However, when I installed the OS, I took an extra hour to remove 90% of the crap that it comes with and disabled pretty much all of the telemetry and extraneous bullshit in it. Me using Windows does not make my argument against this PR any less valid, nor does the fact that I don't write code. =||= Privacy is a universal human right, so if you don't respect it, there's no reason to respect you. You broke ""etiquette"" the moment you tried turning a FOSS project into a spyware delivery platform for a russian panopticon. =||= > mandatory so that correct data is collected.

@asdf8dfafjk I don't think Muse acquired Audacity only to purposefully destroy its userbase. Muse is not in the position to force anyone to do anything. If they want to retain their userbase and avoid another LibreOffice/OpenOffice situation, they have no choice but to respect their users wishes by honoring the preferences. 

Also, please don't use personal insults as a way to voice your disagreement. =||= How is telemetry looking on this PR? Seems a lot of people have given very useful feedback.  =||= I have collected statistics which show a large number of people don't want statistics collected. Of course opponents to this view who are pro data collection seek to discredit my poll by claiming that data collection is biased and provides an incomplete view, so cannot be trusted for making a decisions about data collection. https://www.strawpoll.me/45241130/r =||= Here's an easy way the audacity fork can get a quick development the original lacks, upstream the patches from every distro, that will even make it easier for the fork's adoption. =||= TBH regardless of the outcome of this PR I am tempted to contribute to the dependency de-vendoring of any fork that emerges, so I can get some bug fixes on Arch. =||= As a developer, I can understand the want to add telemetry. This does not change the fact that the public has obviously spoken. Listen to them. _They_ are your users. I personally believe that adding things like telemetry in this form is a gateway to more data. The fact that they are using google makes this far worse.

Adding a custom _networking_ library to an _offline_ audio editor has got to raise some eyebrows, including mine. Take a step back, and listen to these comments. Simply put, you would lose a large portion of your users, including myself.

To those who are pro telemtry, I can once again understand why it seems like this will be a good change. As I said previously, this can be a gateway into more data collection. A counter argument to this is that _we already live in a world which collects our data, what would one more app do?_ As a user of audacity, I can say **I simply don't want an audio editor I use in my free time as a hobby, to have data on me in any way**. Especially if it is sent to google.

Please take a step back and reconsider this PR. =||= ### PUBLIC APPEAL
**of NGO
«Ukrainian Liberation»**

**_Dear representatives of:
• Free Software Foundation;
• «Muse Group» company;
• Community of the «Audacity» project;
• Free Software Community;
• other concerned communities and organizations!_**

---
Our NGO is deeply concerned by the implementation of telemetry in the code of free audio software «Audacity». In our opinion, such actions not only restricts anyone’s natural right to liberty, but it also threatens to split the «Audacity»’s Community.
At the beginning of May of this year, several international media reported that free and open-source audio software «Audacity» was bought by the «Muse Group» company on April 25th, 2021. [Here](https://www.prosoundnetwork.com/business/audacity-acquired-by-muse-group) is one of the articles as an example.

Around the same time, the following [post](https://github.com/audacity/audacity/pull/835) appeared on «GitHub». The post was made by a user [crsib](https://github.com/crsib), who, judging by the context, is a representative of the «Muse Group» company, aka new owners of the «Audacity». In this post, Mr. @crsib (or according to the information from the personal profile on «GitHub», Dmitrii Viedienko, from Saint-Petersburg, Russian Federation), is justifying the implementation of telemetry.

Specialists from the PR department of the NGO «Ukrainian Liberation» analyzed the text of the post and found not only contradictions but also signs of manipulation, which, according to our NGO, were included. Below you can find the results of our analysis of the crsib's post, which we received tonight from our PR specialists:

> «0) “Telemetry is **strictly optional and disabled by default**. No data is shared **unless you choose to opt-in and enable telemetry**”, but at the same time, “It is difficult for us to estimate the size of the user base accurately” which raises the question: if the telemetry is disabled by default, how is it supposed to help estimate the size of the user base if most of the user base will never enable it?
> 1) “We do not incorporate cross-site tracking, limiting the ability to **identify the user by both Google and Yandex**”, but the next thing we read is:
> • „Yandex would only **receive the ‘application opened’** event to help us estimate the size of the user base“;
> • „Google would only receive:
> 		a. Session start and end events;
> 		b. Errors for debugging;
> 		c. File formats used for import and export;
> 		d. OS and Audacity versions;
> 		e. Use of effects, generators, and analysis tools **to prioritize future improvements**“.
> — which makes us think: what is this collection of information, if not an attempt to identify the user's machine (that is, the user himself)? Specifically, we are concerned about point ""e"", where the alleged informational text is trying to explain the situation. The form of an information message _excludes_ such verbal constructions by definition.
> 2) „We will **consider replacing Google and Yandex** with another service if we find one that fulfills our requirements - **thanks for the suggestions and keep them coming**“. In our subjective opinion, this message is intended primarily to convince the general public that telemetry is the only acceptable way to gather information (same can be seen in the next paragraph, which we will come to). „Audacity“ like any other free software, has a powerful Community, that submits dozens, hundreds, or maybe even thousands (due to the popularity of the program) of bug reports on „GitHub“, thematical forums, and other similar platforms. Manipulation, which, in our subjective opinion, the new owners used, questions the effectiveness of this method of communication at the level ""developer-user"", which in all previous years has been effective and efficient, leading to the conclusion, that individual and/or legal entities responsible for the development of „Audacity“ do not trust users, their bug reports, and prefer to collect information on their own by means that are completely unacceptable both from the point of view of the community of FSF and from the standpoint of common sense. The last sentence, in bold, is, in our opinion, an attempt to please the Community (thank you, you're doing great, we value your opinion, - but then, again, it's unclear why they picked „Yandex“ and „Google“ with no prior discussion with, you know, the Community).
> 3) „Audacity is widely used across several platforms, but **we have no information on the application stability**“ — going back to what was said above, how about numerous bug reports and other similar feedback accumulated during the entire existence of the program?.. In our subjective opinion, here it’s the same as in the previous paragraph: it seems that the Community is not trusted, all user messages about errors and crashes of the program are not seen as a sufficient source for developers.
> 4) „We **need a way to make informed decisions about which OS versions to support**. For example, **can we raise the minimum version of the macOS to 10.10 to update the wxWidgets to the latest version?**“ — again, in our subjective opinion, manipulation (same as in paragraphs 2 and 3: we have forums, Community, reports, and messages about bugs).
> 5) „We have a **known issue** with the new file format introduced in Audacity 3.0. We found it **with the great help of the community members on our forum. However, there is no way for us to estimate the impact of these issues on users. Is it just a random case? Do we need to rush the work on the recovery tool or help the users one by one? Or do we need to rethink the file format to make it safer and more easily recoverable?**“ — here the author of the initial post not only promotes the ultimate need for telemetry but also admits his (or somebody else’s) incompetence as a programmer. In other words, we believe that in this message the author or authors of the initial post admit that they do not understand how to correct the error mentioned in the post, and therefore, as they say, they introduce telemetry».

It is important to note, that specialists from the PR department of the NGO «Ukrainian Liberation» do not claim their conclusions to be the only possible truth. They should be perceived taking into account that every person (or group of people united by one idea, like our NGO, for example) are entitled to their own opinion, even if it is not correct.

But let’s go back to the initial issue.

[«Muse Group»](https://www.musegrp.com/) is a company that has representatives in Hong Kong, Shanghai, and Sydney, Australia.

You can also contact them via messengers, which are far from the free software (""wechat"" and ""weibo"").

The author of the initial post on «GitHub» under the nickname crsib is from Russian Federation, the «Muse Group» company is (as we might guess) from China. In our opinion, both of these countries can hardly be called completely free and democratic. We are doing our best to leave the political and territorial aspects out of this conversation, but here we are forced to dwell on this point. We sincerely apologize to the Community for emphasizing this, but we believe that without a full and comprehensive understanding of the situation, it will be hard to understand the conclusion that we came to. Moreover, [«Wikipedia» agrees with us. In turn, it refers to authoritative sources and their studies from different years, such as this one from the «Freedom House»](https://en.wikipedia.org/wiki/Freedom_in_the_World). In our opinion, this partly explains the use of non-free platforms «Yandex» (Russia) and «Google» to collect the data, as well as why there has been no previous discussion with the Community.

(By the way, we still are not fully sure, how (and from whom) the abovementioned «Muse Group» **bought a free and open project «Audacity»**. We are asking the representatives to provide an explanation regarding this issue. This letter should also be considered as a request for relevant public information from the «Muse Group» company: **how and from whom is it possible to purchase a free and open project?**)

All the above cannot help but cause significant concern about the future of «Audacity» - an audio editor that we all know, love, and actively use.

Without resorting to any subjective analysis, we ask members of the Community to pay attention to the history of activity of the user crsib on the «GitHub». We deliberately do not draw any conclusions.

This situation with the «Audacity» brought another split in the community, all this despite the still-fresh memory of «The Code of Conduct» among Linux kernel developers, and, as we see it, bullying of RMS and FSF, which, in general, causes new conflicts in our Community (NGO «Ukrainian Liberation» considers itself a part of the Community, because we fully share its values and spread them at our home country, Ukraine, as much as we are allowed to by current social, political, economic and other circumstances).

NGO «Ukrainian Liberation» also expresses its deep concern at the reaction of individual users to this situation. Everywhere we see proposals to create a fork of «Audacity» based on the latest available version, free from telemetry. We believe that this measure is acceptable, but it is extreme (when all other solutions failed). It will inevitably deepen the division in the Community, as such an approach has both active supporters and opponents. Unfortunately, people often forget that the Idea is more important than people and their personal opinions. We are convinced that the fork at this stage will lead to two parallel programs - free and imbued with telemetry - and then the «Audacity» Community will simply split in two, three, and so on. NGO «Ukrainian Liberation» believes that this is what supporters of non-free components in the software want. This will significantly weaken us.
In our opinion, we still have a chance to save our favorite program. With this goal, we introduce the hashtag #saveaudacity. We would like to ask those who agree with our position and our concerns to spread the information about the situation with the «Audacity» by using this (or any others, at the discretion of the Community) hashtag. As an NGO, we see our main current task in spreading awareness and objective information that, unfortunately, is relevant to the «Audacity» audio editor.

We call on the Community to understand our concerns and to help us. FSF Community has always been strong in unity, but today we are divided over political, gender, racial, and all sorts of other stereotypes that do not apply and are not even related to the Free Software. Some individuals believe that their opinion is more important than the Idea of Freedom and Unity of Community. With all due respect, we find this position destructive.

We ask the Community for help also because we do not have programmers among our volunteers, and we cannot conduct an audit of the «Audacity» code for backdoors and vulnerabilities included (or not included).

**Please, help.**

-----
_The entire text of this Appeal is a purely subjective opinion about the situation from representatives of NGO «Ukrainian Liberation». This text does not claim to be an undeniable truth and objectivity. We deliberately do not draw any conclusions, leaving this prerogative to the Community. Without blaming anyone, we present our vision of a situation that might differ (and might be different) from objective reality.

With this letter, we ask FSF to assess the situation with «Audacity» and, if there is such legal possibility, start integrating NGO «Ukrainian Liberation» into the FSF as an associate member or any other form that will allow us to interact and fight together against modern challenges. We understood [the call](https://framatube.org/videos/watch/be21cdc4-5783-4c20-8f3f-49eb3d7aa91d) of RMS perfectly and we strive to be useful. Only together we can stand and fight against those who bring evil and discord. We are open to a conversation:  ukrliberation@mail2tor.com. We will view letters in English, Ukrainian, Russian, and Belarusian._

**_With sincere respect
and with apologies
for excessive emotionality —_**

_**Bohdan Kovalchuk,
Chairman (№0) of the NGO «Ukrainian Liberation»,
as well as the entire team of this NGO.**_

-----
**Original PDF file with a signature and a stamp of NGO ""Ukrainian Liberation"" [is available on our website](https://ukrliberation.org.ua/docs/0-21.pdf).**

**Translated from Ukrainian by [Dara Sereda.](seredache2000@tutanota.com)**

-----
### CAUTION!!!
**We were extremely mistaken with tagging the wrong ""Muse Group"" (thanks to POLYJITTER and others it had been noticed). I would like to also note, that words about location in China were not meant to hurt or upset anyone, as they had no intent to  spread racial stereotypes. We were trying to make a comment about the non-free policies that the country leads. 
We won't change the initial text, as we fully acknowledge our mistake. Thank you, attentive readers, who were able to catch inaccuracies in the text and help us fix them! 
**We think that this is an awesome example of how the Community can work together!**
Here is the correct link to the [correct MUSE group](https://mu.se/).
The ""Muse Group"" situated in China, Hong Kong and also Syndey, Australia, — please accept our sincere apologies. That was 100% our mistake. That happens when emotions of people got the best of us. We are terribly messed up with a couple of Muse Groups.
Sorry everyone, who feel harmed with the previous post.**
### Please, ignore all written about ""Muse Group"" from China — the innocent one. =||= @ngo-ukrainian-liberation Is this a known organization? I've never heard of you before, just seems like you want to slither your way into the FSF? =||= > 
> 
> @ngo-ukrainian-liberation Is this a known organization? I've never heard of you before, just seems like you want to slither your way into the FSF?

They have a youtube channel active since 2017. =||= > > @ngo-ukrainian-liberation Is this a known organization? I've never heard of you before, just seems like you want to slither your way into the FSF?
> 
> They have a youtube channel active since 2017.

Doesn't really mean much. =||= > > @ngo-ukrainian-liberation Is this a known organization? I've never heard of you before, just seems like you want to slither your way into the FSF?
> 
> They have a youtube channel active since 2017.

We are done with ""YouTube"" now, just like any other proprietary platform. And (we hope) that's our so-called ""contribution"" to the GitHub, which now belongs to Microsoft®©™. :-) =||= > The author of the initial post on «GitHub» under the nickname crsib is from Russian Federation, the «Muse Group» company is (as we might guess) from China. In our opinion, both of these countries can hardly be called completely free and democratic. We are doing our best to leave the political and territorial aspects out of this conversation, but here we are forced to dwell on this point. We sincerely apologize to the Community for emphasizing this, but we believe that without a full and comprehensive understanding of the situation, it will be hard to understand the conclusion that we came to.

@ngo-ukrainian-liberation No, they're just a corporation, and corporations are known to have unethical interests in the pursuit of profit. People's nationalities don't dictate their value or worthiness. You're xenophobic and racist. Stay focused =||= @ngo-ukrainian-liberation https://www.musegrp.com/ is not the Muse Group that acquired Audacity - it's https://mu.se/ =||= > @ngo-ukrainian-liberation https://www.musegrp.com/ is not the Muse Group that acquired Audacity - it's https://mu.se/

Indeed - and it appears the correct Muse Group is in Limassol, Cyprus:

https://www.linkedin.com/company/muse/

Hardly any worthwhile information for inflammatory personal smearing.

All I'm saying is the argument that nationality = how bad or good someone is, kinda doesn't hold very much weight when you can't even research your hate correctly... =||= Since this is making network connections now, will I be able to order pizza with just a voice recording? =||= > 
> 
> > It's not opt-in if the default is on.
> > https://github.com/audacity/audacity/pull/835/files#diff-38452b2ab9b100d5046eb855410add20e6158dbc69533301bfc15f6d0913d3efR93-R94
> 
> That's not correct. You are misreading the code. It is opt out by default. Telemetry is only enabled if you explicitly opt in.
> If you don't believe me, please test it yourself.

Read the code again.

`S.Id (wxID_YES).AddButton (acceptButtonTitle)->SetDefault ();`

The default button in the UI is opt-in. You could be forgiven for not even noticing the other button; it is so inconspicuous. This is what everyone is referring to as a ""dark pattern"" and a GDPR violation. If you simply hit enter or the space bar, or click the only button that jumps out at you, you unwittingly opt in. You can't use any software or any websites any more without getting hit at least once and probably repeatedly with a nagging pop-up asking you to subscribe, agree, register, enable a ""feature"", etc. etc. etc. It's beyond tiresome. I can't even tell you how many websites I've set up cosmetic filtering rules and custom styles on to wholly disable this kind of functionality. We all do the same thing: get rid of the nag as fast as possible with as little thought as possible, because ultimately our attention and productivity does have a budget. 

While I'm on a rant, I might was well pile this on. For them to so quickly try to slide something in under the radar that's not at all innocuous or consistent with preceding philosophy, and to only present community-oriented messaging after being called out in a very public way, is beyond a red flag. It speaks volumes about how they intend to operate and how they conceptualize the users. It tells us they intend to get away with whatever they can. That damage is already done. Even doing a 180 now doesn't change that.

I am *wholly* against any kind of telemetry. Not only is its usefulness dubious, but I consider that to be beside the point. I don't want to be surveilled. I don't want data about me to be collected, compiled, tracked and analyzed. Not by a person, not by a machine. Not personally, not pseudonymous, not anonymously. Not for profit-oriented reasons, and not for ostensibly constructive reasons. That's not why I downloaded the software. It's not something I'm volunteering to do. It's not something I will ever offer any kind of honest, genuine consent to.

I don't necessarily think telemetry is a thing that shouldn't exist at all. I think it should be a separate software component that has to be added and enabled affirmatively by a user. Approach it that way and find out how much value the users really find in telemetry.  =||= > Since this is making network connections now, will I be able to order pizza with just a voice recording?

At least that would be kinda helpful. =||= The comments on the PR is a hormesis response. It is a dose dependent over reaction to software tracking. Non one complains about tracking in VS Code, because it already had it. Add a little bit of tracking to a well known standalone open source desktop app and bam, here comes the ""overeaction"" meant to inoculate the system (open source software as a whole) to worse intrusions. 

These comments, while they may seem like an overreaction to some, are a REALLY good thing for the community and I hope that the moderates who are OK with some telemetry can see why this discussion, in this format, with this intensity, is important. =||= > Non one complains about tracking in VS Code, because it already had it

What a bunch of crap.
All the people that made https://github.com/VSCodium/vscodium/ would like a word.
 =||= @kuberlog Actually, the fact that VSCode is Chromium-based and has tons of telemetry built into it is part of the reason why I still use `vim`. 

@falkTX Thanks for pointing out that fork! I'm gonna try it out. =||= @polyjitter **THANK YOU!!!** It's been corrected above. ;-) =||= ### CAUTION!!!
We were extremely mistaken with tagging the wrong ""Muse Group"" (thanks to POLYJITTER and others it had been noticed). I would like to also note, that words about location in China were not meant to hurt or upset anyone, as they had no intent to  spread racial stereotypes. We were trying to make a comment about the non-free policies that the country leads. 
We won't change the initial text, as we fully acknowledge our mistake. Thank you, attentive readers, who were able to catch inaccuracies in the text and help us fix them! 
**We think that this is an awesome example of how the Community can work together!**
Here is the correct link to the [correct MUSE group](https://mu.se/). =||= > The comments on the PR is a hormesis response. It is a dose dependent over reaction to software tracking. Non one complains about tracking in VS Code, because it already had it. Add a little bit of tracking to a well known standalone open source desktop app and bam, here comes the ""overeaction"" meant to inoculate the system (open source software as a whole) to worse intrusions.
> 
> These comments, while they may seem like an overreaction to some, are a REALLY good thing for the community and I hope that the moderates who are OK with some telemetry can see why this discussion, in this format, with this intensity, is important.

@kuberlog Only the **closed-source** version of VSCode (i.e. the one you download from Microsoft) has tracking. If you compile it from source, it's free of it. =||= > The comments on the PR is a hormesis response. It is a dose dependent over reaction to software tracking. Non one complains about tracking in VS Code, because it already had it. Add a little bit of tracking to a well known standalone open source desktop app and bam, here comes the ""overeaction"" meant to inoculate the system (open source software as a whole) to worse intrusions. 
> 
> 
> 
> These comments, while they may seem like an overreaction to some, are a REALLY good thing for the community and I hope that the moderates who are OK with some telemetry can see why this discussion, in this format, with this intensity, is important.

@kuberlog I understand your point, but the fact is vscode already had it. As someone said, vscode uses chromium which is well known to use telemetry and collect user data by default. That is once again known and documented to be a part of the vscode model. This differs from audacity, which for the 20+ years it had been around, has never even had networking. =||= Is museCY Holding LTD. a nonprofit, and if so, where is it registered as one? =||= ### The ""Muse Group"" situated in China, Hong Kong and also Syndey, Australia, — please accept our sincere apologies. That was 100% our mistake. That happens when emotions of people got the best of us. We are terribly messed up with a couple of Muse Groups.
Sorry everyone, who feel harmed with the previous post.
Please, ignore all written about ""Muse Group"" from China — the innocent one. =||= It seems that MuseCY Holding LTD is a for-profit corporation. Does Muse own the trademark ""Audacity"" or any other intellectual property related thereto? =||= > Also, just because some of us have not directly contributed to Audacity, doesn't mean we are not involved.
Some people here maintain the backends Audacity ends up talking to, to be more specific, JACK.

Likewise, I have contributed to several parts of the infrastructure that Audacity depends on, sometimes working directly with Audacity users to fix bugs affecting us both:
  * [PipeWire](https://gitlab.freedesktop.org/pipewire/pipewire/-/issues/788)
  * [PortAudio](https://github.com/PortAudio/portaudio/pull/504)
  * [libsndfile](https://github.com/libsndfile/libsndfile/issues/470)

So just because I don't have any commits in the Audacity code repository does not mean I have not contributed anything to Audacity before.

Ironically, the Audacity developers' bad habit of forking dependencies [created an obstacle to getting one of those bug fixes out to users](https://bugzilla.redhat.com/show_bug.cgi?id=1939749#c6). =||= Hello there!
The initial post by Ukrainian Liberation was deleted and the account was banned, so some people might not see the changes that were added. 
Here they are:
### CAUTION!!!
We were extremely mistaken with tagging the wrong ""Muse Group"" (thanks to POLYJITTER and others it had been noticed). I would like to also note, that words about location in China were not meant to hurt or upset anyone, as they had no intent to spread racial stereotypes. We were trying to make a comment about the non-free policies that the country leads.
We won't change the initial text, as we fully acknowledge our mistake. Thank you, attentive readers, who were able to catch inaccuracies in the text and help us fix them!
We think that this is an awesome example of how the Community can work together!
Here is the correct link to the correct MUSE group.
The ""Muse Group"" situated in China, Hong Kong and also Syndey, Australia, — please accept our sincere apologies. That was 100% our mistake. That happens when emotions of people got the best of us. We are terribly messed up with a couple of Muse Groups.
Sorry everyone, who feel harmed with the previous post.
Please, ignore all written about ""Muse Group"" from China — the innocent one. =||= Please stay focused, don't feed oder replicate trolls, refrain from all-caps or all-bold, avoid ad hominems, ableist slurs etc. =||= > Please stay focused, don't feed oder replicate trolls, refrain from all-caps or all-bold, avoid ad hominems, ableist slurs etc.

Thank you, corrected)
 =||= Did the person ""Aaron Spike"" who created the Audacity Logo, assign the copyright to it to Tony Berman of  Berman Entertainment and Technology Law? There is a trademark registration for the Audacity Logo under that name.

What is the connection between Tony Berman and MuseCY Holding LTD.? =||= If you want telemetry ... don't use Google or Facebook or Apple or Microsoft or Yandex (WTF?) or similar.

You can do a one-time check at the first start after a fresh installation or update to gather the information you want after the user allows it. You can write that code yourself.

I wonder how people before that telemetry non-sense knew what work to prioritise, what OS version to drop and so on ... =||= > Did the person ""Aaron Spike"" who created the Audacity Logo, assign the copyright to it to Tony Berman of Berman Entertainment and Technology Law? There is a trademark registration for the Audacity Logo under that name.

Firstly, this has nothing to do with this pull request. It is not a code review in any shape or form, is unrelated to this pull request and does not belong here on GitHub.

Secondly, the current version of the Audacity logo was not created by Aaron Spike, it was created by me, using Gimp, and I have  the original Gimp files to prove it.

Thirdly, yes, Audacity has permission to use the logo that I created, just  as Audacity had permission to use the older logo on which it was based, and the even older version on which that was based. =||= > is unrelated to this pull request

I would say that this inquiry is related to the pull request, since this pull request may result in a fork, and the legal issues regarding using the original Audacity logo in said fork. =||= It has all been said already, but I feel that an additional voice in opposition to this PR may help somewhat. I've been using Audacity since elementary school in 2005. It's been installed on any system where I've needed to record audio. It would be trivial for me or anyone else to switch to a fork that doesn't include telemetry. I use Pale Moon and VSCodium for that explicit reason. It's true that most people won't care. Chrome is still the dominant browser after all. But enough people clearly do care that I hope this PR gets closed soon, rather than merged. If it is merged it will take me three package manager commands to switch to something else and never look back.  =||= Since the CMake option to enable telemetry is opt-in (disabled by default), removing telemetry from Audacity is as simple as building it without including any telemetry-related options.

In case the Audacity team merges this PR, I made a repository that will automatically build the app without telemetry (work in progress): https://github.com/SpheeresX/audacity-notrack =||= > Since the CMake option to enable telemetry is opt-in (disabled by default), removing telemetry from Audacity is as simple as building it without including any telemetry-related options.
> 
> In case the Audacity team merges this PR, I made a repository that will automatically build the app without telemetry (work in progress): https://github.com/SpheeresX/audacity-notrack

That is actually an argument against this PR. The vast majority of Linux distributions will compile audacity with the option disabled therefore missing the point of having telemetry in the first place. =||= Basically I think optional (opt in) telemetry to improve Audacity is OK. But why the hell with this Google crap? It is exactly the opposite the FLOSS community want to have. =||= > That is actually an argument against this PR. The vast majority of Linux distributions will compile audacity with the option disabled therefore missing the point of having telemetry in the first place.

Windows (and MacOS?) users download the build (with telemetry built-in) from Audacity's website, and these operating systems hold the majority of the OS market share. =||= I have a suggestion for a more respectful approach to telemetry. Instead of doing this blanket telemetry on Audacity users minus those who are using Linux distribution packages, do limited scope remote usability tests on people who explicitly want to contribute to Audacity. For example [read in Tantacrul voice]:

> We're trying to declutter the main toolbar. We think it probably has too many magnifying glasses, but we don't know which ones people use frequently. We won't remove any of the features there, but we are considering moving them to a menu or another part of the user interface so they don't distract you from features that are used frequently. 
> We want your help to figure out which magnifying glasses people actually do use. All you have to do to participate is download these builds and use Audacity as you normally do. When you close these builds of Audacity, it will send us data about which magnifying glasses you clicked. We plan to collect this data over the next two weeks, then we will open a forum thread/GitHub issue/whatever discussion medium to discuss how to interpret it and how we could improve the design of Audacity. If you want to stop participating in this experiment at any time, you can go to Edit -> Preferences -> Telemetry and disable the data collection. Alternatively, you can uninstall the build and reinstall the official release build from https://www.audacityteam.org/download/ The builds are signed with the GPG key available here [link to public key].
> This data is sent encrypted over SSL to our server at https://telemetry.audacityteam.org/ where you can see the aggregated, anonymous data and download a copy in the machine-readable CSV/JSON/whatever format so you can do your own analyses. No IP addresses nor any kind of personally identifiable information are included in the recorded data. The source code for these builds is available at [link to Git branch in code repository] and the code running on the telemetry server is available at [link].

If you take this approach, I think you could actually get Linux users to enthusiastically participate. If you start by doing your best to respect users' consent and privacy, I think you could get much more useful data and use it to improve Audacity. =||= > 
> 
> > Did the person ""Aaron Spike"" who created the Audacity Logo, assign the copyright to it to Tony Berman of Berman Entertainment and Technology Law? There is a trademark registration for the Audacity Logo under that name.
> 
> Firstly, this has nothing to do with this pull request. It is not a code review in any shape or form, is unrelated to this pull request and does not belong here on GitHub.
> 
> Secondly, the current version of the Audacity logo was not created by Aaron Spike, it was created by me, using Gimp, and I have the original Gimp files to prove it.
> 
> Thirdly, yes, Audacity has permission to use the logo that I created, just as Audacity had permission to use the older logo on which it was based, and the even older version on which that was based.

Is ""permission to use the logo"" the same as ""permission to trademark the logo""? =||= # Data Collection vs Telemetry in Audacity

Audacity PR #835 is a mess on many levels. Problems that exist with this PR are
stated reasons for implementing telemetry:

- Lack of stability information.
- Unknown userbase size.
- Development and support decisions.
- Resolving a known issue with unknown impact on users.

In addition, the stated information that will be gathered via a telemetry
interface are stated as:

- Application open information (Yandex)
- Session start / end events (Google)
- Debug information / errors (Google)
- File format information (Google)
- Operating System Version (Google)
- Audacity version (Google)
- Other tools used by the user (Google)
- IP Address (Google & Yandex)

The vast majority of this information, however does not need to be gathered
using telemetry, and in fact, using telemetry would likely lead  to mis-leading
information or a lot of unusable information being gathered that would not
assist the development process.

Before going into the reasons telemetry is not appropriate for addressing the
majority of this information, consideration should be given to how telemetry is
generally used in large open source projects.

## Telemetry in Open Source

There are projects that use Telemetry.  However, in many cases the
implementation of Telemetry is well documented, and frequently goes through an
exhaustive approval process before being implemented.

The following provides an overview of telemetry handling in several open source
projects.

### Case: The Linux Foundation

**The Linux Foundation** introduced their [Telemetry data collection and usage
policy](https://www.linuxfoundation.org/telemetry-data-policy/) in October 
of 2019.  The policy makes it clear that there are many items that need to be
considered before implementations are approved.  These considerations include
(but are not limited to):

1. Individual data privacy: does the data track or identify the user? If it
   doesn't could it still include personal information that is subject to laws
   and regulations?

2. Data confidentiality: does the data result in any business-sensitive
   information being sent to the project, or a third party? If there was a
   consent dialog, what guarantees that the user was authorized to grant
   consent?

3. Awareness of collection: does the software guarantee that no data is gathered
   before consent has been given?  Is it opt-out or opt-in? Can the consent
   notice be bypassed?

4. Security of the collection mechanism: does the ""phone home"" mechanism itself
   open security vulnerabilities to the application? Is there still a
   vulnerability if the user does not opt-in to the data gathering?

In order to deal with all of this information, the Linux Foundation requires
member applications submit to a review by providing:

- The specific data to be collected.
- Demonstrate the data is fully anonymized, and does not contain any data about
  an end user, or information that could be sensitive.
- The manner in which users are notified of the details of the data collection,
  use and distribution. Meeting requirement of consent before information is
  gathered.
- The manner in which the information is to be stored and use by the project.
- Security mechanisms used to ensure the collection of information will no
  result in unintentional collection, or security vulnerabilities.

Following all this guidance, the information is submitted to a review panel of
The Linux Foundation's legal team for review.

### Case: KDE

The KDE project introduced telemetry into their Plasma environment approximately
a year ago.  In so doing, they developed a [Telemetry
Policy](https://community.kde.org/Policies/Telemetry_Policy) that is applied to
all applications in the KDE environment.  This is a rough summary of the policy:

- Transparency:
    - Data is shared in a way that (a) is easy to understand, (b) is precise and
      complete, (c) is locally available without network connection.
    - Any changes to the gather must be highlighted during the release
      announcement.

- Control:
    - Telemetry is **always** opt-in. It is off by default, and only enabled by
      explicit user action.
    - Telemetry settings can be changed at any time, and are prominent in the
      user interface of the application.
    - Telemetry settings are independent of any other settings, features or
      functionality.
    - Applications must honor system-wide telemetry settings.
    - Detailed documentation must be provided on the operation of the Telemetry
      settings.

- Anonymity:
    - Nothing that is considered personal information is gathered, especially
      where regulations such as the GDPR are concerned.
    - No unique devices, installation or user ID's are used.
    - Data is stripped of any unnecessary details, and downsampled appropriately
      before transmission.
    - Network operation data (such as IP Addresses) are not stored with the
      telemetry data.

- Minimalism:
    - Only gather the absolutely minimal information needed.
    - Collected data must have a clear purpose.
    - Data is downsampled to the maximum extent possible before transmission.
    - Relevant correlations between individuals bit of data should be computed
      at the source whenever possible.
    - Data collection is stopped when corresponding questions have been
      answered.

- Privacy:
    - Never transmit any user content, or hints at user content (ie, file names,
      URL's, etc.)
    - Gather only system information specific to the installation / environment
      **independent** of how the application/machine/installation is used.
    - Gather statistical usage data of an installation / application.

In order to use telemetry information in a KDE project, all of the above must be
met, and a public review is passed.  This review process is repeated for every
release if there are any changes to the information being gathered.  Received
data is regularly audited for violations of this policy. If there is a
violation, the data is deleted and collection is suspended until compliance can
be re-established.  To date, only [four KDE
applications](https://community.kde.org/Telemetry_Use) use telemetry data.

### Case: GitLab

On October 23rd of 2019 GitLab announced that they were making [changes to their
Terms of Service](https://gitlab.com/gitlab-org/gitlab/-/issues/34833) that
included the addition of JavaScript on their website that would gather
information to be used by GitLab and possibly sent to third parties.  The code
would be both open source and proprietary.

They stated that they would update their Privacy Policy to indicate what
information was being gathered, and where it was being sent.

Users of GitLab immediately took to the issue that was opened to track the
announcement and wrote a number of messages of concern about the information
that was being gathered, and the lack of control about how the information was
being used.

On October 29th, GitLab sent out a letter that explained the following:

> So, what happened? In an effort to improve our user experience, we decided to implement user behavior tracking with both first and third-party technology. Clearly, our evaluation and communication processes for rolling out a change like this were lacking and we need to improve those processes. But that’s not the main thing we did wrong.

> Our main mistake was that we did not live up to our own core value of collaboration by including our users, contributors, and customers in the strategy discussion and, for that, I am truly sorry. It shouldn’t have surprised us that you have strong feelings about opt-in/opt-out decisions, first versus third-party tracking, data protection, security, deployment flexibility and many other topics, and we should have listened first.

### Other Cases

In an earlier post I documented the policies, processes and information gathered
by Firefox, including the Glean tool the Mozilla foundation specifically created
for gathering this information.

Something that wasn't discussed as a significant point was Firefox's
transparency and user's control in terms of their telemetry gathering.  Any user
can see what information has been sent to Mozilla without having to dig through
their Telemetry Portal.  Just open ""about:telemetry"", and the last two weeks of
pings is available for users to see and verify that none of the information
being sent to Mozilla is sensitive.  Also users have a degree of control over
what information is being gathered through a series of check boxes available in
the Privacy & Security portion of the Preferences menu.

* * * 

Also contained in the comments on this PR is a discussion with one of the main
developers of Ardour, in which we discuss the information that they gather, and
the limited usefulness of this information, and the processes and decision
making that went into adding it to Ardour.

### Telemetry Conclusion

When implemented properly in large projects, there is far more consideration
given to the process and procedures needed to make certain that appropriate
safeguards are implemented to protect end user's privacy and anonymity.  Further,
the consideration for safeguarding against sensitive information being
communicated is also required. On top of this, legal and / or public review of
telemetry information being gathered is a routine process in these projects.

When the input of the community is not considered, problems such as that issues
that GitLab created for themselves do serious damage to their perception in the
community.

## Data Collection in Open Source

There is actually a long history of data collection in open source projects.
Where data collection differs from telemetry is often in the frequency and / or
the amount of detailed information that is gathered.

### OS Hardware Profiles

Ubuntu, several of the \*BSD distributions, and others have been
building hardware profile databases for years.  This is typically done as a
one-time, completely voluntary data collection performed during the Operating
System installation.

An example of this is the [NYC\*BUG
dmesgd](https://dmesgd.nycbug.org/index.cgi?do=index) which has allowed users to
upload copies of their dmesg logs into a database since 2004.  All of the
information contained in the database is anonymized, there is no personally
identifying information.

System76 and RedHat Enterprise Linux take a different approach.  They include
tools that are used only on the basis of support needs.  These tools gather
system logs, hardware profiles, detailed configuration information and system
coredumps into a single file.  This file is then attached to support requests
through a secured system.

Ubuntu has made one of the more controversial implementations of data collection
via it's Ubuntu Report tool.  It gathers system information and sends reports to
Ubuntu including: Ubuntu version, OEM/Manufacturer, Device model number, BIOS
info, CPU details, GPU details, Installed RAM, Partition Info, Display(s)
details, Auto-login status, Live Patching status, Desktop environment, Display
server, and Timezone.

While not containing direct personally identifying information, some of the
information could be sensitive in a number of environments.  The user is
prompted during installation to disable (opt-out) of the data collection, and is
allowed to preview the data before it is sent, while making the decision. The
data gathering system is a standalone package that can be completely removed
from the system in environments where having installed would be deemed an issue.

### Application Crash Reporting

Numerous systems, including Ubuntu, RedHat Enterprise Linux, and others have
features that can be enabled to allow semi-automated submission for crash
reports with debug information.  This allows targeted collection of information
which the user likely feels more comfortable in submitting the information.

Additionally, this can be used much in the same way as the System76 and RedHat
tools for generating logs and debug information that the user can submit as part
of a support request.

### Software Popularity

Ubuntu, Debian, Arch Linux, and other distributions contain a package which is
not installed or enabled by default that allow users to send information about
the applications they are using on their system.

The information is restricted to: package name, how recently it has been used,
and how recently it has been updated.  This approach keeps to the approach of
sending minimal information, devoid of personally identifying information.

Since this software is not activated unless specifically installed by the end
user or system administrator, there is a fairly high confidence that potentially
sensitive information is not being communicated.

### Data Collection Conclusion

There is a long standing tradition of data collection when it comes to the open
source world.  However, many Linux distributions have taken a stance of data
gathering on an ""as needed"" basis (with the notable exception of Ubuntu).

Systems like \*BSD's NYC\*BUG are completely voluntary, and users specifically
take the time to upload log files by their own choice.

Tools like those provided by RedHat Enterprise Linux and System76 are
specifically designed to be used in tracing problems and resolving issues.  They
are only used at  the discretion of the end user or system administrator who is
seeking support.

Popularity polling is a system that has been made available in several
distributions, however it is typically not installed by default.  Instead users
that are willing to share information about their usage habits may install and
enable this functionality.

The only notable substantial outlier (at lest that I know of) with regards to
data collection is Ubuntu, which installs a default collection system.  This
system, however, allows the user to opt-out on the first boot of their system
after installation.  It also offers the user the chance to actually see the
information that is gathered to be sent to Canonical before it is sent.

## Audacity's Telemetry Justification

This brings us back to the proclaimed need for telemtry in Audacity.  First
let's look at the reasons:

### Lack of stability information

It's difficult to see how telemetry information as proposed would be able to
affect this without gathering a lot of information about the environment in
which the user is operating their system.  The declared ""OS"" information would
certainly be more than just the OS version?  It would be necessary to know a
lot of information about the underlying hardware configuration.  Gathering such
detailed information (such as system board, cpu, firmware version, disk
configuration, ram, etc.) could be considered by many users to be sensitive
information.

A better indicator for stability issues would be to have a reporting system that
allowed users to submit reports when instability actually occurs.  This targets
the information to specific issues, instead of having an overly broad collection
of information that makes the location of this information like finding a needle
in a haystack.

### Unknown userbase size

This is probably one of the least worthwhile arguments put forward for the
addition of telemetry information. The problem with this justification is that
the implementation of telemetry collection is broken by design.

This is a feature that the user has the choice to disable by default.  That
alone guarantees a level of inaccuracy of the information being gathered.  To
make matters worse, there is the option to compile the application without
enabling telemetry at all.

In this situation the information gathered by telemetry is very likely to be
highly inaccurate.  It will never be clear which Linux distributions disable
telemetry during package builds.  It will never be clear what percentage of the
user base opt's out of the telemetry when they are offered the option.

There are much better ways to gather this information.  As noted in the
**Software Popularity** section, many Linux distributions already collect
anonymized information regarding package installation and usage.  This
information is often freely available from the distributions.

Outside of the Linux ecosystem many of the distribution points for packages
(including, I would believe) GitHub and Audacity's own websites keep download
statistics for the package.  Many of these sites also gather client platform
information during the download process.

Overall these sources of information would paint a more accurate picture than
relying on the automated gathering of information with unknown levels of
accuracy.

### Development and support decisions.

Development and support decisions that are based on potentially highly flawed
statistics from telemetry gathering (as outlined in **Unknown userbase size**)
will likely lead to bad decision making, and only serve to disenfranchise a
portion of the current user base.

Directly polling the user base is a far better way to gather information about
the direction to take for development.  Audacity has a support forum with over
150,000 users, and several mailing lists with a high number of users.  Certainly
users that are so invested in the software to take the time to sign up for a
forum, or add their email address to an email list are the users that should be
targeted for development decisions.

Other ways of gathering information could be open, public, anonymous polls
operated from Audacity's website.

### Resolving a known issue with unknown impact on users.

This is a situation where it is difficult to understand how this information
could be used in resolving an issue.  First, it is something that really
shouldn't be the basis for making a decision on whether to resolve an issue or
not.

The primary motivation for resolving an issue should be whether or not there is
a security assessment.  Any features that is not working as designed needs to be
assessed in the light of potential risk to the stability of a users system.  This
is first and foremost.  The higher the chance that a issue can be exploited by
any potential bad actor the higher the need to fix the issue.

Basing the decision to resolve an issue on the basis of user impact is the wrong
way to go about supporting an issue.  User impact should be considered to be
equal to a threat assessment when users report the issue, and document the
severity as having a significant impact on the user base.

## The Proposed Telemetry Implementation

As stated earlier, the proposed implementation of telemetry in Audacity is
highly problematic.  But the nature of the problems with the chosen path here
are much deeper.

### Inaccurate Information

As stated above, the information being gathered is very likely to be highly
inaccurate due to numerous factors.  The number of users that will opt-out of
telemetry will never be known.  The number of downloads that have been built
with the telemetry completely disabled will never be known.

Because of these fundamental flaws, the data should be considered GIGO (garbage
in, garbage out).

### Lack of Policy Information

No consideration, or research appears to have been done to develop a Privacy
Policy that can be applied to telemetry information.  Large open source projects
like **The Linux Foundation**, **KDE**, and **Firefox** have developed processes
for the approval of telemetry implementation that involve legal and public review
before any implementation is made.

There is no process proposed by the Audacity team to ensure that the information
being gathered conforms to any regulatory requirements.

### Choice of Third Party Service Providers

Many security and privacy experts warn of using Google and Yandex's systems.
These systems are known to be used for extensive data mining.  The implementation
of these systems gather personally identifiable information (at a minimum IP
addresses) through Audacity is not an acceptable standard.

### The lack of consideration of Open Source Alternatives

At a minimum there are three Open Source alternatives that should be considered
for the implementation of a telemetry system.  The three that are known at this
time are [Mozilla Glean](https://github.com/mozilla/glean),
[Matomo](https://matomo.org/) and
[Plausible Analytics](https://github.com/plausible/analytics) all of these options are
open source licensed tools, and have statements of GDPR compliance.  Several of
them also cover CCPA and PECR compliance as well.

## Conclusion

This document has attempted to do the kind of research that the Audacity team
should have done before beginning work on implementing telemetry in Audacity.
This research has included:

- Looking at successful telemetry implementations in large open source projects
- Looking at a case where a large open source project went wrong with changes to
  their telemetry implementation
- Looking at alternative data collection techniques that could be implemented to
  largely the same effect as the proposed telemetry implementation
- Looking at the deep flaws in the proposed telemetry implementation
- Looking at the lack of communication around the proposed telemetry
  implementation
- Looking at alternative choices for implementing a telemetry system that would
  be more respectful of user privacy
- Looking at alternatives for gathering some of the information outside of using
  telemetry

Because of of all of the concerns outlined in this document, it is proposed that
the implementation of Telemetry in Audacity be set aside until a more thorough
investigation and discussion can take place that will address many of the issues
raised in this document.

This document was researched and written in under 12 hours.  The Audacity Team
should recognize that just the amount of issues brought up with a very short
review dictates that there are issues that need a lot more research in order to
be properly and thoroughly addressed.
 =||= @SndChaser I wish comments could be pinned or something. That is a great writeup. =||= > @SndChaser I wish comments could be pinned or something. That is a great writeup.

Thanks.  I was inspired last night when someone else pointed to one of my comments as ""perfect"" and I kept thinking ""there's so much more that should be documented about this issue..."" =||= > > @SndChaser I wish comments could be pinned or something. That is a great writeup.
> 
> Thanks. I was inspired last night when someone else pointed to one of my comments as ""perfect"" and I kept thinking ""there's so much more that should be documented about this issue...""

Can you dump the markdown under a repository like

https://github.com/SndChaser/audacity-data-collection

so the rest of us don't lose it in this increasingly unmanageable thread? As has been noted a few times here there's a tendency for threads like this to cycle endlessly. =||= > > > @SndChaser I wish comments could be pinned or something. That is a great writeup.
> > 
> > 
> > Thanks. I was inspired last night when someone else pointed to one of my comments as ""perfect"" and I kept thinking ""there's so much more that should be documented about this issue...""
> 
> Can you dump the markdown under a repository like
> 
> https://github.com/SndChaser/audacity-data-collection
> 
> so the rest of us don't lose it in this increasingly unmanageable thread? As has been noted a few times here there's a tendency for threads like this to cycle endlessly.

I'll point out that it will look better rendered as actual Markdown, where the hard line breaks will be treated as just spaces. =||= @rob-sanders 

> Can you dump the markdown under a repository like
> 
> https://github.com/SndChaser/audacity-data-collection
> 
> so the rest of us don't lose it in this increasingly unmanageable thread? As has been noted a few times here there's a tendency for threads like this to cycle endlessly.

Sure: https://github.com/SndChaser/AudacityTelemetryComments

I'll add for @aaaaaa123456789, the files are the original Markdown versions of the document and a couple of comments I posted earlier. =||= @SndChaser Great, thank you. I think the link has a good chance of staying current as the thread rolls on. =||= Excellent further input! Put a lot of things way more eloquently than I ever could. =||= Why are you ruining one of the best pieces of audio software available? =||= popping in to say @SndChaser you did a really good job with that comment and i really appreciate what you said :) =||= > popping in to say @SndChaser you did a really good job with that comment and i really appreciate what you said :)

Thank you @tilda . =||= I am seeing some great summaries and it really feels like the debate is wrapping up?

Yet I am still seeing code review about coding style in the god damn chat. Why are we still doing this, can we wrap this up and get this god damned PR closed, please. 

Based on the lack of engagement from the OP I don't think even the Devs wanna touch this thing anymore, so maybe, reviewer's, you should call it a night, I think you might be wasting your time at this point? =||= Closing this will resolve Issue #846  =||= Well...

#846 is subtle =||= > I am seeing some great summaries and it really feels like the debate is wrapping up?

Yes. To sum up those summaries: Just don't do it!

> Yet I am still seeing code review about coding style in the god damn chat. Why are we still doing this, can we wrap this up and get this god damned PR closed, please.

Sorry about nitpicking those details. Didn't know when I started my review that it was so bad I barely could count review comments in one hand even without nagging about the style.

But yes: Please close this PR.

> Based on the lack of engagement from the OP I don't think even the Devs wanna touch this thing anymore, so maybe, reviewer's, you should call it a night, I think you might be wasting your time at this point?

It's one point simply chiming in to the discussion stating your opinion, but some slightly different when you had a closer look at the subject matter beforehand. Gives that comment a completely different weight. And yes: Could have called it a day, just reviewing the UI changes. =||= https://opentelemetry.io/
this is better =||= @BenBE

> It's one point simply chiming in to the discussion stating your opinion, but some slightly different when you had a closer look at the subject matter beforehand. Gives that comment a completely different weight. And yes: Could have called it a day, just reviewing the UI changes.

I personally appreciate the thorough code review.  Just the excessive whitespace and EOL comments tell me that the coding standards for this project are not being adhered to by the new developers.

And, pointing out the actual issues in the code where the telemetry and network-manager implementation are concerned undermine numerous claims made by the original submitter of this PR. =||= The fact that this is still ongoing blows my mind. =||= > Just the excessive whitespace and EOL comments tell me that the coding standards for this project are not being adhered to by the new developers.

I opened a new issue to discuss automated code formatting: #847. =||= I'm appalled to see that despite significant user feedback, this PR still hasn't been rejected.

As written, there are legal, security and privacy problems with this PR. The vendoring of so many dependences is also a pretty terrible code-smell.

Additionally, telemetry that will be disabled by the overwhelming majority of distros means that any data gathered will be inconclusive at best, if not outright misleading. There is no good argument for proceeding. =||= Who is Spyrou Kyprianou, the person who apparently purchased the Audacity trademark from Dominic Mazzoni in 29 december 2020? =||= This change is like **literally** 40 times more controversial than the second most controversial change **ever** and its still not rejected. unbelievable.
<img src=""https://i.imgur.com/TCoUN8C.png""> =||= > This change is like **literally** 40 times more controversial than the second most controversial change **ever** and its still not rejected. unbelievable.

Has anyone made a joke about the audacity of the situation?  =||= > Has anyone made a joke about the audacity of the situation?

Only like 5 times already. =||= > > Has anyone made a joke about the audacity of the situation?
> 
> Only like 5 times already.

I think that's a conservative estimate of the audacious level of audacity puns... =||= https://assignments.uspto.gov/assignments/q?db=tm&sno=78352743
Why was there a 4 month gap between the trademark apparently being purchased and the announcement of this ""acquisition""? =||= Hello everyone and I am bagging for a piece of your attention.

Yesterday (UTC+3) NGO ""Ukrainian Liberation"" made a [Public Appeal](https://ukrliberation.org.ua/docs/0-21.pdf) trying to get some information from the “Muse Group” company and bring attention of Community to the topic, and after we posted it we found out (BTW, **with the help of attentive readers** – NGO ""Ukrainian Liberation"" says ""Thank you!"" once again for that), that **we tagged the wrong company**, the [wrong](https://www.musegrp.com/en/) ""Muse Group"". The right one is [here](https://mu.se/). 

We were shocked and ashamed of our mistake, and we added the correct link to the website along with an apology within the first 30 minutes. Unfortunately, by that time the post was already blocked and we are not sure how many of you were able to see it. Now the account is also flagged (we are not sure why), but we are waiting for a Feedback from the Support Team. 

Now to the interesting part. 

This mistake got us thinking: how could 7 people who were checking the article did not notice such a mistake? 

Well, it turns out that all 7 people were using [DuckDuckGo](https://duckduckgo.com/), which, if you search for “Muse Group”, shows the other company. Now, despite our principles of not using Google at all, we tried using [Google](https://www.google.com/) for the same search, and viola! It was on the first search page, right after [""Muse"" rock band](https://en.wikipedia.org/wiki/Muse_(band)).

While looking at results from DuckDuckGo (BTW, we tried a lot of different requests like [this](https://duckduckgo.com/?q=muse+group&t=hc&va=u&ia=web), [this](https://duckduckgo.com/?q=%22muse+group%22%2B%22audacity%22&t=hc&va=u&ia=web), [this](https://duckduckgo.com/?t=ffab&q=%22muse+group%22%2B%22audacity%22%2B%22official+website%22&ia=web), [this](https://duckduckgo.com/?q=%22muse+group%22%2B%22audacity%22%2B%22website%22&t=ffab&ia=web), etc.) we found [a Wikipedian article](https://wikipedian.net/en/Muse_Group-0246428048) in which it is said that the ""Muse Group"" was founded a few days before they bought ""Audacity"". 

We decided to use ""[Wayback Machine](http://web.archive.org/)"" to look what was up with their website before. We found out that the website ""mu.se"" used to [belong to some Swedish company or a group of people not connected to ""Audacity"" or any other free software at all](https://web.archive.org/web/20190116125440/http://www.mu.se/). 

And now you can easily see that the first news of just-created ""Muse Group"" was [posted in 10-01-2021](https://mu.se/newsroom/tpost/su6elie391-musescore-36-introduces-new-fonts-and-en), but the point is that the website ""mu.se"" itself [required authorization to check it's content even in March, 2021](https://web.archive.org/web/20210316092542/http://mu.se/). The ""Newsroom"" place of the website ""mu.se"" has [only one snapshot on ""Wayback Machine"" even today (dated by March, the 7th)](https://web.archive.org/web/20210507125351/https://mu.se/newsroom).

We were not the only one who noticed this situation, so here is [a pretty neat article](https://www.gearnews.com/free-recording-software-audacity-acquired-by-firm-behind-musescore-and-ultimate-guitar/) about it.

We are not going to make any conclusions. That’s up to the Community.

By the way, NGO ""Ukrainian Liberation"" would like to apologize for a terrible mistake they made. Here's what Bohdan Kovalchuk, the №0 of NGO ""Ukrainian Liberation"", says:

> We checked our appeal and our conclusions about seven or eight times, but did not take into account that Google shows completely different results than DuckDuckGo. This is one hundred percent our mistake, and I want to apologize once again to the Community, to the ""Music Groups"", which we mentioned in the publication. Unfortunately or fortunately, the principles on which the Ukrainian Liberation NGO is based do not allow us to conduct research using (in our opinion) unethical search platforms. Now our account is flagged, or banned, or something like that, and we don't understand why. Excuse us, please. We tried to influence the situation until it was too late. We have already suffered the enormous moral consequences of our mistake and are morally ready for the next ones. I hope that our unfortunate mistake will be a lesson not only for us (it has already become a great lesson for us...), but also for those members of the Community who will continue to try doing a little research and understand what is happening. We are sorry. Please, forgive us, but we can't promise that it won't happen again: we are only humans, there are only seven of us in the organization. Thanks.

By the way, [there is an updated version of NGO's Public Appeal](https://ukrliberation.org.ua/docs/0-21.pdf). If you're still seeing the previous one, just refresh the page. 

And the last interesting for today: a user @orenwatson had just uploaded a comment just above this one. You may want to check it also. ;-)

However, the question remains open: **how and from whom could an open, free Audacity project be purchased?** It is really very interesting for us.

---

UPD (12:00 AM, UTC+3): Here are [public apologies to the ""wrong"" ""Muse Group""](https://ukrliberation.org.ua/docs/3-21.pdf) written by Bohdan Kovalchuk, NGO ""Ukrainian Liberation"".

---

_Thank you very much for your attention and sorry for bothering the Community._ =||= My speculation is that an open source project can be taken over by paying off or sneaking into contributor positions. Intel and NSA have tried multiple times to push out old leadership and sneak in vulnerabilities into Linux. =||=  I have been given confirmation from Dominic Mazzoni (by Email) that he did indeed sell the trademark. The 4 month gap has not been explained however. =||= > I have been given confirmation from Dominic Mazzoni that he did indeed sell the trademark. The 4 month gap has not been explained however.

That is strange. =||= In that case, it is likely that any fork of the project, that uses the name ""audacity"" would be subject to trademark lawyers sending cease and desist letters and other such amoral behaviour. =||= There can be legitimate uses of networking in an audio application, for example Mixxx can lookup music metadata on MusicBrainz at the user's explicit request with each network connection. But seeing the reckless way this pull request vendors libcurl and now seeing that there has been literally no response from any maintainer on a pull request fixing a security vulnerability (#700) for *6 months* until a [bizarre comment](https://github.com/audacity/audacity/issues/699#issuecomment-835332181) today, I am awfully concerned about any networking functionality added to Audacity. If you add *any* networking functionality, gate it all behind a CMake option so networking libraries are not even built or linked. =||= Can't sue who you can't find.

Misappropriation of open-source projects is a breach of social contract in which case there is no moral obligation to adhere to laws when obtaining a resolution. =||= I'm against. I will create my own fork =||= > no response from any maintainer on a pull request fixing a security vulnerability (#700) for 6 months

Unfortunately, looking at the open pull requests and issues, this seems to be the norm here. I was shocked to learn that such a widely used application is maintained by so few people. I thought the Mixxx team was tiny but it has more people and is a much more niche application. I understand the Audacity team has limited capacity, but how could the team grow if you ignore people who are trying to help? The least you could do when someone opens a pull request is leave a quick comment like ""Hi, thanks for contributing! We're really busy working on X, Y, and Z right now so it may be a bit before we're able to review this. Feel free to ping us in a couple weeks if we don't respond.""

This makes it even more concerning that you have hired a new developer with little to no background in FOSS. It's not like they're hiding. A quick web search can find [results](https://lists.linuxaudio.org/listinfo/linux-audio-dev/) easily. =||= This reminds me of a song I heard called [TELEMETRY SHOULD NOT BE ADDED TO THIS GREAT PROJECT](https://github.com/audacity/audacity/issues/846) =||= It would be ironic if an angry fork attracted more developers than the original project purely out of spite

 =||= > It would be ironic if an angry fork attracted more developers than the original project purely out of spite

It would not be purely out of spite. It would also be because the original developers have been negligent at fostering the growth of the developer community. =||= What is this masonic horseshit? you'll just be forked.
Congrats, you accomplished absolutely nothing, except pissing people off! =||= Maybe we should write a new audio editor in Rust instead of forking Audacity. That way we would not have to deal with forked dependencies and a hacky build system.

.
.
.

I'm only half joking. =||= Now, that would be well described by ""the audacity"".  =||= It is important for the people pushing for this feature to realize that the backlash they are getting is not just due to the implementation details or ""tinfoil hats"" being against telemetry out of principle. The context matters.

Audacity was very recently ""acquired"" by Muse Group, a company that was just recently founded itself. However, neither the [Audacity website](https://www.audacityteam.org/audacity-musescore-announcement/), nor the [Muse Group website](https://mu.se/), nor [Tantacrul's video](https://youtu.be/RMWNvwLiXIQ) properly explain how that was done or what that even means. There is hardly any information on who is behind Muse Group. The [Wikipedia page on Muse Group](https://en.wikipedia.org/wiki/Muse_Group) currently seems quite fishy and also does not give any details. When a free, open source project that has existed for about 20 years is suddenly, and without any explanation, taken over by a company, that is reason for concern in itself.

A community developed free and open source project does not have any financial interests, so the intention is simply in creating the _best_ software possible. A company naturally has to put financial interests first, so the focus _will_ shift to create the most _profitable_ software, not necessarily the _best_ software. With this, there comes the danger of paid-for features, monetizing of user data, dropping of cross-platform compatibility and many other worrying issues for the existing user base. Hence, Muse Group should be very aware of the fact that people will watch closely as to what changes they are pushing for.

With this context in mind, it should be clear that a pull request with 5500+ lines of new code and dependencies, which came out of the blue, without any prior consultation with the community, from a developer who is obviously associated with Muse Group, but has previously not contributed to the project, is reason for concern. However, if the pull request was a long sought-after feature, that would probably be okay. That is not the case, however. Instead, this pull request implements a feature that not only _no one_ has ever asked for, but it is also one that has serious negative legal and moral implications. Not only because it is about tracking user's data, but also because it attempts to do so in an atrocious way. 

Add on top that the positive benefits of this are, at best, questionable, while the potential issues are huge. To name just a few, more code means more potential bugs and security vulnerabilities, more need for QA, bug fixing and maintenance, bigger download size, harder packaging for Linux distributions and many more.

Therefore, this is not just about whether or not someone agrees to the collection of usage data. This is about a questionable over-take of an open-source project, about horrible decisions and timing, horrible implementation and horrible communication all bundled up into one huge disaster. Even if this pull request will not be merged due to the pressure of the community, the trust in Muse Group and the future of the Audacity project has already sustained damage that most likely can not be repaired.

If you want to fix this, don't just replace Google with Matomo. If you want to fix this, don't just remove this pull request. If you want to fix this, you need to answer _a lot_ of questions and expose the motivations and details behind the overtake, this feature and many more. You owe it to a project that has been successful for twenty years. You owe it to a loyal and hard-working community. You owe it to us. You owe it to yourself. =||= > It is important for the people pushing for this feature to realize that the backlash they are getting is not just due to the implementation details or ""tinfoil hats"" being against telemetry out of principle. The context matters.
> 
> Audacity was very recently ""acquired"" by Muse Group, a company that was just recently founded itself. However, neither the [Audacity website](https://www.audacityteam.org/audacity-musescore-announcement/), nor the [Muse Group website](https://mu.se/), nor [Tantacrul's video](https://youtu.be/RMWNvwLiXIQ) properly explain how that was done or what that even means. There is hardly any information on who is behind Muse Group. The [Wikipedia page on Muse Group](https://en.wikipedia.org/wiki/Muse_Group) currently seems quite fishy and also does not give any details. When a free, open source project that has existed for about 20 years is suddenly, and without any explanation, taken over by a company, that is reason for concern in itself.
> 
> A community developed free and open source project does not have any financial interests, so the intention is simply in creating the _best_ software possible. A company naturally has to put financial interests first, so the focus _will_ shift to create the most _profitable_ software, not necessarily the _best_ software. With this, there comes the danger of paid-for features, dropping of cross-platform compatibility and many other worrying issues for the existing user base. Hence, Muse Group should be very aware of the fact that people will watch closely as to what changes they are pushing for.
> 
> With this context in mind, it should be clear that a pull request with 5500+ lines of new code and dependencies, which came out of the blue, without any prior consultation with the community, from a developer that is obviously associated with Muse Group, but has previously not contributed to the project, is reason for concern. However, if the pull request was a long sought-after feature, that would probably be okay. That is not the case, however. Instead, this pull request implements a feature that not only _no one_ has ever asked for, but it is also one that has serious negative legal and moral implications. Not only because it is about tracking user's data, but also because it attempts to do so in an atrocious way.
> 
> Add on top that the positive benefits of this are, at best, questionable, while the potential issues are huge. To name just a few, more code means more potential bugs and security vulnerabilities, more need for QA, bug fixing and maintenance, bigger download size, harder packaging for Linux distributions and many more.
> 
> Therefore, this is not just about whether or not someone agrees to the collection of usage data. This is about a questionable over-take of an open-source project, about horrible decisions, horrible implementation and horrible communication all bundled up into one huge disaster. Even if this pull request will not be merged due to the pressure of the community, the trust in Muse Group and the future of the Audacity project has already sustained damage that most likely can not be repaired.
> 
> If you want to fix this, don't just replace Google with Matomo. If you want to fix this, don't just remove this pull request. If you want to fix this, you need to answer _a lot_ of questions and expose the motivations and details behind the overtake, this feature and many more. You owe it to a project that has been successful for twenty years. You owe it to a loyal and hard-working community. You owe it to us. You owe it to yourself.

Bravo. =||= This pull request still hasn't been denied? I don't see any reason for the hold-up.

Regardless of the outcome of this discussion if the governance of this project is inactive then a fork is necessary. =||= > Add on top that the positive benefits of this are, at best, questionable, while the potential issues are huge. To name just a few, more code means more potential bugs and security vulnerabilities, more need for QA, bug fixing and maintenance, bigger download size, harder packaging for Linux distributions and many more.

Add on top a history of forking dependencies and not even trying to upstream patches, responding rather flippantly to Linux packagers' concerns (#625), and [causing problems](https://bugzilla.redhat.com/show_bug.cgi?id=1939749#c6) which end up falling on the developers of other applications sharing dependencies to resolve. =||= > But seeing the reckless way this pull request vendors libcurl and now seeing that there has been literally no response from any maintainer on a pull request fixing a security vulnerability (#700) for _6 months_ 

Actually that's a huge message on its own. Noone cares to have a look at fixing a security vulnerability but there is time to create pull request for telemetry. Honestly I don't think that this is only to improve anything for users but to prepare some ""pay with your data"" shit like with many other services out there. And even if the introduction is honest the priority list is really really bad. Why is ""implement telemetry"" higher in the list than ""fix security vulnerabilities"". I can tell you something about user preferences even without any telemetry in place: Your users want to have security vulnerabilities fixed with top priority! =||= Would be great if the trollish comments would stop..
This is a serious matter.
The more of them there are, the less inclined everyone else is from participating in an actual, honest, serious discussion.

The whole thing might just be ignored because most people commenting do so in a very unfriendly manner.
Some anger is understandable, but if we are not civil and decent it is unreasonable to ask the other party to be that for us.
 =||= > Would be great if the trollish comments would stop..

Stupid pull requests beget stupid comments. =||= I would suggest to rename the PR as _Make possible for users to help the project by contributing anonymous usage if they want to_, this way the answers of people responding _I'm against_ with epidermal reaction like if they were on twitter would look funny at best.

I can understand how the original title can be triggering when not reading the explanations that came after the title, but well, as a people I believe we can read more than 140 characters… =||= > I would suggest to rename the PR as _Make possible for users to help the project by contributing anonymous usage if they want to_, this way the answers of people responding _I'm against_ with epidermal reaction like if they were on twitter would look funny at best.

Please read the discussion, it has already been established that the information being sent is not anonymous. =||= Here is yet another point against adding any networking capabilities to Audacity whatsoever. Audacity uses a vendored copy of FFmpeg. As documented in issue #398, Audacity was using FFmpeg version 2.2.2 until pull request #741 was merged only 4 days ago. FFmpeg 2.2.2 was [released 2014-05-04](https://git.videolan.org/?p=ffmpeg.git;a=shortlog;h=n2.2.2).

Remember that [recent blog post](https://signal.org/blog/cellebrite-vulnerabilities/) by the lead developer of Signal demonstrating a proof-of-concept exploit in widely used software? It strongly implied that was accomplished by exploiting a vulnerability in an old version of FFmpeg from 2012, likely with a specially formatted media file. That was exploited to achieve execution of arbitrary code by the attacker.

Considering Audacity is an extremely widely used application, there would be a lot of incentive for a malicious actor to use it to launch an attack on Audacity users' computers. The Audacity maintainers (not merely the new people from Muse Group) have already demonstrated they are not trustworthy for maintaining the security of Audacity. Adding a novel attack surface, especially in a very reckless way by vendoring libcurl, is a horrible idea.  =||= > Why is ""implement telemetry"" higher in the list than ""fix security vulnerabilities"".

No new dependencies should be added to Audacity before cleaning up this mess with vendored dependencies. This should be the very top priority above any new features or UX improvements because it is crucial for security. =||= Security does not pay bills and does not make for flashy news. So it ends up ignored most of the time, until a leak of some sorts happen.
This is a systemic problem. =||= Speaking of Signal, do you think it uses telemetry? Is it unusable crap?

(Please don't take this off topic debating the merits of Signal versus other messaging systems. That's not the point here.) =||= wtf has that to do with anything, or relevant at all?
you are part of the problem here, please shut up =||= I apologize for bringing that last point up. It's not very relevant. Please don't respond to it and drag this off topic. =||= When will a decision be made about this PR? I'm very curious how the maintainers weight the over 3000 thumbs down this PR has received. =||= > When will a decision be made about this PR? I'm very curious how the maintainers weight the over 3000 thumbs down this PR has received.

If you have the monitor upside down you could see it as over 3000 thumbs up for something you can't understand. =||= > When will a decision be made about this PR? I'm very curious how the maintainers weight the over 3000 thumbs down this PR has received.

Wow, the users are ASKING you NOT to do this and NONE of the Audacity Team seems to care about its users, so now you're going to go through with it? =||= To Muse Group:

People are ready to maintain fork of Audacity if this PR‌ gets accepted. Most of your users do _not_ want telemetry either! Therefore, if this PR gets accepted, _your investment in Audacity would be near useless_. That's all. =||= A lovely thing about OSS: there are things called _forks_ which branch off the original project! Many people do this when the original project goes awry (such as LibreOffice and MATE, forks of OpenOffice.org and GNOME 2). This project is close to going haywire and _**MANY**_ people stated that they **will** fork and maintain Audacity if this PR gets accepted. So, if you want to maintain a large user base, Muse Group, close this PR and you won't become OpenOffice.org soon. =||= They are now probably thinking about ways to get around this telemetry thing and implement something else that satisfies their business model needs.
They clearly showed us their mentality regarding not caring about people and ultimately, about the community.
Mentalities like that are hard to change, they are generally toxic.
It's obvious that we as users who care about privacy need alternatives to edit our whale, monkey, voice and other personal recordings.
So also if they won't commit this patch, I've had enough about their disrespectful and not engaging behavior towards humans.

**Get this shit that has nothing to do with an audio program out of here**. =||= > ways to get around this telemetry thing

I'd guess it's more like ""trying to assess the impact of a fork, and how likely it would be that it happens"", and ""what Plan B would be like if it happens"".
I don' trust that they'll do anything good (kind of pessimistic, but anyway...) and I'm ready to start using a fork.

I only remember one case in which a company reverted a decision to include telemetry in free software -- Gitlab. =||= Audacity is music software, which does not need or require a network stack.
Audacity is NOT a web browser, which does need and require a network stack. =||= > They clearly showed us their mentality regarding not caring about people and ultimately, about the community.

I keep seeing this argument but the simple truth is:

* This pull request is a draft, not some guaranteed merge action.
* The developers taking their time to think about the best course of action from here on out. Not immediately responding to the dogpiling that's going on in this PR, shouldn't be misconstrued as ""they don't care"", especially considering how helpful the community at large has been (speaking as a lurker).

AFAIK, some of the people involved in this PR actually read every single post here, and are evaluating how to tackle the telemetry issue in a way that would work out for both the devs and the users. =||= I just got banned off of the Audacity discord. Not for being rude, pushy, or invasive - but for pointing out that their ""good luck finding people to maintain a fork"" comments were a little strange and disconcerting.

I really, _really_ wanted to assume negligence instead of malintent, and tried to have an open conversation with the maintainers. I was met with rudeness, snyde comments, pompous behavior (""good luck, you can't just take over a 20 year project so easily"", ""good luck finding translators"", etc.).

# The devs have no interest in listening to anyone. Let's fork it already. =||= @DaVince 

> This pull request is a draft, not some guaranteed merge action.

It was not a draft when it was posted. It was converted to one after the initial backlash.

This was also requested directly by Tantacrul, the new owner of Audacity, and coded/submitted by a Muse Group employee.

They have every intent to merge this. =||= > their ""good luck finding people to maintain a fork"" comments

@Qix- Did they really say that? There's not even a need to maintain any fork - all it takes to disable telemetry is to build Audacity from source and distribute the clean binaries. =||= @SpheeresX Yes. It's not paraphrasing, either. =||= > @DaVince
> 
> > This pull request is a draft, not some guaranteed merge action.
> 
> It was not a draft when it was posted. It was converted to one after the initial backlash.
> 
> This was also requested directly by Tantacrul, the new owner of Audacity, and coded/submitted by a Muse Group employee.
> 
> They have every intent to merge this.

If they had every intent, it would not have been reverted to a draft. Don't think they're not taking this seriously. =||= > > their ""good luck finding people to maintain a fork"" comments
> 
> @Qix- Did they really say that? There's not even a need to maintain any fork - all it takes to disable telemetry is to build Audacity from source and distribute the clean binaries.

This is true, however more antifeatures will _likely_ be added (and in that case, fork time!). =||= @DaVince They are not taking it seriously. Tantacrul said in the discord that he's waiting for this to blow over. =||= > @DaVince They are not taking it seriously. Tantacrul said in the discord that he's waiting for this to blow over.

How is that any indication of them not taking it seriously? That's a wise course of action when you're being dogpiled on. Meanwhile, it creates some space to rethink how to tackle the feature instead.

I feel like I'm contributing too many posts to this way-too-long PR already, and I'm not sure it's going anywhere, so I'm pulling out of this conversation. But maybe keep a basic modicum of trust that the people who have been working on this project for years are out to find the right solution that works for everyone. =||=  @DaVince

> If they had every intent, it would not have been reverted to a draft. Don't think they're not taking this seriously.

I'm reading the reversion to a draft state as more of WIP cycle as coding errors / issues are worked out.  I am not seeing this as the intent to revert the code completely and close out this PR. =||= Apart from the legal/privacy/ethical issues what concerns me the most they are giving zero response to the technical concerns raised in the code reviews. That alone convinces me to support whatever popular non-Muse fork emerges. =||= > But maybe keep a basic modicum of trust that the people who have been working on this project for years are out to find the right solution that works for everyone.

That's exactly what I did, and they gave me every reason to believe this is not some innocent ordeal. =||= 
> But maybe keep a basic modicum of trust that the people who have been working on this project for years are out to find the right solution that works for everyone.

The only way to ""...find the right solution..."" would be to start from scratch.  The code that is being worked on is flawed from it's initial intent, and is broken by design.  Those are issues that cannot be coded around. =||= > But maybe keep a basic modicum of trust that the people who have been working on this project for years are out to find the right solution that works for everyone.

That trust has already been broken for many. It is up to the maintainers (old and new) to work towards restoring it. I have suggested multiple times throughout this discussion specific steps they could take to build trust. I am awfully concerned that they have not taken any of those steps in days. The most basic step would be a simple comment saying that they commit to not using Google Analytics nor Yandex. All that takes is one sentence. And that's just the first step to demonstrate this is going in the right direction. =||= > Tantacrul said in the discord that he's waiting for this to blow over.

This is a bad idea. This will not blow over until a response is provided. If it is a bad response, it will blow up even bigger. =||= Again, for those that aren't ""developers"", in software development you don't add code that is not necessary to the main functionality of the application. This PR is attempting to turn a really great and working perfectly fine right now ""audio application"" INTO a ""web browser"" (with who knows what down the road and a bunch of **new security issues as it using your network**) Currently this software does not use the network or internet. =||= > @DaVince They are not taking it seriously. Tantacrul said in the discord that he's waiting for this to blow over.

can you post a screenshot of this please?

I disagree with discord ToS, so I cannot join. =||= Tantacrul must have said that after he kicked me from his discord, as I did not see it. =||= > can you post a screenshot of this please?

Nope. I was banned. I know for a fact some others in this thread are in there and can post some screenshots, however (assuming they haven't also been banned). I won't tag them so as to not 'out' them to the hostile Audacity team.

I encourage them to copy the logs and take screenshots, though. Conversations in there would be very interesting to the people here, and I don't want to be the one shouting out hearsay. =||= > Again, for those that aren't ""developers"", in software development you don't add code that is not necessary to the main functionality of the application. This PR is attempting to turn a really great and working perfectly fine right now ""audio application"" INTO a ""web browser""

adding network features does not mean making it a browser. browsers nowadays are a full OS, with not just networking, font and image rendering, but also audio and video playback, camera and usb access, gps and others sensors, p2p communication, screensharing... errr what else, whatever the main PC can do, the browser will likely do it too (maybe not now, but in due time for sure) =||= Nevermind, I forgot I took a screenshot of an older conversation yesterday that had (some of) the relevant bits.

# EDIT: They are trying to censor this. Please don't let them.

![image](https://user-images.githubusercontent.com/885648/117585849-eb4bae80-b114-11eb-8af3-62857ef40244.png)


---

Here is what was edited into this comment.

> [Moderated: I'm 100% certain that you do not own the copyright on that conversation, and I'm astounded, given the current context, that you feel it's OK to redact your own identity in that picture while displaying personal identifiable information about others.]

Conversation cannot be copyrighted, and everyone knows who each of the un-censored people are as they are maintainers of this project and/or celebrities (in the case of Tantacrul). I protected the non-maintainers who were trying to raise concern with you and have a conversation before you banned us, because they are _not_ well known people and _not_ celebrities. I've not revealed anything other than your intent - much less private information. Those named on there do not even give your Discord IDs, in which you need the nonce number in order to contact anyway.

Don't be dumb. =||= First, if it is true that they are really waiting for this to ""blow over"", then I think it is likely that they will eventually close this PR for further comments. We should probably agree on an alternative place to keep the conversation going pretty soon, so that killing the conversation here will not kill the conversation in general.

Second, can someone link to the mentioned Discord? I could not find an Audacity Discord or a mention of such anywhere. =||= Also, At this point it would be wise for us to create our own discord or channel for communication, as this PR's comment section is of course subject to being potentially deleted by Muse Group. =||= thanks! though that is a bit unclear/dubious about intentions.

letting things cool down is always a good thing, dont make decisions or say things under pressure.

we should still press them for a proper response to all of this though. their community deserves better than this =||= Perhaps an IRC channel on say Freenode, rather than a discord?
 =||= is it possible to archive all comments in this PR? A lot of useless comments (admittedly I contributed a few) but some very good ones as well =||= > Perhaps an IRC channel on say Freenode, rather than a discord?

#audacity already exists, we can use that? =||= > thanks! though that is a bit unclear/dubious about intentions.

Yes, of course. All I can say is, it's clear (to me) based on the _rest_ of the very long conversation that took place in there (aside from that screenshot) that they aren't doing it as a ""cooldown"" period. They're actively hiding from the problem and waiting for things to quiet down enough to move forward.

This was also clear to me as the development discussion about this PR was still taking place in the development channels by both the OP as well as the rest of the maintainers, talking about changes being made to the code in order to merge it later.

> is it possible to archive all comments in this PR?

Yes, sort of. https://web.archive.org/web/*/https://github.com/audacity/audacity/pull/835 =||= I'd like to give my two cents on the matter, being an Audacity user but also a software engineer.

I don't think telemetry per se is a bad thing, for me it wildly depends on how it's done and what for. There are always cases of abuse, whether it be overreaching forcing it on people without an option to opt-out (e.g., the way Microsoft does it with Windows 10 for example) or the myriad of trackers many websites employ to track users actions so advertisers can target them better (where the worse possible outcome would be a price hike on something because they'd know that particular user would buy it because it's important for them).

But, when used for the betterment of the product itself it's something really useful and metrics of all kinds are present in all phases of software development, even during prototyping. I'm going to simplify things, but lets say you have two low fidelity prototypes for a new program, you present them to a series of (willing) participants and see how they use them, how long it takes them to accomplish tasks, what their opinions are, there's a whole lot of things that can be measured there already!

Afterwards you get to see how they did, which was more effective, more efficient, more intuitive, etc. This is as old as 1986, when John Brooke created his System Usability Scale thing. Then there'd be high level prototypes, more interviews, different kinds of metrics, etc.

All of that before an actual app is even done! Obviously not everybody does things that way, and I'm kind of going off track, but I wanted to let you all know that metrics can be useful towards creating a good program.

The thing is, how would you translate that to a finished product already? Or an ongoing one? Obviously forcing participation is not the way to go (imagine someone approaching you in the street making you use their prototype or else), and doing it surreptitiously is even worse.

So in my eyes, whatever is done (generally speaking, not talking about Audacity concretely), should be done with the consent of the users and ideally be an opt-in situation. From what I read over at @crsib's original post it would be opt-in and disabled by default, so if that's the case so far so good for me.

Now, what to track actually? Because that's a slippery slope, broadly speaking you'd want to keep it to a minimum, but tracking things that would be important for the betterment of the app itself.

To my mind comes Microsoft again, any of you remember the changes Office had throughout its versions? The amount of toolbars it used to have and how things changed with Office 2007? (That's when the ribbon was introduced, which has come a long way since then too, but that's another matter).

They had an enormous amount of data from real users, already prior to introducing the ribbon, but I mention it because I remember seeing a presentation on what led to the creation of the ribbon (MIX08 it was, I think there are videos in YouTube for those willing to see it and I'd highly recommend them even if they're dated) and all that data was really useful! They allowed them to know which functions where used more, which weren't used at all, which where so hidden people didn't even know about (think about it, what do we use in an office suite and what is it capable of doing haha).

All that came from telemetry, same with how many steps it took to do something and waaaaay more things (I'd say they captured way too much, but that's not the general point I'm trying to make).

Being able to see that your users use a function a lot, but it's hidden under several clics may make you think ""okay, let's see if we can make it more accessible, more intuitive"". Or maybe, ""wow, they're really using that function and we're even working on it that much, let's do some sprints on it and see how we could improve it"".

Or even, ""oh... many users are making that mistake before accomplishing what they wanted to do, should we do something about it?"" (because you could see correlation of actions too, where you click at one moment and where you click next). It's another tangent, but in my experience the first thing that comes to my mind is the ""exporting"" to PNG for example in GIMP, I'd go to ""Save"" or ""Save as"" instead many times.

After all that I've said, my position on telemetry would be good, I like things I use the most to be priorized over others maybe. Besides, Audacity being open source, we (or those with knowledge and inclination) can know what's being measured so we don't have to trust it's going to be something when it's not. Yes, it's a big pull request, and it's just that, a request open for comments one way or another and I'm sure the whole thing would be refined before shipping it in a subsequent release (if it's integrated that is).

Plus, if it's off by default there's nothing to worry about in my mind for those who don't want to take part into shaping the next versions. And if it ended up overreaching or whatever there would also be the possibility of building some binaries without the telemetry code (e.g., if using Google's and/or Yandex's systems is unacceptable).

The bottom line is, just don't think of metrics as a bad thing, at least acknowledge they can be used for good too. Yes, many times they're used for not so amicable things like those examples I wrote at the beginning, but not always. And while doing surveys like I mentioned is also another possibility, it isn't as representative of the real usage and certainly not as informative for developers.

As long as Audacity remains open source and the focus is to improve its usability, user experience, interface, etc. I'm good for it.

PS. Sorry for the long text, I started writing and it ended up being massive. =||= I found this, which may help: https://stackoverflow.com/questions/16198351/get-list-of-comments-from-github-pull-request

On 5/9/2021 13:52, jxu wrote:

> is it possible to archive all comments in this PR? A lot of useless comments (admittedly I contributed a few) but some very good ones as well
>
> —
> You are receiving this because you commented.
> Reply to this email directly, [view it on GitHub](https://github.com/audacity/audacity/pull/835#issuecomment-835874142), or [unsubscribe](https://github.com/notifications/unsubscribe-auth/ABZZJCCLI2KFFJ33Q5V2FRLTM3RZTANCNFSM44C5SLTA). =||= I took the liberty of archiving the first ten pages (~~up until and including the comment above me~~ updated with some newer comments) on web archive. They're in JSON format but at least they won't be deleted.

1. https://web.archive.org/web/20210509200616/https://api.github.com/repos/audacity/audacity/issues/835/comments?per_page=100
2. https://web.archive.org/web/20210509200704/https://api.github.com/repos/audacity/audacity/issues/835/comments?per_page=100&page=2
3. https://web.archive.org/web/20210509200823/https://api.github.com/repos/audacity/audacity/issues/835/comments?per_page=100&page=3
4. https://web.archive.org/web/20210509200831/https://api.github.com/repos/audacity/audacity/issues/835/comments?per_page=100&page=4
5. https://web.archive.org/web/20210509200837/https://api.github.com/repos/audacity/audacity/issues/835/comments?per_page=100&page=5
6. https://web.archive.org/web/20210509200852/https://api.github.com/repos/audacity/audacity/issues/835/comments?per_page=100&page=6
7. https://web.archive.org/web/20210509200853/https://api.github.com/repos/audacity/audacity/issues/835/comments?per_page=100&page=7
8. https://web.archive.org/web/20210509200849/https://api.github.com/repos/audacity/audacity/issues/835/comments?per_page=100&page=8
9. https://web.archive.org/web/20210509200941/https://api.github.com/repos/audacity/audacity/issues/835/comments?per_page=100&page=9
10. https://web.archive.org/web/20210509204502/https://api.github.com/repos/audacity/audacity/issues/835/comments?per_page=100&page=10 =||= Welp that was quick. They [deleted](https://github.com/audacity/audacity/pull/835#issuecomment-835873323) the screenshot. Oh no! Anyway.

Lol @ the comment about ""copyright"", and yes, I'm going to show the names (not handles) of the maintainers of the project. Might I suggest reading this article: https://en.wikipedia.org/wiki/Streisand_effect

- Here it is mirrored on Imgur. https://i.imgur.com/y5zVq02.jpg
- Here it is archived. https://web.archive.org/web/20210509201749/https://i.imgur.com/y5zVq02.jpg

I suppose I'll be blocked from posting here soon. I'll update the thread in @SndChaser's repository if I am.

EDIT: Just a few minutes after the screenshot was posted and they censor my comment the PR is closed. Okay. =||= @Qix- and I was going to do the low-tech method of expanding all the comments and saving a raw HTML file :P Your method is a lot more programmatic =||= Over 3000 thumbs down? We're closing this PR. We've taken on board 'no Google' and 'no Yandex' and Muse are now looking for a good alternative (thanks to those who recommended other open source solutions by the way). Please understand that this will take a little time to organize and a concrete plan will be published soon - at any rate this week. =||= I will be setting up a fork soon too then, thank you for closing.
 =||= > Over 3000 thumbs down? We're closing this PR. We've taken on board 'no Google' and 'no Yandex' and Muse are now looking for a good alternative (thanks to those who recommended other open source solutions by the way).

Thank you  =||= @falkTX You're the most qualified to fork IMO, and a number of us have mentioned you in discord already hoping you'd fork too. Can you do so really quick even if it's not a modified version so that we can star/watch?

EDIT: nevermind, forked here: https://github.com/KXStudio/audacity =||= > Over 3000 thumbs down? We're closing this PR. We've taken on board 'no Google' and 'no Yandex' and Muse are now looking for a good alternative (thanks to those who recommended other open source solutions by the way). Please understand that this will take a little time to organize and a concrete plan will be published soon - at any rate this week.

Thank you for making an effort to listen to the community somewhat! =||= > 
> 
> > They clearly showed us their mentality regarding not caring about people and ultimately, about the community.
> 
> I keep seeing this argument but the simple truth is:
> 
>     * This pull request is a draft, not some guaranteed merge action.
> 
>     * The developers taking their time to think about the best course of action from here on out. Not immediately responding to the dogpiling that's going on in this PR, shouldn't be misconstrued as ""they don't care"", especially considering how helpful the community at large has been (speaking as a lurker).
> 
> 
> AFAIK, some of the people involved in this PR actually read every single post here, and are evaluating how to tackle the telemetry issue in a way that would work out for both the devs and the users.

""The devs"" managed to work on Audacity for 20 years without needing telemetry, or networking features at all. If a brand new developer is going to introduce new features, libraries, and bloat, there better be a damn good reason for it. =||= > > > They clearly showed us their mentality regarding not caring about people and ultimately, about the community.
> > 
> > 
> > I keep seeing this argument but the simple truth is:
> > ```
> > * This pull request is a draft, not some guaranteed merge action.
> > 
> > * The developers taking their time to think about the best course of action from here on out. Not immediately responding to the dogpiling that's going on in this PR, shouldn't be misconstrued as ""they don't care"", especially considering how helpful the community at large has been (speaking as a lurker).
> > ```
> > 
> > 
> > AFAIK, some of the people involved in this PR actually read every single post here, and are evaluating how to tackle the telemetry issue in a way that would work out for both the devs and the users.
> 
> ""The devs"" managed to work on Audacity for 20 years without needing telemetry, or networking features at all. If a brand new developer is going to introduce new features, libraries, and bloat, there better be a damn good reason for it.

Yes! I 1000% agree with what you are saying =||= @crsib 

> Over 3000 thumbs down? We're closing this PR. We've taken on board 'no Google' and 'no Yandex' and Muse are now looking for a good alternative (thanks to those who recommended other open source solutions by the way). Please understand that this will take a little time to organize and a concrete plan will be published soon - at any rate this week.

I hope you look at some of the comments here a lot more carefully, I have seen some rather extensive work (some of which I did myself) that indicates there were a lot more issues with the underlying concepts that you were trying to achieve with this code.  There really needs to be a concerted effort to understand the implications that adding a set of features such as telemetry involve, not just the technological aspect. =||= > @falkTX You're the most qualified to fork IMO, and a number of us have mentioned you in discord already hoping you'd fork too. Can you do so really quick even if it's not a modified version so that we can star/watch?

Still need to check and investigate the CI build.
In any case keep an eye on https://kx.studio/News/ and I will be announcing it there when there is something to see.
I had forked for my personal GH account, but it is better to use https://github.com/KXStudio/audacity.

The main question now is if it is possible to keep the audacity name as-is (because the build will be identical, as-is, just with no tracking).
As much as Muse Group want to be good people, I think that might be crossing a line on my side.

@crsib is it okay to keep audacity name for builds which are identical in every way except tracking completely disabled? =||= @falkTX You'll probably need to change the name. Audacity is [GPL license](https://github.com/audacity/audacity/blob/master/LICENSE.txt), and as someone else in the Discord (not mentioning who) pointed out, ""Audacity"" is trademarked. That trademark changed ownership sometime last year and they took 4 months to announce it. The deal of the trademark transfer was not really outlined per my knowledge.

Perhaps you don't 'need' to, but you certainly want to - especially since Muse Group doesn't seem to be cooperative with the OSS community. =||= > @crsib is it okay to keep audacity name for builds which are identical in every way except tracking completely disabled?

Better yet, do you commit to providing official release builds for all supported operating systems built without tracking/telemetry? I am aware that you do not currently provide official Linux builds but work on this in progress (#843). Do you commit to providing official Linux builds built without tracking when you introduce official Linux builds? This is easy to do with GitHub Actions' matrix feature. If you need help with that I am happy to help.

I for one think we will probably not need a fork if this is done. =||= > > @crsib is it okay to keep audacity name for builds which are identical in every way except tracking completely disabled?
> 
> Better yet, do you commit to providing official release builds for all supported operating systems built without tracking/telemetry? I am aware that you do not currently provide official Linux builds but work on this in progress (#843). Do you commit to providing official Linux builds built without tracking when you introduce official Linux builds? This is easy to do with GitHub Actions' matrix feature. If you need help with that I am happy to help.
> 
> I for one think we will probably not need a fork if this is done.

I'm working on this in case they will add some form of telemetry (which based on what @crsib said, they will): https://audacity-notrack.github.io/ =||= What part of ""NO TELEMETRY"" don't you understand?
Telemetry means collection of users' data, this has no place in a Free/Libre world.
Despite at least 90% (EDIT: the majority) of the comments saying ""we don't want telemetry"" and then you saying ""Muse are now looking for a good alternative"" explained everything: You are not listening to the community.

And for the record, ""looking for an alternative"" is not a winning point for us, it's a losing one in which it's clear now that we completely lost power of choice over this amazing program. =||= > Despite at least 90% of the comments saying ""we don't want telemetry"" and then you saying ""Muse are now looking for a good alternative"" explained everything: You are not listening to the community.

to be fair, a few expressed consent of telemetry with self-hosted servers being ok.
there is a division on this specific issue. =||= The right amount of telemetry tracked in a manner that is fair and can be trusted could do good, this is just not it. Perhaps something as ""simple"" as a ""Send crash report"" button if Audacity crashes. =||= I want to reiterate my concern for how the decision to even start working on this was made and how this pull request has been handled. It is *not* normal for FOSS projects to have no public discussion of major changes to the code before any code is written. If you do not make significant changes to your decision making process, including how the roadmap for development is decided, you should anticipate more contentious pull requests like this. Again, I strongly recommend that every Audacity maintainer, old and new, read all three of these blog posts about the Rust community's growth through a highly contentious issue:
https://aturon.github.io/tech/2018/05/25/listening-part-1/
https://aturon.github.io/tech/2018/06/02/listening-part-2/
https://aturon.github.io/tech/2018/06/18/listening-part-3/

Furthermore I want to reiterate my earlier suggestion to enable telemetry/tracking only in special builds made for enthusiastic testers who specifically want to provide this data to assist in the development of Audacity. @unfa mentioned this idea in his [YouTube video](https://www.youtube.com/watch?v=jK7eHuGDAtM) about this as well. I think these users would accept much more invasive data gathering for these special builds than average users, which could help you get better information to improve Audacity. You could also likely get Linux users to participate in this. =||= > Over 3000 thumbs down? We're closing this PR. We've taken on board 'no Google' and 'no Yandex' and Muse are now looking for a good alternative (thanks to those who recommended other open source solutions by the way). Please understand that this will take a little time to organize and a concrete plan will be published soon - at any rate this week.

This is rather frustrating. While it is appreciated that the PR has finally been closed, your take-away is worrying. The vast majority of comments here has made it clear that tracking and the code bloat that comes with it is neither needed nor wanted. But you're basically saying outright that you will have another stab at this. What you _should_ take on board instead:

- no tracking, full stop
- no huge PR without any prior discussion
- no features that no one has ever asked for
- no unnecessary code bloat =||= @falkTX 

> to be fair, a few expressed consent of telemetry with self-hosted servers being ok.
> there is a division on this specific issue.

Yes, I think there might be a better way to move forward and make a tool that could accomplish the Audacity Team's goals without infringing on other's privacy.

My thought is what if instead of being built into the application directly, there was an extension system.  The extension system could allow the user to install things like a ""support tool"" that only provides crash reporting / debug info.  A ""feedback tool"" could provide more usage based information.  A ""cloud export tool"" could enable users to be able to send files to whatever cloud based storage they wanted. (This last item is something that Steve Daulton mentioned being requested by users before.)

The idea is that having this kind of system would keep this code off users systems unless they **specifically** decided to download and install it.

Of course, this doesn't directly address the infrastructure side of things...that is another issue that needs to be worked on. =||= > My thought is what if instead of being built into the application directly, there was an extension system.

Extensions add complexity. It is an annoying maintenance burden to keep API/ABI compatibility between the host application and externally maintained/installed extensions. I suggest using compile options with CMake instead. =||= @Be-ing 

> Extensions add complexity. It is an annoying maintenance burden to keep API/ABI compatibility between the host application and externally maintained/installed extensions. I suggest using compile options with CMake instead.

It does add complexity, however it has many advantages:

1. There's no lock-in on platforms where users generally don't build the code on their own (ie, Mac and Windows)
2. It doesn't require access to GitHub to submit new extensions
3. It puts more control over the code that's installed on their system in the user's hands.
3. A marketplace type system could take some pressure off the developers to chase after features that they don't feel should be in the Audacity core
4. It could provide Muse Group / Others with a way to provide ""value added"" add-ons
 =||= > The right amount of telemetry tracked in a manner that is fair and can be trusted could do good, this is just not it. Perhaps something as ""simple"" as a ""Send crash report"" button if Audacity crashes.

Crash reports are indeed a form of analytics and telemetry, so I hope everyone fighting against any form of analytics and telemetry are willing to debug based on hearsay... =||= > > The right amount of telemetry tracked in a manner that is fair and can be trusted could do good, this is just not it. Perhaps something as ""simple"" as a ""Send crash report"" button if Audacity crashes.
> 
> Crash reports are indeed a form of analytics and telemetry, so I hope everyone fighting against any form of analytics and telemetry are willing to debug based on hearsay...

You can use coredumps for when an application crashes and save them locally.
It is then up to the user to upload those, or not.

Users can have a choice if we give it to them.
 =||= Mentioned this on a twitter post from a linux mag asking tantacrul to give an interview.
Got blocked.
![image](https://user-images.githubusercontent.com/1571683/117588317-dd9d2580-b122-11eb-9df7-a7441f380b07.png)
 =||= @falkTX 
> You can use coredumps for when an application crashes and save them locally.
> It is then up to the user to upload those, or not.
> 
> Users can have a choice if we give it to them.

That's why I like the idea of an extension system...it gives the user the choice... Kind of the ultimate ""opt-in"" - it doesn't exist until the user adds it...  If they decide they don't want it, they remove it. =||= @Tantacrul why did you ban users from your official discord when they were trying to have a conversation with the maintainers?

I'm seeing a pattern here.

---

![image](https://user-images.githubusercontent.com/885648/117588494-ec380c80-b123-11eb-8a32-3285c1879b88.png)

You should probably not speak this way to an army of people who are upset with you for violating their privacy. Good thing Github edits are public, though.

EDIT: he deleted the comment, lol. [Saved that too.](https://github.com/SndChaser/AudacityTelemetryComments/issues/2#issuecomment-835905864). =||= > 
> 
> > Mentioned this on a twitter post from a linux mag asking tantacrul to give an interview.
> > Got blocked.
> 
> Ha. Yeah, you were following all my conversations and posting the same nonsense on all of them. I felt like not having to put up with that so I blocked you.

I posted two comments.
Not like I spewed conspiracy theory or spammed. =||= As a contributor to a project with such a large audience Tantacrul needs to have better developed soft skills.

Definitely this situation is a stressful one, but stress management is a helpful feat still. Crucial even.

Otherwise we can't really completely trust someone this unstable. =||= I opened a new issue to discuss how to clean up Audacity's dependency management: #853.

I think everything that needs to be said about this issue has been said already. I suggest locking the discussion now. =||= @be-ing Consider x-posting to the fork. https://github.com/KXStudio/audacity

EDIT: Issues aren't enabled yet actually - @falkTX can you fix that? =||= > As a contributor to a project with such a large audience Tantacrul needs to have better developed soft skills.
> 
> Definitely this situation is a stressful one, but stress management is a helpful feat still. Crucial even.
> 
> Otherwise we can't really completely trust someone this unstable.

Everyone needs to back down.  This PR is closed.  It's back to the drawing board to see where things go...  Muse Group now have a chance to address the concerns that have been brought up in this PR.  There is no reason to target anyone on the dev team. =||= > Definitely this situation is a stressful one, but stress management is a helpful feat still. Crucial even.

I’d even say Tantacrucial!
(Sorry)


On a serious note, I also think that telemetry should be implemented as an optional plugin or available only in a separate build for enthusiasts. Matters like supporting old OSX systems can be resolved with a poll. =||= This whole ""muse group"" situation is really sketchy in my opinion. =||= I'm glad the maintainers have closed this for now. I do hope they come to their senses and abandon this idea completely. There is no need for tracking or a network stack in an audio editor. =||= Incidentally, I'm doing what I can to make sure each of the community's requests are being heard but bear in mind that although I may be heading up the design and prioritisation of features, I'm not all-powerful and the solutions are not in my gift to give. That goes for the creator of this PR too. Best I can do is try to push for an outcome that will please as many people as possible. =||= > Best I can do is try to push for an outcome that will please as many people as possible.

The PR votes and this comment thread seem to have made what that would be pretty clear. Thanks for the follow-up.

Edit: @Tantacrul, I will encourage you to clarify what your role on the Audacity project is, though. Your YouTube announcement video title declares you to be ""in charge of Audacity"", and your Twitter bio says you are ""the head of MuseScore and Audacity"". Both suggest that if you decided there should not be telemetry or a network layer added to Audacity, it would indeed be a gift you could give.
 =||= > a concrete plan will be published soon

Where will this be published? The Audacity forum (if so, in what category)? In a new GitHub Issue? One of the email lists? =||= This is closed, but this does _**NOT**_ mean that the Muse Group will not add telemetry. Tantacrul requested telemetry in the Muse Group Discord server (Discord? FOSS? Doesn't match at all!) so I do not believe they will give up. =||= @foreverxml fwiw Discord is super common even among FOSS communities. It has a lot of issues, including its nature, being so vehemently proprietary that they've even spoken against client modifications like BetterDiscord that are based on the code of the official application, but hey, we're on GitHub, which is also almost completely proprietary.

Discord's a really useful place to get friends together and build communities and communicate, whatever its nature in licensing, and it's a perfectly valid choice for people who want half-decent, sustainably scaling chat, so I think that picking on it is a little undue.

That said, yeah, @Tantacrul definitely needs to offer a statement of clarification on this. The whole situation feels more than a little uncomfortable. =||= I would also like a full explanation given ideally to the press, perhaps the Register for example, of:
- the origins of Muse Group, a for-profit corporation in Cyprus
- who really are their primary shareholders
- how they bought the trademark ""audacity"" and
- what happened between buying the trademark at end of Dec 2020 and announcing this at April 2021. =||= > > Best I can do is try to push for an outcome that will please as many people as possible.
> 
> The PR votes and this comment thread seem to have made what that would be pretty clear. Thanks for the follow-up.
> 
> Edit: @Tantacrul, I will encourage you to clarify what your roll on the Audacity project is, though. Your YouTube announcement video title declares you to be ""in charge of Audacity"", and your Twitter bio says you are ""the head of MuseScore and Audacity"". Both suggest that if you decided there should not be telemetry or a network layer added to Audacity, it would indeed be a gift you could give.

Sure. I propose the roadmap and many of the features (with help from others on our team) and I work with the community who collaborate on these things in addition to their own goals. I've been doing the same thing for MuseScore for a while now. However, because I'm in charge of Audacity and MuseScore, this does not mean that I run Muse. I work for Muse. Regarding Telemetry: this is a requirement that Muse have for every app in their ecosystem so they can determine how the changes we make are performing. I did not (as someone said above) 'request' it.

Now that this telemetry thing has kicked off, I'm trying my best to achieve a resolution that annoys as few people as possible. Then I want to get back to the roadmap so everyone can see what things we are planning and have the opportunity to comment on them. All I'm interested in is working on the design and feature set of Audacity.

Someone else is asking why we only announced recently, having started in late November. Answer is easy: transitions take time. A team needed to be hired. Skills needed to be learned. We needed to get to know the community and we all had to do a lot of research. Also... that announcement video took about a month to write and edit too.

I know I'm not answering every question people have asked here. I feel it's best to first get to the telemetry announcement as fast as possible and take it from there. The announcement _should_ happen this week. =||= Just because Muse owns the name of Audacity does not mean the community will have to automatically follow along, especially for self imposed nonsense like ""this is a requirement that Muse have for every app in their ecosystem so they can determine how the changes we make are performing."" 

I hope distro maintainers make the right choice and patch out or use a fork getting rid of this nonsense. =||= > Regarding Telemetry: this is a requirement that Muse have for every app in their ecosystem so they can determine how the changes we make are performing. I did not (as someone said above) 'request' it.

And here we arrive at why all this got started: this was requested by Muse Group.

However, it looks like Muse Group may have to come to understand that the community that uses Audacity does not want this.

Perhaps they'll have to arrive at a compromise? Or simply back down, in this case. =||= @Tantacrul

> Regarding Telemetry: this is a requirement that Muse have for every app in their ecosystem so they can determine how the changes we make are performing. I did not (as someone said above) 'request' it.

> Now that this telemetry thing has kicked off, I'm trying my best to achieve a resolution that annoys as few people as possible. 

I tried earlier to make certain that the depth of this issue is understand from the perspective of the open source community by providing a set of cases.  I'm afraid that document got buried in the landslide of comments on here.  Please have a read through the copy here: https://github.com/SndChaser/AudacityTelemetryComments/blob/main/DataCollectionVsTelemetry.md

It's a long document, nearly 10 pages, and yet it really on scratches the surface of how divisive the topic of telemetry is in the open source community.  I understand that Muse Group's primary applications so far have been on mobile platforms, and non-open source.  The concept of how to work with the open source community at large is a very foreign concept (I am, in fact, surprised things didn't blow up this way with the MuseScore community).

My best suggestion to the Muse Group is to slow things down...  Make small changes first, go through the backlog of issues, PR's and bugs.... Tackle those first while doing research to understand how to tackle larger changes in a way that will work for the community at large.
 =||= > @Tantacrul
> 
> > Regarding Telemetry: this is a requirement that Muse have for every app in their ecosystem so they can determine how the changes we make are performing. I did not (as someone said above) 'request' it.
> 
> > Now that this telemetry thing has kicked off, I'm trying my best to achieve a resolution that annoys as few people as possible.
> 
> I tried earlier to make certain that the depth of this issue is understand from the perspective of the open source community by providing a set of cases. I'm afraid that document got buried in the landslide of comments on here. Please have a read through the copy here: https://github.com/SndChaser/AudacityTelemetryComments/blob/main/DataCollectionVsTelemetry.md
> 
> It's a long document, nearly 10 pages, and yet it really on scratches the surface of how divisive the topic of telemetry is in the open source community. I understand that Muse Group's primary applications so far have been on mobile platforms, and non-open source. The concept of how to work with the open source community at large is a very foreign concept (I am, in fact, surprised things didn't blow up this way with the MuseScore community).
> 
> My best suggestion to the Muse Group is to slow things down... Make small changes first, go through the backlog of issues, PR's and bugs.... Tackle those first while doing research to understand how to tackle larger changes in a way that will work for the community at large.

Wow. Thanks!

I apologise but I did miss this. Incidentally, there was some anger on the MuseScore forums too although we actually announced it upfront, which I feel came across as much more transparent. In this instance, a communication error led to a first-pass PR being made public which wrong-footed us all and prevented us from announcing it first to gauge reactions. It looked bad when it was discovered like it was. =||= > Regarding Telemetry: this is a requirement that Muse have for every app in their ecosystem so they can determine how the changes we make are performing. I did not (as someone said above) 'request' it.

Hoo-boy, that's not going to appease anyone at all. But thanks for the response, @Tantacrul. =||= @Tantacrul
> I apologise but I did miss this. Incidentally, there was some anger on the MuseScore forums too although we actually announced it upfront, which I feel came across as much more transparent. In this instance, a communication error led to a first-pass PR being made public which wrong-footed us all and prevented us from announcing it first to gauge reactions. It looked bad when it was discovered like it was.

No apology necessary, I figured it might have been buried, or I posted it when you were (possibly) sleeping. ;)

Yes, clear communication is always a good first step.  IMO - there will always be noise around a topic this controversial, it's something that really should be expected. That puts the onus on the proposers to really approach the topic with serious and deliberate forethought.  That's something that didn't happen in this case. =||= While I'm sad that you have succumbed to the telemetry FUD vocal-sheeple-crowd that would not get the best feature prioritised, I wonder if anyone has recommendations (on unrelated note) to allow only whitelisted apps to connect to the network?	  =||= I'll bring in a quote from [someone who might know a thing or two about managing a huge FOSS project](https://www.tag1consulting.com/blog/interview-linus-torvalds-open-source-and-beyond-part-2) (emphasis mine):
> The other big thing is that you have to be open. And I mean that in multiple ways. It's really easy to create some kind of ""clique"" of people, where you have an inner cabal that discusses things in private, and then you see really only the end result (or the fringe work) in the open, because all the important stuff happened inside a company or within a core group of people, and outsiders have a hard time breaking into that clique, and often have a hard time even seeing what is going on in that core group because it was so private and exclusive.
> It's one of the reasons I really like open mailing lists. Not some ""by invitation"" list. Not something you even have to sign up to participate in. Really open. And pretty much all the development discussions should be there.
> And finally, I think ""open"" is important in the sense of honesty. You don't want to play politics behind peoples back. *Be open about your motivations, be open about why you do things and what you do.* You don't have to like everybody you work with, and they don't have to like you, but *if people are open about what they are aiming for and what they do*, you don't necessarily have to always be best buddies - the most important thing is that you can trust each other.
> Because trust matters. A lot.

There has been a lack of transparency about what exactly the motivations for introducing telemetry are. If you are open about what exactly you are trying to accomplish, and start the discussion there rather than starting with 5500 lines of code already written, we may be able to help you figure out a way to do it in a way that is acceptable to the community. The caveat is that if your goals are directly opposed to the community's interests, we'd have to go our separate ways. So let's start with identifying what are the goals that might be accomplished using telemetry. From there, we can discuss the least invasive way to do that. That's how you can build trust. You may be surprised how much you can learn with a more focused approach to collecting data. It may be easier to find the needles when the haystack isn't so big. =||= @Tantacrul

Hopefully you are still lurking...  An issue that really should be worked on before telemetry is even approached again is de-vendoring the libraries that are being included in Audacity.  This is actually a massive issue....even bigger than I realized until a few minutes ago.

Currently there are only three of the top 100 Linux distributions shipping Audacity 3.x (Fedora, Mageia and OpenSUSE).  There are literally 97 other distributions out there that are still shipping Audacity 2.x (including: Arch, Debian, Ubuntu, Manjaro, and Mint).  Even if telemetry had been added it would have been irrelevant in the Linux world because the vast majority of the distributions can't ship the 3.x releases as they are because there are issues building it.

The reason is because Audacity is relying on specific libraries that they are bundling with the application, instead of working with the current releases of those libraries.  This mistake was going to be made again in this PR by vendoring libcurl as part of the implementation for the network-manager layer.

The likely reason this happened is because many of these libraries aren't natively part of Windows and MacOS.  So, the vendoring approach was taken in order to handle those platforms.

The way to fix this isn't going to be easy... The approach that would likely be the best would be to (a) de-vendor the libraries, (b) modify the build system to produce Flatpaks versions for MacOS and Windows.  This way the Flatpaks can include the libraries (and the most current version of them), while Linux versions can build against the native libraries. (At least this is my initial idea for fixing it -- others may have better ideas.)

 =||= @SndChaser please take the discussion about devendoring dependencies to #853. =||= > I apologise but I did miss this.

Not to stir the pot, but @SndChaser's comment was posted directly in the Audacity discord group within minutes of you interacting with the very same channel.

Going to be blunt: I don't believe you. I think you saw it and either chose not to read it, or you're trying to save face.

Of course nobody can read minds, so this is pure speculation. Either way, none of this is sitting right with me. It really feels like Muse is trying to save face here whilst still trying to keep ulterior motives under wraps.

The trust is permanently gone. =||= I will emphasize that Muse is in no position to ""require"" telemetry in a free software program, as all users are empowered to take and modify this software as we see fit, by the GNU GPLv2. Therefore, if we do not want telemetry, there will be no telemetry =||= > > I would suggest to rename the PR as _Make possible for users to help the project by contributing anonymous usage if they want to_, this way the answers of people responding _I'm against_ with epidermal reaction like if they were on twitter would look funny at best.
> 
> Please read the discussion, it has already been established that the information being sent is not anonymous.

@mcilrain I'm not sure many people reacting there are knowing how GitHub works. This is a pull request, and then, a draft. If the data was not as anonymous as the stated goal said, then what people must ask for the proposed draft to be rewritten, or submit proposed change to fix the issue. Some people submitted suggestions indeed. I'm all concerned by those google and other things I've seen, but eh, that's a PR, the concern would be if that gets merged unmodified, not if the details of the implementation are made open to discussion…

There are clearly communication mistakes and problematic things in the former proposed draft, but here we are not on twitter and things are expected to be discussed politely and _edited_… We're not there to do crowded harassment and satisfy our own ego building-up our feeling of being better at judging this or that.

We're there to _help_ people making good software, including how to properly protect user data. That's because we are expected to _help_ the place is open to discussion. If pull-request threads were not for helping, GitHub would just be another social emotion dealing platform. =||= @illwieckz please don't jump in at the end of a long contentious discussion ignoring even the most recent comments. =||= @Be-ing this is indeed addressing recent comments [like the one by asdf8dfafjk](https://github.com/audacity/audacity/pull/835#issuecomment-836093515) one hour ago: by reminding this is GitHub, it also means this is even not a place to ask for firewall recommendations… =||= @illwieckz this being GitHub has no bearing on the reality that the new maintainers of the project have no reason not to accept this PR outside of the outcry that is being raised, seeing as the whole telemetry package is being added on their command. 

If the acceptance or rejection of this PR was actually based on the soundness of its content in relation to creating good software, it would have been rejected fast enough to not receive any comments at all.

And telemetry has now been indicated, by @Tantacrul, to be a required component according to Muse. This means that unless they choose to listen due to this outcry, the telemetry will be added, which invalidates any claim you are making about GitHub's functionality being relevant to the situation. =||= > this being GitHub has no bearing on the reality that the new maintainers of the project have no reason not to accept this PR outside of the outcry that is being raised, seeing as the whole telemetry package is being added on their command.

I'm aware of this. I have read many of the comment there. But that's weird, people are acting like if they were on facebook, the best example being @Be-ing just downvoting comments because of not being happy when seeing this or that comment he probably didn't expected, despite I just [confirm what he said](https://github.com/audacity/audacity/pull/835#issuecomment-836105118) 40 minute ago and my comments were an addition on that topic so we are just agreeing…

This is not a place for the concern of being happy or unhappy. =||= @illwieckz I think you make a fundamental misunderstanding about the nature of GitHub, and that of software development as well. Not all decisions that go into creating software are technical, they are often done on the basis of personal preference, intentional constraints, morals, ethics, and even financial interest.

At the end of the day, every tool humankind uses is an attempt to gain the means to happiness. That a modification to one such tool causes this level of unhappiness, no matter what the underlying reason may be, is plenty enough to take such a minimally intrusive action as making a comment on a PR on GitHub.

You're right, this isn't Facebook or Twitter. But that does not mean that projects are not driven by human goals, and therefore human emotions. =||= I don't think a philosophical discussion about the nature of GitHub is helping anything right now. =||= > I think you make a fundamental misunderstanding about the nature of GitHub, and that of software development as well.  […] You're right, this isn't Facebook or Twitter. But that does not mean that projects are not driven by human goals, and therefore human emotions.

I know very well what you've said, [I even do conferences on those topics](https://unvanquished.net/building-a-community-as-a-service/) and [I know a bit about software development](https://github.com/illwieckz). It looks like most of the reactions about what I said are more focused on what people believe about me and less about what I said… I'm not there to discuss that. I have said what I assumed was useful to say in the matter of making this a better place for making useful contributions on the topic, not to start a thread about the nature of my own feelings, that was pretty the contrary, I wanted to lower the effect of feelings on the discussion. It looks like I can't help lowering the biases induced by feelings, then see you again. =||= I don't think that there is anything irrational or emotional in not wanting software to send user data to Google and Yandex. I think this is a matter of morality. It is immoral to send user data to exploitative ad networks-- even if they don't realize that it is a bad idea to click a ""yes"" button to doing so; as you are then attempting to exploit their trust in you. =||= The Audacity maintainers have already agreed to not send data from Audacity users to Google Analytics or Yandex. So I don't think discussing that point any further is helpful. =||= The fact is, that they currently send data from Musescore users to ad networks. =||= So, what about renaming this PR the same way the PR description was edited? This would help lowering the misunderstanding from outside people to better focus on topic.

I suggested to rename to something like ”Make possible for users to help the project by contributing anonymous usage if they want to” instead of “Basic telemetry for the audacity”. This would help to make the thread constructive.

And if such suggested title doesn't fit well what is done, it means what is left to do is known, which is constructive as well. =||= The data sent is not anonymous, by the legal definition in GDPR. =||= Okay I think it's time to lock this discussion. Nothing is being added anymore that hasn't been repeated many times already. =||= > 1. Telemetry is **strictly optional and disabled by default**. No data is shared unless you choose to opt-in and enable telemetry.

Awesome! Opt-in is the right way to do telemetry.

> ![image](https://user-images.githubusercontent.com/2660628/117440186-6312b100-af3c-11eb-884e-3db660a0cc1f.png)

This is bad. Anyone who worked in IT for a reasonable amount of time knows how people tend to click highlighted buttons. Telemetry should be neutral, so don't highlight any button.

> 1. Audacity is widely used across several platforms, but we have no information on the application stability.

This is poorly phrased. The first half mentions usage by platform, while the second half mentions stability. Did you mean ""stability by platform"", so based on the combination of usage and stability you know how to set priorities in fixing issues?

> 2. It is difficult for us to estimate the size of the user base accurately.

This is bad. Opt-in telemetry will never tell you anything accurate about the true size of the user base.

> 3. We need a way to make informed decisions about which OS versions to support. For example, can we raise the minimum version of the macOS to 10.10 to update the wxWidgets to the latest version?

Nice, this is a valid reason for telemetry. At the same time, you still can't tell if the collected telemetry is representative. This is why doing telemetry right is critical if you want more data - and it's still not fleshed out properly.

> 4. We have a known issue with the new file format introduced in Audacity 3.0. We found it with the great help of the community members on our forum. However, there is no way for us to estimate the impact of these issues on users. Is it just a random case? Do we need to rush the work on the recovery tool or help the users one by one? Or do we need to rethink the file format to make it safer and more easily recoverable?

This looks like the wrong approach because new features for version X don't warrant the effort of adding telemetry. They're supposed to be tested by the community, especially by those who can provide quality feedback.

> 1. We do not incorporate cross-site tracking, limiting the ability to identify the user by both Google and Yandex.

Why use these in the first place? An opt-in mechanism will limit the number of reports from the get go, because most people don't want telemetry features enabled. Why not start a telemetry service of your own, and see how it scales?

> 2. Yandex would only receive the “application opened” event to help us estimate the size of the user base.
> 3. Google would only receive:
>    a. Session start and end events;
>    b. Errors for debugging;
>    c. File formats used for import and export;
>    d. OS and Audacity versions;
>    e. Use of effects, generators, and analysis tools to prioritize future improvements;

These are fundamentally wrong. If someone enables telemetry and chooses Yandex, it means you only get the ""application opened"" event, which is useless in determining anything useful about Audacity's performance, stability and environment (OS). This makes it look like you want to determine market share more than anything.

> 4. We will consider replacing Google and Yandex with another service if we find one that fulfills our requirements - thanks for the suggestions and keep them coming.

This is completely wrong. Surely you are aware that feeding data into data-hogging companies is unacceptable for a lot of people. The point of telemetry should be to improve the development process, so if you want to maximize the amount of useful data to enable that, make the right choice from the beginning. Why complicate things by working with two different platforms, then migrate to another? It takes time and effort to handle those, so do that for your own service, which will also make more people happy and forthcoming with the telemetry feature.
 =||= For UX issues such as a UI where nobody can find a specific tool, telemetry won't tell you a single damn thing unless you're doing extremely invasive eye- or mouse-tracking, and frankly, I'm not even sure if robust libraries exist for such a thing on anything that isn't an Electron app. It will not actually help anything insofar as UX improvements any more than asking for feedback or doing proper first-time user testing. For crashes and bugs, there's always the classic crash reporter that so many apps already use.

You know what telemetry *is* useful for, though? Market share. I guarantee that Ultimate Guitar wants telemetry because it makes them look good to potential investors by demonstrating how much of a ""market share"" their new ""brand"" (Audacity) has, and how much time people spend using the app. Anyone who has actually worked with telemetry data knows this, including myself. In a very distant second, it can tell you if anyone is actually using a niche platform and if it's worth supporting at all - but again, that's mostly a side-effect of knowing your market share rather than a direct benefit.

Leave the telemetry at the door, apologize, and hope the FOSS community forgives the project over the next year. Maybe even consider removing telemetry from MuseScore as a sign of good-will.

If _not adding telemetry_ is unacceptable, then we can effectively consider this app ""free as in beer"" rather than ""free as in freedom"" as it's clear that this project no longer belongs to the community with a company shepherding it, but to a business more interested in taking over projects and talking down to the community. More of a Google than a Linux Foundation. =||= > So, what about renaming this PR the same way the PR description was edited? This would help lowering the misunderstanding from outside people to better focus on topic.
> 
> I suggested to rename to something like ”Make possible for users to help the project by contributing anonymous usage if they want to” instead of “Basic telemetry for the audacity”. This would help to make the thread constructive.
> 
> And if such suggested title doesn't fit well what is done, it means what is left to do is known, which is constructive as well.

No because the hundreds of comments and thousands of downvotes belong to this PR as it was posed (and even before its text was made ""more nice""). The PR is closed. Start over with a new discussion of the planned changes. =||= The actual edited PR description also quotes the original PR description, nothing prevents the poster to do the same with the title.

Anyway, you're right, this PR is closed. So my PR title suggestion is now more about the title of the PR to be created after this one, and such talk must happen before the creation of the next PR, obviously.

From such clear statement about intentions (and not about means only like the initial PR title) it becomes possible de produce both a roadmap and ways to control the objectives are met. =||= > Regarding Telemetry: this is a requirement that Muse have for every app in their ecosystem so they can determine how the changes we make are performing. I did not (as someone said above) 'request' it.

-- [Tantacrul](https://github.com/audacity/audacity/pull/835#issuecomment-836069326)

> For UX issues such as a UI where nobody can find a specific tool, telemetry won't tell you a single damn thing unless you're doing extremely invasive eye- or mouse-tracking [...]. You know what telemetry _is_ useful for, though? Market share. I guarantee that Ultimate Guitar wants telemetry because it makes them look good to potential investors by demonstrating how much of a ""market share"" their new ""brand"" (Audacity) has, and how much time people spend using the app.

 -- [StarWitch](https://github.com/audacity/audacity/pull/835#issuecomment-836200904)

@StarWitch 
Thank you very much, this hits the nail on the head.

@Tantacrul 
Please see the above. That's what a lot of people here assume, simply because it logically makes sense. If we just look at the [Muse Group's product](https://mu.se/muse-products) page, we can see they indeed do love to boast numbers. This is something you _have_ to be open about, even if that means the community will disagree. Further, one huge question that is still on the table is _how_ Muse Group has even ""acquired"" Audacity, a free and open source project. Are the core maintainers, or some of them, now on Muse Group's pay roll? Who exactly is Muse Group and what is their vision for Audacity? What rights and power does Muse Group have over Audacity, exactly? All of this is confusing and should be cleared up - it is _directly_ relevant to the discussion at hand. For example, what if Muse Group won't back down about tracking, but the community won't either? 


 =||= > Further, one huge question that is still on the table is how Muse Group has even ""acquired"" Audacity, a free and open source project. Are the core maintainers, or some of them, now on Muse Group's pay roll? Who exactly is Muse Group and what is their vision for Audacity? What rights and power does Muse Group have over Audacity, exactly? All of this is confusing and should be cleared up - it is directly relevant to the discussion at hand. For example, what if Muse Group won't back down about tracking, but the community won't either?
>
This. Exactly how does one ""acquire"" a GPL project? Because from my understanding, it belongs to the contributors and only to the contributors. =||= > Further, one huge question that is still on the table is how Muse Group has even ""acquired"" Audacity, a free and open source project. Are the core maintainers, or some of them, now on Muse Group's pay roll? Who exactly is Muse Group and what is their vision for Audacity?

This is one of the most important questions about the future of Audacity.

For example, in 2010 the owner of the Nexuiz name sold it to a company, but the actual developers of the Nexuiz open source game were in fact contributors from the community and not involved in the deal. The new owner of the Nexuiz name released a game in 2012… without success, even Xbox 360 servers were shut down in 2013… Those who were developers of the original Nexuiz game before the selling of the name had to continue the development under another name ([Xonotic](https://xonotic.org/)) since the name was acquired by the other company. But while Xonotic is still more popular than the new Nexuiz the name transfer deal was about, it never recovered its visibility and reputation (even the French Wikipedia deleted the Xonotic page [three times](https://fr.wikipedia.org/wiki/Xonotic) because of lack of visibility). I even met people who mistakenly believed Xonotic was the non-community project…

Another story with similar effects even if the turn of events was different: old time contributors to OpenOffice had to pick a new name ([LibreOffice](https://www.libreoffice.org/)) when Oracle acquired the name in 2010 as part of Sun's catalog without interest for the development of the software itself. 10 years later, I've heard that there is still people to download outdated OpenOffice, as much as the ones downloading LibreOffice. I even met people not knowing about LibreOffice this year.

So, someone got the Audacity name, but what about the community?

I'm not in favor of a fork, because if Muse Group owns the Audacity name, the fork will never recover the decade old reputation of Audacity and recognition, there may even be people deleting the pages about the community fork every three years on third-party website like Wikipedia because of lack of reputation (so, chicken and egg problem). And the Audacity-named software would just lose all the contributions, owning the name of a dead project, like owning dead Nexuiz and dead OpenOffice.

This would be bad for Muse Group, bad for Audacity developers, bad for Audacity users. A fork would be bad for everyone and it would hurt the world for decades.

So, the real problem is, how to make Muse Group and Audacity community reconcile themselves. Maybe Muse Group may give up on this or that data that is not worth the loose of the contributors and users for example, and well, as people we may help Muse Group to know what must not be done and what is best to do. For sure I would not recommend users to give up on data protection. It's often better to know less about users but to keep the users.

On the other hand there is probably a place for an opt-out way to contribute some anonymous usage data to help making the software better, but yes that must be opt-out and truly anonymous. =||= > This. Exactly how does one ""acquire"" a GPL project? Because from my understanding, it belongs to the contributors and only to the contributors.

> This is one of the most important questions about the future of Audacity.

I agree and have therefore opened an [issue asking for clarification on the acquisition](https://github.com/audacity/audacity/issues/855). That should be a better place to discuss this topic than a closed PR for a tracking feature.
 =||= > 10 years later, I've heard that there is still people to download outdated OpenOffice, as much as the ones downloading LibreOffice. I even met people not knowing about OpenOffice this year.

Urm, outdated? Personally I prefer Libreoffice, but after oracle screwed it up for a few years it went to Apache foundation, most recent stable release: 4.1.9 (February 7, 2021; 2 months ago) =||= How to ""acquire"" an open source project: buy out all the people who have
commit access

On Mon, May 10, 2021, 5:33 AM Julien ***@***.***> wrote:

> This. Exactly how does one ""acquire"" a GPL project? Because from my
> understanding, it belongs to the contributors and only to the contributors.
>
> This is one of the most important questions about the future of Audacity.
>
> I agree and have therefore opened an issue asking for clarification on
> the acquisition <https://github.com/audacity/audacity/issues/855>. That
> should be a better place to discuss this topic than a closed PR for a
> tracking feature.
>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/pull/835#issuecomment-836466532>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AB46VXQXSRXMSKSI6BH4JKLTM6R6PANCNFSM44C5SLTA>
> .
>
 =||= OK this PR is closed. But its link has been plastered all over the internet. I suggest to the devs this thread be locked. As I see it being a hotbed for drama for the foreseeable future. =||= I would like to highlight one post by @SndChaser which might also have been lost to the torrent of comments:

https://github.com/audacity/audacity/pull/835#issuecomment-835897610

The suggestion to make this not a compile-time decision but a plugin makes this much more OK for me. I am on the ""absolutely not tracking period"" train, and I think that that suggestion above can suit _both things at the same time_. The main Codebase would not be doing any networking. But people (and not just developers!) could opt-in to tracking very transparently.

I also think that crash reporting should be equally decoupled from the main codebase, if technically possible.
 =||= I haven't read the whole thread, but @crsib have you considered using other analytics solutions that don't sell user data? There are various such existing solutions. =||= @domsson Wow, I hadn't actually seen that site. It does not surprise me at all that download numbers and market share and put above the actual features of the apps. It is very clear where their priorities lie just from this, and their main site only confirms this.

Audacity may very well be in the slaughtering house now.

And please, core contributors, don't paint me or others in this thread as some kind of ""outsiders"" to Audacity. I've personally casually used it as a tool for over a decade. For you to turn around and tell your userbase that their opinions don't matter is extremely damning concerning the direction of this whole conversation and the FOSS community in general. =||= I have used audacity for decades and am very disappointed. =||= OMG, this is the most hilarious virtue signaling thread I have seen in my entire life. Look at the bold statement making basement dwelling famiu. 

> This. Exactly how does one ""acquire"" a GPL project? Because from my understanding, it belongs to the contributors and only to the contributors.

Everyone, lest  this be forgotten, it's important to know  that famiu has, you guessed, exactly 0 commits. https://github.com/audacity/audacity/pulls/famiu. 

I hope all toxic losers who are in this thread (I guess all telemetry FUD spreaders) are losers like him.  =||= Not all contributions are code, you know? Also, GPL/AGPL and pretty much any other license is not about developers. It's about giving the general population rights. Look for the ""four basic freedoms"", if you need clarification. =||= > I have used audacity for decades and am very disappointed.

This PR was rejected, before your comment, what are you disappointed about? =||= can this just be locked already? there's not much else anyone can really contribute to the discussion... =||= @asdf8dfafjk

> Everyone, lest this be forgotten, it's important to know that xxxx has, you guessed, exactly 0 commits.

You talked about commits on this project, but some people there only have like a handful of commits in a single repo and a handful of issues created on the whole GitHub over 10 years, others only have code related to school evaluations… And may have said others do not understand how GitHub works or how software development works…

This is what happens when people confuses GitHub with Twitter. =||= > 
> 
> OMG, this is the most hilarious virtue signaling thread I have seen in my entire life. Look at the bold statement making basement dwelling famiu.
> 
> > This. Exactly how does one ""acquire"" a GPL project? Because from my understanding, it belongs to the contributors and only to the contributors.
> 
> Everyone, lest this be forgotten, it's important to know that famiu has, you guessed, exactly 0 commits. https://github.com/audacity/audacity/pulls/famiu.
> 
> I hope all toxic losers who are in this thread (I guess all telemetry FUD spreaders) are losers like him.

@IGBC is that you drunk again? :D
(https://github.com/audacity/audacity/pull/856#issuecomment-836856813)

I had a good laugh I have to say :))
 =||= @Martin-Eckleben  Nah I only have the one account, that one wasn't me. Besides I am _anti_ tracking @asdf8dfafjk is firmly pro. =||= I'm disappointed I wasn't the target of a clearly troll personal attack on my commit history.  =||= > OMG, this is the most hilarious virtue signaling thread I have seen in my entire life. Look at the bold statement making basement dwelling famiu.
> 
> > This. Exactly how does one ""acquire"" a GPL project? Because from my understanding, it belongs to the contributors and only to the contributors.
> 
> Everyone, lest this be forgotten, it's important to know that famiu has, you guessed, exactly 0 commits. https://github.com/audacity/audacity/pulls/famiu.
> 
> I hope all toxic losers who are in this thread (I guess all telemetry FUD spreaders) are losers like him.

Oh wow. it seems nobody hugged you while you were growing up... That's just sad, buddy. It would be nice though if you kept that shitty personality of yours to yourself, that would save yourself a lot of embarassment =||= > OMG, this is the most hilarious virtue signaling thread I have seen in my entire life. Look at the bold statement making basement dwelling famiu.
> 
> > This. Exactly how does one ""acquire"" a GPL project? Because from my understanding, it belongs to the contributors and only to the contributors.
> 
> Everyone, lest this be forgotten, it's important to know that famiu has, you guessed, exactly 0 commits. https://github.com/audacity/audacity/pulls/famiu
> 
> I hope all toxic losers who are in this thread (I guess all telemetry FUD spreaders) are losers like him.

Oh wow! You work for Microsoft or something? Because there's reason to worry about ""annonymous"" telemetry (hint: not annonymous). Also, please keep your horrible personality to yourself. This is GitHub, and not Twitter. =||= > @asdf8dfafjk
> 
> > Everyone, lest this be forgotten, it's important to know that xxxx has, you guessed, exactly 0 commits.
> 
> You talked about commits on this project, but some people there only have like a handful of commits in a single repo and a handful of issues created on the whole GitHub over 10 years, others only have code related to school evaluations… And may have said others do not understand how GitHub works or how software development works…
> 
> This is what happens when people confuses GitHub with Twitter.

Or moved to GitLab after Github got bought. =||= Yep, time to close this. But will it be closed? =||= I don't see why there is so much backslash. We have this on browsers, which do process much more private informations than an audio editor.

It's opt-in anyway. If you don't want to share data either don't opt-in or compile it for yourself without the module :)  =||= Read the backlog if you want to know why.
Not all of us are complicit and don't care. The amount of add-ons needed to make browsing the web a proper experience clearly shows browsers are not a model to follow.
 =||= > I don't see why there is so much backslash.

Because the negative aspects very much outweigh the downsides. Read the discussion for more details.

> We have this on browsers, which do process much more private information than an audio editor.

And even with browsers there are enough people quite angry with the situation. But given the implications there (about 4 days for custom builds to remove tracking, when building from source on your own hardware and not everybody can manage this) there's unfortunately not much alternatives to choose from. But that's a different topic.

> It's opt-in anyway.

That's what the PR officially says. The actual patch had several issues that inverted this logic and thus made it active by default as well as anti-patterns that coerced the user to just click thru to enable it.

Oh, and that telemetry was neither anonymous (use of known advertiser services) nor was it limited to actual telemetry only: The PR includes an UUID per user, thus allows for tracking of installations.

> If you don't want to share data either don't opt-in or compile it for yourself without the module :)

Which brings us back to the browsers: Have you actually tried to build Audacity from source? Do you think this is a sustainable solution for the average user?

Overall there are much better alternatives to baking telemetry directly into the core application. One for example is having telemetry added by a plugin that the user consciously installs. This also has the advantage that everything the telemetry monitors would also be available by official APIs for other plugins to use. Doing it that way also guarantees the agreement to the collection of personalizable information under GDPR in conscious, informed and voluntary. =||= > Read the backlog if you want to know why.
> Not all of us are complicit and don't care. The amount of add-ons needed to make browsing the web a proper experience clearly shows browsers are not a model to follow.

Yeah sorry, not possible with this amount of comments. :/ =||= @BenBE alright, I see your point. I expected that the description was accurate. I have read some of the comments and it felt not really substantial what people complained about.

Maybe it's worth reworking this patch and run the collection on servers of the project instead of third party ones.

I do see a large benefit of collecting crash informations for example, since audacity isn't really that stable to begin with. There's room for improvement. =||= > 
> 
> I don't see why there is so much backslash. We have this on browsers, which do process much more private informations than an audio editor.
> 
> It's opt-in anyway. If you don't want to share data either don't opt-in or compile it for yourself without the module :)

A doing bad things doesn't justify when B does bad things. =||= > @BenBE alright, I see your point. I expected that the description was accurate. I have read some of the comments and it felt not really substantial what people complained about.

There's lots of virtue signalling in the comments, unfortunately.

> Maybe it's worth reworking this patch and run the collection on servers of the project instead of third party ones.

This PR introduces a full network stack into an application that successfully managed without one for over 20 years. Thus introducing one really should have a very good reason and given the expected overall quality of the collected information the data ain't the compelling reason in this matter. There are simply too many threads attached that negatively affect the quality of the collected data, thus there's much easier and worthwhile methods to produce even better statistics to base your decisions on.

Remains the part regarding crash reports:

> I do see a large benefit of collecting crash information for example, since audacity isn't really that stable to begin with. There's room for improvement.

One of the few points that I agree. Unfortunately even here you don't really need to introduce networking into the core application. To give one example: `htop` simply gives a backtrace, some basic information required for a bug report and instruction how to help to make the backtrace more informative (basically: How you call `objdump` - or its equivalent - on your platform so you can attach that file to the bug report). This gives the option for the user to opt-in sending the bug report and still manages to respect the freedom of the user to not being tracked by the application. If you want to make it more friendly for beginners you could even use a separate application that pops up just when the main application crashed (like Firefox and several other tools do), but even then the main application does not need any linkage to any networking stack.

And FWIW: The information that `htop` asks the user to provide usually helps to pin down the exact line of the crash within about 20 minutes, even when handling the `objdump` file by hand. Could be more convenient to do, but the fact is, that the actual bug reporting can and should be fully offline. =||= Seriously please close this pr. I think most of the possible arguments against this have already been established and I hope all the team work in favor of the comunity =||= @Daniel34M 

> Seriously please close this pr. I think most of the possible arguments against this have already been established and I hope all the team work in favor of the comunity

[It has already been closed.](https://github.com/audacity/audacity/pull/835#issuecomment-835880865) I do, however, think it would be a good idea to lock the PR to prevent anyone from posting yet more comments; I agree that pretty much every possible argument on all sides has been made and we probably crossed that point a day or two ago. =||= Please, see our response:

https://github.com/audacity/audacity/discussions/889 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
836Breakpad integrationVitaly Sverchinskyvsverchinsky06/15/21, 07:56:49 PM"Adds crash reporting to Audacity

Crash reporting allows developers to have more details on the current problems in Audacity, understand whether they are platform/OS version specific, etc.

Implementation is based on Google's [BreakPad](https://chromium.googlesource.com/breakpad/breakpad/) library, and consists of a few modules: 
 * breakpad library: via conan (https://github.com/audacity/conan-recipes)
 * crashreports library: provides some functionality to configure and start breakpad in a platform-independent way
 * crashreporter: is a small GUI application that should be shipped along with Audacity, used to send reports to remote server when app crash occures. Provides short summary on crash. Sending is optional, user may decline sending a report, by pressing ""Don't send"" button. Optionally, user may also leave a short commentary on that issue.
 
 By default, these modules are ignored until USE_BREAKPAD option is provided.
 
![image](https://user-images.githubusercontent.com/20165230/121231118-b0b26e80-c898-11eb-875d-bdbc2afc21aa.png)

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""Is this going to be optional / opt-in?
Integrating an open-source tool with google services will make a lot of people quite unhappy and overall just lose trust on it. =||= I don't think this sends data to a Google server. IIUC Breakpad requires the project using it to set up their own server. =||= Another :-1: here. Why the sudden interest in adding Google dependencies for analytics and user tracking? =||= Well it's gonna be self-hosted so I'm not sure how bad this is, at least it won't be sending data directly to Google =||= I don't see this being particularly useful, automatic crash handlers in OSS is a rarity and crashes in software like Audacity tend to be pretty easily reproducible as there's not much going on so the gain from getting dumps would be minimal.

Also can we talk about how this adds 800+ new files? Why? Importing the breakpad library this way is fucking stupid. =||= Automatic crash reporting is very useful. Most users won't go through the trouble of learning how to use GDB to make a good bug report.

But yes, please stop vendoring dependencies. That has collateral impact beyond Audacity. =||= can this be turned off? =||= > can this be turned off?

It is not even on yet. There is no need to turn it off once it is merged though, it can actually be quite useful.

I had wrong ideas initially about this, was not sure about implications of using breakpad.
This one does not need to rely on google servers.

if you really want nothing to do with google, you might as well stop using the web.
upcoming quic/http3 is basically a google creation, so the web will be served on a protocol engineered at google. =||= > 
> crashes in software like Audacity tend to be pretty easily reproducible as there's not much going on so the gain from getting dumps would be minimal.

If only that were the case - a good example is P1 Bug 2700 which was not easily reproducible - and there have been many others over the years (I took over as the main QA tester following the death of Gale Andrews).

And very few users bother to (or even know how to) send crash logs to us sadly.

 =||= I would appreciate a toggle that is built-in to Audacity, or, that could be changed prior to compiling Audacity, so that end-users can disable this functionality if they wish to do so.

I fully understand the importance of crash reporting, and making it automatic helps to streamline the Crash Report Submission Process.
But.
That shouldn't mean that the option to disable such functionality shouldn't be included.

I value my privacy and If I decide that I don't want to share crash logs with the Audacity Development Team then that decision should be down to ME, and not the developers of Audacity.

It is my hardware, and my system, and I want to have the choice to decide whether or not my system reports crashes or not.

I hope that you will listen to my feedback and consider it quite heavily when deciding how to further proceed with these commits.

Thank you for taking the time to read what I have to say, and have a good day.

TOGLK.
 =||= > I would appreciate a toggle that is built-in to Audacity, or, that could be changed prior to compiling Audacity, so that end-users can disable this functionality if they wish to do so.
> 
> I fully understand the importance of crash reporting, and making it automatic helps to streamline the Crash Report Submission Process.
> But.
> That shouldn't mean that the option to disable such functionality shouldn't be included.

In due course when a build becomes available I will be QA testing this.  One thing I will be looking for is an option in the crash report for sending or not sending a crash report.  I, for example, almost never send crash reports to Microsoft - as I can opt out of that at crash-time (most of mine are deliberate QA crashes anyway to test resilience and Recovery - and bug fixes.)




 =||= I am generally pro breakpad. If its between this and #835 I choose this. Its library shown to have a lot of benefits. Incidentally Steam uses it in their client, and I think they have had a lot of success with it. =||= Yeah from what I can tell with some brief research, this one actually seems fine since it doesn't appear (on first glance?) to send anything to Google. From what I can tell, it requires the developer to have their own server for minidump files to be sent to.

...Which begs the question as to why they can't run telemetry stuff on their own servers but *can* run crash reporting stuff. Hm. Either way, I think the core concern here isn't privacy but stuff more strictly related to the development of Audacity itself (which I obviously can't as easily speak for)

Obviously anything Google coming near a FOSS project is not ideal but as IGBC said, if something *must* be added that's bearing that brand name then this is arguably the better one (outside of the ideal option of ""none"" of course). =||= anyone ever consider this is a bait and switch?

They got us angry at Analytics so we'd be OK with breakpad 😆 ? =||= Hah, that's a fun thought. I'd agree but this one popped up on the same day only 4 hours after the telemetry PR, which probably isn't enough time

Besides this is serving a completely different purpose anyway =||= yea sadly its clear their plan was to install both. Clearly they want a near clickstream from this program. Its very marketing adjacent.  `</offtopic>` =||= Please observe that a crash report is sent only if the CMake variable CRASH_REPORT_URL is defined, but it is not defined in this pull request.
 =||= Crash reporting will be enabled only for the RC builds. It is technically impossible to do it otherwise anyway. 

Sending the generated crash report will be an opt-in. The report will be sent to the self hosted Sentry instance. =||= Why only RC builds, seems like there could be valuable reports out in the wild in release builds. Heaven knows the audio world has some wacky machine configurations. =||= > if you really want nothing to do with google, you might as well stop using the web.
> upcoming quic/http3 is basically a google creation, so the web will be served on a protocol engineered at google.

And this is exactly why this is a problem - if people can't use the web anymore without using google protocols or software, then we don't have a free and open web anymore.

The same is true for my favorite audio editing software. All of my four albums were produced with audacity. There must be a way to get proper crash reports without giving the biggest technology monopoly even more power. =||= As far as I know, the Breakpad is deprecated and will not evolve, for example, it will not support new types of OS and processors. So, is recommended to use Crashpad https://chromium.googlesource.com/crashpad/crashpad/+/refs/heads/main/doc/overview_design.md =||= > As far as I know, the Breakpad is deprecated and will not evolve, for example, it will not support new types of OS and processors. So, is recommended to use Crashpad https://chromium.googlesource.com/crashpad/crashpad/+/refs/heads/main/doc/overview_design.md

Isn't Crashpad distributed under Apache License 2.0 (which is incompatible with GPLv2)? =||= > > As far as I know, the Breakpad is deprecated and will not evolve, for example, it will not support new types of OS and processors. So, is recommended to use Crashpad https://chromium.googlesource.com/crashpad/crashpad/+/refs/heads/main/doc/overview_design.md
> 
> Isn't Crashpad distributed under Apache License 2.0 (which is incompatible with GPLv2)?

Got it what the problem is, thank you. =||= I'm still asking for fixes for internationalization.

Among my many comments here, I also suggested improvements in comments, and also the source code tree reorganization (making the crashreporter folder less nested).

I would still like those changes, but I won't let them delay approval.
 =||= "Breakpad integrationVitaly Sverchinskyvsverchinsky06/15/21, 07:56:49 PM"Adds crash reporting to Audacity

Crash reporting allows developers to have more details on the current problems in Audacity, understand whether they are platform/OS version specific, etc.

Implementation is based on Google's [BreakPad](https://chromium.googlesource.com/breakpad/breakpad/) library, and consists of a few modules: 
 * breakpad library: via conan (https://github.com/audacity/conan-recipes)
 * crashreports library: provides some functionality to configure and start breakpad in a platform-independent way
 * crashreporter: is a small GUI application that should be shipped along with Audacity, used to send reports to remote server when app crash occures. Provides short summary on crash. Sending is optional, user may decline sending a report, by pressing ""Don't send"" button. Optionally, user may also leave a short commentary on that issue.
 
 By default, these modules are ignored until USE_BREAKPAD option is provided.
 
![image](https://user-images.githubusercontent.com/20165230/121231118-b0b26e80-c898-11eb-875d-bdbc2afc21aa.png)

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNVitaly Sverchinsky06/11/21, 09:35:59 PMsentry url fix1
837Use of banned functionreitwick-prakash05/09/21, 06:55:22 AM"Description- 
I would like to point out the use of banned function **""lstrcpynW""** in the Audacity code. Due to the usage of this function, Buffer overflow may be possible.

![banned function](https://user-images.githubusercontent.com/83694224/117110475-c7e6d380-ada3-11eb-8df5-adc9f222fbc4.PNG)
![banned 2](https://user-images.githubusercontent.com/83694224/117111086-bbaf4600-ada4-11eb-91a5-3a3cd4c8cf9b.PNG)
Solution-
As a replacement **""StringCchCopyA""** function which comes under (strsafe.h) can be used.


""Please include file names and line numbers. =||= I used Ghidra to export the C code from the .exe. In that file I was able to loacte the use of lstrcpynW function.
-- Just drag and drop the .exe file in Ghidra to open.
![image](https://user-images.githubusercontent.com/83694224/117207066-29915700-ae11-11eb-98a1-707729fd0d4e.png)
![image](https://user-images.githubusercontent.com/83694224/117207207-50e82400-ae11-11eb-9c54-f3439c43ca83.png)

Code - [audacity-3.0.2.exe .zip](https://github.com/audacity/audacity/files/6430177/audacity-3.0.2.exe.zip)

*****
Another banned function **(MNLS_lstrcpyW)**-
This one I found on opening the audacity code from git on Visual Studio Code.
**File name- mapinls.h**
**Line Number -175**
![image](https://user-images.githubusercontent.com/83694224/117217937-e38fbf80-ae1f-11eb-8798-d964ae4cd618.png)

Solution - 
Same as the last one.
 =||= By decompiling you're looking at symbols from the whole Audacity, including libraries it links to. It's straightforward to check that `lstrcpyW` is actually never used in Audacity code (rightfully so, given that it's a Win32 thing). That symbol is being brought in by some dependency, at first glance it looks like it's `libnyquist`. =||= Understood. Thank you!! =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
838Update SQLite to 3.35.5Dmitry Vedenkocrsib05/05/21, 03:42:40 PM"This update contains to important features (fixes):

1. Improved performance of WAL mode locking primitives in cases where there are hundreds of connections all accessing the same database file at once

2. In WAL mode, if a writer crashes and leaves the shm file in an inconsistent state, subsequent transactions are now able to recover the shm file even if there are active read transactions. Before this enhancement, shm file recovery that scenario would result in an SQLITE_PROTOCOL error."NaNUpdate SQLite to 3.35.5Dmitry Vedenkocrsib05/05/21, 03:42:40 PM"This update contains to important features (fixes):

1. Improved performance of WAL mode locking primitives in cases where there are hundreds of connections all accessing the same database file at once

2. In WAL mode, if a writer crashes and leaves the shm file in an inconsistent state, subsequent transactions are now able to recover the shm file even if there are active read transactions. Before this enhancement, shm file recovery that scenario would result in an SQLITE_PROTOCOL error."NaNDmitry Vedenko05/05/21, 11:43:27 AM"Update SQLite to 3.35.5

This update contains to important features:
1. Improved performance of WAL mode locking primitives in cases where there are hundreds of connections all accessing the same database file at once
2. In WAL mode, if a writer crashes and leaves the shm file in an inconsistent state, subsequent transactions are now able to recover the shm file even if there are active read transactions. Before this enhancement, shm file recovery that scenario would result in an SQLITE_PROTOCOL error."1
839Cmake changesPaul LicameliPaul-Licameli05/06/21, 02:15:22 PM"The long promised/threatened changes to CMake scripts, to support more separation of modules and libraries from Audacity, and also to generate a graph of dependencies as a side effect at configuration time.

Leland especially, please review.  If satisfied, please rebase and merge.  Please don't squash, I'd rather keep the separated commits in the history.

Others are welcome to comment or ask questions.""I have force-pushed onto more recent master.

I added /D NOMINMAX for Windows builds as Dmitry asked.

I changed the location of the generated .dot file as Leland asked.

I removed the commit for new file library/CMakeLists.txt so there is no conflict with Dmitry's telemetry branch.  I can make that change later.

I do not agree that it is necessary to remove the call to dot at configuration time.  If that program is not present, nothing happens and configuration still succeeds.  If it is present, it recreates a useful graph every time you reconfigure, with negligible cost.  I like having the graph done automatically in configuration, rather than as part of a build after configuration.

 =||= Thanks, but sorry, I just did the NOMINMAX part wrong and now Windows build is broken.  I'll fix that.
 =||= Hey wait, did you amend the commit for me?  I'm confused how that happened.
 =||= Oh, I see I force-pushed the corrected branch, and then you merged it while I was waiting for the build to finish!  So all's well that ends well.
 =||= "Cmake changesPaul LicameliPaul-Licameli05/06/21, 02:15:22 PM"The long promised/threatened changes to CMake scripts, to support more separation of modules and libraries from Audacity, and also to generate a graph of dependencies as a side effect at configuration time.

Leland especially, please review.  If satisfied, please rebase and merge.  Please don't squash, I'd rather keep the separated commits in the history.

Others are welcome to comment or ask questions."NaNPaul Licameli05/05/21, 06:09:49 PMChanges to CMake scripts support separation of modules and libraries1
840please upstream your patches to PortAudioBeBe-ing05/11/21, 10:23:52 AMFedora currently has a [patch](https://src.fedoraproject.org/rpms/portaudio/blob/rawhide/f/portaudio-audacity.patch) for its [PortAudio](https://github.com/PortAudio/portaudio) package to support Audacity. This was inconvenient to rebase on the recent PortAudio release. The PortAudio maintainers have been more active since moving code to GitHub a few months ago."If you're up to it, I'd also appreciate review of my [rewrite of PortAudio's CMake implementation](https://github.com/PortAudio/portaudio/pull/461) :) =||= cc @uklotzde =||= The new PortAudio 19.7 release brings major bug fixes for macOS 11 and using PipeWire through the JACK API, so I suggest updating to that as well. =||= I have recently updated the `portaudio-audacity.patch` in Fedora and also fixed an issue with the build options:

https://src.fedoraproject.org/rpms/portaudio/c/5c1adf2a43eecf0206bba22d737b22738e293fe3 =||= As far as I am aware, the only change in Audacity's fork of PortAudio that isn't in upstream PortAudio is a small [extension to the OSS host API](https://src.fedoraproject.org/rpms/portaudio/blob/rawhide/f/portaudio-audacity.patch). What is the purpose of this? On Linux, OSS has been deprecated for so long that I've never even heard of anyone using it. However I think it is used on BSDs. There have been requests for adding support for the sndio BSD sound server to PortAudio but this has not been implemented.

Are there any other changes in Audacity's fork that should be upstreamed? =||= Here are the patches in lib-src/portaudio-v19:
  * 16bit.patch: bug fix for https://bugzilla.audacityteam.org/show_bug.cgi?id=193 for Windows DirectSound API. Upstream PR: https://github.com/PortAudio/portaudio/pull/570
  * jack.patch: implements JACK support on Windows. This is a lot of code added... I don't think this is necessary? Isn't JACK is used as an ASIO driver on Windows? @falkTX do you have any comments on this?
  * linkage.patch: adds `extern C` to pa_util_unix.c... I am unclear why this is needed.
  * mmefix.patch: one-liner fix for comparing pointer address instead of dereferencing pointers for Windows MME API. Upstream PR: https://github.com/PortAudio/portaudio/pull/571
  * nonascii.patch: fixed upstream already: https://github.com/PortAudio/portaudio/pull/372
  * portaudio-srcdir.patch: patch to Makefile.in, will be obsoleted by my upstream CMake PRs https://github.com/PortAudio/portaudio/pull/461 https://github.com/PortAudio/portaudio/pull/561
  * ringbuf.patch: another patch to Makefile.in, also will be obsoleted
  * vs2015.patch: two one-liners to fix building with MSCV2015... who is building with MSCV2015 anymore? Upstream it if you want to I guess :shrug: 
  * wasapi-fix.patch: I'm not sure what this is for. The Git history is not very helpful. I'm not sure if it can be split from the patch below?
  * wasapi-loopback.patch: Seems to add support for loopback devices with Windows WASAPI API. Substantial code added. I leave it to @lllucius who wrote the patch to upstream this novel feature.
 
I'm puzzled where the [OSS patch in Fedora](https://src.fedoraproject.org/rpms/portaudio/blob/rawhide/f/portaudio-audacity.patch) came from. =||= > 
> 
> Here are the patches in lib-src/portaudio-v19:
> 
>     * 16bit.patch: bug fix for https://bugzilla.audacityteam.org/show_bug.cgi?id=193 for Windows DirectSound API. Upstream PR: [PortAudio/portaudio#570](https://github.com/PortAudio/portaudio/pull/570)
> 

Not sure this is appropriate (as written) for upstream.  It looks to me like the fix made was strictly to correct the reported behavior.  I'm not entirely sure it would be satisfactory for all users of portaudio.

>     * jack.patch: implements JACK support on Windows. This is a lot of code added... I don't think this is necessary? Isn't JACK is used as an ASIO driver on Windows? @falkTX do you have any comments on this?
> 

Audacity doesn't support ASIO due to Steinberg licensing concerns.

What this patch does is add dynamic loading of the Jack libraries at runtime.  That way we could build Audacity without having to link against Jack.  Many moons ago I tried to get it upstreamed, but it never went anywhere.

>     * linkage.patch: adds `extern C` to pa_util_unix.c... I am unclear why this is needed.
> 

Not sure why either, but you could remove it and try to rebuild to see what happens.  Possibly an issue on Windows or Mac.

>     * mmefix.patch: one-liner fix for comparing pointer address instead of dereferencing pointers for Windows MME API. Upstream PR: [PortAudio/portaudio#571](https://github.com/PortAudio/portaudio/pull/571)
> 

Definitely should have gone upstream...thanks for doing so.

>     * nonascii.patch: fixed upstream already: [PortAudio/portaudio#372](https://github.com/PortAudio/portaudio/pull/372)

Yep, we could drop this.

> 
>     * portaudio-srcdir.patch: patch to Makefile.in, will be obsoleted by my upstream CMake PRs [PortAudio/portaudio#461](https://github.com/PortAudio/portaudio/pull/461) [PortAudio/portaudio#561](https://github.com/PortAudio/portaudio/pull/561)

Yep, we could drop this.

> 
>     * ringbuf.patch: another patch to Makefile.in, also will be obsoleted
> 

Yep, we could drop this.

>     * vs2015.patch: two one-liners to fix building with MSCV2015... who is building with MSCV2015 anymore? Upstream it if you want to I guess 🤷
> 

Yep, we could drop this.

>     * wasapi-fix.patch: I'm not sure what this is for. The Git history is not very helpful. I'm not sure if it can be split from the patch below?
> 

I ""sort of"" remember this one.  When we were first starting to include WASAPI support in Audacity we were experiencing some premature stoppages in playback/recording.  It might be appropriate for upstream, but we'd need to remove it and try to recreate the original issue. (if we can find it.)

>     * wasapi-loopback.patch: Seems to add support for loopback devices with Windows WASAPI API. Substantial code added. I leave it to @lllucius who wrote the patch to upstream this novel feature.
> 

Don't believe it is upstreamable.  It is a ""total hack"" specifically for Audacity that gives Windows users a loopback feature where you can record what you're playing back.  Not sure it's appropriate for general use since there's a few caveats to it's usage.

> 
> I'm puzzled where the [OSS patch in Fedora](https://src.fedoraproject.org/rpms/portaudio/blob/rawhide/f/portaudio-audacity.patch) came from.

I'm guessing that Fedora could drop that patch since Audacity commit b106de1.
 =||= > * linkage.patch: adds `extern C` to pa_util_unix.c... I am unclear why this is needed.

The midi playback code uses `PaUtil_GetTime` to keep in sync with audio playback.  I did replace it with `Pa_GetStreamTime` in #210, but I can't remember if there was a reason Audacity didn't use that approach.  In any case, without that patch, the midi code fails to build on some platforms. =||= The [OSS patch in Fedora](https://src.fedoraproject.org/rpms/portaudio/blob/rawhide/f/portaudio-audacity.patch) adds an API which was [rejected upstream in 2008](https://music.columbia.edu/pipermail/portaudio/2008-February/008314.html) (see also https://github.com/PortAudio/portaudio/issues/21 https://github.com/PortAudio/portaudio/issues/169). However it seems the alternative API proposed by @RossBencina in that old mailing list post to add a `PaHostApiTypeId` field to the `PaStreamInfo` struct has not been implemented. I suspect changing to that alternative API would require a bit of refactoring in PortMixer.

The full patch is not in lib-src/portaudio-v19 but rather [lib-src/portmixer/portaudio.patch](https://github.com/audacity/audacity/blob/master/lib-src/portmixer/portaudio.patch) even though it is a patch for the PortAudio code. That patch also seems to have other distinct changes as well. The PortAudio code in lib-src/portaudio-v19 seems to already have that patch applied. =||= Yea, all of those ""patch"" files are the way we used to manage the patches to third party libs.  Now we just depend on git commit logs to keep track of them.

There has been ""some"" discussion about getting rid of the control of hardware mixers in Audacity.  If we did that, then the entire portmixer code could be deleted.  If you want to pursue that discussion, you might want to bring it up on the -devel mailing list so that the whole team can respond.
 =||= > Now we just depend on git commit logs to keep track of them.

Of what Git repositories? =||= Audacity's =||= Do you mean this [Git repository](https://github.com/audacity/portaudio)? I don't see any commits from Audacity developers in that repository, nor pull requests, nor issues. It looks like it is just a fork of upstream PortAudio that hasn't been updated. =||= > There has been ""some"" discussion about getting rid of the control of hardware mixers in Audacity. If we did that, then the entire portmixer code could be deleted. If you want to pursue that discussion, you might want to bring it up on the -devel mailing list so that the whole team can respond.

I searched the audacity-devel archive but did not find anything about this. Could you link to the discussion? =||= > 
> 
> > There has been ""some"" discussion about getting rid of the control of hardware mixers in Audacity. If we did that, then the entire portmixer code could be deleted. If you want to pursue that discussion, you might want to bring it up on the -devel mailing list so that the whole team can respond.
> 
> I searched the audacity-devel archive but did not find anything about this. Could you link to the discussion?

It was a private discussion among various team members.

 =||= Why do you have private discussions about public code? =||= Looking at the [Fedora RPM spec file](https://src.fedoraproject.org/rpms/audacity/blob/rawhide/f/audacity.spec#_144) for Audacity, it looks like it builds with the vendored PortAudio currently even though the Fedora PortAudio package has that patch specifically for Audacity...

cc @imciner2 =||= > The midi playback code uses PaUtil_GetTime to keep in sync with audio playback.

PaUtil_GetTime is defined in [src/common/pa_util.h in PortAudio](https://github.com/PortAudio/portaudio/blob/master/src/common/pa_util.h). This header is not installed by the build system as confirmed by checking the packages installed by Fedora's portaudio-devel package:
```
❯ rpm -ql portaudio-devel
/usr/include/pa_jack.h
/usr/include/pa_linux_alsa.h
/usr/include/pa_unix_oss.h
/usr/include/portaudio.h
/usr/include/portaudiocpp
/usr/include/portaudiocpp/AutoSystem.hxx
/usr/include/portaudiocpp/BlockingStream.hxx
/usr/include/portaudiocpp/CFunCallbackStream.hxx
/usr/include/portaudiocpp/CallbackInterface.hxx
/usr/include/portaudiocpp/CallbackStream.hxx
/usr/include/portaudiocpp/CppFunCallbackStream.hxx
/usr/include/portaudiocpp/Device.hxx
/usr/include/portaudiocpp/DirectionSpecificStreamParameters.hxx
/usr/include/portaudiocpp/Exception.hxx
/usr/include/portaudiocpp/HostApi.hxx
/usr/include/portaudiocpp/InterfaceCallbackStream.hxx
/usr/include/portaudiocpp/MemFunCallbackStream.hxx
/usr/include/portaudiocpp/PortAudioCpp.hxx
/usr/include/portaudiocpp/SampleDataFormat.hxx
/usr/include/portaudiocpp/Stream.hxx
/usr/include/portaudiocpp/StreamParameters.hxx
/usr/include/portaudiocpp/System.hxx
/usr/include/portaudiocpp/SystemDeviceIterator.hxx
/usr/include/portaudiocpp/SystemHostApiIterator.hxx
/usr/lib64/libportaudio.so
/usr/lib64/libportaudiocpp.so
/usr/lib64/pkgconfig/portaudio-2.0.pc
/usr/lib64/pkgconfig/portaudiocpp.pc
```

pa_util.h is not listed in the [PortAudio documentation](http://files.portaudio.com/docs/v19-doxydocs/group__public__header.html) either. Audacity is using a private function of PortAudio. This should be fixed. =||= There are obviously inconsistencies. The .spec file for Fedora requires portaudio-devel as a build requirement, but instead uses a custom, bundled version. The installed executable does not depend on libportaudio as confirmed by ldd. =||= Built with `-Daudacity_use_portaudio=local` =||= `-Daudacity_use_portaudio=system` doesn't even pass the CMake configure stage. Debian has a [patch](https://salsa.debian.org/multimedia-team/audacity/-/blob/master/debian/patches/0004-cmake-use-system-portaudio.patch) to fix that and another [really ugly hack](https://salsa.debian.org/multimedia-team/audacity/-/blob/master/debian/patches/0002-PATCH-Fix-building-against-the-system-portaudio-libr.patch) for the missing PaUtil_GetTime symbol. =||= I tried building with #870 and the patch below with `-Daudacity_use_portaudio=system` but building without `EXPERIMENTAL_MIDI_OUT` defined does not work.
```
diff --git a/cmake-proxies/CMakeLists.txt b/cmake-proxies/CMakeLists.txt
index 35250773c..c3ffc4710 100644
--- a/cmake-proxies/CMakeLists.txt
+++ b/cmake-proxies/CMakeLists.txt
@@ -13,7 +13,7 @@ addlib( expat              expat       EXPAT       YES   YES   ""expat >= 2.1.0""
 addlib( lame               lame        LAME        YES   YES   ""lame >= 3.100"" )
 addlib( libsndfile         sndfile     SNDFILE     YES   YES   ""sndfile >= 1.0.28"" )
 addlib( libsoxr            soxr        SOXR        YES   YES   ""soxr >= 0.1.1"" )
-addlib( portaudio-v19      portaudio   PORTAUDIO   YES   YES   """" )
+addlib( portaudio-v19      portaudio   PORTAUDIO   YES   YES   ""portaudio-2.0"" )
 addlib( sqlite             sqlite      SQLITE      YES   YES   ""sqlite3 >= 3.32.0"" )
 
 # Optional libraries
@@ -36,7 +36,7 @@ if (NOT USE_MIDI AND
 endif ()
 
 
-addlib( portmixer          portmixer   PORTMIXER   NO    YES   """" )
+#addlib( portmixer          portmixer   PORTMIXER   NO    YES   """" )
 if (NOT USE_PORTMIXER AND
    ""EXPERIMENTAL_AUTOMATED_INPUT_LEVEL_ADJUSTMENT"" IN_LIST
       EXPERIMENTAL_OPTIONS_LIST )
diff --git a/src/Experimental.cmake b/src/Experimental.cmake
index 30c01792a..ad0cc9374 100644
--- a/src/Experimental.cmake
+++ b/src/Experimental.cmake
@@ -121,7 +121,7 @@ set( EXPERIMENTAL_OPTIONS_LIST
    # RBD, 1 Sep 2008
    # Enables MIDI Output of NoteTrack (MIDI) data during playback
    # USE_MIDI must be defined in order for MIDI_OUT to work
-   MIDI_OUT
+   #MIDI_OUT
 
    # JKC, 17 Aug 2017
    # Enables the MIDI note stretching feature, which currently
```

The build fails with:
```
../src/AudioIO.cpp: In member function ‘virtual void AudioIO::StopStream()’:
../src/AudioIO.cpp:2452:4: error: ‘mMidiPlaybackTracks’ was not declared in this scope; did you mean ‘mPlaybackTracks’?
 2452 |    mMidiPlaybackTracks.clear();
      |    ^~~~~~~~~~~~~~~~~~~
      |    mPlaybackTracks
```

That's as much work as I'm willing to put into cleaning up this technical debt. =||= So it seems that mmefix.patch is the only reasonable patch from Audacity to upstream to PortAudio. The use of the private PaUtil_GetTime API is Audacity's problem to solve, which I have opened a new issue for (#871). I'll close this now. =||= Pa_GetStreamTime and PaUtil_GetTime are different clocks running at 
(slightly) different rates. If you replaced one with the other, then you 
either created or fixed a problem.

     -Roger

On 5/11/21 12:05 AM, Pokechu22 wrote:
>
>       * linkage.patch: adds |extern C| to pa_util_unix.c... I am
>         unclear why this is needed.
>
> The midi playback code uses |PaUtil_GetTime| to keep in sync with 
> audio playback. I did replace it with |Pa_GetStreamTime| in #210 
> <https://github.com/audacity/audacity/pull/210>, but I can't remember 
> if there was a reason Audacity didn't use that approach. In any case, 
> without that patch, the midi code fails to build on some platforms.
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub 
> <https://github.com/audacity/audacity/issues/840#issuecomment-837760743>, 
> or unsubscribe 
> <https://github.com/notifications/unsubscribe-auth/AALLUHGFXRDN55EGLJPHH2LTNCUHJANCNFSM44H6ZK2A>.
>
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
842Update pl.po from TransifexGrzegorz PruchniakowskiGootector05/07/21, 09:48:52 AM"Update pl.po from Transifex
The next package of fixes.

Greetings,
Gootector

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "Thank you! =||= Update pl.po from TransifexGrzegorz PruchniakowskiGootector05/07/21, 09:48:52 AM"Update pl.po from Transifex
The next package of fixes.

Greetings,
Gootector

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNGrzegorz Pruchniakowski05/07/21, 03:54:21 AM"Update pl.pl from Transifex

Update pl.pl from Transifex
The next package of fixes.

Greetings,
Gootector"1
843Generate AppImage on GitHub ActionsPeter Jonasshoogle06/16/21, 03:00:16 PM"Fixes #695. Supersedes #172. See https://appimage.org/."libjpeg.so.8 missing - Fedora 33 =||= Ideally that separate script file should work to build locally as well as on CI. Simply factoring it out to a separate file would be a good first step. =||= Generate AppImage on GitHub ActionsPeter Jonasshoogle06/16/21, 03:00:16 PMFixes #695. Supersedes #172. See https://appimage.org/.NaNPeter Jonas06/16/21, 02:19:48 PM"Generate AppImage on GitHub Actions

Fixes #695. Supersedes #172. See https://appimage.org/."1
844Please clarify copyright policyHanns Holger RutzSciss08/13/21, 12:26:40 PM"In order not to extend the already long comment thread on [#835](https://github.com/audacity/audacity/pull/835) - within it is buried now a post by @workedintheory

https://github.com/audacity/audacity/pull/835#issuecomment-834203391

mentioning multiple times CLAs (contributor license agreements) and the idea to have a ""flexible"" license, dual-licensing etc.

> Part of our commitment to open source is a commitment to transparency. Being fully transparent, the CLA of the open source projects we support does grant some form of flexibility in licensing. But what does this mean?
> 
> I will use the example of MuseScore. The MuseScore CLA does allow for the possibility to dual license the source code as GPL and proprietary, so long as it remains also available under GPL.
> 
> But why would we ever want to do this? How could this possibly be in service of the user and user choice?
> 
> [...] it is good to have more flexible options for limited scenarios such as alternative licensing for a specific build for a specific platform to solve a specific issue (ex: excluded from platform due to GLP as in VLC case).
> 
> In more simple terms, we view the potential of dual licensing as an insurance policy in order to ensure availability for the user on the platform of their choice.

As it stands, and regarding my understanding of the mechanisms of CLA, there _has never been_ a CLA system in place for this project. The contribution rules simply state the contributions _must be compatible with GPL_. No further rights were obtained from contributors through the regular channel of pull requests.

Since the project is decades old, and lists several contributors (perhaps a handful being responsible for the vast majority of commits ; but also the original authors Dominic Mazzoni and Roger Dannenberg not visible in the GitHub UI), could you clarify if and how you intend to add a CLA to the project? When Muse Group obtained the control of Audacity, did you obtain the licensing rights from all the main contributors, and how do you intend to deal with commits made by persons in the past that did not sign any CLA?""Using CLAs to enable [proprietary relicensing is not okay](https://sfconservancy.org/blog/2020/jan/06/copyleft-equality/). =||= > Using CLAs to enable [proprietary relicensing is not okay](https://sfconservancy.org/blog/2020/jan/06/copyleft-equality/).

Well, this is more or less the spirit of [MuseScore's CLA](https://musescore.org/en/cla), so I would not be surprised if this comes to Audacity soon. =||= > Well, this is more or less the spirit of MuseScore's CLA, so I would not be surprised if this comes to Audacity soon.

MuseScore's CLA is the worst possible kind of CLA. It gives MuseScore unilateral authority to license the code however they want with no strings attached. That's like an MIT license but even worse because only MuseScore has the legal authority to make proprietary versions. If any CLA like this comes to Audacity, it should be forked, regardless of what happens with the telemetry issue. =||= > If any CLA like this comes to Audacity, it should be forked, regardless of what happens with the telemetry issue.

Yeah, agreed. `AuditCity` incoming ... =||= If there are _any_ existing contributors unwilling to sign such a CLA, the Muse Group would have to remove all of their contributions somehow before introducing such a licensing change. That includes all contributors, not just the main developers, unless their changes are so trivial that they can be considered uncopyrightable (something like fixing a single misindented line would count as this). Otherwise, the unwilling contributors can file a lawsuit against the group for copyright infringement, as they'd be infringing the contributors' copyright by violating the GPL. =||= It is virtually impossible to impose a CLA on a 20 year old project with many contributors that has not had one before. =||= > unless their changes are so trivial that they can be considered uncopyrightable (something like fixing a single misindented)

I'm doing such kind of audit on another project to switch a wiki from a non-free license (because of a non-commercial clause) to a free license, 5 years later I'm still at it, so given the size of the audacity code this is probably unlikely to happen, because doing this costs a lot.

In theory everything is possible™, but in real world, with time passing, salaries to pay, priorities to focus on other things, it's hardly doable. =||= Potential proprietary versions of Audacity also would have to deal with making sure all dependencies can allow for such thing.
wxWidgets allows this, which is the biggest dependency.

then following https://github.com/audacity/audacity/blob/master/cmake-proxies/CMakeLists.txt: (assuming the use of shared libraries, as allowed by LGPL)

lame - yes
libsndfile - yes
libsoxr - yes
portaudio-v19 - yes
sqlite - yes
ffmpeg - yes (though it needs special attention to not build GPL elements)
libid3tag - no, GPLv2+
libmad - no, GPLv2+ (but they allow the purchase of commercial licenses)
libnyquist - yes? while libnyquist itself is fine, it uses fftw
libvamp - yes? PluginInputDomainAdapter.cpp uses fftw which would need to be unused
libogg - yes
libvorbis - yes
libflac - yes
lv2 - yes
portmidi - yes
portmixer - yes
portsmf - yes
libsbsms - no, GPLv2? GPLv3?
soundtouch - yes
twolame - yes

So 3 dependencies can't be used in a potential commercial build: libid3tag, libmad and libsbsms.
Some attention is required on the use of fftw, which is GPL. On a quick look it seems to be not used at all.

Something curious I found out of this little research - due to libsbsms being GPLv3, the final Audacity binary is under GPLv3 terms already.
Too late for the GPLv3 move because of VST3 :sweat_smile: 

EDIT: This is confusing https://github.com/claytonotey/libsbsms/blob/main/LICENSE vs https://github.com/claytonotey/libsbsms/blob/main/COPYING =||= > EDIT: This is confusing https://github.com/claytonotey/libsbsms/blob/main/LICENSE vs https://github.com/claytonotey/libsbsms/blob/main/COPYING

Good catch! Opened an issue.

https://github.com/claytonotey/libsbsms/issues/1 =||= They clarified the license @falkTX 

within https://github.com/claytonotey/libsbsms/commit/99691ede536f8d44b619472ce7126f15e2e32512 due to https://github.com/claytonotey/libsbsms/issues/1 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
846TELEMETRY SHOULD NOT BE ADDED TO THIS GREAT PROJECT!!!!jahway603jahway60305/09/21, 12:35:21 AM"TELEMETRY SHOULD NOT BE ADDED TO THIS GREAT PROJECT!!!!

TELEMETRY SHOULD NOT BE ADDED TO THIS GREAT PROJECT!!!!

TELEMETRY SHOULD NOT BE ADDED TO THIS GREAT PROJECT!!!!

TELEMETRY SHOULD NOT BE ADDED TO THIS GREAT PROJECT!!!!

TELEMETRY SHOULD NOT BE ADDED TO THIS GREAT PROJECT!!!!

TELEMETRY SHOULD NOT BE ADDED TO THIS GREAT PROJECT!!!!

TELEMETRY SHOULD NOT BE ADDED TO THIS GREAT PROJECT!!!!

TELEMETRY SHOULD NOT BE ADDED TO THIS GREAT PROJECT!!!!

TELEMETRY SHOULD NOT BE ADDED TO THIS GREAT PROJECT!!!!

TELEMETRY SHOULD NOT BE ADDED TO THIS GREAT PROJECT!!!!

TELEMETRY SHOULD NOT BE ADDED TO THIS GREAT PROJECT!!!!

Thanks"this issue literally achieves nothing LOL (should probably lock this too, while you're at it) =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
847automated code style checking and lintingBeBe-ing05/10/21, 10:58:10 AM"As demonstrated by https://github.com/audacity/audacity/pull/835#pullrequestreview-655027290 new developers do not automatically know how to keep code in a consistent style. I don't think anybody likes making noise about this in code reviews; it's better to let automated tools handle it and talk about the substantive changes. There are plenty of automated tools to do this. One of them should be run on CI to catch code style issues before merging.

I recommend using [pre-commit](https://pre-commit.com/) to catch these issues before even committing and advising new contributors to set this up. For C++ formatting, I suggest using clang-format with pre-commit. This can be set up to use clang-format only on the diff of the commit instead of needing to mass reformat the entire file and add a bunch of noise to the commit diff. On Mixxx, there is a [GitHub Actions workflow](https://github.com/mixxxdj/mixxx/blob/main/.github/workflows/pre-commit.yml) which uses pre-commit to clang-format and [variety of other automated code quality checks](https://github.com/mixxxdj/mixxx/blob/main/.pre-commit-config.yaml) only on the changed code. The GitHub Actions job uploads a patch with the automatic corrections as a GitHub Actions artifact so new developers can simply download that and apply the patch, then set up pre-commit locally to avoid future issues. There is a [separate GitHub Actions workflow](https://github.com/mixxxdj/mixxx/blob/main/.github/workflows/build-checks.yml#L88) which uses clang-tidy and clazy, which notably take approximately the same time to run as a full build and cannot use compiler caching.""cc @Holzhaus who set this up for Mixxx. =||= Besides the formatting of the code usually the much greater issue is catching subtle bugs, like the integer overflow in multiplication. Given I've been working on various FLOSS projects over the years (GeSHi, htop, RRD, …) there always was the problem of not only getting the formatting right (smallest elephant in the room), but also check for these issues. From experience I found that, apart from locally run tools like [cppcheck](http://cppcheck.sourceforge.net/) you really want some external tooling like Coverity or LGTM to have a look at the code. Also having your build system able to create explicit debug builds with ASAN, TSAN, UBSAN and friends enabled, while forcing a zero-warning policy for code (at least `-Wall -Wextra -Werror -pedantic`, plus some specifics like e.g. `-Wformat=2` that aren't included in `-Wall` unfortunately).

Also providing people a tool to automagically format their code according to some baseline code style with a script maintained in the repository is a good start. But don't expect people to setup pre-commit hooks and other utilities just for some random PR they do: This will not work.

Thus while `clang-tidy` or `astyle` might be on the side of reasonable choices, anything that needs more than some `package-manager isntall tool` to setup will likely cause rejection to use that tool.

Another tool I'd suggest is [IWYU](https://github.com/include-what-you-use/include-what-you-use), which greatly helps to reduce the number of headers included senselessly. And on a side-note: You might want to define a clear order in which headers should appear. In my projects I found that alphabetical order, with system headers before project headers (own module header goes first before everything else) usually works quite nicely. =||= Can we set this up in one of the forks as a demonstration? Even assuming that #835 is resolved without splitting the project it could be a long time before that resolution comes about and they (or whatever fork) can merge changes even if the workflow is only on the demo. =||= Given that just pulling the sources and having all dependencies installed (except for that custom vendored wxWidgets version) this already FTBFS in the `cmake` step (demanding a custom, development version that you can't install on Ubuntu 20.04 LTS without jumping through hoops - which I don't intend to do), And yes, I've read why they want that version not available anywhere in the usual places.

And given the state of their build system and the way stuff is botched in there it's a waste of time trying to improve working with the system, unless the build system is cleaned up and improved first. =||= > don't expect people to setup pre-commit hooks and other utilities just for some random PR they do: This will not work.

In my experience, it actually does work quite well. Maintainers can simply tell contributors to download and apply the patch generated by GitHub Actions. Some don't and never respond, but those generally have more serious issues anyway.

By the way, thanks for htop :heart: It's usually one of the first packages I install after setting up a new Linux system. =||= > You might want to define a clear order in which headers should appear. In my projects I found that alphabetical order, with system headers before project headers (own module header goes first before everything else) usually works quite nicely.

clang-format can take care of this. =||= I'm not sure if I'm missing something about the build, but why _isn't_ the patched wxWidgets in lib-src like all the other major dependencies?

Couldn't it compile the library into the audacity executable like most smaller libraries, saving us the conflict with other wxWidgets versions and allowing a cmake build from source? =||= > > don't expect people to setup pre-commit hooks and other utilities just for some random PR they do: This will not work.
> 
> In my experience, it actually does work quite well. Maintainers can simply tell contributors to download and apply the patch generated by GitHub Actions. Some don't and never respond, but those generally have more serious issues anyway.
> 

If you have some ready patch they can apply to clean up this is a good way to go. But for anything more complex (and be it getting some explicit version of a random library you have to tell the build system about in a non-obvious way) you'll have quite a few people calling it quits.

> By the way, thanks for htop  It's usually one of the first packages I install after setting up a new Linux system.

Glad to hear. :heart:

NB: The build system in `htop` is `autotools` (we had a look at `cmake`, but in the end decided against because of compatibility with some platforms we need to support) and there are several libraries you can optionally chose to include for certain features (e.g. `libsystemd`, `libsensors`). The stand there is basically: If possible it's a compile-time dependency (and without much code, quite a bit is possible in that regard) only and at runtime things are checked if they are really available. Thus `htop` always uses the system libraries (and headers). =||= > I'm not sure if I'm missing something about the build, but why _isn't_ the patched wxWidgets in lib-src like all the other major dependencies?

Just did a `git clone` and hoped for the build system to pick it up from the installed system package. With the default Ubuntu one it complained about it needing the custom patched one and after installing that one (3.1.5 from some repo where someone built it) it picked up on that new version but complained about not finding `wxWidgets_LIBRARIES` and `wxWidgets_INCLUDEDIRS`. And that was the point when the amount of debugging I wanted to invest into a simple build from source ended.

> Couldn't it compile the library into the audacity executable like most smaller libraries, saving us the conflict with other wxWidgets versions and allowing a cmake build from source?

Don't. wxWidgets is large enough that their maintainers already split it up into various sub-projects. You could go about building it statically, but then you'd end up having to compile all of its dependencies as static as well (which I'd call good luck with GTK3+) …

So the FTBFS issue here is that setting up the wxWidget stuff to be found while using that custom version is non-trivial and just allowing to build with the system-installed (3.0.x) libraries should work (and be it with a warning about the stability issues).

2ct =||= Let's stay on topic. Please take discussion about the wxWidgets fork to #625. =||= > > don't expect people to setup pre-commit hooks and other utilities just for some random PR they do: This will not work.
> 
> In my experience, it actually does work quite well. Maintainers can simply tell contributors to download and apply the patch generated by GitHub Actions. Some don't and never respond, but those generally have more serious issues anyway.
> 
> By the way, thanks for htop  It's usually one of the first packages I install after setting up a new Linux system.

One of the Mixxx devs here. I agree with this. We use `pre-commit` for quite a while. For long-term contributors/devs it's pretty nice because you can just set it up locally and stop caring about code style anymore. It takes care of it automatically on each commit. And it also prevents you from adding a big ""reformat code"" commit at the end, which makes the git history harder to read, because if you set it up locally every commit is clean in terms of code style.

For drive-by contributions, the CI setup is nice because it warns you about code style issues (and some of these may not even be visible in the GitHub diff, e.g. trailing whitespace). For these contributors, the CI automatically creates a patch that can be downloaded and applied with `git apply < pre-commit.patch`.

Sure, there are some contributors that don't do this and ignore your request to apply the patch and just abandon the PR instantly after opening it. But this would also happen if you don't have `pre-commit` and point out code style issues manually during review. And tbh, if you do point out them manually you'll likely pile up a large number of code style related review comments that may be even more intimidating to new contributors compared to a single message ""please apply this patch"".  =||= I am closing this.

I do not want petty white space wars creeping into the mix of all the other things to discuss now.

Reopen this idea in a few months after temperature at this GitHub project has cooled down, and after the more ""substantive changes"" like vendoring are fairly discussed.
 =||= Whitespace changes is the smallest part in linting. The much more important part (yet less visible usually) is about looking for patterns that usually are signs of bugs, bad practices or risks of security issues creeping in. =||= BenBE I would favor more cleanups of compilation warnings.  A more valuable suggestion.

See the CMake function audacity_append_common_compiler_options in cmake-proxies/cmake-modules/AudacityFunctions.cmake that sets up some compilation flags applied pervasively.

See the -W options for clang builds.  I recall it was I that added -Werror=dangling-else : that's an example of a programmer error that might compile with unintended change of meaning.  So I made it a build-breaker after I did a review that discovered a dangling-else.  (Which was not in fact erroneous, still I put the extra curlies in.)

Do you want to nominate more -W flags like those?  Better, do it and clean up some warnings?  Be my guest, make a pull request.

Do you want to clean other things in our build system?  Suggest it.  Modestly.  Respectfully of the efforts I and my colleagues on this team have put in.  Not with loaded language like ""the state of their build system and the way stuff is botched in there"" please.

And thank you.

 =||= > BenBE I would favor more cleanups of compilation warnings. A more valuable suggestion.

ACK. Will have a look at this once #853 has been taken care of and Linux builds of master are more friendly to casual contributors. Right now I'm packed enough with other FLOSS projects I maintain thus the amount of work I can put in for such contributions is quite low …

> See the CMake function audacity_append_common_compiler_options in cmake-proxies/cmake-modules/AudacityFunctions.cmake that sets up some compilation flags applied pervasively.

My minimum suggestion for the flags to use is:
- `-Wall`: All basic warnings
- `-Wextra`: Some more of the relevant warnings
- `-pedantic`: Ensure ISO C compliance and warn about non-compliances
- `--std=c++17`: Use C++ 17 language standard
- `-Wshadow`: Warn about shadowing of variables/functions/other symbols
- `-Wpointer-arith`: Warn about situations where pointer arithmetic on void types or NULL is performed
- `-Wcast-qual`: Warn when type qualifiers or removed due to type casts
- `-Wstrict-prototypes`: Enforce prototype definitions to match their declarations
- `-Wmissing-prototypes`: Enforce function definitions to be announced by proper prototype declarations
- `-Wno-missing-field-initializers`: Ensure all fields to be initialized
- `-Wformat=2`: Extensive checking for format strings
- `-Wswitch-default`: Ensure that switch always has a default case
- `-Wswitch-enum`: Ensure all cases for a enum type are handled in a switch statement
- `-Wcast-align`: Ensure proper alignment of data access when typecasting
- `-Wbad-function-cast`: Warn on function casts to incompatible function types
- `-Wstrict-overflow=5`: Strict integer overflow checking
- `-Winline`: Warn when a function marked for inlining cannot be inlined
- `-Wundef`: Warn if an undefined identifier is evaluated in an `#if` directive
- `-Wnested-externs`: Warn about `extern` declarations inside functions
- `-Wunreachable-code`: Warn about unreachable code
- `-Wlogical-op`: Warn about suspicious uses of logical operators in expressions
- `-Wfloat-equal`: Warn about floating point values used in equal comparisons
- `-Wstrict-aliasing=2`: Warn about code that might break strict alising rules
- `-Wredundant-decls`: Warn about redundant declarations inside the same scope
- `-Wmisleading-indentation`: Warn about indentation where statements seem to belong to a block they don't belong to based on their indentation

For debug builds also the following flags should be present:
- `-fsanitize=address,undefined`: Warn about OOB memory access and undefined behaviour
- `-ggdb3`: Extended debug symbols
- `-Og`: Like `-O2`, but no reordering of basic blocks, thus making debugging much more comfortable
- `-Werror`

> See the -W options for clang builds. I recall it was I that added -Werror=dangling-else : that's an example of a programmer error that might compile with unintended change of meaning. So I made it a build-breaker after I did a review that discovered a dangling-else. (Which was not in fact erroneous, still I put the extra curlies in.)

For this `-Wmisleading-indentation` should be included.

> Do you want to nominate more -W flags like those? Better, do it and clean up some warnings? Be my guest, make a pull request.

Nomination list above. Will take a look at fixing warnings once it's no longer a PITA to build from source …

> Do you want to clean other things in our build system? Suggest it. Modestly. Respectfully of the efforts I and my colleagues on this team have put in. Not with loaded language like ""the state of their build system and the way stuff is botched in there"" please.
> 
> And thank you.

I'd appreciate if the build system could be structured a bit more logically and provide some additional hints for overrides. Like for wxWidgets hinting on some easy way to override to disable it forcing to use the use of the custom wxWidget lib. Also notes on providing custom paths for libs, like is common for `autotools` using `--with-libname=/usr/local/mystuff/libname` would be appreciated.

Apart from this I'm low on spare resources for major contributions as I have several FLOSS projects I maintain or are a regular contributor of. =||= I suggest to move the last few comments to a new issue, because compiler warnings are distinct from pure code style issues because they can be signs of actual bugs. Debating this in a closed issue about code style doesn't do the topic justice and it's likely that devs miss out on the discussion.  =||= I concur.  Locking the comments now.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
848Survey on globally distributed software engineeringAsWali05/09/21, 05:20:29 PM"Hey there. 

We are doing a survey on globally distributed software engineering focused on open source projects. If you have some spare time we would really appreciate your response. The form takes about 10 minutes. Thanks in advance!
Survey can be found [here] [Spam link removed]

"I don't think this is the place for that kind of post, surely it would be better to post that kind of thing on Reddit or whatever. =||= Closed as spam. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
849Update pl.po from TransifexGrzegorz PruchniakowskiGootector05/09/21, 03:02:29 PM"Update pl.po from Transifex
Probably the last package of fixes for old translations.

Greetings,
Gootector

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests ""Thanks once again. =||= Thanks, James!
Finally, I was able to finish the verification of the polish translation 😁 =||= "Update pl.po from TransifexGrzegorz PruchniakowskiGootector05/09/21, 03:02:29 PM"Update pl.po from Transifex
Probably the last package of fixes for old translations.

Greetings,
Gootector

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNGrzegorz Pruchniakowski05/09/21, 02:52:31 PM"Update pl.po from Transifex

Update pl.po from Transifex
Probably the last package of fixes for old translations.

Greetings,
Gootector"1
850Audacity Team not listening to Audacity community that they do not want Telemetry in this application they useJosh Gjg77705/09/21, 03:37:10 PM"**Describe the bug**
The Audacity Team continues to not listen to the Audacity community when they have been very clear in PR #835 that they do not want Telemetry in this application they use.

**To Reproduce**
Steps to reproduce the behavior:
1. Go to PR #835 
2. See #835 that there are currently 3,310 thumbs DOWN ratings regarding this PR.
3. See #835 that there are currently 1,065 comments in this PR.
4. See #835 that tons of Audacity users and the Audacity community does not want Telemetry added to Audacity.

**Expected behavior**
For PR #835 to be closed and that no Telemetry be implemented.

**Screenshots**
N/A

**Additional information (please complete the following information):**
 - OS: [e.g. Mac High Sierra, Ubuntu 18.04, Windows 10]
 - Version [e.g. Audacity 2.5.1]
 - (if relevant) Sound Device [e.g. Windows WASAPI, USB Sound card]

**Additional context**
If the Audacity Team wants to still have a user base then they will listen to the people actually using Audacity."I made a [comment](https://github.com/audacity/audacity/pull/835#issuecomment-835829214) describing this to the Muse Group, who apparently do not know about all the forks people are going to make. =||= While providing feedback is very welcome, repeatedly posting your opinion over and over again is considered spamming, and undermines the cause that you intend to promote. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
851Audacity Team not listening to Audacity community that they do not want Telemetry added into AudacityJosh Gjg77705/09/21, 08:50:24 PM"Describe the bug
The Audacity Team continues to not listen to the Audacity community when they have been very clear in PR #835 that they do not want Telemetry in this application they use.

To Reproduce
Steps to reproduce the behavior:

Go to PR #835 

1. See #835 that there are currently 3,310 thumbs DOWN ratings regarding this PR.
2. See #835 that there are currently 1,065 comments in this PR.
3. See #835 that tons of Audacity users and the Audacity community does not want Telemetry added to Audacity.

Expected behavior
For PR #835 to be closed and that no Telemetry be implemented.

Screenshots
N/A

Additional information (please complete the following information):

OS: [e.g. Mac High Sierra, Ubuntu 18.04, Windows 10]
Version [e.g. Audacity 2.5.1]
(if relevant) Sound Device [e.g. Windows WASAPI, USB Sound card]
Additional context
If the Audacity Team wants to still have a user base then they will listen to the people actually using Audacity.""This is a REAL issue, so please stop closing my bug reports. =||= @jg777 This is, in fact, a real issue. =||= > @jg777 This is, in fact, a real issue.

Agreed. I had to open this issue as they closed Issue #850  =||= You can stop creating useless issues now.  =||= https://github.com/audacity/audacity/pull/835#issuecomment-835880865 closed this issue 

 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
852The end of audacity.hPaul LicameliPaul-Licameli05/10/21, 05:05:23 AM"Remove the old Audacity.h header file...
    
... instead, do all that it did either with macros in header files of more
limited use, or in CMake where there are declarations that really must be
pervasive.
    
This will be a useful preliminary for later refactoring work to make separate
libraries.
    
See also commit 19312e4 where similar was done for Experimental.h.""> Would it make sense to rename this file? With the inclusion of macros like MAX_AUDIO, it isn't really about Memory any more?

I agree maybe not the best new home for the macros, but it was an expedient to help the main thing of this branch, elimination of another header.

MemoryX.h began a miscellany of old stuff to accommodate certain compilers and imperfect C++ standard library implementations,  that should go away with better standard implementations.


 =||= I recommend to incorporate the output of `git describe` in the GUI and logs so it is easy for developers to know exactly what code users are running. We have been working towards this on Mixxx.

cc @Holzhaus and @daschuer =||= > I recommend to incorporate the output of `git describe` in the GUI and logs so it is easy for developers to know exactly what code users are running. We have been working towards this on Mixxx.
> 
> cc @Holzhaus and @daschuer

I won’t comment on the merits of the suggestion, but I think it is not directly relevant to review of this pull request. =||= > 
> 
> I recommend to incorporate the output of `git describe` in the GUI and logs so it is easy for developers to know exactly what code users are running. We have been working towards this on Mixxx.
> 
> cc @Holzhaus and @daschuer

This is already being done.  Check the Commit ID in Help -> About Audacity -> Build Information. =||= "The end of audacity.hPaul LicameliPaul-Licameli05/10/21, 05:05:23 AM"Remove the old Audacity.h header file...
    
... instead, do all that it did either with macros in header files of more
limited use, or in CMake where there are declarations that really must be
pervasive.
    
This will be a useful preliminary for later refactoring work to make separate
libraries.
    
See also commit 19312e4 where similar was done for Experimental.h."NaNPaul Licameli05/09/21, 06:56:55 PM"Remove the old Audacity.h header file...

... instead, do all that it did either with macros in header files of more
limited use, or in CMake where there are declarations that really must be
pervasive.

This will be a useful preliminary for later refactoring work to make separate
libraries.

See also commit 19312e44c8c7914553764ae72ab8d9cfaebb1275 where similar was
done for Experimental.h."1
855Request for clarification on Muse Group's involvement and vision for the Audacity projectJuliendomsson05/11/21, 04:48:17 PM"Both the [Audacity website](https://www.audacityteam.org/audacity-musescore-announcement/) as well as [Muse Group's website](https://mu.se/muse-products) states that Muse Group has acquired Audacity. However, hardly any details have been given. The information given on the [Wikipedia page on Muse Group](https://en.wikipedia.org/wiki/Muse_Group) is also vague and questionable at best. All we have to work with is this quote from Tantacrul's video: 

> Audacity has just joined Muse Group, a collection of brands that includes another popular open source music app called MuseScore, which I’m currently in charge of.

This raises several important questions. To name a few:

 - Is it even possible for a company to acquire a free and open source project licensed under the GPL?
 - How exactly did Muse Group acquire Audacity?
 - What rights and power does Muse Group legally have over the Audacity project?
 - Can Muse Group even legally claim ownership over the project or do they simply own the trademarks to the name and logo?
 - Who exactly is behind Muse Group; what roles do these people have?
 - What are Muse Group's visions and goals for Audacity?
 - How does Muse Group plan on going about putting these goals and visions into practice?
 - How does Muse Group plan on handling situations where they want a new feature but the community rejects it (see [PR 835](https://github.com/audacity/audacity/pull/835))?
 - Are any of the core maintainers and team members of Audacity now on the pay roll of Muse Group?
 - What is the project father's and core maintainer's role and view of these events?""I'm specially interested in the questions about defining the relationship between Muse Group and external developers like contributors who have their own interest, will and schedule.

Because to speak about myself [one of my main concern and interest](https://github.com/audacity/audacity/pull/835#issuecomment-836355997) for Audacity right now is to never see a split of efforts and other waste like I have seen so many time in other projects, either because one group has the name and the other group the workforce, either because of disagreements between parts, either because of lack of interest in being part of a whole.

Without much information I assume it's good and welcome if Muse Group can put paid people on making Audacity better and putting Audacity in places it's not there yet, but defining relationship with the community seems to be an important point to address to begin with. Hello people. =||= I'm also curious about this. ""Acquiring"" an open-source project that's licensed under the GPL2 -- or licensed under an open-source license at all -- seems really sketchy to me. (Is it even legal under the GPL to do something like that to begin with?) The lack of information about the acquisition, supposedly from a company who holds a stance that Audacity will remain ""free and open-source"", is also suspect. I think that we as the community have a right to know a lot more than what the company has provided us. If Muse Group -- whoever they are because I've never heard of them -- are trying to put on the face of transparency and trustworthiness, they're failing big time at it. =||= After answering these questions, I think it would be beneficial to work with the community towards written, specific policies on shared governance. I'll point to the [Fedora Council Charter](https://docs.fedoraproject.org/en-US/council/) as a positive example of a for-profit company supporting a community project. RedHat employs a few select people to work on Fedora full time and pays for Fedora's infrastructure, but for the most part the project is run by and for its community. I've been using Fedora for 15 years and never felt concerned that RedHat's involvement with the project was harmful or in conflict with the community. =||= The only thing that I can think of is, that the **name** ""Audacity"" (which is a trademarked name, AFAIK) was sold. I cannot think of any legally possible way of really selling a GPLed source with more rights to/for the buyer than to anyone else would have/retain who aqcuired the source by other means (by e.g. just downloading the source).
So, the fork ""FOSS-Audacity"" most probably cannot keep this name but would be fine if named ""Aefkaa"" (Audio editor formally known as Audacity)...
Edit: Same as with Libre-/OpenOffice. =||= The ""Audacity"" logo trademark was filed in March 2021:
https://tmsearch.uspto.gov/bin/showfield?f=doc&state=4808:oh9d5r.2.12

In case that link throws a session error, also refer to:
https://www.trademarkelite.com/trademark/trademark-owner/MUSECY%20SM%20LTD. =||= > I'm also curious about this. ""Acquiring"" an open-source project that's licensed under the GPL2 -- or licensed under an open-source license at all -- seems really sketchy to me. (Is it even legal under the GPL to do something like that to begin with?)

@ethindp Indeed it's possible to acquire an open-source project and it's fully legal (and is not necessarily harmful), GPL2 has nothing to do with this, GPL2 is mostly about making sure the copy you get once under GPL2 will still be GPL2 forever in your hands (even if yourself don't agree with this).

A company can acquire the name, hence the brand and trademark. It's not the project per se, but a project with its renowned brand is as fragile as a newborn again, so yes selling the brand makes huge part of acquiring a project. Selling only a brand [already happened in the past](https://en.wikipedia.org/wiki/Xonotic#Development) with some other projects, though it appears that's not what is happening with Muse Group and Audacity there, there is multiple articles on the web clearly stating about taking care of the open source side of Audacity, the freeness of it, improving it ([1](https://mu.se/newsroom/tpost/6dhedma301-muse-group-acquires-audacity-expanding-c), [2](https://www.musictech.net/news/industry/audacity-acquired-muse-group-ultimate-guitar-musescore/), [3](https://www.minimachines.net/actu/muse-group-rachete-le-logiciel-audacity-99063)) and even testimony from a developer who joined the team to work on Audacity (and one who know about open source), one who already worked for another open source software previously acquired by Muse Group: [Muse Score](https://musescore.org/). So time will tell, but for now we can't assume it's bad per se, and don't look harmful at first glance (though they may still have to learn a bit about some expectations of open source users given #835). That can be good if they behave well.

A company can also hire the key developers of a project, hence owning the workforce. A company can hire project heads, acquiring the decision. That can be good if they behave well.

In some case (if the sellers got copyright assignment) it may even be possible for a company to buy the copyright of the open source project with right to remove the GPL2 itself. That would not be good if that happened but I doubt it would happen with Audacity, and that's not what Muse Group does with MuseScore they acquired before anyway. So that part looks safe.

> So, the fork ""FOSS-Audacity"" most probably cannot keep this name but would be fine if named ""Aefkaa"" (Audio editor formally known as Audacity)...

@Locutus74 A fork would be the worst thing for everyone ([see my comment there](https://github.com/audacity/audacity/pull/835#issuecomment-836355997)), after a decade [Xonotic](https://xonotic.org/) never recovered the Nexuiz coverage after the Nexuiz trademark was sold, after a decade [LibreOffice](https://www.libreoffice.org/) haven't recovered yet the other half of users using OpenOffice because they don't own the OpenOffice trademark… Such a fork would be bad for users, for audacity as a project, and for Muse Group. No one has something to gain from a fork. This only have to be done on last resort.

If MuseGroup seems to have to learn a bit about open source communities, for now all they did were mistakes they can fix and learn from, they didn't tried to harm the project intentionally yet. =||= @illwieckz ... nope, a fork is not necessarilly the worst thing for everyone. LibreOffice is the very best example for this.

And BTW: What you described is exactly **not acquiring a GPLed project**. It's aqcuiring just **the name**, only. 

Why? Just because the company which aqcuired the project does not have any more rights on it as anyone else who has the source-code. With the name it's a different thing, though.

And the name may be more important in the first place. But not on the long run... =||= I think that what is being lost in all this is the simple question:
Who are these people really, behind the organization known as Ultimate Guitar, or WSM Group, or Muse Group, or MuseCY Holding LTD.?
Who owns the for-proft company called MuseCY Holding LTD?
Personally, I would not trust their motives until this information is revealed. =||= At least at a first glance ""MuseCY Holding LTD."" seems to be a typical letterbox (money laundry?) company in Cyprus. 
It therefor most probably is impossible to find out the real owner. And yes, this looks a little bit (more) shady, now... =||= > At least at a first glance ""MuseCY Holding LTD."" seems to be a typical letterbox (money laundry?) company in Cyprus.
> It therefor most probably is impossible to find out the real owner. And yes, this looks a little bit (more) shady, now...

Before we all loose our heads, there's plenty of legal and reasonable reasons to form a shell company.

Also wasn't it determined in 835 that MuZe Group is not affiliated with MuseCY?
 =||= > Also wasn't it determined in 835 that MuZe Group is not affiliated with MuseCY?

Maybe. I must admit, that I did lost track after hundreds of posts in 835... =||= > @illwieckz ... nope, a fork is not necessarilly the worst thing for everyone. LibreOffice is the very best example for this.

@Locutus74 This is not contradictory. My opinion is that the Xonotic fork was the best thing that happened to Nexuiz, in term of direction. The LibreOffice fork is very successful and can be named among the most successful fork in history.

But the sad reality around this is even if the fork was the best thing that happened to Xonotic, Xonotic never recovered its recognition and reputation 10 years later, French Wikipedia even [deleted three times the Xonotic page](https://fr.wikipedia.org/wiki/Xonotic) because of lack of recognition.

The sad reality is that even if LibreOffice is one of the more successful fork in history, half of the users still use OpenOffice, most of them probably don't know LibreOffice about at all, 10 years later, and I verified this around me.

Forking is engaging oneself for a full time job. This is just wasting time for every parts.

Xonotic didn't have the choice to lose the brand. LibreOffice didn't have the opportunity to keep the brand.

Note that LibreOffice is a special situation. LibreOffice was based on GO-Office which was an enhanced OpenOffice (basically all the Microsoft docx/xslx things were implemented in GO-Office first), at the time, and before LibreOffice existed, almost all Linux distributions shipped GO-Office under OpenOffice name. It was like, OpenOffice with GO-Office patches. But after all that Oracle buying and other details, the definitive split from OpenOffice was inevitable. LibreOffice suffered from the lose of the name, but they already had the workforce from before Oracle bought OpenOffice wen acquiring Sun.

So yes LibreOffice is a perfect example of successful fork, but also the perfect example that even after a decade such fork can't recover the same brand recognition and only gets something like half the users…

At this point nothing in MuseGroup acting makes a fork inevitable. They clearly made a mistake, but they can learn from it. No door is closed.

> And the name may be more important in the first place. But not on the long run...

Both Xonotic and LibreOffice examples show that a long run of 10 years is not long enough.

Anyway this thread is about getting answers from MuseGroup. At this point we need answers from MuseGroup and they made many people angry, but they did not made any unrecoverable mistake that would make a fork inevitable yet… So better not be responsible for greater harm than they did by causing the fork oneself. At least, MuseGroup didn't forked, and they had right to, that's a notable thing to notice, that means they don't want to split the community. =||= > what Muse Group does with MuseScore

Muse Group has imposed a CLA on MuseScore. That's another topic though. Let's discuss that in #844. =||= @IGBC I have determined, by emailing Dominic Mazzoni and perusing puiblically available records, that the trademark, ""Audacity"" is owned by MuseCY Holding Ltd., and it was purchased through their legal representative, Tony Berman. So MuseCY Holding Ltd. incorporated in Cyprus is definitely the correct company.

If any employees, management, or legal counsel of MuseCY Holding Ltd. are reading this. I urge you to reveal the whole truth about this company, its ownership and leadership. =||= > Muse Group has imposed a CLA on MuseScore. That's another topic though. Let's discuss that in #844.

They have **WHAT?**

If I would have contributed there I would not sign this but asking them to remove my contribution... They're not on ones right mind... (I really need to clarify if I possibly can except them from using/linking against/derive from my GPLed code (with a lawyer, obviously).) =||= While I don't like CLAs, CLAs can sometime be required even to do free software and get it used. That can be surrealistic, but… well, that's true, you can read that [testimony](https://mediaarea.net/blog/2018/03/20/Why-we-changed-MediaConch-license) (edit: english link).

The developer of the open source [MediaInfo](https://mediaarea.net/en/MediaInfo) and [MediaConch](https://mediaarea.net/MediaConch) explained that he submitted to a call for project, the specifications required GPLv3+/MPLv2+ licenses. His free and open source application was compatible to both GLPv3+ and MPLv2+ (his code was BSD, so compatible with and much more permissive than GLPv3+ and MPLv2+), but he would not have been to submit if he did not have any CLA, because the specification was not to be compatible GPLv3+/MPLv2+, but to be GPLv3+/MPLv2+… So, the CLA allowed him to relicense from BSD to GPLv3+/MPLv2+ the code he delivered. Otherwise it would have been required for him to rewrite all the code he is not author from scratch, despite being under permissive BSD. This is a true story. =||= I have begun editing the wikipedia page for muse group to insert the correct date of its formation, namely july 2020, not april 2021. (I have citations proving this, of course.) =||= ![image](https://user-images.githubusercontent.com/6403276/117709159-9bb1c500-b19e-11eb-91c0-7b218aa86c13.png)
 =||= So, the number of months in which MuseCY Holdings Ltd aka ""muse group"" operated in secret is raised from 4 to 8, as they did not reveal company's existence until 8 months after its actual formation. =||= They are currently attempting to stop another company, Cantab Risk Research Limited , from using the name ""audacity plus"". This is how I know the name of their legal counsel, Tony Berman of Berman Entertainment and Technology Law (BEAT-LAW).
https://ttabvue.uspto.gov/ttabvue/v?pno=91267301&pty=OPP =||= First of all, I want to address @illwieckz comment about forking. LibreOffice is *way* more successful than OpenOffice. Libre is the default office software for all the major distros. I don't know the numbers for sure, but I would be **extremely** surprised if OO had maybe 5% of the users Libre has at this point. I don't know of any distro that still includes OpenOffice over LibreOffice. The fork has gone incredibly well.

Honestly, forking Audacity should definitely be on the table. So what if they have the name? Coming up with a name isn't that hard. Sure, it'd be a blow to the project, but taking that known blow over the unknown damage this company could cause seems like the logical course of action (if it comes down to it, of course -- we still have to wait and see if the company responds in any way). The major distros would almost certainly switch over to the new fork within a very short period of time, as that's where all the work and improvements would be done. If all they've done is acquire the name, then they can't stop anything else. I'm also interested in the fact that they've registered the logo -- my initial assumption would be that someone in the community created that logo under some sort of license (maybe CC?) and contributed it to the project. Perhaps it was the original founder of the project who made it, in which case they could sell the copyright to it. But again, I think it's best to make sure this can't ever happen again. Who knows if they will sell the name and logo to someone else down the line? Making some kind of Audacity Foundation (with whatever the new name would be) and assigning the name and logo to them, to be run by the community, seems like the best safety net.

No matter what the company says, remember that they are a for-profit. Their motive lies in making money, not in making good free software. Their bank account will always come first over the community. If they have the correct ideals then open source and making money can go hand in hand with everyone benefiting, but they've not shown any indication of that so far... so I'm definitely hesitant to trust anything they say.

(Oh, for that petty person who thinks if you don't have GitHub commits you're not allowed to have an opinion -- I moved to GitLab when Micro$oft bought GitHub. And most of my open-source contributions are on there or on the GNOME GitLab instance.) =||= > Making some kind of Audacity Foundation (with whatever the new name would be) and assigning the name and logo to them, to be run by the community, seems like the best safety net.

This is somewhat like what Blender does. =||= > (Oh, for that petty person who thinks if you don't have GitHub commits you're not allowed to have an opinion -- I moved to GitLab when Micro$oft bought GitHub. And most of my open-source contributions are on there or on the GNOME GitLab instance.)

At least you don't say others don't know how free software or GitHub works. Not having a commit and claiming to know better at the same time is the suspect thing. =)

[Edit: I don't have a commit on audacity as well, but I do believe to know a bit the topic discussed there, though I'm open to contradictions and don't assume contradiction is necessarily wrong or misinformed just because I would not like it…] =||= @illwieckz 
> While I don't like CLAs, CLAs can sometime be required even to do free software and get it used.

I am sorry, but I regard this to be a ""false flag argument"". If a software-project is GPLvX and the source is delivered as BSD everything **is** fine. You even can directly link against it. The only obligation is to name the authors in the ""about""-screen and/or at some other prominent location. Maybe in the manual. So there is simply **no reason at all to enforce the source-contribution to be pure GPL**, too. The main project still is and will be GPLed. However: If one would address **me** for one of my libraries to be specifically GPLed (most already are either LGPL, GPL or some (a very few) BSD, BTW...) then off course I would offer double licensing. **But ... for ALL users...** 

If I can't do that, because I am not **the** single one author, I would contact (at best knowledge) all other authors to negotiate double-licensing. If I can't do that -- maybe because I just can't reach or even know all the authors -- I would simply say: Stay with the license as it is or ... get lost...

> you can read that testimony (edit: english link).

Original post was reading: ""use a translator to translate to your native language...""

Guess what my native language might be... yours is (I guess from syntax and grammar) French. And ""english"" in this context is written ""English""... You don't mind, that I regard the original text being slightly offensive in this context, do you?

> [Edit: I don't have a commit on audacity as well, but [...]]

I don't have a single commit on Github. But, I have a (stone-aged, single...) commit on Audacity and I am in the FOSS-business for about 30+ years, now, starting on Sourceforge (grumpy old man). I -- however -- never felt that a github-commit would be some sort of quality mark... Esp. not after Github being acquired by Microsoft. My code bled into VLC, the Gimp, LMMS and others, being mainly DSP-related  and/or real-time-related ""stuff"". This account however was specifically created to be able to discuss this particular topic. The source isn't (and never will be) here... just call me a paranoid... I would be proud of it. =||= > Guess what my native language might be

I'm not assuming you're the only one on earth reading that thread neither this thread is about you. =||= > I'm not assuming you're the only one on earth reading that thread neither this thread is about you.

Fine. So, we can just discuss the main topic, again? =||= > I have begun editing the wikipedia page for muse group to insert the correct date of its formation, namely july 2020, not april 2021. (I have citations proving this, of course.)

@orenwatson Thank you for your efforts! As long as there is no statement from Muse Group or the people in charge of Audacity, we might as well collect as much information as we can. In this vein, would it be helpful to try and make a list of all people we _know_ are involved with (employed by) Muse Group? For now, I am only aware of:

- [Tantacrul](https://github.com/Tantacrul) - UI/UX, ""in charge""
- [crsib](https://github.com/crsib) - Programmer
- [workedintheory](https://github.com/workedintheory) - Head of Strategy =||= > in some case (if the sellers got copyright assignment) it may even be possible for a company to buy the copyright of the open source project with right to remove the GPL2 itself.

No, this is not possible. The company may choose to develop a closed source version and release that under a different license, but they have no ability to revoke a license granted already. This is a key part of the GPL. Anyone who has used the software may use it, may distribute it, and may modify it and distribute the modifications, provided they comply with the requirements of the GPL. 

If the company purchased the copyright from all original contributors (a practical impossibility at this point), they could themselves breach the GPL, as they would be using the code as the owners of it, rather than as licensees - but they could not revoke other people's valid licenses, and they could not prevent others from using and sharing their GPL'd versions.  =||= > > in some case (if the sellers got copyright assignment) it may even be possible for a company to buy the copyright of the open source project with right to remove the GPL2 itself.
> 
> No, this is not possible. The company may choose to develop a closed source version and release that under a different license, but they have no ability to revoke a license granted already.

@Blu3wolf Please don't extrapolate on other people words. I never said such company would be able to retroactively remove GPL2 on something delivered. It looks like you assumed words at the end of my sentence, words I never wrote. I never added “retroactively” at the end of the sentence.

I never wrote those words about retroactivity because I even made it clear some sentence before in the same post you quoted it is not possible to revoke a license granted already:

> GPL2 is mostly about making sure the copy you get once under GPL2 will still be GPL2 forever in your hands (even if yourself don't agree with this)

- “The copy you get once under GPL2 will still be GPL2 forever” → not possible to revoke a license granted already.
- “even if yourself don't agree with this” → even if the company buying copyrights and/or getting CLA signed don't don't agree with this.

Clearly, what have been GPL2 is GPL2 forever, but the ones who may buy copyrights, obtain CLA etc. have rights to add new licenses to the existing code (that would be dual licensing, even with non-free licenses) and have rights to legally publish new version with code that was never GPL2 and will never be, meaning the users can't backport the change to the GPL2 version they got first.

> If the company purchased the copyright […] they could not revoke other people's valid licenses, and they could not prevent others from using and sharing their GPL'd versions.

This is exactly what I said. We were just agreeing on that topic, so better not assume contradiction first.

This is exactly why CLAs can be problematic and people can be concerned about it.

A company can't buy the copy you already got in the past, but a company can buy almost everything about the future of the software: the name, the brand, the recognition, the workforce, the decision, and the right to change license for the future code.

Of course people can share their GPL'd version, but we can't assume those GPL'd versions will carry the brand, the recognition, the workforce and the decision. For example LibreOffice carried the workforce and the decision but did not carried the brand and had to build up recognition from scratch.

This is pretty problematic, and history shows that even among most successful forks may have hard time to fully recover. I'm not happy with this, but to properly deal with a problem we have to look at things the way they are and not the way we want them to be. =||= Hey everyone.
Our account was flagged on the previous PR, so this message is aimed to let us understand if we are able to comment this PR. Nevermind and have a perfect day! ;-) =||= > ... but the ones who may buy copyrights, obtain CLA etc. have rights to add new licenses to the existing code (that would be dual licensing, even with non-free licenses)...

Erm, not quite... They cannot change the license of existing code. They however could republish the old code using a dual-license model (would not make too much sense for them) and they could **try** to add new code using a non-free license.

Why only ""try""? 

If there only remains one single line of code of which they do not have a CLA and which is originating as GPL before they added their shiny new stuff, then everything they add for new automatically becomes licensed under GPL, too (key word is ""derivative work"").

GPL is predatory in this regard: This is one of the main security features built into the GPL because RMS had foreseen situations like this. That twist is all but new... 

> ... but to properly deal with a problem we have to look at things the way they are and not the way we want them to be...

I really would like stress and second this. =||= > They cannot change the license of existing code.

I did not said change, I said _add_.

> They however could republish the old code using a dual-license model

That's exactly what I said: “_add new licenses to the existing code (that would be dual licensing […])_”

Anyway, we are focusing on details about each other words, not about the specific questions related to Muse Group acquisition of Audacity. So we're loosing our time each other.

If something is not perfect in someone's word or may induce misinterpretation, this looks pretty minor compared to the topic, and those minor things can be handled later if they become non-minor at some point anyway. =||= I don't know where [this poster](https://discuss.pixls.us/t/libre-arts-ultimate-guitar-launches-muse-group-and-acquires-audacity/24795/4) got this information and if it is accurate...

> It has not been widely publicized, but Muse group acquired rights to code contributions from many of the major contributors to the codebase. This doesn’t negate the GPL license, but would probably permit them greater control and maybe the ability to make a non-GPL version, but they haven’t suggested they are interested in that. If they did that, it would kill off the huge user support community and volunteer coder staff, and because the 3.0 codebase is still available, it could be forked from there or their latest GPL release. They may have plans to require license assignment from future third-party contributors, which might reduce the volunteer developer community, but it is not super-active anyway. I’m sure there are bug fix contributions that have not completely been acquired–from anonymous contributors, contributors who have died, and others who are just unfindable, but these would mostly have been reviewed, revised, and committed by identifiable team members who did license their contributions. There could be an issue with these contributions if Muse wanted to roll a pro version not under the GPL. It might require a substantial code audit if they wanted to do this which would be a huge obstacle, but If they tried that and somebody complained, it would mean the un-acquired code would then be clearly identified, and Muse could just pull it out or rewrite it or pay the contributor relicense it. =||= https://mu.se/newsroom/tpost/3dkxig59m1-muse-group-launches-to-support-music-tec

> Executive roles and company leadership of Ultimate Guitar will transition into similar roles in Muse Group with no other major structural or operational changes within the individual portfolio companies. =||= @illwieckz and @Locutus74 

Just a quick reminder that this issue is about clearing up Muse Group's involvement and vision for the project. The details of copyright, while still to some degree very relevant here, are probably better discussed in detail over at [844](https://github.com/audacity/audacity/issues/844). =||= Do we need a seperate issue for demanding that the people behind MuseCY Holdings Ltd and/or MuseCY SM Ltd. identify themselves and stop hiding behind Cypriot shell companies? This is not honest and open conduct. 
Edit: An proprietary software developed under such circumstances would be considered highly suspect for being malware of some kind, of course here code can be audited, but if this program begins communicating with closed-source code at Muse...
 =||= > Do we need a seperate issue for demanding that the people behind MuseCY Holdings Ltd and/or MuseCY SM Ltd. identify themselves and stop hiding behind Cypriot shell companies?

I don't think so. After all, one of the questions listed is: _""Who exactly is behind Muse Group; what roles do these people have?""_

I've got to say, I'm quite astonished that there is still _no_ reply from _any_ of those who do have at least _some_ of the answers. =||= You're going to have to rely on public statements from https://mu.se/ and what you can work out for yourselves form publicly available information.  

Beyond that, rely on actual behaviour of people actively working on Audacity.  You can't tell that from immediate actions over the short term, only from longer term.

We use GitHub issues for issues with code.  If someone closes this, it will be closed and locked pretty quickly.  I'm converting this to a discussion so that it can stay open, at least for now.

 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
856LinkagePaul LicameliPaul-Licameli05/10/21, 02:46:56 PM"Prepare many things to keep linking on Windows after the executable gets split up.

Another preliminary chore , but also a sweep touching many lines in the second commit.

Please review the first commit, and glance over the second and confirm I'm only adding AUDACITY_DLL_API in many places.""Out of curiousity could someone explain how the AUDACITY_DLL_API decorator on structs and functions effects linking? I am new to how linking on windows works =||= > Out of curiousity could someone explain how the AUDACITY_DLL_API decorator on structs and functions effects linking? I am new to how linking on windows works

MSVC requires every symbol exported from a DLL to be explicitly declared or it won't be usable from linked code. Alternatively setting the [`WINDOWS_EXPORT_ALL_SYMBOLS`](https://cmake.org/cmake/help/latest/prop_tgt/WINDOWS_EXPORT_ALL_SYMBOLS.html#prop_tgt:WINDOWS_EXPORT_ALL_SYMBOLS) property on the CMake target can take care of that automatically. =||= > Verified PR is clean of any code for purposes other than those described in the PR.

@IGBC, I am warning you once that I will treat all of your comments on my pull requests as unwelcome spam, and summarily delete them, if after 24 hours, I do not see an apology to my colleague Steve Daulton for the bullying tone you took in this comment.

https://github.com/audacity/audacity/issues/699#issuecomment-835600912

If you want to be a serious participant in the conversation about Audacity, approach the established team members with more humility and respect.

As all serious participants should treat each other.
 =||= > I approve this pull request.
> 
> To table for later, some discussion of using different macros to document which interfaces are at least heading in the direction of becoming stable reusable APIs and which ones are highly in flux still.

Stability and good documentation of the interfaces for modules may be a task for later.  My exploratory restructurings accomplished as a side effect the identification of the classes and functions that must become part of the interfaces (at least those that are not inline) because MSVC requires this annotation so that things will link.

So the scan for the _API macros will help separate what needs more careful documentation from what is implementation detail.

When a module is separated, AUDACITY_DLL_API will have to be searched-and-replaced with some other macro appropriate to the new module, like MOD_LABEL_TRACK_API.  See commit 9fb3252 where I caused CMake to generate the definitions of those macros.

> 
> I think it is really important to now document in the wiki (or in a doxygen topic document so it stays with the code) the bigger reasoning for this change, the use of PROHIBITED, the requirements on compiler/C++ version. Perhaps some documentation too of where interfaces are beginning to stabilise? This change needs to be understood in context.
> 
> PROHIBITED feels (based on my coding style) like extra inconvenience in development. However, if locking more and more things down for safety becomes ubiquitous, then PROHIBITED is just idiom, part and parcel of developing in Audacity - something every Audacity developer must learn once. So I have no problem with it, provided we are heading towards systematic safer development with well documented rationale. The danger I see is in (a) transition, having a higgledy piggledy mix of what is done safely and what isn't that is harder to work with (b) rationale only known/understood by the developer (you, Paul) who is making the code safer.


PROHIBITED is just a macro that expands to
= delete
Which since C++11 causes a compilation error when overload resolution chooses the function declared with it.  It's the proper way now to guarantee that a class is no-copy by making such declarations of copy construction and assignment.

Why do I use the macro?  It began with that naked-new cleanup years ago.  I wanted an easy textual scan for all uses of the delete keyword, to verify there are not naked deletes that should be fixed with smart pointers and RAII idiom.  This macro just keeps those uses of = delete out of the textual scan.

It's not really about ""safety"" unless that term includes non-leakage of memory.

 =||= > 
> 
> > Verified PR is clean of any code for purposes other than those described in the PR.
> 
> @IGBC, I am warning you once that I will treat all of your comments on my pull requests as unwelcome spam, and summarily delete them, if after 24 hours, I do not see an apology to my colleague Steve Daulton for the bullying tone you took in this comment.
> 
Oh, you didn't know Paul?  Lauren is a member of the open source S.W.A.T. team and is our new PR auditor.  She takes her commitment to Audacity VERY seriously too since she's been a (self appointed) ""member"" for all of a few days.  I hope she can commit the years upon years that the rest of the team has put into the project.
 =||= By all means @IGBC, keep an eye on pull requests being opened. But sarcastic code reviews and comments don't help anything (that goes for both sides). =||= > > > Verified PR is clean of any code for purposes other than those described in the PR.
> > 
> > 
> > @IGBC, I am warning you once that I will treat all of your comments on my pull requests as unwelcome spam, and summarily delete them, if after 24 hours, I do not see an apology to my colleague Steve Daulton for the bullying tone you took in this comment.
> 
> Oh, you didn't know Paul? Lauren is a member of the open source S.W.A.T. team and is our new PR auditor. She takes her commitment to Audacity VERY seriously too since she's been a (self appointed) ""member"" for all of a few days. I hope she can commit the years upon years that the rest of the team has put into the project.

I share your sense of frustration.  But I will also allow those who know something about code (and this one might), and who want to offer serious suggestions (rather than presuming to dictate to us how we must do things), a chance to change their tone.  So I'm withholding my own sarcasm.

I don't want an epic argument about etiquette starting here either.  So please, enough said from us, unless @IGBC has an answer.

The pull request, meanwhile, is merged (by me) after your examination of it.
 =||= > > Verified PR is clean of any code for purposes other than those described in the PR.
> 
> @IGBC, I am warning you once that I will treat all of your comments on my pull requests as unwelcome spam, and summarily delete them, if after 24 hours, I do not see an apology to my colleague Steve Daulton for the bullying tone you took in this comment.
> 
> [#699 (comment)](https://github.com/audacity/audacity/issues/699#issuecomment-835600912)
> 
> If you want to be a serious participant in the conversation about Audacity, approach the established team members with more humility and respect.
> 
> As all serious participants should treat each other.

Apologies to @SteveDaulton for the tone I took with him in  [#699 (comment)](https://github.com/audacity/audacity/issues/699#issuecomment-835600912). Full disclosure I was actually drunk when I posted that. I consider it a lesson learnt I probably shouldn't log into GitHub at all when not in a professional mindset. I wish to also extend my apologies to anyone else who felt attacked or unwelcome because of my conduct in #699

> > > Verified PR is clean of any code for purposes other than those described in the PR.
> > 
> > 
> > @IGBC, I am warning you once that I will treat all of your comments on my pull requests as unwelcome spam, and summarily delete them, if after 24 hours, I do not see an apology to my colleague Steve Daulton for the bullying tone you took in this comment.
> 
> Oh, you didn't know Paul? Lauren is a member of the open source S.W.A.T. team and is our new PR auditor. She takes her commitment to Audacity VERY seriously too since she's been a (self appointed) ""member"" for all of a few days. I hope she can commit the years upon years that the rest of the team has put into the project.

Well ouch. But mostly not untrue. In #835 I did point out that I would be monitoring all commits from now on. And I promise you I will not be going away in a few days either. I don't consider it some sort of open source SWAT manouvour either. I think its an important roll in the foss community.

As for my remark in my code audit. It is not intended sarcastically or with malice, only as a notice to anyone who looks at this PR and sees 1000 lines changed that they have been checked and that we don't need a repeat of #835. Nobody (especially me) wants all that drama to happen again. 

So in summary. apologies to @SteveDaulton  and @Paul-Licameli. I am here to help. Message received, I will take a more relaxed tone with the community from here on out.

Back on topic I am pleased an exited to see work commencing on extracting some of the dependencies out of the binary, and if anyone is interested in handing out work packets I am more than happy to go do some boilerplate work. =||= I accept your apology, on my own behalf.  I won't speak for Steve.

As for watching the commits, you may have noticed a big line count in this one.  True.  But as you see, it was one of those boring routine sweeps of things.  Nothing like the inclusion of a whole new library.

 =||= "LinkagePaul LicameliPaul-Licameli05/10/21, 02:46:56 PM"Prepare many things to keep linking on Windows after the executable gets split up.

Another preliminary chore , but also a sweep touching many lines in the second commit.

Please review the first commit, and glance over the second and confirm I'm only adding AUDACITY_DLL_API in many places."NaNPaul Licameli05/10/21, 10:35:33 AMPreliminary changes for some linkages on Windows before modularizing1
858Meta Issue: Issue LabelsSEGFAULTIGBC05/22/21, 12:42:42 PM"Can we get some Issue labels, so we can more quickly filter between bugs, feature requests, etc?

I would really like to be able to keep an eye on just bugs, for one thing it'll make it way quicker to pick out something to code on. But as of right now we don't have any way of filtering them in GitHub.""Hi! We will be going in that direction soon. For now, bugs are tracked using https://bugzilla.audacityteam.org/ =||= @IGBC - Do you want to propose some issue labels?

My thoughts are that GitHub issues will become issues that we actually are able to and expect to close, whereas GitHub discussions (newly opened up) will be ongoing discussions open to different points of view.  The distinction between actual QA bug work (in bugzilla) and general open to anyone to add to wish list and questions and ideas (here on GitHub) is one reason we've in the past kept bugzilla as a closed invitation only platform.  People have to understand what we mean by P2, P3, Enh: and how we work, for their contributions to be useful there.

FYI the issue labels we have in Bugzilla are:

* Repeatable, RepeatableAll (i.e. all platforms), Locale, Accessibility, MoonPhase, Enhancment.
* Slow, 64Bit, JACK, AudioUnits, WASAPI, NoteTrack, LV2....
 =||= I think starting with high level labels: bug, feature request, suggestion, etc is the place to start, then as groups working on such things identify areas where subdivision is needed create a new set of sub labels. In my work below the category I usually split by module, but being new to the audacity code base I don't know how applicable modules are. =||= So I've added more labels.
Probably the two most important are bug and bug-distro.

The distinction is that 'bug' is used for platforms we build and test for, and 'bug-distro' is for distros or variants that we don't yet build and test for.

@IGBC - How do you want to handle the next step for this issue, either:
* Close it since there now are some labels on most GitHub issues
* Convert this issue to a general discussion of future bug handling (and so move it to discussions and retitle)
* Some other option. =||= I've adding labels.  I think the meta-issue is addressed now.  Closing. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
859community usability testing contributionsBeBe-ing05/11/21, 03:30:57 PM"@clarissalimab has recently worked with several different projects to create [templates](https://github.com/clarissalimab/ux) for contributors to organize and document usability tests. Watch her [presentation](https://framatube.org/videos/watch/02151d79-d422-4012-a547-e01c9e54c7f7) about this from Libreplanet 2021. Would this be something that would be welcome for Audacity?

cc @Tantacrul""Oh! Very nice :)

We'll be doing a lot of this. One of my favourite parts of the job. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
860Icon for Audacity from Papirus icon theme for Linux (Open Source) Luís Eduardo Ribeiro Guerraluisrguerra05/11/21, 11:21:31 PM"### Icon from [Papirus](https://github.com/PapirusDevelopmentTeam/papirus-icon-theme) Open Source (GPL-3.0 License) icon theme for Linux 
**Credit:** Icon made by [Varlesh](https://github.com/varlesh)

The Audacity icon looks bad. The Papirus icon would leave the application with a new look, much more modern and beautiful. Users would definitely approve that change. The Papirus theme has a great quality, all icons are in vector format (SVG) and aligned to the pixel grid for each resolution.

16x16 PNG:
![16](https://user-images.githubusercontent.com/31783838/117718261-41bafa80-b1b2-11eb-8c23-03067632bec0.png)
22x22 PNG:
![22](https://user-images.githubusercontent.com/31783838/117718274-454e8180-b1b2-11eb-888b-47ff9e36a471.png)
24x24 PNG:
![24](https://user-images.githubusercontent.com/31783838/117718283-48497200-b1b2-11eb-81cd-d15c88fc7d6f.png)
32x32 PNG:
![32](https://user-images.githubusercontent.com/31783838/117718298-4c758f80-b1b2-11eb-8f03-163263580162.png)
48x48 PNG:
![48](https://user-images.githubusercontent.com/31783838/117718327-526b7080-b1b2-11eb-974b-178b242c8ab2.png)
64x64 PNG:
![64](https://user-images.githubusercontent.com/31783838/117718358-5bf4d880-b1b2-11eb-823e-8766176a4cfd.png)
96x96 PNG:
![96](https://user-images.githubusercontent.com/31783838/117718373-60b98c80-b1b2-11eb-8f5c-8940d3c896b7.png)
128x128 PNG:
![128](https://user-images.githubusercontent.com/31783838/117718384-63b47d00-b1b2-11eb-9985-56b6e1155baa.png)
256x256 PNG:
![256](https://user-images.githubusercontent.com/31783838/117718395-67480400-b1b2-11eb-9809-a15da85a189d.png)

**Vector Images:**
16x16 SVG
![16](https://svgshare.com/i/X9K.svg)
22x22 SVG:
![22](https://svgshare.com/i/X7y.svg)
24x24 SVG:
![24](https://svgshare.com/i/X9M.svg)
32x32 SVG:
![32](https://svgshare.com/i/X9L.svg)
48x48 SVG:
![48](https://svgshare.com/i/X7c.svg)
64x64 SVG:
![64](https://svgshare.com/i/X7x.svg)

![AudacityLogoWithName](https://user-images.githubusercontent.com/31783838/117719224-84c99d80-b1b3-11eb-9512-1eaa493e3f65.png)""I was tempted to commit this in order to troll Tantacrul, when he looks at Audacity again tomorrow morning, but I couldn't bring myself to do that.

This is almost certainly going to just get closed presently.  Please have a [look at the forum](https://forum.audacityteam.org/viewforum.php?f=67) where we curate the many icons.  That's the correct or best place to post a new icon proposal.

Have a look too at the comment about [the cherry on the cake](https://wiki.audacityteam.org/wiki/Design_Topics#Graphic_Design).  What we really need is systematic improvement of Audacity UX.  Changes to the logo if/when they happen are likely to happen at the same time as improvements to UX, in a way that is consistent with that.




 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
861Using WxWidgets Qt backend?Filipe CoelhofalkTX05/11/21, 01:41:47 PM"This is more of a question rather than a feature request.
As Musescore is done in Qt and Muse Group is hiring Qt developers, seems the interest is on Qt things.
Audacity is an old codebase, changing the entire toolkit is not a good decision at this point, too much core elements rely on WxWidgets.
If everyone working in the codebase is familiar with the same toolkit (say Qt) it makes the overall process much smoother.

Now with that said, WxWidgets has a WIP Qt backend.
Find more details in https://wiki.wxwidgets.org/WxQt

So I am opening this ticket to bring a discussion around this topic.
I see a few clear benefits from such move:

1. Easier to maintain, as less platform-specific solutions are needed (whatever WxWidgets does not do, Qt will)
2. Consistent look across all platforms (Qt allows custom themes)
3. More integrated into what Muse Group devs are working with right now.

I am not just opening a ticket to request things, I actually went ahead and spent some hours to try this out.
There are a few places in Audacity where code needs to be adapted, but it is only a few days work maximum.
I was able to hack around in a few places in Audacity code to make everything build and run.
As a bonus, I threw in my own custom color palette and style that I use in Carla.
Here are a few screenshots to show the result:

![Screenshot_20210510_233946](https://user-images.githubusercontent.com/1334853/117733850-2b309580-b1ea-11eb-9888-60801dc4b0fa.png)

![Screenshot_20210510_234834](https://user-images.githubusercontent.com/1334853/117733890-400d2900-b1ea-11eb-892a-a3148ca4041c.png)

native file dialog through qt:

![Screenshot_20210510_234937](https://user-images.githubusercontent.com/1334853/117733988-67fc8c80-b1ea-11eb-933c-c88c8409898a.png)

![Screenshot_20210510_235118](https://user-images.githubusercontent.com/1334853/117734085-a2fec000-b1ea-11eb-879d-574136f2b43f.png)

Colors can be changed of course, I just like this style in particular. It is a slightly modified Fusion theme from Qt.


Now the main question is... is there interest on this?

WxWidgets Qt backend is still work-in-progress yes, but on the other hand Audacity does not need the entire thing.
Fixing WxWidgets Qt side (and then submitting patches upstream) could be a way forward here.

Looking forward to comments and/or opinions.""> Consistent look across all platforms (Qt allows custom themes)

To clarify, does the theme come from Qt or wxWdigets? Sharing a Qt theme between Audacity and MuseScore could be an interesting idea. =||= Theme is from Qt side.
Qt themes are done in C++, but there are a few ""theme engines"" like https://github.com/tsujan/Kvantum/tree/master/Kvantum that allow for SVG asset rendering.

EDIT: An extra note worth considering, is that Qt allows for applying CSS-like stylesheets on top of application widgets. So as long as each widget object name is defined, one can theme things with CSS :star_struck:  =||= The wxQT backend is somewhat minimal currently - and if I recall only one main group was contributing to it for their own app support. There are many places in it that may end up just not working because parts haven't been implemented (one major place that hasn't been implemented is the OpenGL support and `wxGLCanvas`). =||= Also, switching to the wxQT backend is a lot more work for packaging on Linux than just switching to QT, since linux distros don't build anything other than the wxGTK backend normally. =||= From what I have tested and saw in the code, a lot of stuff already works. Some drawing issues seem to be due to transparency being used, so perhaps the ghosting is fixed by a simple Qt::WA_OpaquePaintEvent in the right places.
I didnt check OpenGL related things, is Audacity using those?

On a somewhat related topic...
I do not know what are Muse Group plans for Audacity, looking at the recent commits it seems to me the intention is to make an engine out of Audacity to be usable on some new GUI (is that what QML is for?)
Doing a brand new GUI from scratch is a lot of work, compared to fixing up something that mostly works already.
The fact that the same style could be applied to Musescore and Audacity (while retaining Audacity's iconic UI) is worth a lot.
 =||= There's also the much requested ""Audacity for mobile"" to consider. Does wxQt support Android or iOS yet? The last time I looked, it didn't. =||= Desktop widgets make no sense for mobile, and the current design does not fit well into touch input.
So even if WxWidgets + Qt could be made to work on mobile, a brand new Ui is needed there. Start with the simple stuff than slowly add as much as possible from the main Audacity. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
862Types: fix missing #include <limits>BeBe-ing05/14/21, 08:24:03 PMThis is required to build on Fedora 34."Is there a reason this has not been merged yet? =||= No especial reason.  It's done now in master.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
863remove todo.txtBeBe-ing05/25/21, 06:29:41 PMThis has not been updated since 2012. I presume nothing in it is relevant anymore.Closing due to imposition of CLA #932 =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
865audacity.desktop: add Keywords fieldBeBe-ing05/25/21, 06:29:36 PM"upstreaming a patch from Debian
https://salsa.debian.org/multimedia-team/audacity/-/blob/master/debian/patches/0001-Add-keywords-to-desktop-file.patch"Closing due to imposition of CLA #932 =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
870AudioIOBase: add missing #include <portaudio.h>BeBe-ing05/25/21, 06:29:13 PMBuilding with the system portaudio does not work without this."ping =||= you need to sign the CLA first =||= There's a CLA for Audacity now? Are you confusing it with MuseScore? =||= #932

edit: snipped garbage added by my mail client =||= Oh dear. Well, I'll close my PRs then. I will not stand for my code being allowed to be relicensed as proprietary software. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
871AudioIO uses private PaUtil_GetTime API of PortAudioBeBe-ing08/12/21, 01:15:30 PM"PaUtil_GetTime is defined in [src/common/pa_util.h in PortAudio](https://github.com/PortAudio/portaudio/blob/master/src/common/pa_util.h). This header is not installed by the build system as confirmed by checking the files installed by Fedora's portaudio-devel package:
```
❯ rpm -ql portaudio-devel
/usr/include/pa_jack.h
/usr/include/pa_linux_alsa.h
/usr/include/pa_unix_oss.h
/usr/include/portaudio.h
/usr/include/portaudiocpp
/usr/include/portaudiocpp/AutoSystem.hxx
/usr/include/portaudiocpp/BlockingStream.hxx
/usr/include/portaudiocpp/CFunCallbackStream.hxx
/usr/include/portaudiocpp/CallbackInterface.hxx
/usr/include/portaudiocpp/CallbackStream.hxx
/usr/include/portaudiocpp/CppFunCallbackStream.hxx
/usr/include/portaudiocpp/Device.hxx
/usr/include/portaudiocpp/DirectionSpecificStreamParameters.hxx
/usr/include/portaudiocpp/Exception.hxx
/usr/include/portaudiocpp/HostApi.hxx
/usr/include/portaudiocpp/InterfaceCallbackStream.hxx
/usr/include/portaudiocpp/MemFunCallbackStream.hxx
/usr/include/portaudiocpp/PortAudioCpp.hxx
/usr/include/portaudiocpp/SampleDataFormat.hxx
/usr/include/portaudiocpp/Stream.hxx
/usr/include/portaudiocpp/StreamParameters.hxx
/usr/include/portaudiocpp/System.hxx
/usr/include/portaudiocpp/SystemDeviceIterator.hxx
/usr/include/portaudiocpp/SystemHostApiIterator.hxx
/usr/lib64/libportaudio.so
/usr/lib64/libportaudiocpp.so
/usr/lib64/pkgconfig/portaudio-2.0.pc
/usr/lib64/pkgconfig/portaudiocpp.pc
```

pa_util.h is not listed in the [PortAudio documentation](http://files.portaudio.com/docs/v19-doxydocs/group__public__header.html) either. Audacity is using a private function of PortAudio. This prevents linking Audacity to packages of PortAudio.

The code that uses PaUtil_GetTime is guarded by an #ifdef:
```
#ifdef EXPERIMENTAL_MIDI_OUT
// return the system time as a double
static double streamStartTime = 0; // bias system time to small number

static double SystemTime(bool usingAlsa)
{
#ifdef __WXGTK__
   if (usingAlsa) {
      struct timespec now;
      // CLOCK_MONOTONIC_RAW is unaffected by NTP or adj-time
      clock_gettime(CLOCK_MONOTONIC_RAW, &now);
      //return now.tv_sec + now.tv_nsec * 0.000000001;
      return (now.tv_sec + now.tv_nsec * 0.000000001) - streamStartTime;
   }
#else
   static_cast<void>(usingAlsa);//compiler food.
#endif

   return PaUtil_GetTime() - streamStartTime;
}
#endif
```

So I tried building with the `-Daudacity_use_portaudio=system -DUSE_PORTMIXER=OFF` CMake options and the patch below to use the system PortAudio without Audacity's PortMixer fork which requires Audacity's PortAudio fork to build and without MIDI support:
```
diff --git a/cmake-proxies/CMakeLists.txt b/cmake-proxies/CMakeLists.txt
index 35250773c..c3ffc4710 100644
--- a/cmake-proxies/CMakeLists.txt
+++ b/cmake-proxies/CMakeLists.txt
@@ -13,7 +13,7 @@ addlib( expat              expat       EXPAT       YES   YES   ""expat >= 2.1.0""
 addlib( lame               lame        LAME        YES   YES   ""lame >= 3.100"" )
 addlib( libsndfile         sndfile     SNDFILE     YES   YES   ""sndfile >= 1.0.28"" )
 addlib( libsoxr            soxr        SOXR        YES   YES   ""soxr >= 0.1.1"" )
-addlib( portaudio-v19      portaudio   PORTAUDIO   YES   YES   """" )
+addlib( portaudio-v19      portaudio   PORTAUDIO   YES   YES   ""portaudio-2.0"" )
 addlib( sqlite             sqlite      SQLITE      YES   YES   ""sqlite3 >= 3.32.0"" )
 
 # Optional libraries
@@ -36,7 +36,7 @@ if (NOT USE_MIDI AND
 endif ()
 
 
-addlib( portmixer          portmixer   PORTMIXER   NO    YES   """" )
+#addlib( portmixer          portmixer   PORTMIXER   NO    YES   """" )
 if (NOT USE_PORTMIXER AND
    ""EXPERIMENTAL_AUTOMATED_INPUT_LEVEL_ADJUSTMENT"" IN_LIST
       EXPERIMENTAL_OPTIONS_LIST )
diff --git a/src/Experimental.cmake b/src/Experimental.cmake
index 30c01792a..ad0cc9374 100644
--- a/src/Experimental.cmake
+++ b/src/Experimental.cmake
@@ -121,7 +121,7 @@ set( EXPERIMENTAL_OPTIONS_LIST
    # RBD, 1 Sep 2008
    # Enables MIDI Output of NoteTrack (MIDI) data during playback
    # USE_MIDI must be defined in order for MIDI_OUT to work
-   MIDI_OUT
+   #MIDI_OUT
 
    # JKC, 17 Aug 2017
    # Enables the MIDI note stretching feature, which currently
```
but this fails to build:
```
../src/AudioIO.cpp: In member function ‘virtual void AudioIO::StopStream()’:
../src/AudioIO.cpp:2452:4: error: ‘mMidiPlaybackTracks’ was not declared in this scope; did you mean ‘mPlaybackTracks’?
 2452 |    mMidiPlaybackTracks.clear();
      |    ^~~~~~~~~~~~~~~~~~~
      |    mPlaybackTracks
```""Debian hacks around this with a [really ugly hack](https://salsa.debian.org/multimedia-team/audacity/-/blob/master/debian/patches/0002-PATCH-Fix-building-against-the-system-portaudio-libr.patch) to just implement the PaUtil_GetTime function directly in src/AudioIO.cpp. =||= This fix will be easy, but I feel like that #853 should go first. The reason is - stuff like https://github.com/audacity/audacity/blob/master/src/AudioIO.cpp#L477 looks a bit spooky when you build against system library :) =||= Copying over a [comment](https://github.com/audacity/audacity/issues/840#issuecomment-838316089) from @rbdannenberg:
> Pa_GetStreamTime and PaUtil_GetTime are different clocks running at
(slightly) different rates. If you replaced one with the other, then you
either created or fixed a problem.

I for one will not bother figuring out whether that creates or fixes a problem. =||= My dear Be-ing, accept my apologies for the inconveniences caused you by the state of the source tree.

Please see the recently pushed c3babc1 which makes it possible once again to compile with EXPERIMENTAL_MIDI_OUT undefined.

Let me explain that in the summer of 2017, for version 2.2.0, @Pokechu22 (a friend of Audacity then and now), Roger Dannenberg (the co-founder of Audacity and a portaudio contributor), Steve Daulton, I, and others worked hard together to make MIDI playback work cross-platform.  Getting the timing to work right on all platforms was difficult, especially in the case of Linux with ALSA.  It was Roger's hard work especially that led to the present expedient after much trial and error.

The EXPERIMENTAL_MIDI_OUT branch was at last made good enough to be turned on in production code by default.  But unfortunately, we were then negligent in ensuring the continued possibility to build the program with the same turned off.

Doing so will now build and give you a version of Audacity without its MIDI playback capability.  But perhaps you and your users would find that restriction of functionality unacceptable.

If so, then propose a fix that preserves well synchronized MIDI playback on all platforms, as verified by testing.

 =||= Thanks for fixing the build without the `EXPERIMENTAL_MIDI_OUT` option and providing that context. I don't think that building without MIDI playback would be a good compromise. However, if this issue is solved, I think it would be a good compromise for Linux distribution packages to disable building with PortMixer and link to their system's PortAudio package.

#210 looks like it may be a viable solution if it is rebased and updated for CMake.

I am doubtful anyone would have seriously considered the present implementation using a library's private API in the first place if PortAudio was not vendored. =||= The current implementation was used without knowledge that it didn't work on all platforms; if I recall correctly, what I did was resurrect a lot of _very_ old code that already existed in Audacity, which had some design decisions that probably wouldn't have been made if written from scratch.

I can't recall if there were timing/synchronization issues with `Pa_GetStreamTime` versus `PaUtil_GetTime`; I think there might have been but I don't remember doing extensive testing.  It would have been mentioned on the mailing list (but I don't have time to dig through that right now).

It's also worth noting that the reason audacity does the patch to PortAudio is because `pa_util.h` [has `extern ""C""`](https://github.com/PortAudio/portaudio/blob/39bfe6c63df5b85bb651f16327e7386504089276/src/common/pa_util.h#L54-L57), but the actual implementations in [pa_win_util.c](https://github.com/PortAudio/portaudio/blob/39bfe6c63df5b85bb651f16327e7386504089276/src/os/win/pa_win_util.c) and [pa_unix_util.c](https://github.com/PortAudio/portaudio/blob/39bfe6c63df5b85bb651f16327e7386504089276/src/os/unix/pa_unix_util.c) do not have `extern ""C""`.  IMO that's a bug in PortAudio, and I _think_ that linking with the system PortAudio would work if it were fixed (even if it is an internal API).  (This has almost certainly been discussed on the list before, but I don't remember the details and it's been a long time.) =||= > IMO that's a bug in PortAudio, and I think that linking with the system PortAudio would work if it were fixed (even if it is an internal API).

I don't think it's a bug in PortAudio. Audacity is using a private API. There is no way to use this API when PortAudio is used normally; the header for the symbol is not installed and Audacity fails to link. =||= > It's also worth noting that the reason audacity does the patch to PortAudio is because pa_util.h has extern ""C"", but the actual implementations in pa_win_util.c and pa_unix_util.c do not have extern ""C"". IMO that's a bug in PortAudio,

You shouldn't need to put the extern on the function definition and the declaration. Putting it on the declaration in the header and then having that included in the file containing the definitions before the definitions should make the functions all have C linkage on every standards-compliant compiler.

>  and I think that linking with the system PortAudio would work if it were fixed (even if it is an internal API). (This has almost certainly been discussed on the list before, but I don't remember the details and it's been a long time.)

No, I don't think it would be. PortAudio tells the linker exactly what it wants exposed through a `.def` file on Windows, https://github.com/PortAudio/portaudio/blob/master/cmake_support/template_portaudio.def, so only those functions are considered its public API and will be implicitly linked to. They do the same thing when building with autotools and specify the public linkage here: https://github.com/PortAudio/portaudio/blob/master/Makefile.in#L47. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
872Create central entry point for build documentationBenBE05/11/21, 01:52:19 PM"Given that building Audacity is non-trivial<sup>[[citation needed](https://xkcd.com/285/)]</sup> there should be a central document covering the basics of building the software, required dependencies like build tools and the general overview of things that need to be done, what settings there are available and so on.

Thus it would be great to have a central `BUILDING.md` or similar as entry point in the root directory of the source tree that covers the basics of building and referencing the other, platform-specific documentation in `<platform>/build.txt` as appropriate. This central document also should provide references to other important sources of information and where further help can be obtained. The purpose of this central document is to provide all necessary details to building the software so they are available offline given only the source tarball. The platform specific documents may supplement troubleshooting details for each platform as appropriate.

The build information also could provide references to how code contributions (`CONTRIBUTIONS.md` and `STYLEGUIDE.md`) should be handled.

And while a Wiki to collect these information may be useful for quick contributions of tips&tricks for the build process it is largely unsatisfactory for someone who has to rely on the bare minimum of external sources. And given the debian-legal test for DFSG compliance you want to minimize reliance on external resources as much as possible.

This issue came about based on missing satisfaction with the overall build process and its documentation as discussed in several other issues, like #625, #835, #853.""> Given that building Audacity is non-trivial[[citation needed](https://xkcd.com/285/)] there should be a central document covering the basics of building the software, required dependencies like build tools and the general overview of things that need to be done, what settings there are available and so on.

That would be here: https://wiki.audacityteam.org/wiki/For_Developers
Though it is not always as up to date as we would like. =||= @SteveDaulton - An incorrect explanation for closing.

That link is not in the source tree, which BenBE is asking for in the text, though not spelling out in the issue title.  The correct link for justifying closing is this one, which IS in the source tree:

https://github.com/audacity/audacity/blob/master/INSTALL 

It does reference the other platform-specific docs, and there is enough difference between platforms that it is right that INSTALL delegates everything to those docs.

Our policy is to (try to) provide one way of building, written up in the source tree, and then offer variations (such as WSL, signing on Windows, fetching the manual) in the wiki.  Our how to build documentation needs to be improved.  One approach is to treat the CI builds as the gold standard, since they are always working, and then document and date variations, with a caveat emptor warning, since build instructions, such as our long obsolete instructions for MinGW rot if there is no one actively using that build.

I would be in favour of a new discussion topic on improving build instructions.  'Issues' by their nature need to get closed, whereas discussion topics can be ongoing.  I do think keeping build instructions in a good state is an ongoing discussion, is important, and so many different people have different needs from them.
 =||= > @SteveDaulton - An incorrect explanation for closing.
> 
> That link is not in the source tree, which BenBE is asking for in the text, though not spelling out in the issue title. The correct link for justifying closing is this one, which IS in the source tree:
> 
> https://github.com/audacity/audacity/blob/master/INSTALL

Fair enough. I had assumed that (upper case) INSTALL in the root directory was so obvious that he couldn't  mean that. Thanks for the correction. =||= Somehow missed that when looking through things … =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
875UX - Updated play at speedJames CrookJamesCrook05/11/21, 12:26:48 PM"This is an update to play at speed,  to allow negative speeds and looping.

![PlayAtSpeed](https://user-images.githubusercontent.com/1621525/117813786-6cad5900-b25b-11eb-83bd-4361e1e00bd9.gif)

_The icon for the play button changes in line with the speed (and direction).  (here x2, x3, x0.5, x-0.5 x-1)_  

* Looping can be turned on or off whilst playing
* Loop boundaries can be adjusted whilst playing, using the normal selection tool
* The loop is 'healed' (using repair effect on a few samples) so that it does not click.
* Speed can be adjusted whilst looping

Use the normal play button on the transport toolbar for initial speed of x1, the play button shown here for most recently used speed.  You can click the x1 speed button during a play at speed to switch back to x1 (a bit like A/B playing) or the play at speed button during a x1 speed play to reselect x2, x0.5 or other preset.

I would like to add 'drop down' options, on the play button, so that you can play-at-speed preserving or not preserving pitch, healing on/off etc."NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
883Keep !EXPERIMENTAL_MIDI_OUT compilablePaul LicameliPaul-Licameli05/12/21, 12:32:11 AM"Keep !EXPERIMENTAL_MIDI_OUT compilable"NaNKeep !EXPERIMENTAL_MIDI_OUT compilablePaul LicameliPaul-Licameli05/12/21, 12:32:11 AMKeep !EXPERIMENTAL_MIDI_OUT compilableNaNPaul Licameli05/11/21, 11:30:21 PMKeep !EXPERIMENTAL_MIDI_OUT compilable1
886Fix precompiled headersPaul LicameliPaul-Licameli05/12/21, 06:02:29 PM"   Fix builds with precompiled headers, which broke at 794f4e5"NaNFix precompiled headersPaul LicameliPaul-Licameli05/12/21, 06:02:29 PM   Fix builds with precompiled headers, which broke at 794f4e5NaNPaul Licameli05/12/21, 01:17:30 PMFix builds with precompiled headers, which broke at 794f4e51
887[i18n] Issue with some stringsMatthaiks05/14/21, 01:09:19 PM"**Describe the bug**
Even if the translation file is complete, Audacity will display some strings in English. 

**To Reproduce**
Steps to reproduce the behavior:
1. Change Audacity's language to Dutch or Polish (or other 100% translated).
2. See translated strings in English.

**Expected behavior**
Fix these problematic strings.

**Screenshots**
![1](https://user-images.githubusercontent.com/3577122/118048015-ef2d3a00-b37b-11eb-842f-1511ac728017.png)
""Filter Curve"" is missing from audacity.pot, there's Filter Curve EQ, though.
![2](https://user-images.githubusercontent.com/3577122/118048018-f05e6700-b37b-11eb-873a-e044a6bb077c.png)
![3](https://user-images.githubusercontent.com/3577122/118048021-f0f6fd80-b37b-11eb-8a44-3ecc035949bd.png)


**Additional information (please complete the following information):**
 - OS: Windows 10
 - Version Audacity 3.0.2""See also Bugzilla bug https://bugzilla.audacityteam.org/show_bug.cgi?id=2741 =||= Appears to be fixed with   CMake Build #1684: Commit 9e70fa7 pushed by JamesCrook :  https://github.com/audacity/audacity/actions/runs/838439781

See bug testing comments in P2 Bug #2741:  https://bugzilla.audacityteam.org/show_bug.cgi?id=2741 =||= ""Interface"" seems to be fixed, ""Silence"" and ""Filter Curve"" are still in English, though. =||= @Matthaiks  - the Filter Curve is a different issue - see this open bug https://bugzilla.audacityteam.org/show_bug.cgi?id=2339
Bug 2339 - On second run of Audacity ""Filter Curve EQ"" gets changed to ""Filter Curve..."" in the Effect menu

There is a translation for Filter Curve EQ on first use you get ""Filterkurve-EQ"" - but on next launch of Audacity you get ""Filter Curve"" untranslated (this was the old name for the effect. =||= @Matthaiks  - and yes I still see ""Silence"" in the Erzeugen menu and not ""Stille"" =||= Reopened the issue due to the untranslated in ""Silence"" auf Deutsch =||= This is only in the Erzeugen (Generate) menu that it is not translated - the generator banner correctly  says ""Stille"" =||= > This is only in the Erzeugen (Generate) menu that it is not translated - the generator banner correctly says ""Stille""

I observed that too and it is very puzzling.
 =||= I have logged the untranslated ""Silence..."" as new P3 Bugzilla entry Bug #2778
https://bugzilla.audacityteam.org/show_bug.cgi?id=2778
Bug 2778 - In German in the Erzeugen menu (Generator menu) ""Silence..."" is untranslated

I also noted that this affects other languages as @Matthaiks reports

And as the ""Filter Curve"" issue is already logged as:
https://bugzilla.audacityteam.org/show_bug.cgi?id=2339
Bug 2339 - On second run of Audacity ""Filter Curve EQ"" gets changed to ""Filter Curve..."" in the Effect menu

I shall close this GitHub thread =||= These translation issues are now fixed in the latest alpha test build for 3.0.3 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
888Issue 887: Some strings didn't translate, though in catalogs...Paul LicameliPaul-Licameli05/13/21, 09:27:08 AM"All examples were uses of the XC macro for strings with disambiguating contexts and this had never been correctly implemented.""""Silence"" remains untranslated in the Erzeugen menu (Generate menu)

It is properly translated to ""Stille"" in the generator title header.
 =||= "Issue 887: Some strings didn't translate, though in catalogs...Paul LicameliPaul-Licameli05/13/21, 09:27:08 AMAll examples were uses of the XC macro for strings with disambiguating contexts and this had never been correctly implemented.NaNPaul Licameli05/13/21, 03:50:49 AM"Issue 887: Some strings didn't translate, though in catalogs...

... What they had in common was the use of the XC macro to specify a
disambiguating context string.  Example: ""Interface"" page of preferences.

TranslatableString had not implemented this
correctly except in the less usual case of plurals."1
890Module manager changesPaul LicameliPaul-Licameli05/16/21, 11:06:52 AM"Various things cherry-picked out of my big misc-modules branch, related to the Module Manager.

Among these:

enabling loading of modules that depend on other modules, without any explicit description of those dependencies;

un-cluttering the simple protocol of symbols exposed by the modules, by eliminating special script pipe and track panel hijack hooks (alternative means can be found now for such things);

remove link dependency of ModuleManager on the GUI-heavy ModulePrefs page that interacts with it;

make it possible for plug-in providers to be just another kind of module, so that built-in or non-built-in ones will not need to be implemented differently.
""Rebased, fixed build problems (I was relying on precompiled headers before), force pushed
 =||= "Module manager changesPaul LicameliPaul-Licameli05/16/21, 11:06:52 AM"Various things cherry-picked out of my big misc-modules branch, related to the Module Manager.

Among these:

enabling loading of modules that depend on other modules, without any explicit description of those dependencies;

un-cluttering the simple protocol of symbols exposed by the modules, by eliminating special script pipe and track panel hijack hooks (alternative means can be found now for such things);

remove link dependency of ModuleManager on the GUI-heavy ModulePrefs page that interacts with it;

make it possible for plug-in providers to be just another kind of module, so that built-in or non-built-in ones will not need to be implemented differently.
"NaNPaul Licameli05/13/21, 08:26:27 PMModuleManager::mLibs never becomes non-empty.  Remove it.1
891HTTP request to audacityteam.org failsTim Lebedkovtim-lebedkov05/14/21, 10:09:56 AM"**Describe the bug**
I use Go to get the source code of the page https://www.audacityteam.org/download/windows/ to determine the current version of Audacity. It fails with ""bad status: 403 Forbidden"". If was not the case some weeks ago.

**To Reproduce**
Steps to reproduce the behavior:
1. Go to https://ci.appveyor.com/project/tim-lebedkov/npackd
2. Click on the first job
3. Scroll down to 'Audacity'
4. See error

**Expected behavior**
HTML is returned.

**Screenshots**
https://ci.appveyor.com/project/tim-lebedkov/npackd/build/job/oe2oighwecvjfbot#L376

**Additional information (please complete the following information):**
 - OS: Windows (AppVeyor)
 - Version 

**Additional context**
-""This is a duplicate of a 'bug' reported elsewhere.
The resolution is to modify your script to go to [GitHub Releases](https://github.com/audacity/audacity/releases) instead. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
894"Bug 2778 - In German in the Erzeugen menu (Generator menu) ""Silence..."" is untranslated"Paul LicameliPaul-Licameli05/14/21, 08:14:18 PM"Residual issues in failure to translate all effect, generator, analyzer names in menus.

It affected effects whose translatable names included disambiguating context, or which were different (in English) from the internal names.  Filter Curve EQ and Silence were the only such.

This change had to modify PluginManager so Leland may want to look."NaN"Bug 2778 - In German in the Erzeugen menu (Generator menu) ""Silence..."" is untranslated"Paul LicameliPaul-Licameli05/14/21, 08:14:18 PM"Residual issues in failure to translate all effect, generator, analyzer names in menus.

It affected effects whose translatable names included disambiguating context, or which were different (in English) from the internal names.  Filter Curve EQ and Silence were the only such.

This change had to modify PluginManager so Leland may want to look."NaNPaul Licameli05/14/21, 05:10:48 PM"Bugs 2778, 2339, Issue 887: Translation of some effect names...

... Those for which the internal name and the user-visible English names differ,
or that needed disambiguating context for i18n,  were always shown as English
in the menus.

Silence and Filter Curve were the only two examples. There are others."1
895Settings objects and example usesPaul LicameliPaul-Licameli05/17/21, 12:46:55 PM"Introducing the classes that can eliminate widely separated duplication of literals for the path and default value of a preference.

Instead global variables of these types will hold all the information in one place, and users of the variables are forced to have compile and link dependency on them -- a good thing to be explicit about at build time, avoiding the brittleness of the coincident literals.

There is also caching of preference values in memory.

Some example uses.  The large, routine task of converting many other uses of gPrefs remains.

These examples also invert or break a few source file dependencies in a good way.""> There are few minor comments, that could be addressed.
> 
> Do we plan to extract settings into a library later on? It could be useful for all kinds of modules, so they don't have to link against Audacity directly.

If you study my big graph of intended libraries, you will see lib-preferences is one and very low-level.  It will be one of the first taken out.
 =||= "Settings objects and example usesPaul LicameliPaul-Licameli05/17/21, 12:46:55 PM"Introducing the classes that can eliminate widely separated duplication of literals for the path and default value of a preference.

Instead global variables of these types will hold all the information in one place, and users of the variables are forced to have compile and link dependency on them -- a good thing to be explicit about at build time, avoiding the brittleness of the coincident literals.

There is also caching of preference values in memory.

Some example uses.  The large, routine task of converting many other uses of gPrefs remains.

These examples also invert or break a few source file dependencies in a good way."NaNPaul Licameli05/15/21, 06:39:26 PM"Use Settings for default sample rate and format...

... The first is an example of a Setting with a computed default value.

Also making a new file to hold them, separate from the GUI that changes them
in QualityPrefs; fewer things depend on QualityPrefs"1
896Bug2763: Certain Scriptable commands should push Undo stack...Paul LicameliPaul-Licameli05/16/21, 11:08:44 AM"Fixes for Bug 2763.  The best text for the user-visible strings might be debated.

Certain Scriptable commands in the Extra menu ought to push distinct undo states that do not merge with the previous state."NaNBug2763: Certain Scriptable commands should push Undo stack...Paul LicameliPaul-Licameli05/16/21, 11:08:44 AM"Fixes for Bug 2763.  The best text for the user-visible strings might be debated.

Certain Scriptable commands in the Extra menu ought to push distinct undo states that do not merge with the previous state."NaNPaul Licameli05/15/21, 11:43:52 PM"Bug2763: Certain Scriptable commands should push Undo stack...

... Exhaustive examination convinces me that Set Labels and Set Envelope are
the only two needing this.  (The special problems of Open Project merited a
different bug number 2764.)"1
897Finea-leut05/16/21, 12:14:34 PM"Fine"? =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
898"Translate ""No"" into Russian"Paul LicameliPaul-Licameli05/17/21, 09:52:07 AM"Did I spell that right? :-)"NaN"Translate ""No"" into Russian"Paul LicameliPaul-Licameli05/17/21, 09:52:07 AMDid I spell that right? :-)NaNPaul Licameli05/16/21, 10:53:04 PM"Translate ""No"" into Russian"1
900Bug 2782 - 8-bit FLAC samples are not imported correctlyJohnColket07/17/21, 03:15:45 AM"Originally reported on 18Sep20  as GitHub Issue #672
https://github.com/audacity/audacity/issues/670

The OP sagamusix wrote
>It seems like 8-bit FLAC samples are imported with a wrong amplification factor 
>to me it looks like the raw 8-bit values are interpreted as if they are from a 
>16-bit sample, so only the low 8 of 16 bits are ever used."This fix works for me. =||= Is it bit perfect with ffmpeg? =||= It would be nice to have this. =||= Bug 2782 - 8-bit FLAC samples are not imported correctlyJohnColket07/17/21, 03:15:45 AM"Originally reported on 18Sep20  as GitHub Issue #672
https://github.com/audacity/audacity/issues/670

The OP sagamusix wrote
>It seems like 8-bit FLAC samples are imported with a wrong amplification factor 
>to me it looks like the raw 8-bit values are interpreted as if they are from a 
>16-bit sample, so only the low 8 of 16 bits are ever used."NaNJohn Colket05/17/21, 12:41:29 PMBug 2782 - 8-bit FLAC samples are not imported correctly1
903More module preliminariesPaul LicameliPaul-Licameli05/18/21, 01:24:05 PM"Various changes in CMake programming to allow libraries (distinct from extension modules), fix modules dependent on other modules, and save some object file space by stripping unneeded symbols""I withdrew the first of these commits from #839 when you said it would conflict with your work, but here it is again.

The second is one I should have included in #839.

I withheld the third of these until other discussion with you yesterday.
 =||= "More module preliminariesPaul LicameliPaul-Licameli05/18/21, 01:24:05 PMVarious changes in CMake programming to allow libraries (distinct from extension modules), fix modules dependent on other modules, and save some object file space by stripping unneeded symbolsNaNPaul Licameli02/16/21, 06:40:13 PMFix transitive dependencies via interface libaries1
904Update pl.po from TransifexGrzegorz PruchniakowskiGootector05/18/21, 09:45:42 PM"Update pl.po from Transifex
2 fixes.

Greetings,
Gootector

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNUpdate pl.po from TransifexGrzegorz PruchniakowskiGootector05/18/21, 09:45:42 PM"Update pl.po from Transifex
2 fixes.

Greetings,
Gootector

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNGrzegorz Pruchniakowski05/18/21, 09:14:16 PM"Update pl.po from Transifex

Update pl.po from Transifex
2 fixes.

Greetings,
Gootector"1
905Yet more module preliminariesPaul LicameliPaul-Licameli05/19/21, 10:30:52 AM"List of modules in modules/CMakeLists.txt, to be lengthened;

List of shipped modules to auto-enable in ModuleSettings.cpp, for now empty;

Correction to Windows build procedure, to put modules in the expected subdirectory;

Correction to the code of Audacity, as built by GitHub Actions for Linux, so that it finds and loads modules without need
of any change in environment variables."NaNYet more module preliminariesPaul LicameliPaul-Licameli05/19/21, 10:30:52 AM"List of modules in modules/CMakeLists.txt, to be lengthened;

List of shipped modules to auto-enable in ModuleSettings.cpp, for now empty;

Correction to Windows build procedure, to put modules in the expected subdirectory;

Correction to the code of Audacity, as built by GitHub Actions for Linux, so that it finds and loads modules without need
of any change in environment variables."NaNPaul Licameli05/18/21, 09:30:16 PMLinux build doesn't need environment variable to find the modules1
909Bug2764 Open Project... (under Scriptables in Extra menus) can corrupt a projectPaul LicameliPaul-Licameli05/25/21, 12:09:01 AM"Fixing Bug2764 (Open Project... under Scriptables can corrupt a project) by causing the Open Project... command to open a new project window when an .aup3 file is specified.

But also carefully implemented so that behavior of the command changes only in that case.  In other cases, which invoke
import code, still import the file into the existing project and add items to its undo history.""Could we have a more descriptive PR title, please? =||= > Could we have a more descriptive PR title, please?

Better now?
 =||= "Bug2764 Open Project... (under Scriptables in Extra menus) can corrupt a projectPaul LicameliPaul-Licameli05/25/21, 12:09:01 AM"Fixing Bug2764 (Open Project... under Scriptables can corrupt a project) by causing the Open Project... command to open a new project window when an .aup3 file is specified.

But also carefully implemented so that behavior of the command changes only in that case.  In other cases, which invoke
import code, still import the file into the existing project and add items to its undo history."NaNPaul Licameli05/22/21, 07:32:11 PM"Don't stop recovering projects in case one of them fails...

... This matters now that ProjectManager::OpenProject really can return null."1
910Update pl.po from TransifexGrzegorz PruchniakowskiGootector05/20/21, 07:11:18 AM"Update pl.po from Transifex
Changes:
All 'at least' translated as 'przynajmniej'.
All 'selection' translated as 'zaznaczenie'.
And a few small fixes.
END of fixes 😁

Greetings,
Gootector

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNUpdate pl.po from TransifexGrzegorz PruchniakowskiGootector05/20/21, 07:11:18 AM"Update pl.po from Transifex
Changes:
All 'at least' translated as 'przynajmniej'.
All 'selection' translated as 'zaznaczenie'.
And a few small fixes.
END of fixes 😁

Greetings,
Gootector

# Pull Requests

If you are submitting a pull request, please read https://wiki.audacityteam.org/wiki/GitHub_Pull_Requests "NaNGrzegorz Pruchniakowski05/20/21, 03:14:43 AM"Update pl.po from Transifex

Update pl.po from Transifex
Changes:
All 'at least' translated as 'przynajmniej'.
All 'selection' translated as 'zaznaczenie'.
And a few small fixes.
END of fixes 😁

Greetings,
Gootector"1
911Finalise the crash reporting dialog for all OS.Tantacrul06/17/21, 09:51:58 AMNaNNaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
912Create final strings. Create email to send to translators.Tantacrul06/17/21, 09:51:51 AMAlso: encourage a move to Discord and a move away from mailing list."""Also: encourage a move to Discord and a move away from mailing list.""
I'm against. I'm **also** MuseScore translator and reviewer over 10 years, so I have over 10 years of experience with your fantastic Team.
I'm **also** EU citizen. When I wanted to delete my account (https://musescore.org/pl/user/13434) from MuseScore.org - You never answered my request, so I deleted MuseScore.com account only (https://musescore.com/user/7876). (Old) MuseScore.org accounts are 'undeletable' (???!!!). First - fix MuseScore.org website, next - write your claims.
I value my privacy and I'm not going to use Discord, because you decide it does.
I prefer Transifex (https://www.transifex.com/klyok/audacity/) and sending PR. =||= What about using matrix? It is privacy oriented and federated.
https://matrix.org =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
913Check the preferences dialog for the new spectrogram view. Make any changes needed and take a note of strings.Tantacrul09/03/21, 08:01:10 AMNaN"Which new Spectrogram view is that ?
 =||= The one being proposed by a community member - with the new colours. We need to sort out a few things first and then I'll flesh this card out. Sorry! I created this task to remind me to add more detail later.

However, just to give you an idea of what I'm talking about: I understand that this new spectral view also requires a small number of string changes in Preferences. @jounih will need to look over it to make sure the design is fine. =||= > 
> 
> The one being proposed by a community member - with the new colours. 

OOH that's good - I did like that one


 =||= this seems like it's a leftover from 3.0.3 and no longer relevant. Closing it.  =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
914Make sure all final strings are in source.Tantacrul06/17/21, 09:51:14 AMNaNNaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
915Affordance implementationTantacrul09/21/21, 03:15:13 PM" - [x] #1182
 - [x] #1183 
 - [x] #1181 
 - [x] #1195 "done (in scope of other tasks) =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
916App Image PRTantacrul06/17/21, 09:51:09 AMSeparate GitHub Actions scripts into separate files.NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
917Move GitHub Actions CI scripts into separate files.Peter Jonasshoogle06/10/21, 05:09:50 PMNaN@vsverchinsky, I'll do this later today or tomorrow unless you get there first, in which case feel free to assign it to yourself. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
918Preliminary work to change the 3d party libraries management processDmitry Vedenkocrsib05/24/21, 01:53:54 PM"To make dependencies easier to maintain and as an essential step towards the dependencies devendoring for Linux, we are changing the way we handle dependencies.

We will be using Conan as a package manager. For packages that are not yet available in `conan.io`, we will use a self-hosted Artifactory instance: https://artifactory.audacityteam.org/. Recipes are available at https://github.com/audacity/conan-recipes.

Updated build documentation is available in [BUILDING.md](BUILDING.md) file.

---

Initially, we've planned only to migrate wxWdigets in the first step.
However, we had to add the following libraries as well:
* `zlib`, as it is a common dependecy for `wxWidgets`, `lame` and `id3tag`.
* `expat`, as `wxWidgets` and `Audacity` depend on it.  
* `lame`, `id3tag`, as they depend on `zlib`.
* `mad`. Well, it just happened.
For now, all the libraries except wxWidgets use `conan.io` packages. `wxWidgets` recipe is based on the Bincrafters but is heavily modified.

In the future, we plan to use custom recipes for `mad` and `id3tag`. The reason is that they use very outdated build scripts, which do not work on AppleSillicon machines even when cross-compiling.

---

We use Docker to construct a clean Ubuntu 20.04 environment with the required packages to verify that we can build using system libraries only. We use this environment to check that Audacity builds with as many system packages as possible.

To define a Conan dependency, we have added `add_conan_lib` CMake function. This function allows to add a dependency using Conan with two possible system fallbacks:

1. pkg_check_modules is invoked if `PGK_CONFIG ...` is present.
2. find_package is invoked if `FIND_PACKAGE_OPTIONS` is present and `pkg_check_modules` has failed.

If `ALWAYS_ALLOW_CONAN_FALLBACK` is present - `audacity_obey_system_dependencies` will be ignored for the package."">  Will Artifactory be configured to allow anonymous access?

I am wondering this as well. Will developers be able to build with the same builds of libraries locally that the official builds use? =||= > In the future, we plan to use custom recipes for mad and id3tag. The reason is that they use very outdated build scripts, which do not work on AppleSillicon machines even when cross-compiling.

These libraries seem to be abandoned for many years. @Holzhaus wrote a [CMakeLists.txt for libid3tag](https://github.com/mixxxdj/vcpkg/blob/2.3/overlay/ports/libid3tag/CMakeLists.txt) which may come in handy for you. Maybe you could fork these old libraries and host them under the Audacity GitHub organization? =||= > > Will Artifactory be configured to allow anonymous access?
> 
> I am wondering this as well. Will developers be able to build with the same builds of libraries locally that the official builds use?

@Be-ing @JamesCrook 

It is already available :) The packages list is empty, because of some Artifactory limitations I wasn't able to overcome - it simply doesn't list packages with anonymous access. You can browse the list here: https://artifactory.audacityteam.org/ui/repos/tree/General/conan-local

Or you can run 

```
conan remote add audacity https://artifactory.audacityteam.org/artifactory/api/conan/conan-local
```

and play with wxwidgets build using:

```
conan install wxwidgets/3.1.3-audacity@
```

>Maybe you could fork these old libraries and host them under the Audacity GitHub organization?

We will have to :-) We have important patches in the build tree. Likely I will do that early on Monday

 =||= So does this branch make CMake automatically download the library binaries from Artifactory? If so, please document that and how to disable it. =||= > So does this branch make CMake automatically download the library binaries from Artifactory? If so, please document that and how to disable it.

@Be-ing you mean you always want to build libraries from source? Ok, that's not a problem.

For package-maintainer-like cases, it is possible to share Conan cache, but given that they will be forcing everything to system libraries, I don't think that it is much of an issue really. =||= I don't want to build the entire dependency graph from source. The default behavior I expect from a build system is to first search the system for dependencies. I think this should be the same whether building Audacity locally or packaging it. I also want to be able to use the exact dependencies locally that are used for the official builds, which should be opt in.

The documentation distinguishes between ""local"" and ""system"" libraries. I understand what ""system"" libraries mean, but how does Conan fit into this? Does Conan automatically download builds of ""local"" libraries? =||= > I don't want to build the entire dependency graph from source. The default behavior I expect from a build system is to first search the system for dependencies. I think this should be the same whether building Audacity locally or packaging it. I also want to be able to use the exact dependencies locally that are used for the official builds, which should be opt in.

This behavior can be activated using `-Daudacity_lib_preference=system`. However, as I've mentioned earlier, this can be dangerous because there could be libraries with _official_ recipes from `conan.io` that will link to the Conan provided ZLib (or any other library), and you will have issues with the build. This is why this behavior is opt-in, not opt-out. 

If you turn library preference to **system** and you have the matching library installed and properly configured by the system maintainers the Conan won't be used for the library at all. However, this will generally require you to install all the libraries and patched pkg-config files (if you are running Ubuntu)

> The documentation distinguishes between ""local"" and ""system"" libraries. I understand what ""system"" libraries mean, but how does Conan fit into this? Does Conan automatically download builds of ""local"" libraries?

For the dependencies, that are using Conan - **local** will use Conan provided library. That means that the recipe for the library will be downloaded from `conan.io` or our Artifactory. If there are cached binaries for your system settings - the cached binaries will be downloaded. Otherwise, the dependency will be built locally on your machine. In both cases, your local cache will be checked first.
 =||= I'm still confused. Does `system` use Conan as a fallback if the library is not found on the system?

> For the dependencies, that are using Conan - local will use Conan provided library. That means that the recipe for the library will be downloaded from conan.io or our Artifactory. If there are cached binaries for your system settings - the cached binaries will be downloaded. Otherwise, the dependency will be built locally on your machine. In both cases, your local cache will be checked first.

I suggest renaming `local` to `conan`. To me, `local` implies that no network connections will be made. =||= > I'm still confused. Does `system` use Conan as a fallback if the library is not found on the system?

This is documented in this pull request, but I will further clarify it in the next commit. There is an option, that will force only using the system libraries. By default, if there is no system library - some fallback will be used.

> I suggest renaming `local` to `conan`. To me, `local` implies that no network connections will be made.

This PR does not replace all of the dependencies. This option can be renamed to **vendored**, but this will be confusing as well.

The option will be renamed to Conan when the work on dependencies is complete =||= "Preliminary work to change the 3d party libraries management processDmitry Vedenkocrsib05/24/21, 01:53:54 PM"To make dependencies easier to maintain and as an essential step towards the dependencies devendoring for Linux, we are changing the way we handle dependencies.

We will be using Conan as a package manager. For packages that are not yet available in `conan.io`, we will use a self-hosted Artifactory instance: https://artifactory.audacityteam.org/. Recipes are available at https://github.com/audacity/conan-recipes.

Updated build documentation is available in [BUILDING.md](BUILDING.md) file.

---

Initially, we've planned only to migrate wxWdigets in the first step.
However, we had to add the following libraries as well:
* `zlib`, as it is a common dependecy for `wxWidgets`, `lame` and `id3tag`.
* `expat`, as `wxWidgets` and `Audacity` depend on it.  
* `lame`, `id3tag`, as they depend on `zlib`.
* `mad`. Well, it just happened.
For now, all the libraries except wxWidgets use `conan.io` packages. `wxWidgets` recipe is based on the Bincrafters but is heavily modified.

In the future, we plan to use custom recipes for `mad` and `id3tag`. The reason is that they use very outdated build scripts, which do not work on AppleSillicon machines even when cross-compiling.

---

We use Docker to construct a clean Ubuntu 20.04 environment with the required packages to verify that we can build using system libraries only. We use this environment to check that Audacity builds with as many system packages as possible.

To define a Conan dependency, we have added `add_conan_lib` CMake function. This function allows to add a dependency using Conan with two possible system fallbacks:

1. pkg_check_modules is invoked if `PGK_CONFIG ...` is present.
2. find_package is invoked if `FIND_PACKAGE_OPTIONS` is present and `pkg_check_modules` has failed.

If `ALWAYS_ALLOW_CONAN_FALLBACK` is present - `audacity_obey_system_dependencies` will be ignored for the package."NaNDmitry Vedenko05/24/21, 11:00:14 AMUpdated the Docker image according with the code review1
919New library for stringsPaul LicameliPaul-Licameli05/27/21, 01:52:47 PM"Separate a shared library from Audacity's source code tree.  But still to do -- correct the Linux build so that the library is installed in the correct folder.

This library may be re-used by the separate crash reporter executable.

The library contains string utilities, notably:

The classes Identifier and TaggedIdentifier<T> for wrapped string types that are used for internal purposes.

The class TranslatableString containing strings meant for the user to see.

Definitions of macros _, XO, etc. that mark strings for xgettext.

Namespace Languages which contains functions for initializing translation catalogs.""Now I have fixed the Linux installation.  lib-strings.so goes to the same place as the wxWidgets libraries.
 =||= "New library for stringsPaul LicameliPaul-Licameli05/27/21, 01:52:47 PM"Separate a shared library from Audacity's source code tree.  But still to do -- correct the Linux build so that the library is installed in the correct folder.

This library may be re-used by the separate crash reporter executable.

The library contains string utilities, notably:

The classes Identifier and TaggedIdentifier<T> for wrapped string types that are used for internal purposes.

The class TranslatableString containing strings meant for the user to see.

Definitions of macros _, XO, etc. that mark strings for xgettext.

Namespace Languages which contains functions for initializing translation catalogs."NaNPaul Licameli02/17/21, 02:14:33 AMNew library lib-strings for Identifier and internationalization1
920Separate shared library for strings and i18n for reuse by crash reporterPaul LicameliPaul-Licameli05/27/21, 01:52:47 PMNaNNaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
923Review of ditheringPaul LicameliPaul-Licameli05/27/21, 03:40:28 PM"This branch doesn't yet provide a more general fix for https://bugzilla.audacityteam.org/show_bug.cgi?id=1572 but does other useful things.

I reviewed all uses of CopySamples (the function in which all dithering happens) that are not in WaveClip or Sequence.  Dithering happens only when samples are copied from a wider sample format to a narrower one.

In some cases I hide the calls in SamplesToFloats where the destination was always float, or simplify to memcpy where source was also float.

In others I give some informal proof in comments why dither will never happen, or argued that it does properly happen in one unlikely case of import of old .aup projects.

In one place I disable dithering when recording to other than floating point format, which users won't do if they keep the default format.

There are some rewrites and simplifications of widely used functions that fetch from WaveTrack, almost always as floating point format, to make the proofs easier to verify.

Finally there is some incidental review and cleanup in ImportAup.cpp.""Rebased and force-pushed, and did some of James' suggestions (an assertion, a comment about the default, different initializer of gHighQualityDither)
 =||= "Review of ditheringPaul LicameliPaul-Licameli05/27/21, 03:40:28 PM"This branch doesn't yet provide a more general fix for https://bugzilla.audacityteam.org/show_bug.cgi?id=1572 but does other useful things.

I reviewed all uses of CopySamples (the function in which all dithering happens) that are not in WaveClip or Sequence.  Dithering happens only when samples are copied from a wider sample format to a narrower one.

In some cases I hide the calls in SamplesToFloats where the destination was always float, or simplify to memcpy where source was also float.

In others I give some informal proof in comments why dither will never happen, or argued that it does properly happen in one unlikely case of import of old .aup projects.

In one place I disable dithering when recording to other than floating point format, which users won't do if they keep the default format.

There are some rewrites and simplifications of widely used functions that fetch from WaveTrack, almost always as floating point format, to make the proofs easier to verify.

Finally there is some incidental review and cleanup in ImportAup.cpp."NaNPaul Licameli05/23/21, 09:54:49 PMA rewrite in Nyquist to make reinterpret_cast unnecessary1
926Create new system to pushing string changes and new strings.Tantacrul06/17/21, 09:51:01 AMPeople should be able to submit strings to the build at any point to enable early string freeze.NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
928Use Audacity patched versions of libmad and libid3tagDmitry Vedenkocrsib05/24/21, 08:11:05 PMlibmad and libid3tag were unmaintained for a long time. Audacity had several patches in the source. The PR ensures, that Audacity still uses patched versions.NaNUse Audacity patched versions of libmad and libid3tagDmitry Vedenkocrsib05/24/21, 08:11:05 PMlibmad and libid3tag were unmaintained for a long time. Audacity had several patches in the source. The PR ensures, that Audacity still uses patched versions.NaNDmitry Vedenko05/24/21, 07:11:35 PMFixes the wxBase target for system wxWidgets1
930Status bar message changePeter Sampsonpetersampsonaudacity05/25/21, 06:25:40 PM"**Is your feature request related to a problem? Please describe.**
A recent German-speaker on the Forum pointed out that ""Actual Rate"" in the Status bar was not clear in what it meant.  In German we have ""Aktuelle Rate"" which translates in English to ""Current Rate"" - see this Forum post: https://forum.audacityteam.org/viewtopic.php?f=70&t=118238

The same issue arose from a different Forum poster four years ago.  At that time Gale Andrews (RIP) suggested:
>""Would 'Sent Rate' for playback and 'Received Rate' when recording be any better?""
See:  https://forum.audacityteam.org/viewtopic.php?t=94782
At the time the OP never responded and Gale sadly died not long after so this issue ran to ground, but I think Gale's suggestion is an excellent one that gives greater clarity of purpose, greater ""discoverability"" of what that rate data is about.

**Describe the solution you'd like**
change the Status Bar ""Actual rate to be:
- **Received Rate** for playback
- **Sent Rate** when recording

I created a Wiki>Wording entry for this, see:  https://wiki.audacityteam.org/wiki/Wording#Status_Bar

""""Actual Rate: 44100 Hz"" is very clear to me - it is the actual (real) sample rate that Audacity is currently running.
(It may differ from the ""Project Rate"" in certain cases).

I've no idea what ""Received Rate for Playback"" or ""Sent Rate when recording"" mean - received from where? sent to where? =||= It's really only ""clear"" when you know what the ""Actual"" is referring to, probably once you've read the Manual.
You, Steve, only ""know"" beacuse you happen to know - not all users will be so insightful.

Alternatives

- **Sound Card Rate**

or

- **Playback Rate**
- **Recording Rate**

 =||= If I was designing this from scratch I'd have a Toolbar for ""**Sound Card Rate**""
- not have it in the Status bar 
- and it would probably be ""off"" by default. =||= Closed as NOT-A-BUG.
It's a feature/change request, requested on the forum twice in the last five years, and (per Steve's comment) a contentious change, as people are used to the existing wording.  'Sound Card Rate' _is_ probably clearer than 'Actual rate', but it is not sufficiently that much clearer to merit  making the change at this time - and we'd probably need to argue through whether it should be 'Audio Device' rather than 'Sound Card'.  :-)  There are bigger fish to fry. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
931Create PR that contains final strings for 3.0.3Tantacrul06/17/21, 09:50:51 AMAfter Paul's work is done, these strings can now be submitted and we'll be able to announce string freeze for translations.NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
933HTTP supportDmitry Vedenkocrsib05/26/21, 11:19:35 AM"Adds support for HTTP requests to Audacity. This is required for update checking and error reporting.

HTTP layer is based on libcurl. 

On Windows and macOS we use OS proved TLS layer. 
On Linux, it is possible to build using system libcurl. By default - the OpenSSL version will be used."No networking in audacity! =||= HTTP supportDmitry Vedenkocrsib05/26/21, 11:19:35 AM"Adds support for HTTP requests to Audacity. This is required for update checking and error reporting.

HTTP layer is based on libcurl. 

On Windows and macOS we use OS proved TLS layer. 
On Linux, it is possible to build using system libcurl. By default - the OpenSSL version will be used."NaNDmitry Vedenko05/25/21, 03:05:50 PMChange the default lib preference to local1
934macOS builds: otool -D should not give absolute path of librariesPaul LicameliPaul-Licameli05/26/21, 01:18:42 PM"A small modification to build procedures"NaNmacOS builds: otool -D should not give absolute path of librariesPaul LicameliPaul-Licameli05/26/21, 01:18:42 PMA small modification to build proceduresNaNPaul Licameli05/26/21, 12:29:21 PMmacOS builds: otool -D should not give absolute path of libraries1
935Make lib-network-manager an opt-in libraryDmitry Vedenkocrsib05/26/21, 02:41:48 PM"After the discussion with @Paul-Licameli, it was decided to make networking completely opt-in.

This is controlled by the `audacity_has_networking` CMake option. 

This option is off by default, but is enabled for CI builds"NaNMake lib-network-manager an opt-in libraryDmitry Vedenkocrsib05/26/21, 02:41:48 PM"After the discussion with @Paul-Licameli, it was decided to make networking completely opt-in.

This is controlled by the `audacity_has_networking` CMake option. 

This option is off by default, but is enabled for CI builds"NaNDmitry Vedenko05/26/21, 01:35:12 PMMake lib-network-manager an opt-in library1
936Use expat version that builds with autotoolsDmitry Vedenkocrsib05/26/21, 04:45:21 PM"Expat has an issue when building with CMake on BSD systems: https://github.com/libexpat/libexpat/issues/55

The workaround is an updated Conan recipe, that uses autotools on all platforms, except Windows"NaNUse expat version that builds with autotoolsDmitry Vedenkocrsib05/26/21, 04:45:21 PM"Expat has an issue when building with CMake on BSD systems: https://github.com/libexpat/libexpat/issues/55

The workaround is an updated Conan recipe, that uses autotools on all platforms, except Windows"NaNDmitry Vedenko05/26/21, 03:14:11 PMUse expat version that builds with autotools1
937Copy the library to the desired location after the buildDmitry Vedenkocrsib05/28/21, 11:04:40 AM"This handles a case, that only affects library developers. 

There is a possibility, that after building the library it will not be copied to a correct location"NaNCopy the library to the desired location after the buildDmitry Vedenkocrsib05/28/21, 11:04:40 AM"This handles a case, that only affects library developers. 

There is a possibility, that after building the library it will not be copied to a correct location"NaNDmitry Vedenko05/27/21, 02:36:03 PMCopy the library to the desired location after the build1
938New utility libraryPaul LicameliPaul-Licameli06/02/21, 11:44:51 AM"A very tiny library of very widely used constants and templates, defined entirely in header files.

This library is no dependent on any part of wxWidgets."NaNNew utility libraryPaul LicameliPaul-Licameli06/02/21, 11:44:51 AM"A very tiny library of very widely used constants and templates, defined entirely in header files.

This library is no dependent on any part of wxWidgets."NaNPaul Licameli02/17/21, 05:49:31 PMNew utility library1
939Move GitHub Actions CI scripts into separate filesPeter Jonasshoogle06/10/21, 05:09:50 PM"Resolves: #917

Creates separate Bash CI scripts for each OS to reduce the size of the main YAML workflow file and allow Bash syntax highlighting.

The CI scripts for each OS are further divided into a separate script for each stage (dependencies.sh, build.sh, package.sh) so that you can see exactly which stage failed in the GitHub Actions run log.

Also creates a separate YAML workflow for each OS so that you can download artifacts for the completed workflow while jobs from other workflows are still running. Previously all jobs were in one workflow so you had to wait for the slowest job to complete before you could download anything.

---

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""In a slight change of direction, I decided to **remove** the separate scripts for each OS:

- linux/dependencies.sh
- linux/builds.sh
- linux/package.sh
- windows/dependencies.sh
- windows/builds.sh
- windows/package.sh

And **instead use** a combined script for each OS, but split into more stages to reduce the size of each script file:

- dependencies.sh
- environment.sh
- configure.sh
- build.sh
- install.sh
- package.sh

Now each individual script file contains the conditional code needed to account for any differences between platforms (Windows, macOS, Linux) during that stage of the build. This makes it easy to see differences between the platforms, and should encourage people to keep those differences to a minimum (i.e. people should try to edit the cross-platform CMake files instead of putting everything in the Bash scripts).

There are multiple commits currently but I will squash down to 1 commit once we have decided on the right approach. =||= > I expect, that the steps between platforms will diverge a lot soon. For example - code signing is different. Or building the installer.

Ideally those steps should be performed within the CMake files, even if that involves creating a custom target that simply runs a platform-dependent script (e.g. a PowerShell script). If it is written properly then the custom target can be called after the Install step is complete to turn the `$DEST` folder into an AppImage / DMG / MSI installer archive.

```
cmake --build build
cmake --build build --target install
cmake --build build --target package
```

But we might want to call the custom target something other than `package` to avoid confusion with CPack. (e.g. we could call it `archive` or `packageinstall` or something like that.)

> At the moment, it looks like that only configure.sh has code reused between the branches

`environment.sh`, `build.sh`, `install.sh` and `package.sh` also share code between platforms. In reality it is only `dependencies.sh` that is entirely different, but it is useful to compare what is installed on each platform.

`package.sh` will be even more similar once the AppImage PR is merged because I will do the AppImage-specific steps inside CMakeLists.txt or inside a custom target as mentioned above. =||= > Ideally those steps should be performed within the CMake files

I can't agree more

> AppImage-specific steps inside CMakeLists.txt 

Ok, I will update my branch to do it in a similar way than  =||= "Move GitHub Actions CI scripts into separate filesPeter Jonasshoogle06/10/21, 05:09:50 PM"Resolves: #917

Creates separate Bash CI scripts for each OS to reduce the size of the main YAML workflow file and allow Bash syntax highlighting.

The CI scripts for each OS are further divided into a separate script for each stage (dependencies.sh, build.sh, package.sh) so that you can see exactly which stage failed in the GitHub Actions run log.

Also creates a separate YAML workflow for each OS so that you can download artifacts for the completed workflow while jobs from other workflows are still running. Previously all jobs were in one workflow so you had to wait for the slowest job to complete before you could download anything.

---

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPeter Jonas06/10/21, 03:52:24 PM"Move GitHub Actions CI scripts into separate files

Break the workflow into smaller stages (Configure, Build, Install,
Package, etc.) so that you can see exactly which stage failed in the
GitHub Actions run log.

Create a separate Bash CI script for each job stage (configure.sh,
build.sh, install.sh, package.sh, etc.) to reduce the size of the main
YAML workflow file and enable Bash syntax highlighting.

Close #917"1
940Update UnusedStrings.hJouni Helminenjounih06/03/21, 01:37:12 PM"Added translatable strings for crash/error reporting and the new spectrogram colour preferences (https://github.com/audacity/audacity/pull/830)

Resolves: *https://github.com/audacity/audacity/issues/931*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [ ] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""The label for the combo box for the choice of schemes needs to have an access key defined, eg XO(""Sc&heme"").
And translators will need to know which window this appears in so they can choose which letter to use as the access key. =||= David reminds us of important things.

The generated audacity.pot file contains comment lines with # that are not part of the strings.  For each string, the source code file or files that contain it is identified.  Is that the clue they have relied on to know when strings are from one choice control?

If so, then they lose that information if we generate audacity.pot during string freeze, before the strings have moved to the proper files.  The file UnusedStrings.h will be convenient for the designer to specify strings, but will be the file mentioned in the comments.

One solution may be that we make more use of the XC() form of the macro with a second, context string.  Use a distinct context string for each choice control.


 =||= I have added a commit to this branch.  I added the strings Vitaly needs, and I added & characters for the spectrogram color choices, and also for the ""Send"" and ""Don't Send"" buttons.
 =||= One more commit.  I reviewed Vitaly's branch and I saw ""Unknown assertion"" was also needed.
 =||= > I have added a commit to this branch. I added the strings Vitaly needs, and I added & characters for the spectrogram color choices, and also for the ""Send"" and ""Don't Send"" buttons.

For the scheme combo box it is the label, and not the choices which needs the access key. The latter should be removed. =||= Thank you David for correcting me.  So one more commit.

""Sche&me"" because S and C are already taken for mnemonics in SpectrumPrefs.cpp.  This might not be obvious to the UI designer.
 =||= Are you satisfied with all the new strings now, David?
 =||= > Are you satisfied with all the new strings now, David?

It would be probably be clearer to refer to spectrograms prefs, rather than spectrum prefs.
I presume that it's going to be made clear to the translators that these strings refer to either additional items in existing windows or to items in new windows. =||= Ideally the spectrum prefs context should be added to the existing strings in SpectrumPrefs.cpp, and in many other source files, and contexts should be used more regularly for new strings.

But that would break existing translations.

The new contexts here will do until I think up a better way to get contexts into the existing strings.
 =||= "Update UnusedStrings.hJouni Helminenjounih06/03/21, 01:37:12 PM"Added translatable strings for crash/error reporting and the new spectrogram colour preferences (https://github.com/audacity/audacity/pull/830)

Resolves: *https://github.com/audacity/audacity/issues/931*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [ ] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli06/03/21, 11:24:35 AMChoice control items do NOT need & characters, choice label does1
941"fix for P2 ""Bug 2769 - Nyquist effects cannot extend length of selected audio"""Roger B. Dannenbergrbdannenberg06/11/21, 09:58:18 PM"Restore old behavior where Nyquist sound effects replace selection with
arbitrary length computed sound. (So as before, sound after the selection
is shifted in time if the replacement sound is shorter or longer than the
original selection.) If stereo is computed and one channel is shorter than
the other, the shorter channel is extended with zeros to match the length
of the longer one.

Resolves: https://bugzilla.audacityteam.org/show_bug.cgi?id=2769

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaN"fix for P2 ""Bug 2769 - Nyquist effects cannot extend length of selected audio"""Roger B. Dannenbergrbdannenberg06/11/21, 09:58:18 PM"Restore old behavior where Nyquist sound effects replace selection with
arbitrary length computed sound. (So as before, sound after the selection
is shifted in time if the replacement sound is shorter or longer than the
original selection.) If stereo is computed and one channel is shorter than
the other, the shorter channel is extended with zeros to match the length
of the longer one.

Resolves: https://bugzilla.audacityteam.org/show_bug.cgi?id=2769

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNRoger Dannenberg05/28/21, 10:51:40 AM"Restore old behavior where Nyquist sound effects replace selection with
arbitrary length computed sound. (So as before, sound after the selection
is shifted in time if the replacement sound is shorter or longer than the
original selection.) If stereo is computed and one channel is shorter than
the other, the shorter channel is extended with zeros to match the length
of the longer one."1
942Adds an option to force all the dependencies to be build from sourceDmitry Vedenkocrsib08/03/21, 10:02:03 AM"Adds `audaicity_conan_allow_prebuilt_binaries` that will force all the Conan dependencies to be built from the source

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""I found an undesired behavior for BUILD always, looking now how to get a work-around.

BUILD always seems to prevent Conan using the local cache as well =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
943Use libjpeg-turbo as a wxWidgets dependecyDmitry Vedenkocrsib05/31/21, 09:08:18 AM"Turns out, libjpeg is downloaded over plain HTTP from the official IJG site. It is now replaced with libjpeg-turbo.

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNUse libjpeg-turbo as a wxWidgets dependecyDmitry Vedenkocrsib05/31/21, 09:08:18 AM"Turns out, libjpeg is downloaded over plain HTTP from the official IJG site. It is now replaced with libjpeg-turbo.

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNDmitry Vedenko05/28/21, 09:32:01 PM"Use libjpeg-turbo as a wxWidgets dependecy

Turns out, libjpeg is downloaded over plain HTTP from the official IJG site. It is now replaced with libjpeg-turbo."1
944Update pl.po from TransifexGrzegorz PruchniakowskiGootector05/31/21, 09:28:44 AM"Update pl.po from Transifex
2 fixes.

Greetings,
Gootector

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNUpdate pl.po from TransifexGrzegorz PruchniakowskiGootector05/31/21, 09:28:44 AM"Update pl.po from Transifex
2 fixes.

Greetings,
Gootector

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNGrzegorz Pruchniakowski05/28/21, 09:36:09 PM"Update pl.po from Transifex

Update pl.po from Transifex
2 fixes.

Greetings,
Gootector"1
945Recommend incremental, self-contained commits for large changes...Paul LicameliPaul-Licameli09/03/21, 11:47:46 AM"... And make the statements concise""The original wording is verbose and not specific about what constitutes ""unnecessary changes.""  I don't want that construed to mean you can't improve comments or readability or modernize the C++ idioms.  So I restate things rather in terms of effects on the program's behavior.
 =||= I like some of the changes but not all. My suggestions are here: https://docs.google.com/document/d/1H3hjFZ58e-wZyt00JoJgI9GXUfOEQ8_pek0jtAK2s1A/edit =||= ""Each commit does “one thing” and the commit message(s) meet these guidelines"" with a link.

I don't like saying ""doing one thing"" because there are many ways you can count ""things,"" and it's not too bad to combine several small things into one reasonably sized commit.

Rather it's important not to combine so many things in one commit that they overwhelm a reviewer.  Yes, subjectivity there too.

But whatever ""things"" are contained in one commit, they are complete things, and complete in the sense I stated:  Each commit is known to build and run without known bad behavior.

Besides aiding review, the splitting of a big change into increments that build and run make possible the bisection of bugs to some part of a large project, if bugs are discovered later.


 =||= "Recommend incremental, self-contained commits for large changes...Paul LicameliPaul-Licameli09/03/21, 11:47:46 AM... And make the statements conciseNaNPaul Licameli05/29/21, 02:29:33 PM"Recommend incremental, self-contained commits for large changes...

... And make the statements concise"1
946Issue 871: Let Audacity compile with unmodified portaudio sources...Paul LicameliPaul-Licameli08/13/21, 09:49:02 AM"Resolves: https://github.com/audacity/audacity/issues/871

... This may allow upgrade to the latest version of portaudio, which is
desirable for fixes and improvements, including the fixing of build warnings on
Mac about use of deprecated SDK functions.

The function PaUtil_GetTime() cannot be called.

To make a conservative fix that doesn't affect the fine tuning of timing,
replicate the implementation of that function directly in AudioIO.cpp, with
all necessary conditional compilation branches.

Don't attempt a fix with std::chrono, although that would be more nicely
platform independent.

Testing should confirm that MIDI playback doesn't suffer any jittery timing,
such as it did especially on Linux with ALSA, when the playback feature was
under development in 2017.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""What version of portaudio this was tested with?

What's the problem with PaUtil_GetTime()?

What's the problem with std::chrono?

The description gives advice on how to deal with PaUtil_GetTime(), but it looks like advice is already incorporated in the PR. 

It sounds like this has not been tested on Linux. Is that true?

Everything looks reasonable in the code. The code was completely unexpected from the description though. I think a better description would be something like ""This change moves the old implementation of PortAudio's PaUtil_GetTime() into Audacity and renames it util_GetTime() because ...""
 =||= > What's the problem with PaUtil_GetTime()?

This is a private API of PortAudio. I. e. it is not exposed in the PortAudio headers and is hidden in the shared library.

Ubuntu shipped Audacity with the following patch:

```
 src/AudioIO.cpp | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

diff --git a/src/AudioIO.cpp b/src/AudioIO.cpp
index 0187e39..bfb0848 100644
--- a/src/AudioIO.cpp
+++ b/src/AudioIO.cpp
@@ -491,8 +491,16 @@ time warp info and AudioIOListener and whether the playback is looped.
    #define ROUND(x) (int) ((x)+0.5)
    //#include <string.h>
 //   #include ""../lib-src/portmidi/pm_common/portmidi.h""
-   #include ""../lib-src/portaudio-v19/src/common/pa_util.h""
    #include ""NoteTrack.h""
+#include <time.h>
+
+PaTime PaUtil_GetTime( void )
+{
+    struct timespec tp;
+    clock_gettime(CLOCK_REALTIME, &tp);
+    return (PaTime)(tp.tv_sec + tp.tv_nsec * 1e-9);
+}
+
 #endif
``` =||= Note that the much fewer lines of code we need to add are to fix linkage when the library is compiled as C++ instead of C.  In src/os/unix/pa_unix_util.c

`
#ifdef __cplusplus
extern 'C' {
#endif
`
...
`
#ifdef __cplusplus
}
#endif
`

Could all of this be more easily fixed if only we can upstream a small change to portaudio?  Is there an error in build scripts that causes compilation in the wrong language?

 =||= > Could all of this be more easily fixed if only we can upstream a small change to portaudio?

I don't think that this is a problem with PortAudio. It looks to be exclusively an Audacity issue. =||= One might argue the mistake is theirs, if it is possible to build the functions with linkage inconsistent with the declarations in the header file.

But if that is not an option, then these changes need a bit of testing to verify MIDI timing doesn't jitter on any of the platforms.
 =||= That seems like a better idea to me. As I recall, PortAudio reports the 
time from PaUtil_GetTime() in callbacks. It's really a flaw in the 
abstraction that the system time reported in callbacks is not specified 
except in a hidden function. If you want to know how the time in 
callbacks relates to anything else (e.g. MIDI), there's no way to 
request PortAudio's view of the current system time.  I don't think 
there's any reason to hide it.

-Roger

On 5/31/21 8:47 AM, Dmitry Vedenko wrote:
>
>     Could all of this be more easily fixed if only we can upstream a
>     small change to portaudio?
>
> I don't think that this is a problem with PortAudio. It looks to be 
> exclusively an Audacity issue.
>
> —
> You are receiving this because your review was requested.
> Reply to this email directly, view it on GitHub 
> <https://github.com/audacity/audacity/pull/946#issuecomment-851467746>, 
> or unsubscribe 
> <https://github.com/notifications/unsubscribe-auth/AALLUHGJ7TFFFM3LPK4BPFDTQOAO7ANCNFSM45YNBKOA>.
>
 =||= How exactly is one supposed to test this? On Linux, with an upstream/system portaudio, audacity doesn't build unless portmixer is disabled, and with portmixer disabled, midi interfaces no longer appear.

Is there actually any way to test this solution on Linux as it's currently implemented? =||= Meged as a part of #1186  =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
948Adds lib-uuidDmitry Vedenkocrsib06/02/21, 02:41:54 PM"Adds a small library to generate UUID values. This library will be used in Sentry error reporting

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""I'm done.  Fix that one doc comment and I'm happy.  Squash it and merge it.
 =||= "Adds lib-uuidDmitry Vedenkocrsib06/02/21, 02:41:54 PM"Adds a small library to generate UUID values. This library will be used in Sentry error reporting

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNDmitry Vedenko06/02/21, 02:11:52 PM"Adds lib-uuid

Adds a small library to generate UUID values. This library will be used in Sentry error reporting
Replace constructor cast with static_cast


Removes a noexcept sneaked in


Adds documentation and some code review fixes


Fixes doxygen"1
950Add alpha-build-only crash-me buttons, for testing of crash reportingPaul LicameliPaul-Licameli06/08/21, 09:23:54 AM"To assist the testing of https://github.com/audacity/audacity/pull/836

- [x ] I signed [CLA](https://www.audacityteam.org/cla/)
- [ x] I made sure the code compiles on my machine
- [ x] I made sure there are no unnecessary changes in the code
- [ x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [ x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNAdd alpha-build-only crash-me buttons, for testing of crash reportingPaul LicameliPaul-Licameli06/08/21, 09:23:54 AM"To assist the testing of https://github.com/audacity/audacity/pull/836

- [x ] I signed [CLA](https://www.audacityteam.org/cla/)
- [ x] I made sure the code compiles on my machine
- [ x] I made sure there are no unnecessary changes in the code
- [ x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [ x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli06/03/21, 12:36:08 PMAdd alpha-build-only crash-me buttons, for testing of crash reporting1
951Fix build time infinite recursion in CopyLibs.cmakePaul LicameliPaul-Licameli06/03/21, 01:40:48 PM"Some builds were hanging in post-build steps because of infinite recursion when libraries have cyclic dependencies (possible with static libraries).

This can fix that.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x ] I signed [CLA](https://www.audacityteam.org/cla/)
- [x ] I made sure the code compiles on my machine
- [x ] I made sure there are no unnecessary changes in the code
- [x ] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x ] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNFix build time infinite recursion in CopyLibs.cmakePaul LicameliPaul-Licameli06/03/21, 01:40:48 PM"Some builds were hanging in post-build steps because of infinite recursion when libraries have cyclic dependencies (possible with static libraries).

This can fix that.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x ] I signed [CLA](https://www.audacityteam.org/cla/)
- [x ] I made sure the code compiles on my machine
- [x ] I made sure there are no unnecessary changes in the code
- [x ] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x ] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli06/03/21, 12:55:32 PMFix build time infinite recursion in CopyLibs.cmake1
952Error reporting to SentryDmitry Vedenkocrsib06/08/21, 03:08:26 PM"This pull request introduces an always-opt-in solution to send non-fatal errors to Sentry, such as errors while opening a project or an audio device. This feature will be only enabled if `audacity_has_networking` is on and `SENTRY_DSN_KEY`, `SENTRY_HOST` and `SENTRY_PROJECT` are defined. The latter will be passed via Secrets, so this functionality will be disabled for builds under the pull request itself.

Optionally, the dialog allows an arbitrary comment to be attached.

When Sentry reporting is enabled `ADD_EXCEPTION_CONTEXT` macro allows adding data before the report is generated. Currently, this is used to pass more information about SQLite return codes to the report, which is not available from the exception itself.

Dialog example:

![image](https://user-images.githubusercontent.com/2660628/120678539-ddcdde00-c4a0-11eb-9d60-800e164a8ea3.png)

Report example:

```
{
    ""timestamp"": 1622737253,
    ""event_id"": ""619a7f1125e8a74194d18d8148f53897"",
    ""platform"": ""native"",
    ""release"": ""audacity@3.0.3"",
    ""contexts"": {
        ""os"": {
            ""type"": ""os"",
            ""name"": ""Windows"",
            ""version"": ""10.0.19042""
        }
    },
    ""exception"": {
        ""values"": [
            {
                ""type"": ""File_Error"",
                ""value"": ""Audacity failed to read from a file in <path>."",
                ""mechanism"": {
                    ""type"": ""runtime_error"",
                    ""handled"": false,
                    ""data"": {
                        ""sqlite3.rc"": ""11"",
                        ""sqlite3.context"": ""SqliteSampleBlock::Load.step""
                    }
                }
            }
        ]
    }
}
```


- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""Summary of my re-review:  besides minor matters, I think the important things are (1) fix the CMake function not to depend on environment and (2) consider whether we might get overreporting of irrelevant information in case of writing FileExceptions.
 =||= Fix ""too"" and ""imitate"" in comments, add doc comments for AnonymizedMessage, and it's good to merge.

I see all ""Error_opening_sound_device"" are done.
 =||= "Error reporting to SentryDmitry Vedenkocrsib06/08/21, 03:08:26 PM"This pull request introduces an always-opt-in solution to send non-fatal errors to Sentry, such as errors while opening a project or an audio device. This feature will be only enabled if `audacity_has_networking` is on and `SENTRY_DSN_KEY`, `SENTRY_HOST` and `SENTRY_PROJECT` are defined. The latter will be passed via Secrets, so this functionality will be disabled for builds under the pull request itself.

Optionally, the dialog allows an arbitrary comment to be attached.

When Sentry reporting is enabled `ADD_EXCEPTION_CONTEXT` macro allows adding data before the report is generated. Currently, this is used to pass more information about SQLite return codes to the report, which is not available from the exception itself.

Dialog example:

![image](https://user-images.githubusercontent.com/2660628/120678539-ddcdde00-c4a0-11eb-9d60-800e164a8ea3.png)

Report example:

```
{
    ""timestamp"": 1622737253,
    ""event_id"": ""619a7f1125e8a74194d18d8148f53897"",
    ""platform"": ""native"",
    ""release"": ""audacity@3.0.3"",
    ""contexts"": {
        ""os"": {
            ""type"": ""os"",
            ""name"": ""Windows"",
            ""version"": ""10.0.19042""
        }
    },
    ""exception"": {
        ""values"": [
            {
                ""type"": ""File_Error"",
                ""value"": ""Audacity failed to read from a file in <path>."",
                ""mechanism"": {
                    ""type"": ""runtime_error"",
                    ""handled"": false,
                    ""data"": {
                        ""sqlite3.rc"": ""11"",
                        ""sqlite3.context"": ""SqliteSampleBlock::Load.step""
                    }
                }
            }
        ]
    }
}
```


- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNDmitry Vedenko06/08/21, 02:58:03 PMUpdates Doxygen documentation1
953Update UnusedStrings.hAnton S. Gerasimovgera-gas06/04/21, 02:25:22 PMAdd new strings for update dialog.NaNUpdate UnusedStrings.hAnton S. Gerasimovgera-gas06/04/21, 02:25:22 PMAdd new strings for update dialog.NaNAnton S. Gerasimov06/04/21, 01:35:15 PMUpdate UnusedStrings.h1
954Update UnusedStrings.hAnton S. Gerasimovgera-gas06/04/21, 04:23:29 PMAdd all strings for translation.NaNUpdate UnusedStrings.hAnton S. Gerasimovgera-gas06/04/21, 04:23:29 PMAdd all strings for translation.NaNAnton S. Gerasimov06/04/21, 04:08:41 PMUpdate UnusedStrings.h1
955Update UnusedStrings.hAnton S. Gerasimovgera-gas06/04/21, 09:30:48 PMGramma corrections for added strings.NaNUpdate UnusedStrings.hAnton S. Gerasimovgera-gas06/04/21, 09:30:48 PMGramma corrections for added strings.NaNAnton S. Gerasimov06/04/21, 05:39:31 PMUpdate UnusedStrings.h1
956Update UnusedStrings.hAnton S. Gerasimovgera-gas06/05/21, 04:34:25 PMAdd one miss string and some corrections for translations comment context.NaNUpdate UnusedStrings.hAnton S. Gerasimovgera-gas06/05/21, 04:34:25 PMAdd one miss string and some corrections for translations comment context.NaNAnton S. Gerasimov06/05/21, 03:20:51 PMUpdate UnusedStrings.h1
959Address issue with x64 builds and screen reader errors.Tantacrul06/17/21, 02:46:04 PM"(From David Bailes on Discord)

Re: For Windows, the RC will be 64bit.
I don't know whether this is already one of the known issues, but on the 64bit build the accessibility for screen readers is badly broken - as in, unusable. The 64 bit build of the wxWidgets accessibility sample program is also broken. The following thread helped me to quickly find the problem: https://social.msdn.microsoft.com/Forums/vstudio/en-US/33dea3e3-5538-423a-856b-989d92903a00/problems-with-narrator-and-jaws?forum=windowsaccessibilityandautomation
A fix is to change one line in the file src/msw/window.cpp in wxWidgets. The line:
if (dwObjId == (LPARAM)OBJID_CLIENT && GetOrCreateAccessible())
is changed to:
if (dwObjId == (LPARAM)(DWORD)OBJID_CLIENT && GetOrCreateAccessible())
This change fixes the wxWidgets accessibility sample program.
There may be other issues in the accessibility code in Audacity, but given the current build system, I don't know how to test that until the above bug in wxWidgets is fixed."I edited the Audacity solution to build with a local version of wxWidgets. With the above fix to wxWidgets, the accessibility of Audacity for users of screen readers on Windows appears to be OK. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
960"Unexplained ""broken MP3"" error importing a song"/usr/local/ΕΨΗΕΛΩΝdjechelon06/16/21, 01:03:56 PM"**Describe the bug**
Trying to import an MP3 file (Blade Encoder 128k CBR) into Audacity for editing.
Audacity fails with message ""Import failed. Possible cause is a broken MP3""

**To Reproduce**
Steps to reproduce the behavior:
1. Download from YouTube [this song](https://www.youtube.com/watch?v=CkbHmhUDpKs) in M4A format
2. Use VLC to convert it to WAV
3. Use CDex with Blade Encoder to convert it to MP3 CBR 128K, equal to all the files in the existing collection
4. (Store the file somewhere, burn it to DVD, whatever)
2. Drag the resulting file to Audacity for subsequent processing
3. BOOM

Yes, I could share some bytes of the mp3 file I own. Something that won't get any of us to legal trouble.

**Expected behavior**
Audacity to import the file and show the wave trace

**Screenshots**
If applicable, add screenshots to help explain your problem.

(Do you speak Italiano? 🇮🇹)
![immagine](https://user-images.githubusercontent.com/3042285/120942123-1252cb80-c727-11eb-9546-a787ef985be7.png)


**Additional information (please complete the following information):**
 - OS: Windows 10 Pro
 - Version: 3.0.2
 - All my tracks are encoded using the old Blade Encoder of which I still own a copy

**Additional context**
I just wanted to make a ringtone-suitable cut of an [audio track](https://www.youtube.com/watch?v=CkbHmhUDpKs). I already ""converted"" and tagged it for my personal music collection. I know that if I re-download the track again from Youtube as a WAV audio or M4A Audacity will import it.

I just want to understand why Audacity fails to import all my MP3s. I have tried with multiple tracks of my collection. All ripped using CDex (the original, not the adware-powered) with Blade Encoder.""I know that without the file or its structure you can't investigate the bug, I'm just not posting any link to cloud storage **right now** otherwise someone could file a DMCA compliant to harm the project =||= See this Forum post, it should help you:  https://forum.audacityteam.org/viewtopic.php?f=46&t=117436&p=426850&hilit=import#p426850 =||= Could you tell us what the song is (and possibly where you got it from) so we can check ourselves?

Thanks! =||= Sorry I thought I posted the YouTube link. I edited the post with the instructions.

Yes, I **did** create the ringtone using the M4A version re-downloaded from YT but the bug still persists with existing MP3s from my dj set collection =||= @petersampsonaudacity my list is empty by default

![🇮🇹](https://user-images.githubusercontent.com/3042285/121790678-fc8b4d80-cbe1-11eb-90b4-8a44dd9b6323.png)


# Edit

Sorry I had to ""add rule"", so now I gave priority to FFMeg files. It worked =||= You beat me to it djechelon - glad you discovered for yourself how to do that - and really glad that it worked for you.  

The underlying issue is that a couple of releases back we tightened up on not allowing ""imperfect"" or ""flawed"" MP3 files.  It did need some tightening up (to avoid other issues) but it may still be a little overzealous and could possibly be relaxed a little.  

This is something we are aware of and are keeping an eye on - in the meanwhile I will consider adding something in tha Manual about the workaround _(so for now I'll keep this GitHub issue open as a reminder-to-self).

Peter.


**Update:**  @djechelon, any chance you can send me a copy of the MP3 file (or upload it somewhere for me to access) that failed to originally import.  I want to be able to make Audacity force that error message as I want to see 
a) if it has a ?"" help button,
b) if so, then what page in the Manual does it target?

**Further update:**  @djechelon, I just looked again at the screenshot you posted and I observe that there is no ""?"" help butto.  This is an isue that we may (but only may) want to fix.  so it would still be useful to have a copy of that flawed MP3 if at all possible.

Thanks,
Peter.
 =||= @petersampsonaudacity here you go

https://drive.google.com/file/d/1sq03RZU0nw4TyE5QX6FWrPMmhojIDvV4/view?usp=sharing =||= @djechelon 

firstly, many thanks for the malformed MP3  :-)

As a result of this I decided to formalize the help we can offer in such circumstannces and wrote this new page in the alpha Manual for the upcoming 3.0.3 release - https://alphamanual.audacityteam.org/man/Opening_malformed_MP3_files

I've also filed a request for a ?"" help button to be added to that error message - that button would send the user to that new page (so hopefully they could help themselves solve their issue).

Peter.


 =||= @djechelon 

I've just been testing you MP3 - yes it still gives the error message in 3.0.2 - but when I import it into the latest alpha test build I have for 3.0.3 it imports just fine.

What puzzles me about this is I don't recall any changes we made to the importer libraries for 3.0.3 =||= Latest master build https://github.com/audacity/audacity/actions/runs/942194968 can't open any MP3 file, libmad is disabled.

![1](https://user-images.githubusercontent.com/6567423/122212718-748a9980-cea8-11eb-81f9-2788ac850613.png)
![2](https://user-images.githubusercontent.com/6567423/122212728-781e2080-cea8-11eb-8dba-b8ab94851485.png)
 =||= @vladkosi whoa, that is unfortunate. That is fixed now in #985, it will be merged shortly

Thanks for pointing it out! =||= However testing this morning with the latest alpha  -  audacity-win-3.0.3-alpha-20210616+e83210d-32bit

Now today with the latest alpha I can no longer import djechelon's malformed MP3.

From looking at the GitHub commits I notice this recent one from Dmitry
Fixes the libmad disabled by mistake
https://github.com/audacity/audacity/commit/c8e0bf343dbecbb1e1d181ceef124705bdc72079

And this did get pulled in Master after my last set of tests yesterday.

I tested again with the builds I had yesterday - and then yes I could import those malformed MP3s again.


So I'm inferring that it worked before because libmad was accidentally disabled and that thus all MP3 imports were via FFmpeg.

This may also explain why I was seeing no metadata being imported with audio files. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
962Tracking versionAnton S. Gerasimovgera-gas06/09/21, 11:29:54 AM"**New version check.**
This pull request introduces an always-opt-in solution for checking a new Audacity version and further download updates by user actions. This feature will be only enabled if  `audacity_has_updates_check` and `audacity_has_networking` is on.

Dialog example:
![2021-06-07_16-43-48](https://user-images.githubusercontent.com/1660969/121028276-5c33c400-c7b0-11eb-8016-4838d0ff0964.png)""> There are several places, where documentation and a file opening comment are missing. Please add those.
> 
> Also, the case that we have multiple Audacity windows opened should be handled.

I disagree that the case of multiple Audacity windows needs to be handled.  This dialog is only meant to happen once when the program begins.  The UpdateManager doesn't really depend on the project, except to find a main window.

I write more at PR #966  
 =||= > I disagree that the case of multiple Audacity windows needs to be handled. This dialog is only meant to happen once when the program begins. The UpdateManager doesn't really depend on the project, except to find a main window.

Originally, there was a problem:
1. User opens a window, gets a notification, dismisses it.
2. User opens another project in a new window and gets the notification again.

I asked Anton to fix it by checking the last time we've shown the update dialog. I haven't looked at #966 yet though

 =||= Tl;dr: The updater is a long-lived singleton object, with a long period timer.  Projects and windows have shorter lives.  The updater should not be permanently associated with any one project or window.  On Mac There might even be none at the time the updater needs to notify you.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
963Update Corsican locale co.po for Audacity 3.0.3Patriccollu06/09/21, 02:03:15 PM"Hello,

This is an update of **Corsican** localization for Audacity 3.0.3.

Best regards,
Patriccollu.
""I confirmed that this is 100% complete.  Thank you!
 =||= "Update Corsican locale co.po for Audacity 3.0.3Patriccollu06/09/21, 02:03:15 PM"Hello,

This is an update of **Corsican** localization for Audacity 3.0.3.

Best regards,
Patriccollu.
"NaNPatriccollu06/08/21, 05:43:47 PMUpdate Corsican locale co.po for Audacity 3.0.31
964Cmake changes fix loading of modules on macOSPaul LicameliPaul-Licameli06/09/21, 07:11:49 PM"Resolves: https://bugzilla.audacityteam.org/show_bug.cgi?id=2799

Enabling of the mod-script-pipe module (used for the cooperation of Audacity and Blender, for instance) has failed, on macOS only, since commit 938bbeb.  This fixes it, and also gives a related, better fix for slow builds with many libraries on macOS.

(Also improves the picture of library dependencies generated at configuration time with Graphviz, shortening some node names.  That has no effect on the built artifacts.)

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x ] I signed [CLA](https://www.audacityteam.org/cla/)
- [x ] I made sure the code compiles on my machine
- [x ] I made sure there are no unnecessary changes in the code
- [x ] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x ] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNCmake changes fix loading of modules on macOSPaul LicameliPaul-Licameli06/09/21, 07:11:49 PM"Resolves: https://bugzilla.audacityteam.org/show_bug.cgi?id=2799

Enabling of the mod-script-pipe module (used for the cooperation of Audacity and Blender, for instance) has failed, on macOS only, since commit 938bbeb.  This fixes it, and also gives a related, better fix for slow builds with many libraries on macOS.

(Also improves the picture of library dependencies generated at configuration time with Graphviz, shortening some node names.  That has no effect on the built artifacts.)

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x ] I signed [CLA](https://www.audacityteam.org/cla/)
- [x ] I made sure the code compiles on my machine
- [x ] I made sure there are no unnecessary changes in the code
- [x ] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x ] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli06/09/21, 02:16:39 AM"Bug2799: mod-script-pipe fails to load on Mac...

... This broke at commit 938bbeb with changes in CMake scripts.

This can be fixed by invoking CopyLibs.cmake for modules too.

This affects only the macOS build."1
965Update pl.po from Transifex for 3.0.3Grzegorz PruchniakowskiGootector06/09/21, 03:00:26 PM"Update pl.po from Transifex for 3.0.3

Greetings,
Gootector

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNUpdate pl.po from Transifex for 3.0.3Grzegorz PruchniakowskiGootector06/09/21, 03:00:26 PM"Update pl.po from Transifex for 3.0.3

Greetings,
Gootector

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNGrzegorz Pruchniakowski06/09/21, 11:52:19 AM"Update pl.po from Transifex for 3.0.3

Update pl.po from Transifex for 3.0.3

Greetings,
Gootector"1
966Tracking versionAnton S. Gerasimovgera-gas06/18/21, 01:46:40 PM"**New version check.**
This pull request introduces an always-opt-in solution for checking a new Audacity version and further download updates by user actions. This feature will be only enabled if `audacity_has_updates_check` and `audacity_has_networking` is on.

Dialog example:
![2021-06-07_16-43-48](https://user-images.githubusercontent.com/1660969/121355044-2883a600-c938-11eb-9cd9-69470351d902.png)""I will await resolution of points I raised before continuing review.
 =||= Before anything else:  again, please simplify the commit history.  Make one simple, straight branch.  Do not include merge commits.  Rebase or cherry-pick one of the branches onto the other.  You could do
```
git checkout tracking-version
git reset --hard 1426e5f2c021116ae61dd6e350db724a07e8529c
git cherry-pick 944edbcc0f3180d6aaf93ab9ef1247404eec64e5
git cherry-pick 14922cfc738df1bca1401f0a75a178dd35f7c40d
```

And then, rebase onto more recent master and force-push.  You might also do git rebase -i and make some of these commits fixups so the history is shorter.
 =||= "Tracking versionAnton S. Gerasimovgera-gas06/18/21, 01:46:40 PM"**New version check.**
This pull request introduces an always-opt-in solution for checking a new Audacity version and further download updates by user actions. This feature will be only enabled if `audacity_has_updates_check` and `audacity_has_networking` is on.

Dialog example:
![2021-06-07_16-43-48](https://user-images.githubusercontent.com/1660969/121355044-2883a600-c938-11eb-9cd9-69470351d902.png)"NaNgera06/17/21, 06:42:46 PM"Add new review recommendations.

Clean up extra code, remake static title, move settings to UpdateManager class."1
967Add cmake targets for package generationDmitry Vedenkocrsib06/16/21, 12:07:31 PM"Adds CMake targets:
---

* `package`, using CPack. On macOS - dmg will be created. On other systems - zip archive will be created.
* `innosetup` - Windows only, requires InnoSetup 6 installed/

All targets are expecting, that binaries are already built. The call `cmake --install` internally, which does not invoke the build process.

For example:

```
cmake --build . --config Release
cmake --build . --config Release --target package
```

The resulting packages are placed in `${CMAKE_BINARY_DIR}/package`.

Adds CMake options:
---

* `audacity_perform_codesign` - enables code signing on Windows and macOS.
* `audacity_package_manual` - install the manual along with the target.

---
<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNAdd cmake targets for package generationDmitry Vedenkocrsib06/16/21, 12:07:31 PM"Adds CMake targets:
---

* `package`, using CPack. On macOS - dmg will be created. On other systems - zip archive will be created.
* `innosetup` - Windows only, requires InnoSetup 6 installed/

All targets are expecting, that binaries are already built. The call `cmake --install` internally, which does not invoke the build process.

For example:

```
cmake --build . --config Release
cmake --build . --config Release --target package
```

The resulting packages are placed in `${CMAKE_BINARY_DIR}/package`.

Adds CMake options:
---

* `audacity_perform_codesign` - enables code signing on Windows and macOS.
* `audacity_package_manual` - install the manual along with the target.

---
<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNDmitry Vedenko06/16/21, 11:58:15 AMFixes the way GIT_BRANCH is evalueated1
968Mac: mod-script-pipe fails to load (https://bugzilla.audacityteam.org/show_bug.cgi?id=2799)Paul LicameliPaul-Licameli06/09/21, 07:11:49 PM"Mac: mod-script-pipe fails to load

See https://bugzilla.audacityteam.org/show_bug.cgi?id=2799"NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
969Update Manual for new spectral colorsPaul LicameliPaul-Licameli06/15/21, 04:41:44 PM"Pages to change:
https://manual.audacityteam.org/man/extra_menu_scriptables_i.html#set_track_visuals (Gray scale checkbox is replaced with a choice)

https://manual.audacityteam.org/man/scripting_reference.html (parameters for Set Track Visuals command)

https://manual.audacityteam.org/man/spectrograms_preferences.html (Spectrogram preferences)""The new spectral colors have not been pulled into the Master trunk yet, so it is not timely to update the Manual
 =||= I see this from Extra>ScriptablesI
![image](https://user-images.githubusercontent.com/50205984/121703757-6ff26980-cad3-11eb-88d1-f575a3ad8ac9.png)

Which then gets me
![image](https://user-images.githubusercontent.com/50205984/121703994-a203cb80-cad3-11eb-9dbe-1a0f4db5e886.png)

I assume that that is what you expect to see
 =||= Other changes

1) This one is a biggy
https://alphamanual.audacityteam.org/man/Spectrogram_View

2) This one will need some work too
https://alphamanual.audacityteam.org/man/Multi-view

3) https://alphamanual.audacityteam.org/man/Audacity_Selection#spectral

4) https://alphamanual.audacityteam.org/man/Audacity_Waveform#alternate

5) https://alphamanual.audacityteam.org/man/Audio_Track_Dropdown_Menu

6) https://alphamanual.audacityteam.org/man/Audio_Tracks#display

7) https://alphamanual.audacityteam.org/man/Click_removal_using_the_Spectrogram_view

8) https://alphamanual.audacityteam.org/man/Spectral_Delete

9) Another biggy
https://alphamanual.audacityteam.org/man/Spectral_Selection

10) https://alphamanual.audacityteam.org/man/Spectrogram_Settings

That's a fair few - and quite a lot of work ...



Pro tem - these pages could be left as-is but with a note div to explain that they are using the ""classic"" colorway.
And a P2 todo for future update to default colorway. =||= An alternative to updating the many, many inages and pages with spectrograms would be to continue with the original colorway as the default and offer the new one as an option to select in Spectrograms Preferences.

But that would have implications for the strings which would need to change - as we would need nomenclature for the new colorway. =||= > as we would need nomenclature for the new colorway.

If I were choosing nomenclature I would call the two colorways
a) Light
b) Dark

Light being the original colorway of Paul's (works well with Light Audacity theme)
Dark - the new one fron dofuuz, this works nicely with Dark Audacity theme =||= > Light being the original colorway of Paul's (works well with Light Audacity theme)

I can't take credit for the classic Audacity spectrogram colors.  They predate all my work.
 =||= I note that as of latest alpha Audacity-3.0.3-alpha-20210613+7d76e06-32bit

this new spectral colorway has still not been pulled into the Master builds.

_So unless and until that happens this is not an ""open issue"" as such - it is just a ""plan"" ..._ =||= I have set P1s in the manual for pages that MUST be updated for the new Spectrogram colorway(s) - and I have set notes on other pages advising that the images are using the non-default Classic colorway - with a P2 for future update when time and manpower allows.

I will probably not have time to deal with the P1s until the weekend or early next week. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
971Bug2800: File>Open should allow non-project from a FAT drive...Paul LicameliPaul-Licameli06/10/21, 09:13:46 PM"... but still disallow it for .aup3 files.

The fix is a simple moving of the check for a FAT filesystem after several
other checks that distinguish types of imported files.

Resolves: https://bugzilla.audacityteam.org/show_bug.cgi?id=2800

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x ] I signed [CLA](https://www.audacityteam.org/cla/)
- [x ] I made sure the code compiles on my machine
- [x ] I made sure there are no unnecessary changes in the code
- [x ] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x ] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""Tested on W10 with Audacity 3.0.3 6f20453 Paul's 2800 fix

I confirm that with that fix I can ""open"" audio and MIDI files from a FAT drive - but am still properly blocked from opening an AUP3 project from a FAT drive .   Looks good to go to me. =||= "Bug2800: File>Open should allow non-project from a FAT drive...Paul LicameliPaul-Licameli06/10/21, 09:13:46 PM"... but still disallow it for .aup3 files.

The fix is a simple moving of the check for a FAT filesystem after several
other checks that distinguish types of imported files.

Resolves: https://bugzilla.audacityteam.org/show_bug.cgi?id=2800

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x ] I signed [CLA](https://www.audacityteam.org/cla/)
- [x ] I made sure the code compiles on my machine
- [x ] I made sure there are no unnecessary changes in the code
- [x ] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x ] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli06/10/21, 09:37:54 AM"Bug2800: File>Open should allow non-project from a FAT drive...

... but still disallow it for .aup3 files.

The fix is a simple moving of the check for a FAT filesystem after several
other checks that distinguish types of imported files."1
972Updated ga.poSeanán Ó Coistínseananocoistin06/17/21, 03:03:23 PM"Updated some translations.

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [ ] I signed [CLA](https://www.audacityteam.org/cla/)
- [ ] I made sure the code compiles on my machine
- [ ] I made sure there are no unnecessary changes in the code
- [ ] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [ ] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""Thanks for this update.

using
`msgcmp ga.po audacity.pot`

and comparing before and after, I see you supply 13 new strings, but a large number of strings are needed to bring this language to completion.  ga.po still has only 48% of the strings.

Will you have the time to add more missing strings?
 =||= I assume this is superseded by #983
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
973Updates preferences stringAnton S. Gerasimovgera-gas06/16/21, 01:25:31 PMAdd new string for update preferences window.NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
977Update the GASeanán Ó Coistínseananocoistin06/17/21, 03:03:00 PM"Added a few translated strings.

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [ ] I signed [CLA](https://www.audacityteam.org/cla/)
- [ ] I made sure the code compiles on my machine
- [ ] I made sure there are no unnecessary changes in the code
- [ ] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [ ] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""I assume this is superseded by #983  =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
979Build failure on MacPeter Sampsonpetersampsonaudacity06/14/21, 05:05:30 PM"Cliff Scott reportes this just now on the Quality email list:


Went to build Audacity last evening and the build failed so started a new bld directory and the configuration fails now. Last build I did was a couple of weeks ago as I only have occasional Internet at the moment. Help!! Output log attached.

Configuration failure:

Building Audacity

-- The C compiler identification is AppleClang 11.0.0.11000033
-- The CXX compiler identification is AppleClang 11.0.0.11000033
-- Check for working C compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang
-- Check for working C compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang++
-- Check for working CXX compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Error at cmake-proxies/cmake-modules/conan.cmake:795 (message):
  Conan executable not found! Please install conan.
Call Stack (most recent call first):
  cmake-proxies/cmake-modules/conan.cmake:841 (conan_check)
  cmake-proxies/cmake-modules/AudacityDependencies.cmake:4 (conan_add_remote)
  CMakeLists.txt:156 (include)


-- Configuring incomplete, errors occurred!
See also ""/Users/CMac/Downloads/Audacity/BuildEnvironment/audacity/bld/CMakeFiles/CMakeOutput.log”.

Cliff"Hi! We require Conan to build Audacity now. Detailed instructions are here: https://github.com/audacity/audacity/blob/master/BUILDING.md =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
980Update French translation for 3.0.3Olivier Humberttrebmuh06/16/21, 01:17:43 AM"- [ ] I signed [CLA](https://www.audacityteam.org/cla/)
- [ ] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""Thanks, Olivier.

This makes fr.po 97% complete.  There are still 117 missing entries.

There is still some time in the window for submitting translations.  Can you make this more complete, before I merge it?

Thank you

PRL
 =||= @Paul-Licameli 

> This makes fr.po 97% complete. There are still 117 missing entries.

They aren't ""missing"" entries, they are entries which doesn't need to be translated.
Hence, it doesn't make sense for those to be copy/pasted, since if the English version would be to change, it would add myself some unneeded handwork. Leaving those as they are now is saving myself some unneeded work (hence time).

With this current PR, the French translation is 100% done. =||= Olivier, I figured out a few commands on the Unix command line that complete your translation, copying the English wherever you left a blank:

```
msgen audacity.pot > en.po
msgcat --use-first fr.po en.po > fr2.po
msgmerge fr2.po audacity.pot > fr.po
```
I pushed the results as another commit.  Please quickly review this.

I can see that mostly there are proper names and short strings.  But I think you had a doubt about ""Pluck""?

 =||= It helps us to do this extra work, so that we can automatically check the degree of completion of translation files, and not have false reports of incomplete translations.
 =||= Hi @Paul-Licameli .

It is wrong to do this from my perspective since it will add some more work on me in the future.
Let's take an example so you get my point:

    #: src/widgets/NumericTextCtrl.cpp
    msgid ""centihertz""
    msgstr """"

There is no value added if I'm _translating_ (copying/pasting) `centihertz` for the same word in French. Hence I left it empty. Because of the way the translation system works, the French GUI will fall back to using the original original English string (ie: `centihertz`). All good, French users will get the right word for the right meaning.

Now, if you choose to automate a copy/paste thing like you did:

    #: src/widgets/NumericTextCtrl.cpp
    msgid ""centihertz""
    msgstr ""centihertz""

it will work the same for now. No added value. Thinking ahead now: one day, the coding people will change the string to ""`centi-hertz`"". The pot file will change. The French .po file will be updated. And now, I've got to modify the translation.

With the previous solution (leaving `msgstr """" ` empty), the transltion would have automatically catch up with the new string. With your solution, it requires me to do an extra work.

Please, revert your commit, it doesn't add any value for the translation, and it seems to be only needed for a helping tool to check the translation status. Leave that to the translator (me in this case here). I don't want my work to get more complicated only to cope with a helping tool. I can tell you that the translation is update to 100% or not. No need for a tool here.

Thanks for reading, hope you get my point. =||= Have it your way, I will merge it into master without the other commit, if you object so strongly.

But I really don't understand your objections.  I don't understand why the work is so large, after I have explained how you can automate this work with a few commands.  I was just trying to help and make it easy.

These strings are very unlikely to change.  Fix them once, and you won't even have to look at the untranslated strings again in your favorite .po file editor.  It won't list them as incomplete for you to review, for the next Audacity version.  That could reduce your work too.

Proper names of mathematicians like ""Bartlett"" are not going to change in future versions.

(Why were strings like ""Bartlett"" added, anyway?  Because maybe it's proper to transliterate such a name into Katakana or Devanagari or Cyrillic.  It was wrong to assume that all languages would best leave the names in Latin.)
 =||= It's done, at commit bd89510a35fcdea01d3a4c239ff49c2251858021, but it was not done with this GitHub interface.

Therefore I close this pull request.  Thank you for the translation.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
982Turkish translation updateKaya Zerenkayazeren06/15/21, 04:53:47 PM"Turkish translation update"NaNTurkish translation updateKaya Zerenkayazeren06/15/21, 04:53:47 PMTurkish translation updateNaNKaya Zeren06/15/21, 02:50:55 PM"Turkish translation update

Turkish translation update"1
983Update ga.poSeanán Ó Coistínseananocoistin06/17/21, 04:00:36 PM"Translated a few more strings. Tis a whore of a file. Still lots to be translated.

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [ ] I made sure the code compiles on my machine
- [ ] I made sure there are no unnecessary changes in the code
- [ ] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [ ] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""Thank you.  I pushed these changes at commit 28c7805459622e42cbe5f894acba0096eea72f96

If you mean to translate a few more, by all means continue.  If you see a release branch separate from master, please make pull requests against that one.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
984ErrorReportingDialog does not support screen readersDmitry Vedenkocrsib06/16/21, 03:54:20 PM"David Bailes — 06/09/2021
For many text boxes in Audacity, the accessible name is not the same as the text box's label - the accessible name also includes the units, which appear after the text box. Because of this, if you add a text box using ShuttleGui, then there's a call for SetAccessible() on the text box. The advantage of this is that in dialog box code, there doesn't need to be SetAccessible() calls for text boxes. The downside, is that the accessible name always has to be set, even when it's the same as the label. If a text box  is created using an non empty caption, then that's used for the accessible name. Given that you're creating two text boxes with empty captions, then you have to call ShuttleGui & Name( const TranslatableString &name ) to set the accessible name. For example:
```
S.Style(wxTE_RICH | wxTE_READONLY | wxTE_MULTILINE | wxTE_DONTWRAP).MinSize(wxSize(0,152))
            Name(XO(""Problem details"")).AddTextBox({}, mReport->GetReportPreview(), 0);
```"NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
985Fixes the libmad disabled by mistakeDmitry Vedenkocrsib06/16/21, 01:03:56 PM"Resolves: https://github.com/audacity/audacity/issues/960#issuecomment-862308980

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNFixes the libmad disabled by mistakeDmitry Vedenkocrsib06/16/21, 01:03:56 PM"Resolves: https://github.com/audacity/audacity/issues/960#issuecomment-862308980

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNDmitry Vedenko06/16/21, 12:09:52 PMFixes the libmad disabled by mistake1
986Fix #984 - ErrorReportingDialog does not support screen readersDmitry Vedenkocrsib06/16/21, 03:54:20 PM"Resolves: #984

Fix uses the approach proposed by David Bailes

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNFix #984 - ErrorReportingDialog does not support screen readersDmitry Vedenkocrsib06/16/21, 03:54:20 PM"Resolves: #984

Fix uses the approach proposed by David Bailes

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNDmitry Vedenko06/16/21, 01:32:30 PM"Fixes #984

Fix uses the approach proposed by David Bailes"1
987CI script fixes (sentry symbols upload)Vitaly Sverchinskyvsverchinsky06/16/21, 02:00:48 PM"* Fixes typos in a CI script related to a debug symbols upload command
* Debug symbol upload triggered if branch name starts with 'release-' (previously was using tags instead)

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNCI script fixes (sentry symbols upload)Vitaly Sverchinskyvsverchinsky06/16/21, 02:00:48 PM"* Fixes typos in a CI script related to a debug symbols upload command
* Debug symbol upload triggered if branch name starts with 'release-' (previously was using tags instead)

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNVitaly Sverchinsky06/16/21, 11:32:08 AMCI script fixes (sentry symbols upload)1
988Bug 2808 Nyquist GATE function limits floor level to -60 dBSteve DaultonSteveDaulton06/18/21, 02:27:15 PM"Resolves: https://bugzilla.audacityteam.org/show_bug.cgi?id=2808

A recent update to Audacity's Nyquist library introduced a -60 dB limit to the ""floor"" parameter in the  GATE function. This created errors in several existing plug-ins, including Audacity's shipped ""Noise Gate"" (bug 2733) and the popular ""Hum Remover"" plug-in

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""This is a simple fix. Can you not review it yourself Paul?

The bugzilla report provides a simple test for the fix: https://bugzilla.audacityteam.org/show_bug.cgi?id=2808
The expected result is that it should show no debug warnings other than possibly at -100 dB. =||= "Bug 2808 Nyquist GATE function limits floor level to -60 dBSteve DaultonSteveDaulton06/18/21, 02:27:15 PM"Resolves: https://bugzilla.audacityteam.org/show_bug.cgi?id=2808

A recent update to Audacity's Nyquist library introduced a -60 dB limit to the ""floor"" parameter in the  GATE function. This created errors in several existing plug-ins, including Audacity's shipped ""Noise Gate"" (bug 2733) and the popular ""Hum Remover"" plug-in

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNSteveDaulton06/16/21, 02:11:12 PMBug 2808 Nyquist GATE function limits floor level to -60 dB1
989Reenables Nyquist for the prebuilt Linux binariesDmitry Vedenkocrsib06/16/21, 04:32:29 PM"A quick fix for Nyquist in Linux binaries: we set `AUDACITY_PATH` to the local `share/audacity` folder.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNReenables Nyquist for the prebuilt Linux binariesDmitry Vedenkocrsib06/16/21, 04:32:29 PM"A quick fix for Nyquist in Linux binaries: we set `AUDACITY_PATH` to the local `share/audacity` folder.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNDmitry Vedenko06/16/21, 03:56:45 PMAllow users setting the AUDACITY_MODULES_PATH env variable.1
991Fixes MIDI playback on 64 bit WindowsDmitry Vedenkocrsib06/18/21, 08:21:19 AM"The fix is based on https://www.mail-archive.com/media_api@create.ucsb.edu/msg00514.html

In the next release, we will devendor portmidi and update it to the latest version, which has this bug fixed already

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNFixes MIDI playback on 64 bit WindowsDmitry Vedenkocrsib06/18/21, 08:21:19 AM"The fix is based on https://www.mail-archive.com/media_api@create.ucsb.edu/msg00514.html

In the next release, we will devendor portmidi and update it to the latest version, which has this bug fixed already

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNDmitry Vedenko06/17/21, 10:47:05 AM"Fixes MIDI playback on 64 bit Windows

Fix is based https://www.mail-archive.com/media_api@create.ucsb.edu/msg00514.html"1
993Real-time effectsAnitaBats06/17/21, 11:58:16 AM"Ability to add one or more effects per track, which run realtime
Related to: issue #992 "Closing this as it's a duplicate of https://github.com/audacity/audacity/issues/992 =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
998Context menu reworkAnitaBats09/06/21, 02:02:38 PM"### User Story
As a user, I would like to access some frequent functions directly in context, to save time.

### Description

Currently audio tracks don't have any context menus (right click menus) in Audacity. In most DAWs the most often used actions are also exposed through context menus (in addition to main menus and keyboard shortcuts). This saves users time and helps new users find commonly used actions quickly in context.

We would like to add a handful of often used actions as context menus when right clicking on an audio track, or in the empty space. We can add more actions over time, but this would be a good starter set.

Context menu over audio track:

![1 0 audacity3 menu on audio clip@2x](https://user-images.githubusercontent.com/10109867/125430957-fc5d9057-668b-438b-9dc3-79572facbc2b.jpg)


Content menu outside audio track:

![1 0 audacity3 menu on empty@2x](https://user-images.githubusercontent.com/10109867/125431792-e3063672-5db1-41c4-8365-ad4c7fb10331.jpg)


Discussion at #867 

### Scope, Restrictions and Сourner-cases

- in release 3.1 new context menu is applicable only to Mono and Stereo tracks
- context menu on blank space is different to the context menu on audio tracks (see the screenshots above, please)
- time tracks and label tracks are not in the scope of this task in release 3.1. Time and label tracks are still the same."" @jounih Jouni, could you, please, point what functions/actions are required in the new context menu? =||= Ready for development =||= **Description of task decomposition.**
All estimation times have two borders: this is not 100% precision time frame, this is the approximate time window for solving task.

1. Add context menu
1.1 Create event handler for right mouse click in `ProjectManager` or `TrackPanel` (this class already support mouseevent `ProjectWindow::OnMouseEvent`, but seems necessary passed up right click event additionally).
1.2 Create context  menu by `wxMenu` and bind (connect) handler for popup context menu callback.
Estimate: 2 - 3 hrs.

2. Add context menu for `WaveTrackView` and separate menu for `on track` and `non track` by control of selection zone using `TrackList::Get( project ).Selected()` methods.
Estimate: 3 - 4 hrs.

3. Call methods from context menu
3.1 Call exist methods from context menu callback, like `OnNewWaveTrack(const CommandContext &context)` for create a mono track or `void OnPaste(const CommandContext &context)`, etc, but it should doing carefully for support right `CommandContext` content.
3.2 Final behavior tests (2,4) hrs.
Estimate: 10 - 12 hrs.

**Total estimate:** 15 - 19 hrs.

@crsib @Paul-Licameli could you review, please. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1004Release notesTantacrul07/02/21, 06:13:54 PMNaN"@Tantacrul where notes have been prepared in the past: https://wiki.audacityteam.org/wiki/Next_Release
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1005Add page in alphamanual.audacityteam.org for application preferences like: https://alphamanual.audacityteam.org/man/Application_PreferencesTantacrul07/02/21, 06:14:03 PMNaN"Are ""Application_Preferences"" different from ""Preferences"" (https://alphamanual.audacityteam.org/man/Preferences)?
 =||= @SteveDaulton The automatic checking for updates has a don't-tell-me-again checkbox, but then a place is needed in Preferences to reverse that decision if you wish.  There will be a new page just for that.

For DIY builds of Audacity, this will only appear if you opt-in at configuration time with the right CMake options.

As also the rest of checking for updates and anything else that uses networking.

 =||= @Tantacrul the new preference dialog pane needs a manual page, but I suppose the pop-up when a new version is detected will not?  It is not a command the user invokes, and will explain itself when you see it.

 =||= @SteveDaulton this new Preferences pane will be bare at first but may grow as a place for other such opt-ins and _outs.
 =||= @jounih The steps for doing this are:

1 Create a page in the wiki https://alphamanual.audacityteam.org/man/Application_Preferences and edit the text to say what you want it to say.
2.a Upload the image for it.  Make sure to use the same pattern of naming as for the other preference pages.
2.b Upload the updated images for all other preference pages, since they will all have changed.
3 Update the template https://alphamanual.audacityteam.org/man/Template:Prefs-imagemap

You can get all the preference page images automatically from within Audacity: 
![image](https://user-images.githubusercontent.com/1621525/122415565-eeda1d00-cf7f-11eb-823c-4da9124918fb.png)

You can either update the template by hand to indicate the new hotspots, or I can show you how to use a tool that does that.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1006Use wxWidgets with fixed Win64 accessibilityDmitry Vedenkocrsib06/17/21, 02:46:04 PM"Resolves: #959 

The fix is in the wxWidgets fork: https://github.com/audacity/wxWidgets/commit/e42d7f73652cf7e40058a48177a86e0f864ec464

The problem was related to the sign extension in 64 bit builds. The approach used by Microsoft in MSDN examples is used now.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""What will this do that was not done at commit 045fcbf688a04e5eba7ba8cd34309400a53e835c ?

If @DavidBailes  reviews this, he should review that already merged part too, which I approved yesterday.
 =||= I see this is a one-line fix in Conan only, presumably to get a patch for an issue from wxWidgets?  No reason to hesitate.

 =||= The fix itself is here: https://github.com/audacity/wxWidgets/commit/e42d7f73652cf7e40058a48177a86e0f864ec464

It is one of the cases when WinAPI hasn't played well with the 64 bits world. The use 32bit negative integer as a constant and pass it over the signed 64-bit integer parameter. MSDN recommends peculiar double conversion to avoid sign extension: https://docs.microsoft.com/en-us/windows/win32/winauto/wm-getobject?redirectedfrom=MSDN

The workaround was almost ok in wxWidgets, but it resulted in a sign-extended constant instead :-) The fix ensures that both constants are not sign extended. That is what MS does on another MSDN page: https://docs.microsoft.com/en-us/windows/win32/winauto/reuse-existing-pointers-to-objects =||= Typo in the comment in the commit at the other repo
 =||= "Use wxWidgets with fixed Win64 accessibilityDmitry Vedenkocrsib06/17/21, 02:46:04 PM"Resolves: #959 

The fix is in the wxWidgets fork: https://github.com/audacity/wxWidgets/commit/e42d7f73652cf7e40058a48177a86e0f864ec464

The problem was related to the sign extension in 64 bit builds. The approach used by Microsoft in MSDN examples is used now.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNDmitry Vedenko06/17/21, 12:50:19 PMUse wxWidgets with fixed Win64 accessibility1
1007Deveuphoricyonderbread06/17/21, 05:40:06 PM"
- Add new compressor plugin
- Remove COC
- Set up a basic workflow for Github Actions
- Update GPL license"@mmmaisel Any idea on how to resolve the conflict with the cmakelist? I don't want to break anything. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1008Fix Fedora packagingDmitry Vedenkocrsib07/28/21, 11:27:35 AM"Currently, there are issues, that prevent Fedora packaging:

* `conan` - add conan-less mode
* ThreadPool - should be conditionally disabled
* RapidJSON - should be conditionally disabled""Here is an updated version of the spec file with some new deps https://src.fedoraproject.org/fork/imcinerney/rpms/audacity/tree/im/depupdate.

I haven't been able to kick off a full build yet though because rawhide enabled the rpath checking and at least on 3.0.2 there is an rpath issue with mod-script-pipe.so:

```
*******************************************************************************
*
* WARNING: 'check-rpaths' detected a broken RPATH OR RUNPATH and will cause
*          'rpmbuild' to fail. To ignore these errors, you can set the
*          '$QA_RPATHS' environment variable which is a bitmask allowing the
*          values below. The current value of QA_RPATHS is 0x0000.
*
*    0x0001 ... standard RPATHs (e.g. /usr/lib); such RPATHs are a minor
*               issue but are introducing redundant searchpaths without
*               providing a benefit. They can also cause errors in multilib
*               environments.
*    0x0002 ... invalid RPATHs; these are RPATHs which are neither absolute
*               nor relative filenames and can therefore be a SECURITY risk
*    0x0004 ... insecure RPATHs; these are relative RPATHs which are a
*               SECURITY risk
*    0x0008 ... the special '$ORIGIN' RPATHs are appearing after other
*               RPATHs; this is just a minor issue but usually unwanted
*    0x0010 ... the RPATH is empty; there is no reason for such RPATHs
*               and they cause unneeded work while loading libraries
*    0x0020 ... an RPATH references '..' of an absolute path; this will break
*               the functionality when the path before '..' is a symlink
*          
*
* Examples:
* - to ignore standard and empty RPATHs, execute 'rpmbuild' like
*   $ QA_RPATHS=$(( 0x0001|0x0010 )) rpmbuild my-package.src.rpm
* - to check existing files, set $RPM_BUILD_ROOT and execute check-rpaths like
*   $ RPM_BUILD_ROOT=<top-dir> /usr/lib/rpm/check-rpaths
*  
*******************************************************************************
ERROR   0002: file '/usr/share/audacity/modules/mod-script-pipe.so' contains an invalid runpath '/builddir/build/BUILD/audacity-minsrc-3.0.2/x86_64-redhat-linux-gnu/bin/Debug/lib64/audacity' in [/builddir/build/BUILD/audacity-minsrc-3.0.2/x86_64-redhat-linux-gnu/bin/Debug/lib64/audacity]
error: Bad exit status from /var/tmp/rpm-tmp.5wKlaL (%install)
    Bad exit status from /var/tmp/rpm-tmp.5wKlaL (%install)
```

It looks like something is getting misconfigured in the rpath creation for the module, because the rpath for the main executable is working fine. =||= Using conan over cmake looks very ugly from the point of view of packaging, but it does not prevent to build an RPM package without access to network. I have been building Audacity 3.0.3 RC2 for ALT Linux Sisyphus and managed to build it with conan and without network, but not without hacks. conan is added to BuildRequires.

Packaging is here: http://git.altlinux.org/people/mikhailnov/packages/audacity.git?p=audacity.git;a=tree;hb=1befbd9c83c032a87671a1e86b0b94beb7f55cf6

See patches and the `%build` section of the spec file:
http://git.altlinux.org/people/mikhailnov/packages/audacity.git?p=audacity.git;a=blob;f=audacity.spec;h=7c8ce8d34ab263b48ad7fad70a97e71a0143edfb;hb=1befbd9c83c032a87671a1e86b0b94beb7f55cf6#l117

```bash
%build
# src/RevisionIdent.h is in src/.gitignore and may be missing,
# what leads to build errors, but it's empty in release tarballs
[ ! -f src/RevisionIdent.h ] && echo ' ' > src/RevisionIdent.h

# cmake calls conan, and conan cannot detect version of /usr/bin/cc
# (Audacity upstream is crazy sometimes!)
export CC=""$(command -v gcc)""

# Hack for liblame-devel missing pkgconfig file
# https://bugzilla.altlinux.org/show_bug.cgi?id=40342
# That crap with too complicated build system (cmake+conan) causes this
mkdir -p local_pc
sed -r linux/build-environment/pkgconfig/lame.pc \
	-e ""s,^libdir=.+,libdir=%{_libdir},"" \
	-e ""s,^Version:,Version: $(rpm -q --whatprovides --qf '%%{version}' liblame-devel),"" \
	> local_pc/lame.pc
[ -z ""${PKG_CONFIG_PATH:-}"" ]
export PKG_CONFIG_PATH=""$PWD/local_pc""

# -DCMAKE_MODULE_LINKER_FLAGS to not loose -l flags inside %%optflags
%cmake \
  -DCMAKE_MODULE_LINKER_FLAGS=""%{optflags}"" \
  -Daudacity_lib_preference:STRING=system \
  -Daudacity_has_networking=no \
  -Daudacity_use_ffmpeg:STRING=linked \
  -Daudacity_use_libmp3lame:STRING=system \
  -Daudacity_use_libflac:STRING=system \
  -Daudacity_use_libid3tag:STRING=system \
  -Daudacity_use_libsndfile:STRING=system \
  -Daudacity_use_libsoxr:STRING=system \
  -Daudacity_use_libtwolame:STRING=system \
  -Daudacity_use_libuuid:STRING=system \
  -Daudacity_use_libvamp:STRING=system \
  -Daudacity_use_libvorbis:STRING=system \
  -Daudacity_use_lv2:STRING=system \
  -Daudacity_use_sbsms:STRING=system \
  -Daudacity_use_soundtouch:STRING=system \
  -Daudacity_use_portaudio:STRING=local \
  -Daudacity_use_midi:STRING=local \
  -DAUDACITY_BUILD_LEVEL=2 \
  -DAUDACITY_SUFFIX:STRING=""""

%cmake_build
```

`add_conan_lib()` in audacity's cmake build systems works so that conan does not try to download a library if a system one is detected, that makes it OK to run conan inside rpm-build. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1009[CONAN] cannot find system mp3lameCarlo Braminicarlo-bramini08/02/21, 05:07:33 PM"You are trying to detect system libmp3lame by using pkg-config, but it seems to me that this kind of support does not exist into the library.
You cannot find `.pc` script in CYGWIN package:

https://cygwin.com/cgi-bin2/package-cat.cgi?file=x86_64%2Flibmp3lame-devel%2Flibmp3lame-devel-3.100-1&grep=mp3lame

neither into the Debian package:

https://packages.debian.org/sid/amd64/libmp3lame-dev/filelist

neither into the latest sources of mp3lame from their repository:

https://sourceforge.net/p/lame/svn/HEAD/tree/trunk/lame/

So, it is not clear to me how this is expected to work.
And, when you configure Audacity, mp3lame 3.100-1 cannot be compiled in CYGWIN/MinGW/MSYS2 as it is because there is a bug into the source code (already fixed into SVN head, hopefully)."">You are trying to detect system libmp3lame by using pkg-config

This was an original behavior, ported over to the Conan system. It will be fixed in #1008.

>And, when you configure Audacity

There is a fixed recipe available as `libmp3lame/3.100@audacity/stable`. It is not used in master yet, because #949 is not yet fully fixed.  =||= This was described in https://github.com/audacity/audacity/issues/554 =||= Fixed by #1008  =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1010GPL2/VST investigationAnitaBats09/21/21, 03:20:33 PMNaNdone =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1026Bug 2740 - Directories in Directories preferences can be set to unwritable locationsJithin JohnMalevolentStrix06/18/21, 03:46:05 PM"Resolves: https://bugzilla.audacityteam.org/show_bug.cgi?id=2740

Used IsDirWritable() of wxFileName to check the write permission for the directory at the time of setting the preference for Save and Export in Edit>Preferences>Directories to avoid issues while Saving or Exporting.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [X] I signed [CLA](https://www.audacityteam.org/cla/)
- [X] I made sure the code compiles on my machine
- [X] I made sure there are no unnecessary changes in the code
- [X] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [X] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1029Bug 2740 - Directories in Directories preferences can be set to unwritable locationsJithin JohnMalevolentStrix06/19/21, 02:00:50 PM"Resolves: https://bugzilla.audacityteam.org/show_bug.cgi?id=2740

Used IsDirWritable() of wxFileName to check the write permission for the directory at the time of setting the preference for Save and Export in Edit>Preferences>Directories to avoid issues while Saving or Exporting.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [X] I signed [CLA](https://www.audacityteam.org/cla/)
- [X] I made sure the code compiles on my machine
- [X] I made sure there are no unnecessary changes in the code
- [X] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [X] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""I see too many commits making white space changes but doing nothing important, and I see merge commits.

Please use `git rebase -i` onto the latest master branch tip, and shorten the history using ""f"" or ""s"" so I can more easily find the important fix.
 =||= Can you please look at https://github.com/audacity/audacity/pull/1033 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1030Unblock Fedora RPMDmitry Vedenkocrsib07/28/21, 11:27:35 AM"Resolves: #1008 

A new CMake option is added, that allows to disable Conan. This option is likely temporary, we will continue investigating how to use Conan in RPM builds (like providing a tarball with all the dependency sources packaged along with Conan).

Based on the https://src.fedoraproject.org/fork/imcinerney/rpms/audacity/tree/im/depupdate - updated spec and a docker image are created, to test the RPM builds.

```
~ docker build -t audacity-fedora .
~ docker run -ti --volume=%path_to_audacity%:/audacity  --cap-add=SYS_ADMIN --rm  audacity-fedora
```

@imciner2 Can you please look into and provide your comments?

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""`*.pc` are git-ignored, did you force-add them? =||= CAP_SYS_ADMIN is not needed for rpm-build =||= Current build systems adds an absolute RPATH. Such binaries will not work after being packed to RPM. Maybe also add an `ldd` test into `%check`.

```
[00:01:52] verify-elf: WARNING: ./usr/lib64/audacity/modules/mod-script-pipe.so: RPATH contains several entries: /usr/src/RPM/BUILD/audacity-src-3.0.3/x86_64-alt-linux/bin/Debug/lib64/audacity:/usr/src/RPM/BUILD/audacity-src-3.0.3/x86_64-alt-linux/shared/Debug
[00:01:52] verify-elf: ERROR: ./usr/lib64/audacity/modules/mod-script-pipe.so: RPATH contains illegal absolute entry ""/usr/src/RPM/BUILD/audacity-src-3.0.3/x86_64-alt-linux/bin/Debug/lib64/audacity"": /usr/src/RPM/BUILD/audacity-src-3.0.3/x86_64-alt-linux/bin/Debug/lib64/audacity:/usr/src/RPM/BUILD/audacity-src-3.0.3/x86_64-alt-linux/shared/Debug
[00:01:52] verify-elf: ERROR: ./usr/lib64/audacity/modules/mod-script-pipe.so: RPATH contains illegal absolute entry ""/usr/src/RPM/BUILD/audacity-src-3.0.3/x86_64-alt-linux/shared/Debug"": /usr/src/RPM/BUILD/audacity-src-3.0.3/x86_64-alt-linux/bin/Debug/lib64/audacity:/usr/src/RPM/BUILD/audacity-src-3.0.3/x86_64-alt-linux/shared/Debug
[00:01:52] verify-elf: ERROR: ./usr/lib64/audacity/modules/mod-script-pipe.so: RPATH contains illegal entry ""/usr/src/RPM/BUILD"": /usr/src/RPM/BUILD/audacity-src-3.0.3/x86_64-alt-linux/bin/Debug/lib64/audacity:/usr/src/RPM/BUILD/audacity-src-3.0.3/x86_64-alt-linux/shared/Debug
[00:01:53] verify-elf: WARNING: ./usr/lib64/audacity/modules/mod-script-pipe.so: undefined symbol: _ZN18ScriptCommandRelay17StartScriptServerEPFiPFiP8wxStringS1_EE
[00:01:53] verify-elf: ERROR: ./usr/lib64/audacity/lib-utility.so: RPATH contains illegal absolute entry ""/usr/src/RPM/BUILD/audacity-src-3.0.3/x86_64-alt-linux/bin/Debug/lib64/audacity"": /usr/src/RPM/BUILD/audacity-src-3.0.3/x86_64-alt-linux/bin/Debug/lib64/audacity
[00:01:53] verify-elf: ERROR: ./usr/lib64/audacity/lib-utility.so: RPATH contains illegal entry ""/usr/src/RPM/BUILD"": /usr/src/RPM/BUILD/audacity-src-3.0.3/x86_64-alt-linux/bin/Debug/lib64/audacity
[00:01:53] verify-elf: ERROR: ./usr/lib64/audacity/lib-string-utils.so: RPATH contains illegal absolute entry ""/usr/src/RPM/BUILD/audacity-src-3.0.3/x86_64-alt-linux/bin/Debug/lib64/audacity"": /usr/src/RPM/BUILD/audacity-src-3.0.3/x86_64-alt-linux/bin/Debug/lib64/audacity
[00:01:53] verify-elf: ERROR: ./usr/lib64/audacity/lib-string-utils.so: RPATH contains illegal entry ""/usr/src/RPM/BUILD"": /usr/src/RPM/BUILD/audacity-src-3.0.3/x86_64-alt-linux/bin/Debug/lib64/audacity
[00:01:53] verify-elf: WARNING: ./usr/lib64/audacity/lib-uuid.so: RPATH contains several entries: /usr/src/RPM/BUILD/audacity-src-3.0.3/x86_64-alt-linux/bin/Debug/lib64/audacity:/usr/src/RPM/BUILD/audacity-src-3.0.3/x86_64-alt-linux/shared/Debug
[00:01:53] verify-elf: ERROR: ./usr/lib64/audacity/lib-uuid.so: RPATH contains illegal absolute entry ""/usr/src/RPM/BUILD/audacity-src-3.0.3/x86_64-alt-linux/bin/Debug/lib64/audacity"": /usr/src/RPM/BUILD/audacity-src-3.0.3/x86_64-alt-linux/bin/Debug/lib64/audacity:/usr/src/RPM/BUILD/audacity-src-3.0.3/x86_64-alt-linux/shared/Debug
[00:01:53] verify-elf: ERROR: ./usr/lib64/audacity/lib-uuid.so: RPATH contains illegal absolute entry ""/usr/src/RPM/BUILD/audacity-src-3.0.3/x86_64-alt-linux/shared/Debug"": /usr/src/RPM/BUILD/audacity-src-3.0.3/x86_64-alt-linux/bin/Debug/lib64/audacity:/usr/src/RPM/BUILD/audacity-src-3.0.3/x86_64-alt-linux/shared/Debug
[00:01:53] verify-elf: ERROR: ./usr/lib64/audacity/lib-uuid.so: RPATH contains illegal entry ""/usr/src/RPM/BUILD"": /usr/src/RPM/BUILD/audacity-src-3.0.3/x86_64-alt-linux/bin/Debug/lib64/audacity:/usr/src/RPM/BUILD/audacity-src-3.0.3/x86_64-alt-linux/shared/Debug
[00:01:53] verify-elf: ERROR: ./usr/lib64/audacity/lib-strings.so: RPATH contains illegal absolute entry ""/usr/src/RPM/BUILD/audacity-src-3.0.3/x86_64-alt-linux/bin/Debug/lib64/audacity"": /usr/src/RPM/BUILD/audacity-src-3.0.3/x86_64-alt-linux/bin/Debug/lib64/audacity
[00:01:53] verify-elf: ERROR: ./usr/lib64/audacity/lib-strings.so: RPATH contains illegal entry ""/usr/src/RPM/BUILD"": /usr/src/RPM/BUILD/audacity-src-3.0.3/x86_64-alt-linux/bin/Debug/lib64/audacity
```

Better use something like `$ORIGIN/../LIB_SUFFIX/audacity` where LIB_SUFFIX is a variable from cmake. See `man ld-linux` on Linux and `man rtld` on FreeBSD. =||= > Current build systems adds an absolute RPATH

I will look into, thank you for pointing out. =||= "Unblock Fedora RPMDmitry Vedenkocrsib07/28/21, 11:27:35 AM"Resolves: #1008 

A new CMake option is added, that allows to disable Conan. This option is likely temporary, we will continue investigating how to use Conan in RPM builds (like providing a tarball with all the dependency sources packaged along with Conan).

Based on the https://src.fedoraproject.org/fork/imcinerney/rpms/audacity/tree/im/depupdate - updated spec and a docker image are created, to test the RPM builds.

```
~ docker build -t audacity-fedora .
~ docker run -ti --volume=%path_to_audacity%:/audacity  --cap-add=SYS_ADMIN --rm  audacity-fedora
```

@imciner2 Can you please look into and provide your comments?

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNDmitry Vedenko07/27/21, 04:03:16 PMUse relative RPATH during installation1
1031Make Audacity build in C++17 ...Paul LicameliPaul-Licameli06/18/21, 06:44:55 PM"... Fixing many conditional operators with explicit construction of wxString
instead of simple string literals;

And fixing allocation of more strictly aligned structures on Mac, without need
for 10.14 as the minimum SDK, by means of some class-specific operators new
and delete.

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNMake Audacity build in C++17 ...Paul LicameliPaul-Licameli06/18/21, 06:44:55 PM"... Fixing many conditional operators with explicit construction of wxString
instead of simple string literals;

And fixing allocation of more strictly aligned structures on Mac, without need
for 10.14 as the minimum SDK, by means of some class-specific operators new
and delete.

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli02/02/21, 04:44:00 PM"Make Audacity build in C++17 ...

... Fixing many conditional operators with explicit construction of wxString
instead of simple string literals;

And fixing allocation of more strictly aligned structures on Mac, without need
for 10.14 as the minimum SDK, by means of some class-specific operators new
and delete."1
1032label-sounds.ny not working for me, both mac and windows.SinisterSpatulaSinisterSpatula06/24/21, 12:57:04 AM"**Describe the bug**
Label-sounds plug-in is only able to detect the entire audio track as one sound, no matter what values I try.  I have tried both Windows and Mac and get the same behavior.  If I try the other plug-ins (Silence Finder, Sound Finder, etc) they work as expected and successfully mark the track with multiple detections.  I'm running v3.0.2 both under Windows and Mac.  The label-sounds.ny says it's version 4, release 3.0.0.

**To Reproduce**
Steps to reproduce the behavior:
1. Import an audio track.
2. Use sound labeler with any values.
3. It will label just the entire track as a single label (either surrounding, at the beginning or at the end).


**Expected behavior**
I expect to see more than one label, the same behavior that I can get from silence finder, sound finder, etc.


**Additional information (please complete the following information):**
 - OS: Windows 10 and Mac OS Big Sur (tried both).
 - Version Audacity 3.0.2

**Additional context**
I really want Sound Labeler to work because I would prefer it's functionality of minimum label interval which all the others do not have.""Please come and talk to us on the help forum so that we can resolve this. I'm expecting that it is just a matter of settings, but if it turns out to be a bug I'll fix it. The forum is here: https://forum.audacityteam.org =||= Thanks, I made a post in the windows section of the forum. =||= Confirmed that this is a bug.
""Label Sounds"" fails when sample  rate is 22050 Hz.
Logged as bug 2809. =||= Pull request sent with fix: https://github.com/audacity/audacity/pull/1036 =||= Thank you so much Steve for all your help!!  Should I test other sample rates too, or do you think it was only going to affect 22050 Hz? =||= The bug will affect some other sample rates, but the fix will work with  any sample rate. =||= I tested this and closed the bug on Bugzilla:
https://bugzilla.audacityteam.org/show_bug.cgi?id=2809 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1033Bug 2740 - Directories in Directories preferences can be set to unwritable locationsJithin JohnMalevolentStrix06/27/21, 04:48:05 AM"Resolves: https://bugzilla.audacityteam.org/show_bug.cgi?id=2740

Used IsDirWritable() of wxFileName to check the write permission for the directory at the time of setting the preference for Save and Export in Edit>Preferences>Directories to avoid issues while Saving or Exporting.

![Screenshot from 2021-06-19 19-23-32](https://user-images.githubusercontent.com/73242397/122644672-1540b980-d134-11eb-81c4-1dd725268b43.png)
*Error screen if the directory is unwritable*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [X] I signed [CLA](https://www.audacityteam.org/cla/)
- [X] I made sure the code compiles on my machine
- [X] I made sure there are no unnecessary changes in the code
- [X] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [X] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNBug 2740 - Directories in Directories preferences can be set to unwritable locationsJithin JohnMalevolentStrix06/27/21, 04:48:05 AM"Resolves: https://bugzilla.audacityteam.org/show_bug.cgi?id=2740

Used IsDirWritable() of wxFileName to check the write permission for the directory at the time of setting the preference for Save and Export in Edit>Preferences>Directories to avoid issues while Saving or Exporting.

![Screenshot from 2021-06-19 19-23-32](https://user-images.githubusercontent.com/73242397/122644672-1540b980-d134-11eb-81c4-1dd725268b43.png)
*Error screen if the directory is unwritable*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [X] I signed [CLA](https://www.audacityteam.org/cla/)
- [X] I made sure the code compiles on my machine
- [X] I made sure there are no unnecessary changes in the code
- [X] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [X] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNMalevolentStrix06/19/21, 01:51:26 PMUsed IdDirWritable() for checking write permissions for Bug #27401
1034avformat-55.dll (not more supported)64864357909/24/21, 06:03:22 PM"Hello,

avformat-55.dll not updated and contains bugs, It is necessary to support a new version of ffmpeg avformat-58.dll."NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1036Bug 2809 - Label Sounds fails when track sample rate is 22050 HzSteve DaultonSteveDaulton06/24/21, 12:57:04 AM"Fix incorrect equality comparison between int and float and
bump plug-in release number.

Resolves: https://bugzilla.audacityteam.org/show_bug.cgi?id=2809
Resolves: https://github.com/audacity/audacity/issues/1032

When sample rate is not divisible by 100, the low sample rate copy has a fractional sample rate, so the calculated minimum silence duration in samples is a floating point number. Replace equality comparison with greater or equal so that we don't miss adding the label.

Also bumped plug-in release number to signify that plug-in has been updated.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""+1 for QuickFix for 3.0.3 =||= This fix has now been tested by Peter.
Just waiting for someone to get round to ""reviewing"" and committing the obvious one character change. =||= Given that this has been fixed and tested - can we please ensure this gets reviewed and pulled for 3.0.3 =||= "Bug 2809 - Label Sounds fails when track sample rate is 22050 HzSteve DaultonSteveDaulton06/24/21, 12:57:04 AM"Fix incorrect equality comparison between int and float and
bump plug-in release number.

Resolves: https://bugzilla.audacityteam.org/show_bug.cgi?id=2809
Resolves: https://github.com/audacity/audacity/issues/1032

When sample rate is not divisible by 100, the low sample rate copy has a fractional sample rate, so the calculated minimum silence duration in samples is a floating point number. Replace equality comparison with greater or equal so that we don't miss adding the label.

Also bumped plug-in release number to signify that plug-in has been updated.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNSteveDaulton06/20/21, 11:55:40 PM"Bug 2809 - Label Sounds fails when track sample rate is 22050 Hz

Fix incorrect equality comparison between int and float and
bump plug-in release number."1
1037"Wrong German translation for ""Save changes to"""Felix Pahljoriki06/23/21, 03:27:42 PM"This German translation is wrong:

https://github.com/audacity/audacity/blob/77dab158c37fcb7e448a103400810ac16eda4686/locale/de.po#L4825

It would be a correct translation if ""to"" were used to indicate the destination of the save operation, but it actually indicates the object ""to"" which changes were made. The correct translation for that is:

`msgstr ""%sÄnderungen an %s speichern?""`""Fixed in Release branch at 7bdc25039ffcd07db64895ddb1efe1b49c165a9e
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1039'Windows protected your PC' - Microsoft Defender is blocking the running of the RCTantacrul08/04/21, 12:25:42 PM"### Bug Description
Microsoft Defender is blocking the running of the RC


### Steps To Reproduce

- Download 32/64bit version of Audacity
- Try to open the executable file

### Current result
Windows defender popup appears: 'Microsoft Defender SmartScreen prevented an unrecognised app from starting. Running this app might put your PC at risk.'


### Build and OS info

- Windows x32;
- Windows x64;"This is kinda won't fix issue. Or rather it will fix itself. The problem is - our certificate is new and our certificate is not EV. The Microsoft will pick it up shortly and the problem will be solved =||= resolved; no actions needed =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1040Removed call that would stop project playback when using batch commands.Karl Johnsonsmapty07/16/21, 04:49:27 AM"Removed a call to stop playing the current project when a batch call is sent to Audacity. There are reasons to leave playback (especially looping playback) running while batch commands are being issued. Stop can be a part of someone's batch commands if they need to stop playback of the project.

Resolves: https://github.com/audacity/audacity/issues/961

*I've added a change to prevent the project playback from being automatically stopped when issued a batch command. This allows for commands to be issued while playback of the project is going.*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x ] I signed [CLA](https://www.audacityteam.org/cla/)
- [x ] I made sure the code compiles on my machine
- [x ] I made sure there are no unnecessary changes in the code
- [ x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [ x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""Audacity may crash if you apply a destructive effect to audio that is currently being recorded or playing.

We probably already call Stop in destructive effects and cut/copy/paste edits too, to prevent that, but that would need to be carefully checked/confirmed.

What do you think?

If you can confirm, perhaps we'll then test it and will be happy to accept the change.

Thanks very much! =||= I don’t approve.

Macros and script pipe need a lot of reexamination still to make them robust and maintainable.

 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1041Brush tool for spectral editingEdwardEdwardhk06/29/21, 07:15:26 PM"Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [ ] I signed [CLA](https://www.audacityteam.org/cla/)
- [ ] I made sure the code compiles on my machine
- [ ] I made sure there are no unnecessary changes in the code
- [ ] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [ ] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1042(C++17) Debug error on closing Audacity on Windows 10DavidBailes07/04/21, 09:39:52 PM"**Describe the bug**
Tested with commit: 77dab158c37, Windows 10 64bit. On closing Audacity, there's a debug error:
The block at 0x000001ED23899B80 was not allocated by _aligned routines, use free()

call stack:
 	ucrtbased.dll!00007ff8c7474385()	Unknown
 	ucrtbased.dll!00007ff8c7470f13()	Unknown
 	Audacity.exe!operator delete(void * block, std::align_val_t __formal) Line 33	C++
 	Audacity.exe!operator delete(void * block, unsigned __int64 __formal, std::align_val_t al) Line 31	C++
 	Audacity.exe!AudioIO::`vector deleting destructor'(unsigned int)	C++
>	Audacity.exe!std::default_delete<AudioIOBase>::operator()(AudioIOBase * _Ptr) Line 3120	C++
 	Audacity.exe!std::unique_ptr<AudioIOBase,std::default_delete<AudioIOBase>>::reset(AudioIOBase * _Ptr) Line 3267	C++
 	Audacity.exe!AudioIO::Deinit() Line 946	C++
 	Audacity.exe!AudacityApp::OnExit() Line 2241	C++
 	[External Code]	
 	Audacity.exe!WinMain(HINSTANCE__ * hInstance, HINSTANCE__ * hPrevInstance, char * __formal, int nCmdShow) Line 755	C++
 	[External Code]	



**To Reproduce**
see above

**Expected behavior**
no error

1 hr
""I cannot replicate this on W10 with audacity-win-3.0.3-alpha-20210618+77dab15-64bit =||= This relates only to the master build, now diverged from the 3.0.3 release build, and relates to the move to C++17.
 =||= @DavidBailes in MemoryX.*, delete the lines
`#ifdef __APPLE__`
and matching #endifs.

Then what happens in your build?
 =||= > 
> 
> This relates only to the master build, now diverged from the 3.0.3 release build, and relates to the move to C++17.

But audacity-win-3.0.3-alpha-20210618+77dab15-64bit is a Master build - I have not been testing ever with 3.0.3 builds
 =||= > > This relates only to the master build, now diverged from the 3.0.3 release build, and relates to the move to C++17.
> 
> But audacity-win-3.0.3-alpha-20210618+77dab15-64bit is a Master build - I have not been testing ever with 3.0.3 builds

Correct.

But this may also be a matter only in Debug development builds such as @DavidBailes was using.  Still, worth a fix in 3.0.4 and I put it in that project board.
 =||= On Wed, 23 Jun 2021 at 18:02, Paul Licameli ***@***.***>
wrote:

> @DavidBailes <https://github.com/DavidBailes> in MemoryX.*, delete the
> lines
> #ifdef __APPLE__
> and matching #endifs.
>
> Then what happens in your build?
>
I get the build error:
Error C2660 'NonInterferingBase::operator new': function does not take 4
arguments Audacity U:\audacity\src\AudioIO.cpp 913

David.


> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/issues/1042#issuecomment-867008758>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AC2WDLODQCCEMYC6ZSKYEWDTUIHUFANCNFSM47DLJVKA>
> .
>
 =||= 
> This relates only to the master build, now diverged from the 3.0.3 release build, and relates to the move to C++17.

And I note that the master build is already bumped to alpha 3.0.4

Note that this early bump has potential implications for the Manual and the way it is managed. =||= @DavidBailes I think what you initially reported should just be considered information, not an ""error"" as you said, and I can simply close this issue.  Do you agree?

If you don't, then my suggested change didn't compile for you because of that annoying
`#define new DEBUG_NEW`
in MSVC debug builds, which breaks some useful C++ idioms like class-specific operator new here, and doesn't bring much benefit that I know of, in catching real bugs.

Audacity doesn't have significant memory leak problems to debug, since some crazy fanatic systematically removed all naked news and used smart pointers instead.

But then the simplest thing is just to turn off the debug memory checking, removing these lines from AudacityHeaders.h:

```
#define DEBUG_NEW new(_NORMAL_BLOCK, __FILE__, __LINE__)
#define new DEBUG_NEW
```
 =||= On Wed, 30 Jun 2021 at 15:24, Paul Licameli ***@***.***>
wrote:

> @DavidBailes <https://github.com/DavidBailes> I think what you initially
> reported should just be considered information, not a ""error"" as you said,
> and I can simply close this issue. Do you disagree?
>
I think it would be helpful for those who build and test the debug version
if it closed cleanly, that is, without errors. People don't expect to get
an error, and won't know whether it's a real problem or not. So I don't
think this issue should be simply closed.

David.

> If you don't, then my suggested change didn't compile for you because of
> that annoying
> #define new DEBUG_NEW
> in MSVC debug builds, which breaks some useful C++ idioms like
> class-specific operator new here, and doesn't bring much benefit that I
> know of, in catching real bugs.
>
> Audacity doesn't have significant memory leak problems to debug, since
> some crazy fanatic systematically removed all naked news and used smart
> pointers instead.
>
> But then the simplest thing is just to turn off the debug memory checking,
> removing these lines from AudacityHeaders.h:
>
> #define DEBUG_NEW new(_NORMAL_BLOCK, __FILE__, __LINE__)
> #define new DEBUG_NEW
>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/issues/1042#issuecomment-871451655>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AC2WDLN3GTNDHMOLHFB7JCDTVMSKZANCNFSM47DLJVKA>
> .
>
 =||= I repeat:  It is merely a message.  It is not an error.  It should just be ignored.  It is not a memory leak.

Really I wouldn't mind just disabling all the debug memory checking in MSVC because I can't remember it really helping to identify bugs.
 =||= Well now on the other hand, I wonder whether Microsoft's implementation of C++17 operator new for over-aligned types isn't correct, if this message results.

A harmless change would be to use that per-class operator new on all platforms, not just Mac.

But the Microsoft memory debugging macro new, irritatingly, doesn't mix will class-specific operator new.

So I would have to disable that debug memory checking, at least wherever MemoryX.h is included.

 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1044Windows: 64-bit Audacity cannot export/import FFmpeg reliant audio filesPeter Sampsonpetersampsonaudacity06/25/21, 04:46:04 PM"Testing on 64-bit as the current intention is to release 3.0.3 as 64-bit

Audacity fails to locate a 64-bit FFmpeg library and hence cannot export (or import) FFmpeg reliant audio files.

The full bug is logged as a P1 (release blocker) on Bugzilla
https://bugzilla.audacityteam.org/show_bug.cgi?id=2811
Bug 2811 - Windows: 64-bit Audacity cannot export FFmpeg reliant audio files""In addition to providing a 64-bit FFmpeg there are other issues to decide
a) where to host it
b) the Manual may need updating =||= I've sent the links to Martin =||= Testing on W10 with Audacity_Windows_64bit_968951902_70bb6a6  (3.0.3 build)
and with 64-bit FFmpeg library supplied by MUSE (Buanzo will be hosting this)

64-bit FFmpeg test ran smooth as silk ...
1) used the exe to install the 64-bit FFmpeg library in C:\Program files
2) Installed 3.0.3 64-bit from GitHub: https://github.com/audacity/audacity/actions/runs/968951902
3) launched 64-bit Audacity
4) Observe: no error message on launch complaining about missing FFmpeg
5) import an AAC/M4A file 
6) Observe it imports fine
7) export it as AAC/M4A file 
8) Observe: it exports fine
9) Examine Libraries preferences
10) Observe correct entry for 64-bit FFmpeg =||= I will not close this until we also test the hosting by Buanzo =||= I tested the hosting from Buanzo's site and all is fine - the Manual is updated accordingly =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1046Upload debug symbols for 3d party libraries Dmitry Vedenkocrsib06/22/21, 03:29:56 PM"Upload debug symbols for 3d party libraries and for lib-*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNUpload debug symbols for 3d party libraries Dmitry Vedenkocrsib06/22/21, 03:29:56 PM"Upload debug symbols for 3d party libraries and for lib-*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNDmitry Vedenko06/22/21, 01:27:59 PMUpload symbols for Conan-built libraries1
1047can't build on archlinuxaxelpersevalle06/24/21, 05:26:59 PM"hello,

when I try to compile audacity, I have an issue. i'll put the cmake and make command in a txt file. I try to compile  audacity 3.0.2 on archlinux.
[cmake_audacity.txt](https://github.com/audacity/audacity/files/6696102/cmake_audacity.txt)
[build_failure_audacity.txt](https://github.com/audacity/audacity/files/6696103/build_failure_audacity.txt)

thanks for your help

P-S: i just hope it can compile""Hi! This is a known issue, it was addressed in https://github.com/audacity/audacity/pull/1030/commits/4931de7213707feffdb024e22fab24b31299fb0a

It will be merged in sometime soon, you can apply the patch manually in the meantime =||= thanks, i just have a last question, how do i apply the patch?
 =||= The easiest way, since it is just one line, would be to open the file:
**libraries/lib-utility/MemoryX.h** 
in a plain text editor, and add the line:
`#include <limits>`
directly after the line:
`#include <functional>`
 (line 12)

Then do a fresh (start from the beginning) build. =||= thanks for the response and sorry i wasn't here but i compiled it again and it works so thanks 
![image](https://user-images.githubusercontent.com/78932119/123306870-1dc53580-d522-11eb-8aec-d3615877c5a5.png)
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1048Updates dialog should not spoil recordings in case of screen readersPaul LicameliPaul-Licameli07/02/21, 06:13:05 PM"If the check-for-updates dialog pops unexpectedly while there is a recording in progress, and a screen reader is in use, then the recording may be spoiled.

Fix that by delaying the dialog until after the recording ends.""Why are we even considering having an update check while Audacity is recording - or even just active or open.

I thought we had discussed this recently and decided that update checks at timed intervals were unnecessary and the the update checks would only be done on Audacity launch.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1049Update check wont spoil recordingsPaul LicameliPaul-Licameli06/22/21, 08:26:35 PM"Resolves: #1048

Check for Updates dialog will (very probably) not unexpectedly interrupt recordings, possibly spoiling them if there is a screen reader.

(There is one slender timing possibility mentioned in code comments where it might yet happen.  More thread synchronizations might fix that, but do not seem worth the extra effort now.)

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""Why are we even considering having an update check while Audacity is recording - or even just active or open.

I thought we had discussed this recently and decided that update checks at timed intervals were unnecessary and the the update checks would only be done on Audacity launch. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1050Check for Updates dialog will not interrupt recordingsPaul LicameliPaul-Licameli06/24/21, 09:37:48 AM"Resolves: #1048

Check for Updates dialog will (very probably) not unexpectedly interrupt recordings, possibly spoiling them if there is a screen reader.

(There is one slender timing possibility mentioned in code comments where it might yet happen. More thread synchronizations might fix that, but do not seem worth the extra effort now.)

[x]  I signed CLA
[x]  I made sure the code compiles on my machine
[x]  I made sure there are no unnecessary changes in the code
[x]  I made sure the title of the PR reflects the core meaning of the issue you are solving
[x]  I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNCheck for Updates dialog will not interrupt recordingsPaul LicameliPaul-Licameli06/24/21, 09:37:48 AM"Resolves: #1048

Check for Updates dialog will (very probably) not unexpectedly interrupt recordings, possibly spoiling them if there is a screen reader.

(There is one slender timing possibility mentioned in code comments where it might yet happen. More thread synchronizations might fix that, but do not seem worth the extra effort now.)

[x]  I signed CLA
[x]  I made sure the code compiles on my machine
[x]  I made sure there are no unnecessary changes in the code
[x]  I made sure the title of the PR reflects the core meaning of the issue you are solving
[x]  I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli06/23/21, 12:08:41 AMCheck for Updates dialog will not interrupt recordings1
1051Update de.poDaniel Changdanielchang200106/22/21, 09:22:55 PM"Resolves: *https://github.com/audacity/audacity/issues/1037*

*Fixed wrong German translation for ""Save changes to?"" in locale/de.po*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1052Fixes accessibility issue, tab navigation issueVitaly Sverchinskyvsverchinsky06/23/21, 03:00:22 PM"Resolves: https://github.com/audacity/audacity/issues/1045

Reorders children hierarchy, so that screen readers traverse them in expected order.
Fixes button TABing.
Removes redundant -h option

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""Tested on Windows. A couple of remaining issues:
1. Screen readers don't read the name of the Comments text box. This too is a due to the ordering of children in the hierarchy: the static text ""comments"" needs to be created immediately before the text control for the comments - just like in the case of the static text and text control for the problem details.
2. Using no screen reader or using NVDA, the report dialog becomes the focus after the crash. At least on my computer (on the slow side), when using Narrator, this doesn't happen. Using microsoft's accevent tool, it looks like there's a focus event for the first text box on the report dialog, but this is followed by another focus event from an unknown location. It maybe than this latter event is upsetting Narrator. No idea how this can be fixed, and not the end of the world if it can't be. =||= "Fixes accessibility issue, tab navigation issueVitaly Sverchinskyvsverchinsky06/23/21, 03:00:22 PM"Resolves: https://github.com/audacity/audacity/issues/1045

Reorders children hierarchy, so that screen readers traverse them in expected order.
Fixes button TABing.
Removes redundant -h option

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNVitaly Sverchinsky06/22/21, 07:34:10 PMfixes accessibility issue, tab navigation issue, window focus issue1
1053Fix wrong German translation in de.poDaniel Changdanielchang200106/23/21, 03:28:57 PM"Resolves: *https://github.com/audacity/audacity/issues/1037*

*Updated correct translation of ""Save changes to?"" in German.*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""Thank you for this pull request on master.

I made this small change directly in the release branch so 3.0.3 will have it.  Those changes will be merged back into master.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1054Add triangle waveform to Tone Generator.paulguy08/04/21, 11:24:28 AM"Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""Well, it does what it says on the tin :)

![image](https://user-images.githubusercontent.com/21022311/127750557-64de6955-5bbc-4c1f-8a5b-a3dc9c799883.png)

Thanks!
 =||= @paulguy Do you wish to be credited in the About Audacity dialog?
 =||= "Add triangle waveform to Tone Generator.paulguy08/04/21, 11:24:28 AM"Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul LaMendola06/23/21, 04:30:54 AMAdd triangle waveform to Tone Generator.1
1056Crash Report Dialog: accessibility fixesVitaly Sverchinskyvsverchinsky06/24/21, 12:55:35 AM"Resolves: https://github.com/audacity/audacity/issues/1045

 * Fixes ordering for commentaries section, header section
 * Attempt to fix focus issue when using Windows build-in narrator

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""Tested the fix on Windows 10:
1. The name of the comments text box now reads OK. Thanks.
2. The fix for the focus isn't a very good fix. Firstly, the dialog didn't become the focus for me every time I crashed Audacity - again, this might be showing up because I've got a comparatively slow computer. Secondly you're setting the whole dialog to be the focus, rather than the first control in it. A user would expect the first control to be the initial focus, but after this fix, you now have to tab to the first control. A better way of fixing the focus which would be worth investigating is the way that it's done in the LabelDialog. There's an override for show, bool LabelDialog::Show(bool show), and in it the first control is set as focus if show is true. =||= "Crash Report Dialog: accessibility fixesVitaly Sverchinskyvsverchinsky06/24/21, 12:55:35 AM"Resolves: https://github.com/audacity/audacity/issues/1045

 * Fixes ordering for commentaries section, header section
 * Attempt to fix focus issue when using Windows build-in narrator

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNVitaly Sverchinsky06/23/21, 07:14:45 PMFixes ordering for commentaries section, header section, attempt to fix focus issue1
1057Cleanup plugin and module managersPaul LicameliPaul-Licameli07/01/21, 01:16:28 AM"Contributes to internals of #992 

Make the PluginManager and ModuleManager classes more understandable and maintainable.
- break the cyclic dependency between them
- separate the GUI to manipulate the PluginManager (the PluginRegistrationDialog) into other files
- simplify memory management
- simplify iterations over plug-ins

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNCleanup plugin and module managersPaul LicameliPaul-Licameli07/01/21, 01:16:28 AM"Contributes to internals of #992 

Make the PluginManager and ModuleManager classes more understandable and maintainable.
- break the cyclic dependency between them
- separate the GUI to manipulate the PluginManager (the PluginRegistrationDialog) into other files
- simplify memory management
- simplify iterations over plug-ins

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli02/20/20, 12:48:26 PMEliminate last use of PluginManager by ModuleManager, breaking cycle1
1058P1s in the Manual that need fixing for 3.0.3Peter Sampsonpetersampsonaudacity07/02/21, 06:13:59 PM"There remain several P1s in The Manual that require fixing for 3.0.0

1) View Menu changes
Most concern menu image/imagemap updates for a new command that was added to the View Menu (for Show Track Names).  This affects the View Menu page itself and its submenus. These images are normally updated using the magicke spelles that James Crook wrote - you may need to consult with him to find out how these spelles are applied.
- https://alphamanual.audacityteam.org/man/View_Menu
- https://alphamanual.audacityteam.org/man/View_Menu:_Zoom
- https://alphamanual.audacityteam.org/man/View_Menu:_Track_Size
- https://alphamanual.audacityteam.org/man/View_Menu:_Skip_to
- https://alphamanual.audacityteam.org/man/View_Menu:_Toolbars

2) Scripting Reference
https://alphamanual.audacityteam.org/man/Scripting_Reference
needs updating for new colorways in 3.0.3 (parameters for Set Track Visuals command)


""And there's now an application section in Preferences,

David.

On Thu, 24 Jun 2021 at 12:37, Peter Sampson ***@***.***>
wrote:

> There remain several P1s in The Manual that require fixing for 3.0.0
>
>    1. View Menu changes
>    Most concern menu image/imagemap updates for a new command that was
>    added to the View Menu (for Show Track Names). This affects the View Menu
>    page itself and its submenus:
>    https://alphamanual.audacityteam.org/man/View_Menu
>    These images are normally updated using the magicke spelles that @james
>    <https://github.com/james> wrote - you may need to consult with him to
>    find out how these spelles are applied.
>
>
>    - https://alphamanual.audacityteam.org/man/View_Menu
>    - https://alphamanual.audacityteam.org/man/View_Menu:_Zoom
>    - https://alphamanual.audacityteam.org/man/View_Menu:_Track_Size
>    - https://alphamanual.audacityteam.org/man/View_Menu:_Skip_to
>    - https://alphamanual.audacityteam.org/man/View_Menu:_Toolbars
>
>
>    1. Scripting Reference
>    https://alphamanual.audacityteam.org/man/Scripting_Reference
>    needs updating for new colorways in 3.0.3 (parameters for Set Track
>    Visuals command)
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/issues/1058>, or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AC2WDLIM6NDSLQ4RXQLYIKDTUMKITANCNFSM47HWTVKQ>
> .
>
 =||= >And there's now an application section in Preferences,

Indeed so that page need to be created - AND all 18 Preferences pages in the manual need their images and images updating (I have added P1s on each of those pages).

Had I been consulted in advance I would have recommended placing this new preference on the Warnings pref pane as a way of minimizing the work needed in the manual at a very late stage in the development cycle, just before Release Candidates..

 =||= I have added a new skeletal page in the Manual with a P1 for its creation.
https://alphamanual.audacityteam.org/man/Application_Preferences

See also:  https://github.com/audacity/audacity/issues/1005
Add page in alphamanual.audacityteam.org for application preferences like: https://alphamanual.audacityteam.org/man/Application_Preferences #1005 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1059Extract lib-basic-uiPaul LicameliPaul-Licameli07/19/21, 02:43:23 AM"12 hrs"NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1060Extract lib-preferencesPaul LicameliPaul-Licameli07/22/21, 08:53:14 PM"Depends on #1059 #1161

Two hours"NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1061Extract mod-waveform-uiPaul LicameliPaul-Licameli06/25/21, 11:02:26 AMDepends on #1062 Duplicated #1082  =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1062Extract mod-command-classesPaul LicameliPaul-Licameli06/25/21, 11:03:25 AMNaNDuplicated #1113  =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1063Set AUDACITY_BUILD_LEVEL to Release when building from release branchDmitry Vedenkocrsib06/24/21, 06:18:50 PM"
- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNSet AUDACITY_BUILD_LEVEL to Release when building from release branchDmitry Vedenkocrsib06/24/21, 06:18:50 PM"
- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNDmitry Vedenko06/24/21, 05:13:02 PMSet AUDACITY_BUILD_LEVEL to Release when building from release branch1
1064"Reverse meanings of ""Grayscale"" and ""Inverse Grayscale"" ..."Paul LicameliPaul-Licameli06/25/21, 11:25:43 AM"... The first, not the second, will correspond to the old Grayscale.  This
shows higher energy as darker.  That is how monochrome spectrograms have
usually been inked onto paper.

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaN"Reverse meanings of ""Grayscale"" and ""Inverse Grayscale"" ..."Paul LicameliPaul-Licameli06/25/21, 11:25:43 AM"... The first, not the second, will correspond to the old Grayscale.  This
shows higher energy as darker.  That is how monochrome spectrograms have
usually been inked onto paper.

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli06/24/21, 05:51:10 PM"Reverse meanings of ""Grayscale"" and ""Inverse Grayscale"" ...

... The first, not the second, will correspond to the old Grayscale.  This
shows higher energy as darker.  That is how monochrome spectrograms have
usually been inked onto paper."1
1143Extract lib-project-ratePaul LicameliPaul-Licameli09/02/21, 06:50:48 PM"- [x] #1159 
- [x] #1153 
- [x] #1158 
- [x] #1144
- [ ] remaining"NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1144Extract lib-audio-devicesPaul LicameliPaul-Licameli08/27/21, 04:57:16 PM"- [x] #1060 
- [ ] #1144"NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1152Extract lib-screen-geometryPaul LicameliPaul-Licameli09/02/21, 06:47:23 PM"- [x] #1060
- [x] #1153
- [x] #1158
- [x] #1152"NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1153Extract lib-projectPaul LicameliPaul-Licameli09/01/21, 10:51:20 AM"- [x] #1163 
- [x] #1153"NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1158Extract lib-xmlPaul LicameliPaul-Licameli08/17/21, 07:10:44 PM"- [x] #1160 
- [x] remaining"NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1159Extract lib-mathPaul LicameliPaul-Licameli07/22/21, 08:55:32 PM"Depends on #1060 

Two hours"NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1160Extract lib-filesPaul LicameliPaul-Licameli07/30/21, 12:51:53 PM"Depends on #1162 #1060

Three hours"NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1161Extract lib-componentsPaul LicameliPaul-Licameli07/13/21, 06:43:27 PM"6 hrs"NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1162Extract lib-exceptionsPaul LicameliPaul-Licameli07/21/21, 06:04:03 PM"Depends on #1059 

Two hours"NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1163Extract lib-registriesPaul LicameliPaul-Licameli08/06/21, 12:57:11 PM"- [x] #1162
- [x] #1060
- [x] #1163"NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1164Updater: postponing the update dialog doesn't work with timer recordingDmitry Vedenkocrsib07/02/21, 06:13:37 PMDavid Bailes: I've just tested commit 70bb6a63c3 to check whether checking for updates may cause a timer recording to fail. It can. (I changed the updateCheckingInterval to 1 min, and changed the dialog to open regardless of version numbers.) I think this needs to be fixed.NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1165Fixes macOS packaging issuesDmitry Vedenkocrsib06/25/21, 05:17:39 PM"* Help is installed to correct location
* dSYM file is ignored
* Fixes weird issue with Conan picking up libraries from dSYM

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNFixes macOS packaging issuesDmitry Vedenkocrsib06/25/21, 05:17:39 PM"* Help is installed to correct location
* dSYM file is ignored
* Fixes weird issue with Conan picking up libraries from dSYM

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNDmitry Vedenko06/25/21, 12:52:18 PM"Fixes macOS packaging issues

* Help is installed to correct location
* dSYM file is ignored
* Fixes weird issue with Conan picking up libraries from dSYM"1
1166Distinguish between Win32 and Win64 update urlsDmitry Vedenkocrsib06/25/21, 06:21:12 PM"- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""Was this meant for master or release branch?
 =||= "Distinguish between Win32 and Win64 update urlsDmitry Vedenkocrsib06/25/21, 06:21:12 PM"- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNDmitry Vedenko06/25/21, 04:34:42 PMDistinguish between Win32 and Win64 update urls1
1167Check for updates will not interrupt the Timer Record wait dialogPaul LicameliPaul-Licameli06/25/21, 05:10:31 PM"Resolves: #1164

Check for Updates has been fixed so that its modal dialog will wait until any recording-in-progress finishes.  But that was not enough.  It should also not interrupt the timer recording wait dialog.  This commit fixes that too.  I have tested it with a
modified build making more frequent checks.

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNCheck for updates will not interrupt the Timer Record wait dialogPaul LicameliPaul-Licameli06/25/21, 05:10:31 PM"Resolves: #1164

Check for Updates has been fixed so that its modal dialog will wait until any recording-in-progress finishes.  But that was not enough.  It should also not interrupt the timer recording wait dialog.  This commit fixes that too.  I have tested it with a
modified build making more frequent checks.

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli06/25/21, 04:22:23 PMCheck for updates will not interrupt the Timer Record wait dialog1
1168Postpone updates for a GMT calendar dayDmitry Vedenkocrsib06/25/21, 06:34:09 PM"This PR provides a bit more sensible approach:

1. Updates are checked once a calendar day
2. In the long-running session there will be at least 12 hours between the checks

We can postpone this PR until 3.0.4

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPostpone updates for a GMT calendar dayDmitry Vedenkocrsib06/25/21, 06:34:09 PM"This PR provides a bit more sensible approach:

1. Updates are checked once a calendar day
2. In the long-running session there will be at least 12 hours between the checks

We can postpone this PR until 3.0.4

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNDmitry Vedenko06/25/21, 05:18:42 PMPostpone updates for a GMT calendar day1
1170Linux Audacity v 3.0.2 Won't Start/Segmentation Fault/ALSA issues on Debian 10 ('Buster'/MX Linux 19.3)richaardvark09/24/21, 06:03:22 PM"**Describe the bug**
The latest release of Audacity (version 3.0.2) won't launch after being manually built following the directions provided in the [current source code ""BUILDING.md"" filse.](https://github.com/audacity/audacity/blob/master/BUILDING.md) There seems to be an issue with ALSA and this causes a ""Segmentation fault"" and the program will not launch.

**To Reproduce**
Steps to reproduce the behavior (_the following commands are successfully executed without issue_):
```
$ sudo apt-get update
$ sudo apt-get install -y build-essential cmake git python3-pip
$ sudo pip3 install conan
$ sudo apt-get install libgtk2.0-dev libasound2-dev libavformat-dev libjack-jackd2-dev uuid-dev
$ git clone https://github.com/audacity/audacity/
$ mkdir build && cd build
$ cmake -G ""Unix Makefiles"" -Daudacity_use_ffmpeg=loaded ../audacity
$ make -j`nproc`  #***see note below
$ cd bin/Debug
$ mkdir ""Portable Settings""
```
*** [See full output of 'make' here.](https://pastebin.com/3iyy2Wn1) (some warnings about statements being depreciated are given but overall it is successful.)

Finally, I go to launch Audacity but receive the following error messages:
```
richard@HomeServer:~/build/bin/Debug
$ ./audacity
error: failed to open file /usr/local/lib/lv2/lib/manifest.ttl (No such file or directory)
lilv_world_load_file(): error: Error loading file `file:///usr/local/lib/lv2/lib/manifest.ttl'
lilv_world_load_bundle(): error: Error reading file:///usr/local/lib/lv2/lib/manifest.ttl
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/alias>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/alias-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/alias-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/fastLookaheadLimiter>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/fast_lookahead_limiter-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/fast_lookahead_limiter-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/allpass_c>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/allpass-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/allpass-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/allpass_l>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/allpass-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/allpass-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/allpass_n>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/allpass-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/allpass-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/gongBeater>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/gong_beater-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/gong_beater-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/dysonCompress>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/dyson_compress-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/dyson_compress-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/sinusWavewrapper>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/sinus_wavewrapper-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/sinus_wavewrapper-swh.lv2/ (ignored)
error: failed to open file /usr/lib/lv2/swh-lv2-1.0.15/manifest.ttl (No such file or directory)
lilv_world_load_file(): error: Error loading file `file:///usr/lib/lv2/swh-lv2-1.0.15/manifest.ttl'
lilv_world_load_bundle(): error: Error reading file:///usr/lib/lv2/swh-lv2-1.0.15/manifest.ttl
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/pointerCastDistortion>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/pointer_cast-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/pointer_cast-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/flanger>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/flanger-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/flanger-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/se4>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/se4-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/se4-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/revdelay>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/revdelay-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/revdelay-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/waveTerrain>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/wave_terrain-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/wave_terrain-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/sinCos>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/sin_cos-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/sin_cos-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/gverb>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/gverb-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/gverb-swh.lv2/ (ignored)
error: failed to open file /usr/lib/lv2/imp-swh.lv2/manifest.ttl (No such file or directory)
lilv_world_load_file(): error: Error loading file `file:///usr/lib/lv2/imp-swh.lv2/manifest.ttl'
lilv_world_load_bundle(): error: Error reading file:///usr/lib/lv2/imp-swh.lv2/manifest.ttl
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/multivoiceChorus>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/multivoice_chorus-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/multivoice_chorus-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/satanMaximiser>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/satan_maximiser-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/satan_maximiser-swh.lv2/ (ignored)
error: failed to open file /usr/lib/lv2/step_muxer-swh.lv2/manifest.ttl (No such file or directory)
lilv_world_load_file(): error: Error loading file `file:///usr/lib/lv2/step_muxer-swh.lv2/manifest.ttl'
lilv_world_load_bundle(): error: Error reading file:///usr/lib/lv2/step_muxer-swh.lv2/manifest.ttl
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/const>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/const-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/const-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/foldover>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/foldover-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/foldover-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/mbeq>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/mbeq-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/mbeq-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/lowpass_iir>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/lowpass_iir-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/lowpass_iir-swh.lv2/ (ignored)
error: failed to open file /usr/lib/lv2/debug-swh.lv2/manifest.ttl (No such file or directory)
lilv_world_load_file(): error: Error loading file `file:///usr/lib/lv2/debug-swh.lv2/manifest.ttl'
lilv_world_load_bundle(): error: Error reading file:///usr/lib/lv2/debug-swh.lv2/manifest.ttl
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/decay>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/decay-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/decay-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/amp>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/amp-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/amp-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/diode>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/diode-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/diode-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/highpass_iir>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/highpass_iir-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/highpass_iir-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/hilbert>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/hilbert-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/hilbert-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/autoPhaser>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/phasers-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/phasers-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/fourByFourPole>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/phasers-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/phasers-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/lfoPhaser>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/phasers-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/phasers-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/valveRect>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/valve_rect-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/valve_rect-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/gate>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/gate-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/gate-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/valve>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/valve-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/valve-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/surroundEncoder>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/surround_encoder-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/surround_encoder-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/fadDelay>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/fad_delay-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/fad_delay-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/bandpass_a_iir>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/bandpass_a_iir-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/bandpass_a_iir-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/foverdrive>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/foverdrive-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/foverdrive-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/fmOsc>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/fm_osc-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/fm_osc-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/sc3>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/sc3-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/sc3-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/comb_c>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/comb-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/comb-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/comb_l>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/comb-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/comb-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/comb_n>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/comb-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/comb-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/artificialLatency>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/latency-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/latency-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/bodeShifterCV>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/bode_shifter_cv-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/bode_shifter_cv-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/smoothDecimate>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/smooth_decimate-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/smooth_decimate-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/giantFlange>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/giant_flange-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/giant_flange-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/sc4>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/sc4-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/sc4-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/amPitchshift>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/am_pitchshift-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/am_pitchshift-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/plate>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/plate-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/plate-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/transient>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/transient-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/transient-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/chebstortion>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/chebstortion-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/chebstortion-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/sc1>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/sc1-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/sc1-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/svf>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/svf-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/svf-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/singlePara>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/single_para-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/single_para-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/zm1>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/zm1-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/zm1-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/gong>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/gong-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/gong-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/retroFlange>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/retro_flange-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/retro_flange-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/sc2>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/sc2-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/sc2-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/bodeShifter>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/bode_shifter-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/bode_shifter-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/declip>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/declip-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/declip-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/impulse_fc>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/impulse-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/impulse-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/karaoke>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/karaoke-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/karaoke-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/butthigh_iir>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/butterworth-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/butterworth-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/buttlow_iir>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/butterworth-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/butterworth-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/bwxover_iir>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/butterworth-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/butterworth-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/tapeDelay>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/tape_delay-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/tape_delay-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/lsFilter>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/ls_filter-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/ls_filter-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/analogueOsc>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/analogue_osc-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/analogue_osc-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/lookaheadLimiterConst>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/lookahead_limiter_const-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/lookahead_limiter_const-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/comb>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/simple_comb-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/simple_comb-swh.lv2/ (ignored)
error: failed to open file /usr/lib/lv2/notch_iir-swh.lv2/manifest.ttl (No such file or directory)
lilv_world_load_file(): error: Error loading file `file:///usr/lib/lv2/notch_iir-swh.lv2/manifest.ttl'
lilv_world_load_bundle(): error: Error reading file:///usr/lib/lv2/notch_iir-swh.lv2/manifest.ttl
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/delayorama>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/delayorama-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/delayorama-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/rateShifter>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/rate_shifter-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/rate_shifter-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/split>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/split-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/split-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/harmonicGen>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/harmonic_gen-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/harmonic_gen-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/vynil>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/vynil-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/vynil-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/crossoverDist>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/crossover_dist-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/crossover_dist-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/pitchScaleHQ>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/pitch_scale-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/pitch_scale-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/decimator>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/decimator-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/decimator-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/hardLimiter>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/hard_limiter-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/hard_limiter-swh.lv2/ (ignored)
error: failed to open file /usr/lib/lv2/gsm-swh.lv2/manifest.ttl (No such file or directory)
lilv_world_load_file(): error: Error loading file `file:///usr/lib/lv2/gsm-swh.lv2/manifest.ttl'
lilv_world_load_bundle(): error: Error reading file:///usr/lib/lv2/gsm-swh.lv2/manifest.ttl
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/bandpass_iir>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/bandpass_iir-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/bandpass_iir-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/matrixStMS>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/matrix_st_ms-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/matrix_st_ms-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/lookaheadLimiter>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/lookahead_limiter-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/lookahead_limiter-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/shaper>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/shaper-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/shaper-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/dj_eq>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/dj_eq-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/dj_eq-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/dj_eq_mono>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/dj_eq-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/dj_eq-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/freqTracker>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/freq_tracker-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/freq_tracker-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/djFlanger>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/dj_flanger-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/dj_flanger-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/triplePara>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/triple_para-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/triple_para-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/matrixSpatialiser>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/matrix_spatialiser-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/matrix_spatialiser-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/inv>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/inv-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/inv-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/hermesFilter>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/hermes_filter-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/hermes_filter-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/divider>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/divider-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/divider-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/ringmod_1i1o1l>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/ringmod-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/ringmod-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/ringmod_2i1o>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/ringmod-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/ringmod-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/modDelay>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/mod_delay-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/mod_delay-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/xfade>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/xfade-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/xfade-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/xfade4>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/xfade-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/xfade-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/sifter>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/sifter-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/sifter-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/dcRemove>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/dc_remove-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/dc_remove-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/matrixMSSt>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/matrix_ms_st-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/matrix_ms_st-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/delay_c>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/delay-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/delay-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/delay_l>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/delay-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/delay-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/delay_n>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/delay-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/delay-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/combSplitter>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/comb_splitter-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/comb_splitter-swh.lv2/ (ignored)
lilv_world_add_plugin(): warning: Duplicate plugin <http://plugin.org.uk/swh-plugins/lcrDelay>
lilv_world_add_plugin(): warning: ... found in file:///usr/local/lib/lv2/lcr_delay-swh.lv2/
lilv_world_add_plugin(): warning: ... and      file:///usr/lib/lv2/lcr_delay-swh.lv2/ (ignored)
ALSA lib confmisc.c:767:(parse_card) cannot find card 'Set'
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_card_driver returned error: No such device
ALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_concat returned error: No such device
ALSA lib confmisc.c:1246:(snd_func_refer) error evaluating name
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_refer returned error: No such device
ALSA lib conf.c:5047:(snd_config_expand) Evaluate error: No such device
ALSA lib pcm.c:2565:(snd_pcm_open_noupdate) Unknown PCM sysdefault
ALSA lib confmisc.c:767:(parse_card) cannot find card 'Set'
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_card_driver returned error: No such device
ALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_concat returned error: No such device
ALSA lib confmisc.c:1246:(snd_func_refer) error evaluating name
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_refer returned error: No such device
ALSA lib conf.c:5047:(snd_config_expand) Evaluate error: No such device
ALSA lib pcm.c:2565:(snd_pcm_open_noupdate) Unknown PCM sysdefault
ALSA lib confmisc.c:767:(parse_card) cannot find card 'Set'
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_card_driver returned error: No such device
ALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_concat returned error: No such device
ALSA lib confmisc.c:1246:(snd_func_refer) error evaluating name
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_refer returned error: No such device
ALSA lib conf.c:5047:(snd_config_expand) Evaluate error: No such device
ALSA lib pcm.c:2565:(snd_pcm_open_noupdate) Unknown PCM front
ALSA lib pcm.c:2565:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.rear
ALSA lib pcm.c:2565:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.center_lfe
ALSA lib pcm.c:2565:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.side
ALSA lib confmisc.c:767:(parse_card) cannot find card 'Set'
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_card_driver returned error: No such device
ALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_concat returned error: No such device
ALSA lib confmisc.c:1246:(snd_func_refer) error evaluating name
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_refer returned error: No such device
ALSA lib conf.c:5047:(snd_config_expand) Evaluate error: No such device
ALSA lib pcm.c:2565:(snd_pcm_open_noupdate) Unknown PCM surround21
ALSA lib confmisc.c:767:(parse_card) cannot find card 'Set'
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_card_driver returned error: No such device
ALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_concat returned error: No such device
ALSA lib confmisc.c:1246:(snd_func_refer) error evaluating name
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_refer returned error: No such device
ALSA lib conf.c:5047:(snd_config_expand) Evaluate error: No such device
ALSA lib pcm.c:2565:(snd_pcm_open_noupdate) Unknown PCM surround21
ALSA lib confmisc.c:767:(parse_card) cannot find card 'Set'
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_card_driver returned error: No such device
ALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_concat returned error: No such device
ALSA lib confmisc.c:1246:(snd_func_refer) error evaluating name
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_refer returned error: No such device
ALSA lib conf.c:5047:(snd_config_expand) Evaluate error: No such device
ALSA lib pcm.c:2565:(snd_pcm_open_noupdate) Unknown PCM surround40
ALSA lib confmisc.c:767:(parse_card) cannot find card 'Set'
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_card_driver returned error: No such device
ALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_concat returned error: No such device
ALSA lib confmisc.c:1246:(snd_func_refer) error evaluating name
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_refer returned error: No such device
ALSA lib conf.c:5047:(snd_config_expand) Evaluate error: No such device
ALSA lib pcm.c:2565:(snd_pcm_open_noupdate) Unknown PCM surround41
ALSA lib confmisc.c:767:(parse_card) cannot find card 'Set'
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_card_driver returned error: No such device
ALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_concat returned error: No such device
ALSA lib confmisc.c:1246:(snd_func_refer) error evaluating name
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_refer returned error: No such device
ALSA lib conf.c:5047:(snd_config_expand) Evaluate error: No such device
ALSA lib pcm.c:2565:(snd_pcm_open_noupdate) Unknown PCM surround50
ALSA lib confmisc.c:767:(parse_card) cannot find card 'Set'
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_card_driver returned error: No such device
ALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_concat returned error: No such device
ALSA lib confmisc.c:1246:(snd_func_refer) error evaluating name
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_refer returned error: No such device
ALSA lib conf.c:5047:(snd_config_expand) Evaluate error: No such device
ALSA lib pcm.c:2565:(snd_pcm_open_noupdate) Unknown PCM surround51
ALSA lib confmisc.c:767:(parse_card) cannot find card 'Set'
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_card_driver returned error: No such device
ALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_concat returned error: No such device
ALSA lib confmisc.c:1246:(snd_func_refer) error evaluating name
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_refer returned error: No such device
ALSA lib conf.c:5047:(snd_config_expand) Evaluate error: No such device
ALSA lib pcm.c:2565:(snd_pcm_open_noupdate) Unknown PCM surround71
ALSA lib confmisc.c:767:(parse_card) cannot find card 'Set'
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_card_driver returned error: No such device
ALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_concat returned error: No such device
ALSA lib confmisc.c:1246:(snd_func_refer) error evaluating name
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_refer returned error: No such device
ALSA lib conf.c:5047:(snd_config_expand) Evaluate error: No such device
ALSA lib pcm.c:2565:(snd_pcm_open_noupdate) Unknown PCM iec958
ALSA lib confmisc.c:767:(parse_card) cannot find card 'Set'
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_card_driver returned error: No such device
ALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_concat returned error: No such device
ALSA lib confmisc.c:1246:(snd_func_refer) error evaluating name
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_refer returned error: No such device
ALSA lib conf.c:5047:(snd_config_expand) Evaluate error: No such device
ALSA lib pcm.c:2565:(snd_pcm_open_noupdate) Unknown PCM spdif
ALSA lib confmisc.c:767:(parse_card) cannot find card 'Set'
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_card_driver returned error: No such device
ALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_concat returned error: No such device
ALSA lib confmisc.c:1246:(snd_func_refer) error evaluating name
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_refer returned error: No such device
ALSA lib conf.c:5047:(snd_config_expand) Evaluate error: No such device
ALSA lib pcm.c:2565:(snd_pcm_open_noupdate) Unknown PCM spdif
ALSA lib confmisc.c:767:(parse_card) cannot find card 'Set'
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_card_driver returned error: No such device
ALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_concat returned error: No such device
ALSA lib confmisc.c:1246:(snd_func_refer) error evaluating name
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_refer returned error: No such device
ALSA lib conf.c:5047:(snd_config_expand) Evaluate error: No such device
ALSA lib pcm.c:2565:(snd_pcm_open_noupdate) Unknown PCM hdmi
ALSA lib confmisc.c:767:(parse_card) cannot find card 'Set'
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_card_driver returned error: No such device
ALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_concat returned error: No such device
ALSA lib confmisc.c:1246:(snd_func_refer) error evaluating name
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_refer returned error: No such device
ALSA lib conf.c:5047:(snd_config_expand) Evaluate error: No such device
ALSA lib pcm.c:2565:(snd_pcm_open_noupdate) Unknown PCM hdmi
ALSA lib confmisc.c:767:(parse_card) cannot find card 'Set'
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_card_driver returned error: No such device
ALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_concat returned error: No such device
ALSA lib confmisc.c:1246:(snd_func_refer) error evaluating name
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_refer returned error: No such device
ALSA lib conf.c:5047:(snd_config_expand) Evaluate error: No such device
ALSA lib pcm.c:2565:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.phoneline:CARD=Set,DEV=0
ALSA lib confmisc.c:767:(parse_card) cannot find card 'Set'
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_card_driver returned error: No such device
ALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_concat returned error: No such device
ALSA lib confmisc.c:1246:(snd_func_refer) error evaluating name
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_refer returned error: No such device
ALSA lib conf.c:5047:(snd_config_expand) Evaluate error: No such device
ALSA lib pcm.c:2565:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.phoneline:CARD=Set,DEV=0
ALSA lib confmisc.c:767:(parse_card) cannot find card 'Set'
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_card_driver returned error: No such device
ALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_concat returned error: No such device
ALSA lib confmisc.c:1246:(snd_func_refer) error evaluating name
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_refer returned error: No such device
ALSA lib conf.c:5047:(snd_config_expand) Evaluate error: No such device
ALSA lib pcm.c:2565:(snd_pcm_open_noupdate) Unknown PCM phoneline
ALSA lib confmisc.c:767:(parse_card) cannot find card 'Set'
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_card_driver returned error: No such device
ALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_concat returned error: No such device
ALSA lib confmisc.c:1246:(snd_func_refer) error evaluating name
ALSA lib conf.c:4568:(_snd_config_evaluate) function snd_func_refer returned error: No such device
ALSA lib conf.c:5047:(snd_config_expand) Evaluate error: No such device
ALSA lib pcm.c:2565:(snd_pcm_open_noupdate) Unknown PCM phoneline
ALSA lib pcm_hw.c:1822:(_snd_pcm_hw_open) Invalid value for card
ALSA lib pcm_hw.c:1822:(_snd_pcm_hw_open) Invalid value for card
ALSA lib pcm_hw.c:1822:(_snd_pcm_hw_open) Invalid value for card
ALSA lib pcm_hw.c:1822:(_snd_pcm_hw_open) Invalid value for card
ALSA lib pcm_hw.c:1822:(_snd_pcm_hw_open) Invalid value for card
ALSA lib pcm_hw.c:1822:(_snd_pcm_hw_open) Invalid value for card
Cannot connect to server socket err = No such file or directory
Cannot connect to server request channel
jack server is not running or cannot be started
JackShmReadWritePtr::~JackShmReadWritePtr - Init not done for -1, skipping unlock
JackShmReadWritePtr::~JackShmReadWritePtr - Init not done for -1, skipping unlock
Cannot connect to server socket err = No such file or directory
Cannot connect to server request channel
jack server is not running or cannot be started
JackShmReadWritePtr::~JackShmReadWritePtr - Init not done for -1, skipping unlock
JackShmReadWritePtr::~JackShmReadWritePtr - Init not done for -1, skipping unlock
ALSA lib pcm_oss.c:377:(_snd_pcm_oss_open) Unknown field port
ALSA lib pcm_oss.c:377:(_snd_pcm_oss_open) Unknown field port
ALSA lib pcm_a52.c:823:(_snd_pcm_a52_open) a52 is only for playback
Segmentation fault
```

**Expected behavior**
Audacity will launch.

**Screenshots**
No GUI to show - see errors in commands/code above.

**Additional information (please complete the following information):**
- Audacity version 3.0.2

_Additional System Details:_
```
System:    Host: <filter> Kernel: 4.19.0-16-amd64 x86_64 bits: 64 compiler: gcc v: 8.3.0 
           parameters: BOOT_IMAGE=/boot/vmlinuz-4.19.0-16-amd64 
           root=UUID=<filter> ro quiet splash 
           init=/lib/systemd/systemd 
           Desktop: Xfce 4.14.2 tk: Gtk 3.24.5 info: xfce4-panel wm: xfwm4 dm: LightDM 1.26.0 
           Distro: MX-19.4_x64 patito feo May 31  2020 base: Debian GNU/Linux 10 (buster) 
Machine:   Type: Detachable System: Dell product: Latitude 5175 v: N/A serial: <filter> Chassis: 
           type: 32 serial: <filter> 
           Mobo: Dell model: 0RJJV5 v: A00 serial: <filter> UEFI: Dell v: 1.7.2 date: 07/29/2020 
CPU:       Topology: Dual Core model: Intel Core m5-6Y57 bits: 64 type: MT MCP arch: Skylake 
           family: 6 model-id: 4E (78) stepping: 3 microcode: DC L2 cache: 4096 KiB 
           flags: avx avx2 lm nx pae sse sse2 sse3 sse4_1 sse4_2 ssse3 vmx bogomips: 12096 
           Speed: 2300 MHz min/max: 400/2800 MHz Core speeds (MHz): 1: 2305 2: 2316 3: 2301 
           4: 2303 
           Vulnerabilities: Type: itlb_multihit status: KVM: Split huge pages 
           Type: l1tf mitigation: PTE Inversion; VMX: conditional cache flushes, SMT vulnerable 
           Type: mds mitigation: Clear CPU buffers; SMT vulnerable 
           Type: meltdown mitigation: PTI 
           Type: spec_store_bypass 
           mitigation: Speculative Store Bypass disabled via prctl and seccomp 
           Type: spectre_v1 mitigation: usercopy/swapgs barriers and __user pointer sanitization 
           Type: spectre_v2 mitigation: Full generic retpoline, IBPB: conditional, IBRS_FW, 
           STIBP: conditional, RSB filling 
           Type: srbds mitigation: Microcode 
           Type: tsx_async_abort mitigation: Clear CPU buffers; SMT vulnerable 
Graphics:  Device-1: Intel HD Graphics 515 vendor: Dell Latitude 11 5175 2-in-1 driver: i915 
           v: kernel bus ID: 00:02.0 chip ID: 8086:191e 
           Display: x11 server: X.Org 1.20.10 driver: intel resolution: 1600x900~60Hz 
           OpenGL: renderer: Mesa Intel HD Graphics 515 (SKL GT2) v: 4.6 Mesa 20.3.4 
           direct render: Yes 
Audio:     Device-1: Intel Xeon E3-1200 v5/E3-1500 v5/6th Gen Core Processor Imaging Unit 
           vendor: Dell Latitude 11 5175 2-in-1 driver: N/A bus ID: 00:05.0 chip ID: 8086:1919 
           Device-2: Intel CSI-2 Host vendor: Dell Latitude 11 5175 2-in-1 driver: N/A 
           bus ID: 00:14.3 chip ID: 8086:9d32 
           Device-3: Intel Sunrise Point-LP HD Audio vendor: Dell Latitude 11 5175 2-in-1 
           driver: snd_hda_intel v: kernel bus ID: 00:1f.3 chip ID: 8086:9d70 
           Sound Server: ALSA v: k4.19.0-16-amd64 
Network:   Device-1: Intel Wireless 8260 driver: iwlwifi v: kernel port: f040 bus ID: 02:00.0 
           chip ID: 8086:24f3 
```

**Additional context - things I have tried:**

- I saw a [suggestion in another Audacity support forum post](https://forum.audacityteam.org/viewtopic.php?t=106490) to build the application with the ""--disable-dynamic-loading"" flag but cannot get that flag to work:

  ```
  richard@HomeServer:~/build
  $ make -j`nproc` --disable-dynamic-loading
  make: unrecognized option '--disable-dynamic-loading'
  ```

- I tried installing Audacity 3.0.2 [using a snap package](https://snapcraft.io/audacity) and it installs quickly and easily and will launch.  However, it seems that it is difficult to install any plug-ins if Audacity is installed via snap package, so I removed the snap-installed Audacity.

- I tried purging all ALSA and PulseAudio applications/files on my machine and reinstalled ALSA and PulseAudio from scratch and additionally added any other packages that are ALSA/PulseAudio related as shown in the Synaptic Package Manager that I thought might be helpful but this did not help.

- I saw a suggestion on another forum to use the ""qjackctl"" command/GUI tool to change settings in the JACK server and set the  Interface from ""(default)"" to ""hw:PCH"" and then kill PulseAudio/JACK and start them again but this did not fix anything.

**_[See original Audacity Support Forum post for additional details.](https://forum.audacityteam.org/viewtopic.php?f=48&t=118736)_**""Which version of cmake do you have? The default for Buster is 3.13, which is too old. The current Audacity code requires CMake 3.15 or higher. =||= I'm also seeing the Segmentation fault after building 8d0487e on Debian Stable. =||= > Which version of cmake do you have? The default for Buster is 3.13, which is too old. The current Audacity code requires CMake 3.15 or higher.

```
richard@HomeServer:~
$ cmake --version
cmake version 3.20.5

CMake suite maintained and supported by Kitware (kitware.com/cmake).
```
 =||= A workaround is to disable FFMPEG temporarily.

I.e. pass `-Daudacity_use_ffmpeg=off` during the configuration =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1171Updated Manual needs pulling for 3.0.3Peter Sampsonpetersampsonaudacity07/14/21, 05:23:33 PM"Testing on W10 with the latest alpha 3.0.3 build:  https://github.com/audacity/audacity/actions/runs/972351942

The Manual needs pulling again as there have been some important updates
1) 64-bit FFmpeg installation for Windows
2) Preference page added for the new Application Preferences
3) All other Preferences pages updated to show (and link to) the new Applications Preferences page
4) Update to the image and imagemap of the View Menu page for the new ""Track Name"" menu entry

Number 1 is VERY important as we need to ensure that the switch to 64-bit on Windows goes smoothly""Re-opening this as the Manual has had some necessary changes and correction since this was closed.

Plus it may need further updating if the GUI/UX for update checking changes =||= Manual is pulled automatically by CI =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1172Disable auto format detection of 'Import Raw Data'Myungchul Keumdofuuz08/04/21, 10:52:30 AM"![import raw](https://user-images.githubusercontent.com/8174871/123518042-3169cb00-d6df-11eb-939d-8949aadc4471.png)

Format guessing of 'Import Raw' is not so accurate. Sometimes it's tiresome.

Usually, when I import bunch of raw files, all of them has same format.
But, format guessing keeps change import setting, so I have to manually change it back.

I think this fix fits more on most of use case.
- Disable auto format detection. Instead, add detect button.
- Remember last format setting, and set it as default on next import.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""I have not reviewed this patch, but I agree that there needs to be an option of some kind to use the last used settings in preference to the auto-detected settings. Over the years there have been many requests from users for an option along these lines. =||= I certainly think a button for detection is better. I'm curious how the remembering works exactly. I've tested it out and I'm not 100% clear on it.

Would you mind suggesting a usercase I can try? =||= The issue is that it's not possible to always determine the sample format / channels, (and never possible to determine the sample rate) from raw sample data.

Auto-detection is useful in the most common case where the user does not know the sample format, because (a) it will often detect correctly, (b) when it fails to detect correctly, it may still be a good starting point for manually selecting the format options.

The use case where auto-detection needs to be turned off is when a user has multiple raw sample files that are all the same (known) format, and auto-detect fails. In this case it becomes very tedious to have to manually change the settings for every import. Audacity already has a mechanism built in to allow effects to default to their last used settings (most effects do this), and imo it would be useful if Import RAW also had this as an option. =||= If there is agreement about the desirability, I'd like to review this and get it merged soon into 3.1.0.  Are you reading this, @dofuuz ?
 =||= > If there is agreement about the desirability, I'd like to review this and get it merged soon into 3.1.0. Are you reading this, @dofuuz ?

I was unable to find any issues with the behaviour. It does appear to be working as advertised, so merge away :) =||= > 
> 
> > If there is agreement about the desirability, I'd like to review this and get it merged soon into 3.1.0. Are you reading this, @dofuuz ?
> 
> I was unable to find any issues with the behaviour. It does appear to be working as advertised, so merge away :)

I checked this feature and it works well.
But it doesn't check file type so the user can import any type of file and get 

@Tantacrul I don't mind if the feature will be included in release 3.1 as is, but it would be nice to avoid importing inappropriate file types in future releases


https://user-images.githubusercontent.com/25851359/129317203-ac02e3e1-1a25-4d01-8a8a-b0a5a72a2f8a.mp4


 =||= > But it doesn't check file type

I think that is intentional.
One of the uses of Import RAW is ""[Databending](https://en.wikipedia.org/wiki/Databending)"" - Examples: https://forum.audacityteam.org/viewtopic.php?f=46&t=93265
 =||= > > But it doesn't check file type
> 
> I think that is intentional.
> One of the uses of Import RAW is ""[Databending](https://en.wikipedia.org/wiki/Databending)"" - Examples: https://forum.audacityteam.org/viewtopic.php?f=46&t=93265

Was just about to say the same thing! Not checking file format is intentional. =||= "Disable auto format detection of 'Import Raw Data'Myungchul Keumdofuuz08/04/21, 10:52:30 AM"![import raw](https://user-images.githubusercontent.com/8174871/123518042-3169cb00-d6df-11eb-939d-8949aadc4471.png)

Format guessing of 'Import Raw' is not so accurate. Sometimes it's tiresome.

Usually, when I import bunch of raw files, all of them has same format.
But, format guessing keeps change import setting, so I have to manually change it back.

I think this fix fits more on most of use case.
- Disable auto format detection. Instead, add detect button.
- Remember last format setting, and set it as default on next import.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNdofuuz08/02/21, 01:27:33 PM"Cleanup ImportRaw.cpp
- Add localization for 'Import Raw Data' window title format"1
1174"Audacity crashes when the output directory for Macros is set to C:\"Peter Sampsonpetersampsonaudacity07/04/21, 04:28:44 PM"**Describe the bug**
Audacity crashes when the output directory for Macros is set to C:\ (and I suspect any unwritable location)

**To Reproduce**
1. Go to Directories preferences
2. Set the default location for Macro output to be C:\
3. Observe: Audacity does not stop you doing this (Bugzilla Bug #2740)
4. Tools > Macros
5. choose the shipped MP3 Conversion Macro
6. Apply Macro to: Files
7. choose any audio file for processing
8. Observe: Audacity crashes when it reaches the Export step in the Macro

**Expected behavior**
a) at Step 2 Audacity should block the use of C:\ and other unwritable locations for ALL default directories
b) At step 8 a sensible and helpful error message should be shown to the user.

Step b) is required even if step a) i.e. Bug #2740 is fixed - a folder location that was writable at the time the user visited Directories preferences may later become unwritable.


**Additional information (please complete the following information):**
This crash happen with 3.0.2, 3.0.3 and 3.0.4 alpha - it does not occur on 3.0.0 as that does not have the prefs setting for Macro output.  So technically this is a regression on 3.0.0

I discovered this issue when I was testing around on Bug #2740 as Paul has recently allowed the PR for a user fix for this issue
https://github.com/audacity/audacity/actions/druns/975549297

Sadly, in addition to this crash, that PR does not seem to fix the Bug 2740 issue when I test on 3.0.4 master build.


**Additional context**
OS: Windows 10 Home
Audacity versions:  3.0.2-3.0.4

I have flagged this bug as P2 - it is marginal P1, as that is what is used for most crashes, but only the very incautious and unwise user will set their default Macro output directory to be C:\ hence P2 and non-blocking, but still serious.

See:  https://bugzilla.audacityteam.org/show_bug.cgi?id=2740
P2 Bug 2740 - Directories in Directories preferences can be set to unwritable locations""I just researched an realized that this was lready reported as Bug 2738
https://bugzilla.audacityteam.org/show_bug.cgi?id=2738
P2 Bug 2738 - Audacity crashes with Macros on files when the macro-output folder is in an unwriteable location =||= See also Bug 2739
https://bugzilla.audacityteam.org/show_bug.cgi?id=2739
P2 Bug 2739 - If Temporary files directory is set to be unwritable then Audacity has a catalog of cryptic unhelpful errors 

And see also Bug 2740
https://bugzilla.audacityteam.org/show_bug.cgi?id=2740
P2 Bug 2740 - Directories in Directories preferences can be set to unwritable locations
 =||= **Reproduce**

OS: Windows 10 Home
Audacity: master branch 4770b1f0a4c91c71eea8e54a180a7ba99b77834d

**Set the default location for Macro output to be `C:\`**
At this step, Audacity blocked the use of `C:\` and other unwritable locations with the following message:
![0 - unable_set_unwritable_dir](https://user-images.githubusercontent.com/1660969/124120114-0800c480-da7c-11eb-98d8-0884ba5847b4.png)

**Folder location that changing the status from writable to unwritable..**
Set folder to macro output writable directory with name `ttttttttt`
![1 - set_macro_directory](https://user-images.githubusercontent.com/1660969/124120624-a42acb80-da7c-11eb-8b12-840c4ca4b44c.png)

Then lock this directory for writing.
![2 - lock_directory](https://user-images.githubusercontent.com/1660969/124120739-c7557b00-da7c-11eb-9848-6b67e4a7079b.png)

Run MP3 Conversion Macro and apply to `Files`
![3 - run_macro_tool](https://user-images.githubusercontent.com/1660969/124120952-008deb00-da7d-11eb-80bb-402a76f670ad.png)

After that Audacity show message with a problem to the writing result and then successfully continue working.
![4 - message_after_macro](https://user-images.githubusercontent.com/1660969/124121200-477be080-da7d-11eb-9d70-7bb08656bb03.png)

 =||= @petersampsonaudacity, could you please provide me with a print screen with Audacity crash when used unwritable directory for macro output? Because I tried reproducing these steps and still can't get the same result (crash). I described my steps above. But in some cases I get exception from `wxWidgets`, may be it the same. =||= @gera-gas 
![image](https://user-images.githubusercontent.com/50205984/124274529-490ade80-db39-11eb-801c-f2dec1e42809.png)
 =||= When I set the Macros output folder to be a sub-folder of C: (I used C:\Program Files) - I get no crash, but I do get this error message:

![image](https://user-images.githubusercontent.com/50205984/124275104-f67df200-db39-11eb-8ae4-85167ad686e3.png)
 =||= Audacity 3.0.4 alpha now blocks the use of C:\ (and other unwritable system files) with the pulling in to audacity:master for 3.4.0
of this Pull Request:
https://github.com/audacity/audacity/pull/1185
Add Directory permission check for Open, Import, Macro Output, and Temporary directory in Directory Preference #1185

This enabled me to mark P2 Bug 2740 as RESOLVED FIXED
https://bugzilla.audacityteam.org/show_bug.cgi?id=2740

But also importantly it means that this issue can no longer occur - so I shall close this.

Please note that this is fixed for 3.0.4 - but NOT for 3.0.3 (which is still in RC stage right now). =||= I tested this on W10 with audacity-win-3.0.4-alpha-20210704+0cef813-64bit
this is a branch build: https://github.com/audacity/audacity/actions/runs/999270883
_The directory setting has to be made with 3.0.2 as in latest 3.0.4 the use of C:\ is now blocked by Audacity._

1) clear Audacity settings folder
2) launch 3.0.2
3) Directories preferences
4) set the Macro output directory to be C:\
5) Exit Audacity
6) Launch 3.0.4 branch alpha with the fix
7) Tools Macros
8) choose the shipped MP3 Conversion Macro
9) Apply Macro to: Files
10) choose any audio file for processing
11) Observe: Audacity does not crash but displays the following error message when it reaches the Export step in the Macro

![image](https://user-images.githubusercontent.com/50205984/124466466-98961800-dd8e-11eb-8a36-69831d966587.png) =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1175InnoSetup uses wrong path for 32 bit build on 64 bit WindowsDmitry Vedenkocrsib07/02/21, 06:13:51 PMNaNNaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1176Freeze (or more like some sort of focus lost) on press play using spaceovROG08/04/21, 10:32:14 AM"I've just add mp3 and press space. Program won't went to ""not responding"" status but I can't press or do anything

Steps to reproduce the behavior:
1. Drag and drop mp3
2. Press space (not play button on UI)
3. Freeze

**Screenshots**
![1](https://user-images.githubusercontent.com/43468716/123651173-edd4a580-d833-11eb-94e2-dc62d047d0f1.gif)

 - OS: Win 10
 - Version Audacity 3.0.3 RC1 x64
 - MME (usb behringer um2)
"I cannot reproduce this on W10 or Mac =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1178"UX improvement - ""smart"" clips"AnitaBats07/20/21, 12:07:18 PM"""### User Story
As a user, I want to edit the length of a sound clip pulling by mouse on the edges of a clip so that allows me to edit a clip length without destructive changes to the original sound clip or whole track. 


### Decription 
Smart clips are a way to adjust the length of a clip _non-destructively_. When hovering on the edge of a clip, the cursor changes to a trim cursor, and by clicking and dragging the user will be able to shorten the clip (or lengthen later on, if the current shown length of the clip is shorter than the actual length). The idea is that the complete clip data will be retained so that users can split and trim clips without worrying about losing the original audio data. 


### Design examples
![smart clip 1@2x](https://user-images.githubusercontent.com/10109867/124116626-12fd2a00-da67-11eb-8610-67a854ba771a.jpg)
![smart clip 2@2x](https://user-images.githubusercontent.com/10109867/124116621-12649380-da67-11eb-9acf-3379a9fb0688.jpg)
![smart clip 3@2x](https://user-images.githubusercontent.com/10109867/124116619-109ad000-da67-11eb-8903-626073ab4925.jpg)
![smart clip 4@2x](https://user-images.githubusercontent.com/10109867/124116620-11cbfd00-da67-11eb-8b4a-8695f93c4f6f.jpg)

UX video of the behaviour (doesn't show the cursor change due to limitations in the prototype) - https://vimeo.com/562162689#t=14m1s


### Scope, Restrictions and Сourner-cases

- ""Smart"" clips improvements are applicable only to sound clips (mono, stereo tracks)
- The frames of a smart clip can't be wider than the original audio ""piece"" so the end of a track is the end of a smart clip and a user can not pull ""smart"" clip edges beyond the original clip.
- When the smart clip edges are the same as track boundaries the cursor should focus only on the smart clip edge. There is no double selection allowed.
- When the user tries to select the piece of a track inside the smart clip, the selection allows only to the edge of the smart clip. There is no track selection allowed beyond the edges of a smart clip.


### And the other one from @jounih 
There is an edge case which will require resolving - when a part of an audio has been selected all the way to the edge of a clip, the hit area between the selection edge, and the clip edge may overlap. There have been a couple of suggestions to resolve this:

    Using the current behaviour of ""Esc"" key in Audacity to switch between conflicting contexts/hit areas (not very discoverable), also ""Esc"" often is used as a shortcut for de-selection
    A selection mode tool (like today) - a special tool mode could be used when selecting audio, and a more generic pointer tool for anything else (moving, trimming etc)
    The clip selection hit area could be just outside the clip edges, rather than inside. This could be problematic with two clips right next to each other

 =||= There is an edge case which will require resolving - when a part of an audio has been selected all the way to the edge of a clip, the hit area between the selection edge, and the clip edge may overlap. There have been a couple of suggestions to resolve this:

1. Using the current behaviour of ""Esc"" key in Audacity to switch between conflicting contexts/hit areas (not very discoverable), also ""Esc"" often is used as a shortcut for de-selection
2. A selection mode tool (like today) - a special tool mode could be used when selecting audio, and a more generic pointer tool for anything else (moving, trimming etc)
3. The clip selection hit area could be just outside the clip edges, rather than inside. This could be problematic with two clips right next to each other

Regardless of the solution for this hit area conflict edge case, the main work on the Smart Clips can commence, and this edge case can be resolved separately. =||= > so that users can split and trim clips without worrying about losing the original audio data

You may well have thought through this, but...
In an editor which has only non-destructive editing, when you split a clip, both clips can be a ""view"" of the same data.
But in Audacity, this can't be the case, since either clip could be destructively edited, and this shouldn't affect the other clip. =||= @AnitaBats this design is surely not ""Done"" yet.

@DavidBailes points out an unspecified case.  @jounih may have an incorrect mental model of how Audacity works.  Clips in Audacity are not and cannot simply be ""views"" into the same data, as David says they are in purely non-destructive editors.

So design might specify:  When a clip is split, each clip gets a complete copy of the wave data, including any hidden wave data that the original clip had.  (The implementation can do this easy with real sharing, not duplication.)  But thereafter, clip contents are independently modifiable.

The design should also specify: dragging of clip edges shall not result in overlapping clips within one channel.  Audacity doesn't support overlapping clips (yet).

But then: if two clips touch, and you drag the boundary between them -- should that adjust both clips at once (shortening one, lengthening the other)?  I would think that is useful, and should be specified.

BUT then: you might really want to drag one edge and not the other.  So how do you specify what you really want?

Which suggests:  MORE hit-test target candidates perhaps.  Esc key might cycle between adjusting this clip, OR that clip, OR both clips, OR change the selection.

And then:  How will the user know what the hit-test target is?  Are there enough cursor changes possible?  Or do we do something like drawing the boundary of a clip in a changed color?

 =||= @Paul-Licameli 

I like your first idea - The suggestion of including potentially hidden wave data in split clips, and turning them into independent clips after the split sounds good to me - I'll add this to the description/spec. I'm aware there is no ""instancing"" of clips in Audacity yet, could be desirable in the future but let's not tackle that now.

The second issue you mention - Hit area conflicts for smart clip length trimming - is a tricky one, still something I'm thinking about, I outlined some thoughts on 3 potential options [above](https://github.com/audacity/audacity/issues/1178#issuecomment-872173922) with pros/cons. I have a feeling this will take a bit of time and discussions to resolve, but the internal/non-UI dev work on smart clips should be able to commence.

My thoughts - I don't think cycling between hit areas with ""Esc"" is very discoverable, and the common pattern from other apps is for ""Esc"" to deselect.

I don't think the hit area can be outside/on the edge for the reasons you mention due to conflict with other adjacent clips, it should be slightly inside of the edge of the clip. If there are two clips next to each other, being able to lengthen one and shorten the other would be useful, will add this to the final spec. The only hit area conflict with inside the edge is that in Audacity you can also select a part of the waveform, the waveform selection may extend to the end of the clip. In this instance there would be a hit area conflict between the edge of the waveform selection, and the edge of the clip for trimming the clip. A separate selection tool mode (like today) would resolve the conflict, I think. I have a feeling that in the future we will need some new tool modes anyway, for instance for spectral selection. So I'm not sure we can get rid of tool modes completely, as we previously hoped. Let's brainstorm this one this week.






 =||= Describe ""instancing.""

I think modes are an idea we want to move away from.  That was generally agreed in the old team.  Advanced spectral selection, such as Edward is working on, is a very special case that would justify a mode.  But otherwise, I think anything you can point at should have its own affordance in a single mode for changing anything.  (That would include the selection box for the old, simple spectral selections.)

I prefer the Esc key (or some other key).  The system we have for adding click-drag-release actions implements Esc key generally and for free in cases of hit area conflicts.  Or maybe, you can research what 3d modelling programs do. The problem of multiple hit-test candidates, having a z-order, must arise often.  Are there conventional solutions here?  (I remember how Pro/ENGINEER did it with three-button mice... but we won't assume the users have those.)

You are wrong that selection is the only possible hit area conflict.  Other conflicts might happen such as with envelope points or dragging samples at a high level of zoom.  With more ingenuity, we might invent yet more click-drag-release actions and have more possibilities of conflict.

You must also remember that clicking on a split between clips causes them to merge.  There is one more conflicting action at a mouse point.

I don't think unnatural changes in the hit test areas should be done just to avoid every possible conflict.  Have the general means and make it better known.

Still, you might also consider this possibility.  Partition the range of y coordinates along the edge into different zones.  Clicking to merge clips, and clicking to drag the edge, could be disjoint areas.  That resolves some but not all possible conflicts.

You are right that the other necessary internals work is in no way blocked by design issues.  We devs just haven't reached it yet.
 =||= > I think modes are an idea we want to move away from. That was generally agreed in the old team.

I'm not sure that it  is correct to say that the old team  was generally against modes. I recall that you were quite strongly against modes, but I don't recall a strong  consensus about that. My personal view is that modes can be very useful when used appropriately and implemented well. =||= > > I think modes are an idea we want to move away from. That was generally agreed in the old team.
> 
> I'm not sure that it is correct to say that the old team was generally against modes. I recall that you were quite strongly against modes, but I don't recall a strong consensus about that. My personal view is that modes can be very useful when used appropriately and implemented well.

Well fair enough, but @JamesCrook and I seemed to agree for long that the Tools toolbar ought to be reduced.  I think the ""multi"" tool behavior should be the behavior of select tool, the Envelope should be a toggle for visibility of it and not a mode, and the Zoom tool is really a mode, but I for one never use it and wonder who does.  So just two or three buttons,  but Edward's project might justify another new button.


 =||= > > I think modes are an idea we want to move away from. That was generally agreed in the old team.
> 
> I'm not sure that it is correct to say that the old team was generally against modes. I recall that you were quite strongly against modes, but I don't recall a strong consensus about that. My personal view is that modes can be very useful when used appropriately and implemented well.

Yeah.. Tool modes are not my first choice because they can also hide functionality and constantly switching between them is annoying, but sometimes they are useful, when operating on distinct tasks on what would otherwise use the same/overlapping targets.

I am also thinking about the potential future of Audacity on tablets/touch interfaces, how do patterns we establish now work with touch in the future, and ""Esc"" doesn't feel like a right solution there.

Let's keep thinking and discussing!

 =||= @Paul-Licameli
> So design might specify: When a clip is split, each clip gets a complete copy of the wave data, including any hidden wave data that the original clip had. (The implementation can do this easy with real sharing, not duplication.) But thereafter, clip contents are independently modifiable.

Maybe I'm misunderstanding what you're saying here, but isn't there a problem with real sharing. If the clip contents are independently modifiable, then they can be adjusted so that a section of the original data occurs in both clips. If that data is destructively edited in one clip, then the other clip will be affected - surely not what a user would expect? =||= @DavidBailes are you familiar with the details inside classes WaveClip and Sequence?

When we make a new row id for a block of samples, the data associated with the id are immutable thereafter.  If you edit a clip, by cutting and pasting or doing an effect or what have you, then new sample blocks are made to hold modified data.

In this case, the two clips would no longer share data.  The modified clip will point to new data.  No problem.

It's a bit like Git commits, though the ids here are not a function of contents.

 =||= @Paul-Licameli

thanks for the explanation. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1180Decompose Plug-in managerAnitaBats08/17/21, 01:44:48 PM"1. Details are TBD - needs meeting
2. Decomposition needed

Design attached #999 ""**Description of task decomposition.**
All estimation times have two borders: this is not 100% precision time frame, this is the approximate time window for solving task.

1. Preferences for the custom plugin search path.
1.1 Create the preference type, by analogy `BoolSettings`, but for describing plugins paths that will contain a `wxArrayString` objects, something like - `ArrayStringSettings` or using `StringSetting` for economy time.
1.2 If we using `StringSetting`, the path will be separated by `;`, and this is a not a problem to parse this by `wxTokenizer`.
1.3 Second, need patch `PluginManager::FindFilesInPathList()` with additional search directories from settings.
Estimate: 4 - 6 hrs.

2. Check method.
For each plugin type, needed a static method for validation each plugin instance of each plugin type, something like: `VSTEffectsModule::Check()` and `VSTEffectsModule::DiscoverPluginsAtPath()`.
2.1 Get information about Audacity CLI command (2,3 hrs).
2.2 Run a new Audacity process with check command with output result to `STDOUT`.
2.3 Catch and parsing `STDOUT` after this on success.
2.4 Create this check method for each plugin type: VST (1 hrs), AU (4,5 hrs), VAMP, LV2, LADSPA (6,8 hrs).
2.5 Call this methods at startup (for example in `PluginManager::Initialize()` or `CheckForUpdates()` for comfortable calling from dialog (when user press on `Rescan plugins`) and collect failed information (2,3 hrs). 
2.6 Output dialog with incompatible plugins list (3,4 hrs).
Estimate: 18 - 24 hrs + possible time buffer for loss while switching and testing on all OS. (3,4 hrs).

3. Remake `PluginRegistrationDialog` dialog.
3.1 Remake `wxListCtrl` of `PluginRegistrationDialog::mEffects` to add ""Version"", ""Type"" and ""Enabled"" collumn (5,8 hrs).
3.2 Remove extra functionality like: ""State"" collumn, ""New"" radio button, buttons ""Select All"", ""Enable"", etc (4,6).
3.3 Add callback on button ""Rescan plugins"", ""Done"" (2,3) hrs.
3.4 Final behavior tests (2,4) hrs.
Estimate: 13 - 21 hrs.

**Total estimate:** 35 - 51 hrs.

@crsib @Paul-Licameli could you review, please. =||= This looks like a good decomposition.  But I think part 1 might make do simply with existing StringSetting, splitting the string on ; characters.

Questions.

- Do you have at least one example of LADSPA, LV2, Vamp, VST2 plug-ins that you can test with?
- This is still supposing only VST2 support -- not yet VST3.  Correct?
- I recall we said the new dialog also needs a ""failed"" state.  Instead of one choice in a drop-down menu as now, perhaps a line of the list control is disabled.  Do you account for that?
- If the user interface specification is firm enough, perhaps you can attempt step 3 first, to get early feedback and testing.  While you have not yet implemented validation for LADSPA, LV2, and Vamp, you might simply always make them ""failed.""

The user interface can be sent to review and testing, while you concurrently continue working on the AU, LADSPA, LV2, Vamp cases.  And perhaps each of those becomes a separate PR.

 =||= 1 - I can download this plugins or at leat build empty plugins for AU, VST2, LV2 and LADSPA.
2 - yes, correct.
3 - yes, I remember that about ""failed"" state.
4 - okay
I agree about separate and move UI developing part to first order. =||= Decomposition is done =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1181Affordances: appearance fixes, theming support, behaviour improvementsAnitaBats07/22/21, 06:43:49 PM"This is a part of https://github.com/audacity/audacity/issues/915
Does not provide full functionality requested in the feature

- [x] Fix clip border color: clip frame should be outlined with one color
- [x] Play head should be rendered over a track panel (not separate tracks)
- [x] Grab hand should be displayed over affordance on hover
- [x] Fix ""empty"" corner above vertical ruler, so it will look same as surrounding elements
- [x] Select clip when affordance is clicked
- [x] Highlight affordance when cursor is over it, add stroke to clip frame when dragging
- [x] Reduce font size in text boxes on a label's track (Windows only)
- [x] Move label's text box to top, to reduce overlaping with horizontal bar"NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1182Clip namesAnitaBats09/06/21, 01:25:31 PM"### User Story
As a user of Audacity, I would like to have individual clip names, and be able to rename clips.

### Description
Currently, there is no concept of clip names in Audacity, only track names. Individual clip names are very useful when organising a project, or separating between copies or takes. The new affordance design has a space for clip names top right.

The design at https://github.com/audacity/audacity/issues/1258 describes how to rename clips as a user.

**Generated/default  clip names**

When recording to a track, the auto-generated clip name should be derived from the track name by default: trackname#XX, where #XX is the number of the recording/take. This can be changed to anything afterwards

When importing an audio file to a track, the clip name should be the file name. This can be changed to anything afterwards


### Rules for auto-naming split/joined clips and copies

Suggested rules for auto-clips naming:
- New clip recording: ""{track_name} #{take_number} {channel}""
- Merge clips: ""{first_clip_name}""
- Split: ""{clip_name} {index}""
- Import: ""{track_name}""
- Copy: ""{original_clip_name} copy {number}""
- Copy/Paste selection(part of a clip): ""{original_clip_name} samples [range]"" 

 suggested scheme may produce results like: ""Clip 1 1"" ""Clip 1 2"" ""Clip 2"" when splitting ""Clip"" into ""Clip 1"" and ""Clip 2"" and then splitting ""Clip 1"" into ""Clip 1 1"" and ""Clip 1 2"", similar would happen with copy-pasting a clip or it's parts. Is it ok, or is there some better scheme for such cases? 
 
 ### Additions
 
- basic RTL appearance
""Est.: 16hrs =||= Suggested rules for auto-clips naming:
- New clip recording: ""{track_name} #{take_number} {channel}""
- Merge clips: ""{first_clip_name}""
- Split: ""{clip_name} {index}""
- Import: ""{track_name}""
- Copy: ""{original_clip_name} copy {number}""
- Copy/Paste selection(part of a clip): ""{original_clip_name} samples [range]"" 
@jounih suggested scheme may produce results like: ""Clip 1 1"" ""Clip 1 2"" ""Clip 2"" when splitting ""Clip"" into ""Clip 1"" and ""Clip 2"" and then splitting ""Clip 1"" into ""Clip 1 1"" and ""Clip 1 2"", similar would happen with copy-pasting a clip or it's parts. Is it ok, or there some better scheme for such cases? 
 =||= See also Discussion #1499 
>Thought-piece: labels for merged clips #1499 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1183Fix wave clip record starting positionAnitaBats07/16/21, 03:14:36 PM"Currently when recording is started with selection cursor placed at some distance from track ending (same as the end postion of the latest clip in the track), this gap is filled with ""silence"", which should be removed. New clip should start from selection starting position, or from the end of the track (if selection starts prior to track ending)""Please explain why this bug fix is necessarily a part of the affordances project.  I think it is an independent issue.
 =||= > Please explain why this bug fix is necessarily a part of the affordances project. I think it is an independent issue.

Agreed, but as i understood this bug should fixed as a part of the affordances project =||= @AnitaBats I can review this change at #1265, but it is unclear to me how this specification entered the schedule.  Who specified this change, and why?

This looks like a design change, not a bug fix.  Did one of our designers request it?  But their names are not in this issue.  Did you specify it, or @vsverchinsky ?  Did designers agree the change is correct?

And again it is in no way a necessary part of the clip affordances project, but an independent improvement, if it is agreed that it should be done.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1184QA: Make a list of functions for a traceability matrix.AnitaBats08/02/21, 11:19:38 AMNaNEstimate: 18h =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1185Add Directory permission check for Open, Import, Macro Output, and Temporary directory in Directory PreferenceJithin JohnMalevolentStrix06/30/21, 01:39:46 PM"Resolves: https://bugzilla.audacityteam.org/show_bug.cgi?id=2740

This is an improvement on PR https://github.com/audacity/audacity/pull/1033 which now imposes a block with an error message for Open, Import, Macro Output, and Temporary directory if it is not writable. A new function WritableLocationCheck() has been added and is called whenever a user tries to set a preference for the above-said fields and the unnecessary code from the previous PR has also been removed.

![Screenshot from 2021-06-28 22-15-32](https://user-images.githubusercontent.com/73242397/123673707-68b2b600-d85e-11eb-97c9-829fd9a9e992.png)

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [X] I signed [CLA](https://www.audacityteam.org/cla/)
- [X] I made sure the code compiles on my machine
- [X] I made sure there are no unnecessary changes in the code
- [X] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [X] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""I tested these changes on Win and Mac and closed the associated bug 2740 as RESOLVED FIXED
https://bugzilla.audacityteam.org/show_bug.cgi?id=2740
Directories in Directories preferences can be set to unwritable locations =||= "Add Directory permission check for Open, Import, Macro Output, and Temporary directory in Directory PreferenceJithin JohnMalevolentStrix06/30/21, 01:39:46 PM"Resolves: https://bugzilla.audacityteam.org/show_bug.cgi?id=2740

This is an improvement on PR https://github.com/audacity/audacity/pull/1033 which now imposes a block with an error message for Open, Import, Macro Output, and Temporary directory if it is not writable. A new function WritableLocationCheck() has been added and is called whenever a user tries to set a preference for the above-said fields and the unnecessary code from the previous PR has also been removed.

![Screenshot from 2021-06-28 22-15-32](https://user-images.githubusercontent.com/73242397/123673707-68b2b600-d85e-11eb-97c9-829fd9a9e992.png)

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [X] I signed [CLA](https://www.audacityteam.org/cla/)
- [X] I made sure the code compiles on my machine
- [X] I made sure there are no unnecessary changes in the code
- [X] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [X] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNMalevolentStrix06/28/21, 04:17:43 PM"Bug 2740 - Directories in Directories preferences can be set to unwritable locations

Add a new function WritableLocationCheck() for checking
the directory permissions before setting preferences for
Open, Save, Import, Export, Macro Output and
Temporary Files directory in Edit->Preferences->Directories
and delete the old block of the same test"1
1186Extract PortAudio. Update PA to the latest versionDmitry Vedenkocrsib08/12/21, 01:15:30 PM"- [x] #1413
- [x] #1414
- [x]  #946
- [x] Create Conan recipe
- [x] Update dependencies list

On Windows 16bit.patch is desirable, but not strictly needed, as DSound is deprecated."Est 12hr =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1187Design a system, that allows packaging of dependencies and Conan itself for Linux package maintainersDmitry Vedenkocrsib08/03/21, 09:13:00 AMNaN"Est: 2D =||= FYI Linux package maintainers do NOT want to use conan, but have everything be from system packages.
 =||= There are several dependencies that are not accessible from the Linux package management software. For these cases, there will be a way provided to do a fully offline build that will only require Python as a build dependency. =||= > There are several dependencies that are not accessible from the Linux package management software.

Several? which ones?

If there is interest on packaging audacity, those dependencies will be packaged system-wide too.
This is not really an issue.
 =||= Nyquist and portmixer for now at least.

If Linux package maintainers will decide to include them - then it will be possible for them not to use Conan at all. However, Audacity builds on other platforms as well.

PS. It is fascinating how much opposition about package management there is from the Linux user, which is heavily based on package management. =||= There is opposition to do things outside of the official package management.
Often the only software that does this are commercial tools that due to licensing can't be packaged in most distros as-is, so they need to generate generic binaries.

Audacity has a big issue of patching upstream dependencies without (at least visible) collaboration that gets the modifications sent upstream and be put into releases.

To give an example, Ardour is a DAW with quite the long list of dependencies.
The page https://nightly.ardour.org/list.php#build_deps lists all of them. That list is bigger than Audacity.
Ardour manages to build and run with stock versions of all those libraries.
There is a page dedicated to ""Libraries Requiring Modified Versions"" at https://ardour.org/current_dependencies.html. With only gtk2 on macOS being an exception, everything else can pretty much be used as-is. =||= >Audacity has a big issue of patching upstream dependencies without (at least visible) collaboration that gets the modifications sent upstream and be put into releases.

It is possible to build Audacity using system-only libraries. The problem is mostly with wxWidget 3.0 is the latest version for most of the distros. We won't be lowering this requirement. 

There is a branch almost ready to be merged that has POC build for Fedora using rpmbuild in a network-less fakeroot: #1030

Ardour has dependencies, that are vendored in (i. .e simply copied into the source tree). One example is VST3 SDK. Even Lua is there and the list is surprisingly large. 

This is what I really want to avoid, as managing such dependencies is difficult and error-prone. I really think that if there will be a verifiable offline way to build Audacity for package maintainers and without having vendored libraries it will be satisfactory for package maintainers. =||= VST3 SDK is an odd case, the linux support is still very experimental so projects often need to ship with custom patches.
It also does not support installing / packaging for linux in the usual way, steinbeing simply doesnt seem to care.
See https://github.com/steinbergmedia/vst3sdk/issues/65 https://github.com/steinbergmedia/vst3sdk/issues/68 and https://github.com/steinbergmedia/vst3sdk/issues/77
VST3 SDK is an example of how NOT to manage an opensource project.
There is simply no way to package it, so projects that depend on it have no choice but to include its files directly.
And afaik ardour does not use the full ""SDK"" but only the header files.

On Lua, last time I checked Ardour had custom patches for it in order to disable garbage collector or whatever is there that makes it incompatible with RT audio.



> I really think that if there will be a verifiable offline way to build Audacity for package maintainers and without having vendored libraries it will be satisfactory for package maintainers.

This is mandatory actually, ubuntu builders (maybe debian too, not sure) purposefully disable online/network access.
 =||= >This is mandatory actually

And this is precisely what would be done in this task.  =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1188Audacity-win-3.0.3-RC1-x64: Export to WAV takes twice as long with x64 builddeus-e-x06/30/21, 11:33:34 AM"Audacity v3.0.3 RC1 for Windows:

Export of audio to WAV (signed 16-bit PCM) takes more than twice as long with the x64 build compared to the x86 build.

I tested both audacity-win-3.0.3-RC1-x64 and audacity-win-3.0.3-RC1-x86 on Windows 10 Pro x64 21H1 (official build 19043.1081).  I imported a FLAC file with a size of 248 MB, then exported the entire audio to WAV (signed 16-bit PCM). It takes ~15 seconds with the audacity x86 build, while with the x64 build it takes ~32 seconds.

Note:
Interestingly, the import of the 248 MB FLAC file takes ~8 seconds with the x64 build, while for the x86 build it takes ~9 seconds. Both the v3.0.3 RC1 x64 and x86 build import audio slightly faster than v3.0.2.

Steps to reproduce the behavior:
1. Load an audio file into Audacity (e.g. a FLAC file)
2. Select entire audio data (Ctrl+A)
3. Export selected audio (Ctrl+S)
4. Choose ""WAV (Microsoft)"" (signed 16-bit PCM) as the output format
5. Click ""Save""

**Expected behavior:**
The time required to export audio to ""WAV (Microsoft)"" should be nearly identical both for the x64 and x86 build, perhaps with x64 taking a slight lead, as can be seen with the current import timings.

**Additional information (please complete the following information):**
 - OS: Windows 10 Pro x64 21H1 (official build 19043.1081)
 - Version: Audacity 3.0.3 RC1 x64 and x86""A possible cause for the slowdown is that Audacity's version of float_cast.h does not contain any function definitions for 64 bit Windows. On 32 bit Windows, one or more of the definitions is needed to speed up export to WAV. =||= Thank you, David, I'll look into =||= You were absolutely right, David. I have added SSE2 implementation for x64 builds and it runs 4 times faster than the MSVC builtin functions =||= @DavidBailes do you wish to review PR #1189 ?  Any objection?
 =||= > @DavidBailes do you wish to review PR #1189 ? Any objection?

thanks for asking but no to both questions. =||= I made a review and merged it.  Looking up the documentation to be reminded of the surprising fact that a long is still 32 bits on 64 bit builds, so the machine instructions used, return 32 bits, were really correct.

Which makes me think we need to review uses of lrint that should be llrint.  There may be such misuses in Audacity, which might rarely have some effect with long recordings.  But those will not be regressions on past versions, or the fault of these implementations.

 =||= The issue has been solved successfully. Thank you very much, guys. :)

**Import FLAC file 248 MB, export to WAV 16-bit signed, timings:**

audacity-win-3.0.3-RC2-x86: 9.5 / 14 seconds      
audacity-win-3.0.3-RC2-x64: 7.0 / 10 seconds =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1189Fixes performance regression in Win64 bit buildDmitry Vedenkocrsib06/29/21, 07:58:05 PM"Resolves: #1188

Adds an SSE2 version of `lrint` family. For some reason, MSVC built-in functions have extremely low performance.

I have checked, that the builtins and SSE2 generate exactly the same result, however, I think that relying on functions, that behavior can be changed by the CPU state can be potentially dangerous.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""> Only question in my mind is that about ""current rounding mode"" and whether it matters.
>

I have similar concerns. But this is the way it was implemented for a very long time =||= "Fixes performance regression in Win64 bit buildDmitry Vedenkocrsib06/29/21, 07:58:05 PM"Resolves: #1188

Adds an SSE2 version of `lrint` family. For some reason, MSVC built-in functions have extremely low performance.

I have checked, that the builtins and SSE2 generate exactly the same result, however, I think that relying on functions, that behavior can be changed by the CPU state can be potentially dangerous.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNDmitry Vedenko06/29/21, 10:49:55 AM"Adds an SSE2 version of lrint family

For some reason, MSVC builtin version have extremely low performance"1
1190Suppress networks error during the update checkDmitry Vedenkocrsib06/29/21, 05:35:40 PM"<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNSuppress networks error during the update checkDmitry Vedenkocrsib06/29/21, 05:35:40 PM"<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNDmitry Vedenko06/29/21, 11:24:52 AMSuppress networks error during the update check1
1191If user chooses not to check for updates, remember that preference when resetting to defaultsPaul LicameliPaul-Licameli07/02/21, 06:13:43 PMNaNTests OK on W10 with RC2 3.0.3 =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1192Opt-out of check for updates persists after preference resets...Paul LicameliPaul-Licameli06/29/21, 08:36:03 PM"Resolves: #1191 

... These can happen in only two ways, using the application: from the Tools
menu, or using the Windows intaller program.

A review of all uses of wxFileConfig::DeleteAll() proves this.

The one special BoolSetting object was moved from UpdateManager to Prefs.cpp to
avoid a dependency cycle among source code files.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""The checks are still running, so I'm not merging right now =||= Opt-out of check for updates persists after preference resets...Paul LicameliPaul-Licameli06/29/21, 08:36:03 PM"Resolves: #1191 

... These can happen in only two ways, using the application: from the Tools
menu, or using the Windows intaller program.

A review of all uses of wxFileConfig::DeleteAll() proves this.

The one special BoolSetting object was moved from UpdateManager to Prefs.cpp to
avoid a dependency cycle among source code files.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli06/29/21, 06:32:18 PM"Opt-out of check for updates persists after preference resets...

... These can happen in only two ways, using the application: from the Tools
menu, or using the Windows intaller program.

A review of all uses of wxFileConfig::DeleteAll() proves this.

The one special BoolSetting object was moved from UpdateManager to Prefs.cpp to
avoid a dependency cycle among source code files."1
1195Labels track items selection, navigation, editing changesVitaly Sverchinskyvsverchinsky07/12/21, 06:22:37 PM"### User Story
As a developer I need a document, describing in details what changes should be applied to the appearance and behaviour of the labels track and label track items. 

### Description

Currently label range selection and label name are interlinked and overlapping visually - we would like to decouple these two, so you can click on the label range to select that range, and on the label name to change the name.

The idea is not to take away being able to select a label range, but to decouple the two tasks - changing the label text, and selecting the label range. ..The long rectangle should also made slightly larger than currently (for easy clicking), and dragging it should move the label.

Keyboard navigation with tabbing between selected labels should still work, and to edit a label name we could use ""Enter"" key once a label has been selected.

![2 5 label change name@2x-1](https://user-images.githubusercontent.com/10109867/124916808-fde64500-dfea-11eb-94e9-e59326adc490.jpg)

![2 5 label select range@2x](https://user-images.githubusercontent.com/10109867/124916823-00e13580-dfeb-11eb-9e86-2721b48b67fa.jpg)""@AnitaBats why closed?  This is meant as a design or implementation issue?
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1196QA: Make a bug review in Bugzilla and GithubPenikov09/21/21, 03:37:34 PM"Check relevance.
Are all bugs reproducible with a current stable release?
Check and correct bug priority ( if necessary)""Estimate: 16h =||= Thanks to @petersampsonaudacity the bugs were moved from Bugzilla to Github. We review and plan the work for these bugs, so no additional effort from Pavel is required at this point  =||= > Thanks to @petersampsonaudacity the bugs were moved from Bugzilla to Github. We review and plan the work for these bugs, so no additional effort from Pavel is required at this point

@AnitaBats - I stopped with the P2s and P3s - there are still P4s, some of which may be considered important enough for transfer to GitHub - plus some lowly ranked P5s
 =||= [The list of P4s](https://bugzilla.audacityteam.org/buglist.cgi?action=wrap&bug_severity=Repeatable&bug_severity=RepeatableAll&bug_severity=Locale&bug_severity=Accessibility&bug_severity=MoonPhase&bug_severity=HeisenBug&bug_severity=Summary&bug_severity=Review&bug_status=NEW&bug_status=ASSIGNED&bug_status=REOPENED&order=changeddate%20DESC%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&priority=P4&query_based_on=&query_format=advanced) for reference. I'm not noticing anything which feels like it requires continued attention there, but I did see bugs which I expect to be fixed as a side effect of other stuff (eg updating FFMPEG, VST3 support, Qt migration eventually, etc), and one (#581 in here) which I couldn't reproduce. So from my side I'd say it's all good.  =||= If I get time I'll work on a pass through the P4s to see if I think any need transferring to GitHub . If that's OK?




 =||= absolutely! thank you =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1197QA: Make a smoke test plan for daily buildsPenikov08/17/21, 01:44:21 PMMake a smoke test plan and put it on TestLink"Estimate: 10h =||= See:   Suggestions for Macros improvements:  https://github.com/audacity/audacity/discussions/885 UX - Tweaks to macros
 =||= The task was about macros but the smoke test plan is more relevant for now, so that is why I changed this task. =||= Done =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1198Extract libsndfile, libogg, libvorbis, libflacDmitry Vedenkocrsib08/12/21, 01:59:20 PMNaN6 hrs =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1199Updates: Download and launch the installer from github when user clicks installAnitaBats08/04/21, 11:15:05 PMEstimation: 6-8 hrs"What about users from places from where Guthub does not allow to access it, e.g. Crimea? =||= @AnitaBats @gera-gas @crsib   - surely yhsi si done for 3.0.3 - and can be closed ? =||= I think the code review for this is not complete yet, right @Paul-Licameli ? =||= There was another round of review, and I expected the remaining changes to be few, but I'm still waiting the final PR.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1200AppImage fails to launch when UpdateScheduledTime= invalidSteve DaultonSteveDaulton07/02/21, 06:13:32 PM"Testing on Xubuntu 20.04 with audacity-linux-3.0.3-RC2-x86_64.AppImage
When ""UpdateScheduledTime="" in audacity.cfg is set to an invalid value, the Audacity splash screen opens, then nothing - the main Audacity window does not open, though Audacity is running. There's no error message, and no message in the terminal.
The Audacity process has to be killed.

**To Reproduce**
Open audacity.cfg in a plain text editor.
In the `[Update]` section, ensure that 
`DefaultUpdatesChecking=1`
set the other line in the Update section to:
`UpdateScheduledTime=`
Then attempt to launch the audacity-linux-3.0.3-RC2-x86_64.AppImage


**Expected behavior**
Audacity will launch, and `UpdateScheduledTime=` will be updated to the default value.

**Actual behavior**
The Audacity splash screen appears, then disappears, then nothing. The main window does not open and there is no error message.

**Additional information (please complete the following information):**
 - OS: Xubuntu 20.04
 - Version: audacity-linux-3.0.3-RC2-x86_64.AppImage


**Additional context**
Although end users are not expected to mess with the audacity.cfg file, there are many ways that a setting _could_ be invalid. Better if Audacity is more robust and can survive an invalid setting by (automatically) dropping back to the default, (as it does with other settings)."NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1201AppImage fails to load FFmpegSteve DaultonSteveDaulton09/24/21, 06:03:22 PM"**Describe the bug**
Self built Audacity 3.0.2 loads FFmpeg correctly.
audacity-linux-3.0.3-RC2-x86_64.AppImage fails to load FFmpeg (regression against 3.0.2)

**To Reproduce**
1. Launch audacity-linux-3.0.3-RC2-x86_64.AppImage
2. Observe error message:
`FFmpeg was configured in Preferences and successfully loaded before, 
but this time Audacity failed to load it at startup. 
You may want to go back to Preferences > Libraries and re-configure it.`


**Expected behavior**
FFmpeg will be loaded.""That is almost certainly because you have 32-bit FFmpeg installed and you are running 64-bit Audacity.

I had similar on Windows until I installed  64-bit FFmpeg from Buanzo's new page on his site.
https://lame.buanzo.org/ffmpeg64audacity.php

Does the Linux FFmpeg page need updating?
https://alphamanual.audacityteam.org/man/Installing_and_updating_Audacity_on_Linux#linff =||= I'm on 64-bit Linux, so I've been using 64-bit builds of Audacity and FFmpeg for years. =||= @SteveDaulton can you please provide some insight on your setup?

I've managed to compile FFMPEG using a modified script from Leland and after setting up `DT_RUNPATH` everything works like a charm for me. I will share the script after a bit of polishing.

The question is, what we do for this release anyway. Probably the fix is to provide some instruction on setting LD_LIBRARY_PATH to the location FFMPEG is located.

For the next release I plan:

* Upgrade the FFMPEG (once again, yes), so system FFMPEG can be used on Linux
* Provide a set of scripts on how to build the ""correct"" version, so it can be easily buildable by users.

@AnitaBats @Tantacrul FYI =||= My system is pretty standard Xubuntu 20.04 LTS.
FFmpeg library installed from official Ubuntu repository.

I prefer to use the system FFmpeg library as it is a dependency for many other audio apps.
The usual  way to build Audacity 2.x with FFmpeg support was to disable dynamic loading during 'configure' - this has worked without any problems for years.

Self built 3.0.4-alpha-20210628 also loads FFmpeg without any problems.

FFmpeg version: F(58.29.100),C(58.54.100),U(56.31.100) =||= Lemme have a quick look into the loader code =||= Seems like at least avcodec 58 has an incompatible interface with what Audacity expects for dynamic loading. While functions are similar, structures, used as contexts, have nothing in common. For example, `AVCodecContext` has changed around its 5th member and has changed significantly. 

When you build against the system headers, this is not a problem. By default, however, Audacity is built against FFMPEG 2.2 (avformat 55). What is even more problematic - we build AppImage on 18.04, so avcodec 58 is not available as a system library for us as well (at least without PPA).

@shoogle any thoughts? =||= Hello @crsib and @AnitaBats, is there a temporary workaround for this release? =||= > Hello @crsib and @AnitaBats, is there a temporary workaround for this release?

Solution linked to in documentation for 3.0.3
https://gist.github.com/crsib/d985afddf739f91edb15c1abbaec21e7 =||= Still remains in Audacity 3.1.0-alpha-20210921
![изображение](https://user-images.githubusercontent.com/25851359/134499914-aa09b429-5e82-4d98-82db-840b5a5fe2de.png)

 =||= You have used a build from FFmpeg branch? =||= > 
> 
> You have used a build from FFmpeg branch?

Not yet. I've tried to reproduce the bug before the fix will be merged. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1202Adds callback to report the download and upload progressDmitry Vedenkocrsib07/13/21, 06:47:07 PM"This is required for the GSoC project on Source Separation to provide a better UX.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNAdds callback to report the download and upload progressDmitry Vedenkocrsib07/13/21, 06:47:07 PM"This is required for the GSoC project on Source Separation to provide a better UX.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNDmitry Vedenko07/12/21, 01:42:42 PMFixes upload progress1
1203Do not require odd libs when building without networkingmikhailnov07/01/21, 10:38:17 AM"ThreadPool is used only by lib-network-manager
RapidJSON is used only by lib-sentry-reporting

lib-network-manager and lib-sentry-reporting are used only when ""networking"" is enabled.
There is no need to require them otherwise.""Mismatched parentheses? =||= Fixed, force-pushed =||= This is fixed in a different branch, which will be merged soon. Moreover, RapidJSON uses invalid constraint =||= Ok ) =||= @mikhailnov , BTW looks like you know a lot about RPM :) Is there any chance you can look at #1030, please? I really need some feedback on it, because ""builds for me"" doesn't really mean it is done right :)

Any input is much appreciated  =||= > @mikhailnov , BTW looks like you know a lot about RPM :) Is there any chance you can look at #1030, please? I really need some feedback on it, because ""builds for me"" doesn't really mean it is done right :)
> 
> Any input is much appreciated

Ok, I will try =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1204Fixes handling of invalid UpdateScheduledTimeDmitry Vedenkocrsib07/01/21, 11:33:30 AM"Resolves: #1200 

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNFixes handling of invalid UpdateScheduledTimeDmitry Vedenkocrsib07/01/21, 11:33:30 AM"Resolves: #1200 

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNDmitry Vedenko07/01/21, 10:35:35 AMFixes handling of invalid UpdateScheduledTime1
1206Extract lib componentsPaul LicameliPaul-Licameli07/13/21, 06:43:27 PM"Resolves: #1161

A new library, mostly of abstract base classes related to modules and plug-ins, and facilities to name and persist parameters of effects.

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNExtract lib componentsPaul LicameliPaul-Licameli07/13/21, 06:43:27 PM"Resolves: #1161

A new library, mostly of abstract base classes related to modules and plug-ins, and facilities to name and persist parameters of effects.

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli02/26/21, 01:52:08 AMNew library for components1
1207Track affordancesVitaly Sverchinskyvsverchinsky07/22/21, 06:43:49 PM"Resolves: #1181
Resolves: #1251

 * Adds affordances to a wave clips, note track item, labels
 * Contains requested fixes and improvements (link above)

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""I have cherry-picked and merged parts of this pull request.

I mentioned a few points that are still unresolved, I don't approve the edit cursor change yet, and I must still review all the label track changes.

Please rebase your branch onto recent master and force-push it again.
 =||= "Track affordancesVitaly Sverchinskyvsverchinsky07/22/21, 06:43:49 PM"Resolves: #1181
Resolves: #1251

 * Adds affordances to a wave clips, note track item, labels
 * Contains requested fixes and improvements (link above)

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNVitaly Sverchinsky07/21/21, 04:48:32 PM"Splitting mSelIndex
Using mTextEditIndex for tracking active text box index, and mNavigationIndex used to track selection for keyboard navigation purposes
See #1195"1
1208Same custom over-aligned allocation routine on all platforms...Paul LicameliPaul-Licameli07/04/21, 09:39:52 PM"... in particular so that warnings on exit in the debug build on Windows are
suppressed.

Maybe it's not important to suppress them.  Or maybe they suggest all is not
correct in the MSVC implementation of this C++17 feature?

Resolves: #1042

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""@DavidBailes please tell me whether this works.  I think it will suppress the warning, while not disabling all of the memory debugging on Windows.

 =||= > @DavidBailes please tell me whether this works. I think it will suppress the warning, while not disabling all of the memory debugging on Windows.

It works. Thanks. =||= @DavidBailes  Please do the formality of approving this pull request before I merge it.
 =||= "Same custom over-aligned allocation routine on all platforms...Paul LicameliPaul-Licameli07/04/21, 09:39:52 PM"... in particular so that warnings on exit in the debug build on Windows are
suppressed.

Maybe it's not important to suppress them.  Or maybe they suggest all is not
correct in the MSVC implementation of this C++17 feature?

Resolves: #1042

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli07/01/21, 04:25:54 PM"Same custom over-aligned allocation routine on all platforms...

... in particular so that warnings on exit in the debug build on Windows are
suppressed.

Maybe it's not important to suppress them.  Or maybe they suggest all is not
correct in the MSVC implementation of this C++17 feature?"1
1209Preliminaries for lib basic UI (string types)Paul LicameliPaul-Licameli07/02/21, 01:39:36 PM"Resolves: part of #1059

Make some changes so the type wxString will not be mentioned in the Basic UI header file.

Introduces some proper type distinctions, for URLs and for manual page anchors, with new string wrapper types generated by the class template TaggedIdentifier.

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPreliminaries for lib basic UI (string types)Paul LicameliPaul-Licameli07/02/21, 01:39:36 PM"Resolves: part of #1059

Make some changes so the type wxString will not be mentioned in the Basic UI header file.

Introduces some proper type distinctions, for URLs and for manual page anchors, with new string wrapper types generated by the class template TaggedIdentifier.

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli06/06/21, 08:37:54 PM"Eliminate mention of wxString from ErrorDialog.h ...

... whether std::wstring is the best alternative type, or whether we should
use UTF8 encoded std::string -- I wish to defer that, and revisit it later"1
1211Windows EXE installer for 3.0.3 fails to create a desktop shortcutPeter Sampsonpetersampsonaudacity07/03/21, 10:44:01 AM"**Describe the bug**
Windows EXE installer for 3.0.3 fails to create a desktop shortcut even though that is checked ""on"" in the EXE installation dialog.
This is a regression on all previous versions of Audacity

**To Reproduce**
Steps to reproduce the behavior:
1. Install 3.0.3 on W10 with the EXE installer
2. Ensure ""Create shortcut"" is checked ""on""
3. Complete installation
4. Observe no desktop shortcut is created

**Expected behavior**
A desktop shortcut created.

**Screenshots**
Not applicable

**Additional information (please complete the following information):**
 - OS: W10
 - Version Audacity 3.0.3 RC1 and RC2 and latest alpha

**Additional context**
I have set this as priority P2 - but the regression makes it a marginal P1""We just tested on the Mystery Shopper's PC - its exactly the same HP Envy that I have - and the desktop shortcut gets created fine there - so I'm baffled.  

Dmitry and David Bailes both reported successful shortcut creation, so I will close the GitHub issue. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1212Fix uninitialised variablesSteve DaultonSteveDaulton07/04/21, 07:03:10 PM"When importing an AUP project, selLow and selHigh may not be defined
in the project. If not defined, this causes an error on initialising
Nyquist. See: https://forum.audacityteam.org/viewtopic.php?f=48&t=118940

Resolves: https://github.com/audacity/audacity/issues/1217

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""Only that they are not required to fix the bug.
(I don't know how strictly ""no unnecessary changes in the code"" should be interpreted.)

All the other variables in the struct will be set if the AUP is valid and complete. These two are ""optional"" in that  the project need not contain a spectral selection. =||= "Fix uninitialised variablesSteve DaultonSteveDaulton07/04/21, 07:03:10 PM"When importing an AUP project, selLow and selHigh may not be defined
in the project. If not defined, this causes an error on initialising
Nyquist. See: https://forum.audacityteam.org/viewtopic.php?f=48&t=118940

Resolves: https://github.com/audacity/audacity/issues/1217

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNSteveDaulton07/03/21, 04:09:41 PM"Fix uninitialised variables

When importing an AUP project, selLow and selHigh may not be defined
in the project. If not defined, this causes an error on initialising
Nyquist. See: https://forum.audacityteam.org/viewtopic.php?f=48&t=118940"1
1213New privacy policy is completely unacceptable!Chryseus08/04/21, 10:27:11 AM"For anyone not yet aware the official [privacy policy](https://www.audacityteam.org/about/desktop-privacy-notice/) was updated on the 2nd of July and contains some very disturbing things, most notably under data collection is **""Data necessary for law enforcement, litigation and authorities’ requests (if any)""**, I want to ask what exactly does this mean ? this is completely vague and tells us nothing about what is actually being collected.

As far as I'm concerned any data collection is unacceptable unless what is collected is exactly stated and opt-out is provided, for an open source project this is doubly so, I urge all users to remove Audacity from their system until this is resolved, in addition if you're a Linux user I would contact the package maintainer for your distribution as such a license may not be permitted.""There's no way Debian package maintainers are letting this pass, their policies regarding privacy are pretty strict. =||= > ""The App we provide [Audacity] is not intended for individuals below the age of 13. If you are under 13 years old, please do not use the App.""

why is audacity rated higher than pg-13. I'm pretty sure this directly contradicts the license.

> ""Who does Audacity share your Personal Data with?
> [...]
> 3. to our auditors, **advisors**, legal representatives **and similar agents** [...]""

so, anyone you call a friend
 =||= > > ""The App we provide [Audacity] is not intended for individuals below the age of 13. If you are under 13 years old, please do not use the App.""
> 
> why is audacity rated higher than pg-13. I'm pretty sure this directly contradicts the license.

I'm pretty sure this is because the GDPR does not allow for children to give consent, although the age depends upon the member state, for example it's 18 in the UK, it's pretty clear whoever wrote it doesn't understand the GDPR. =||= As @floopfloopfloopfloopfloop points out, this is incompatible with the GPL.

Privacy policy:
> If you are under 13 years old, please do not use the App.

GPLv2:
> The act of running the Program is not restricted

GPLv3:
> This License explicitly affirms your unlimited permission to run the unmodified Program. =||= Fork this or stop using it. There is no need for big brother in a mostly offline audio program. =||= It looks like a shorter version of [Musescore's Privacy Policy](https://musescore.com/legal/privacy). As of recently, they're owned by the [same group](https://mu.se/). =||= Use firejail --net=none or opensnitch to deny network access. =||= the audacity to do this.... =||= The telemetry pull request and now this... They are digging their own grave.  =||= Fork. Fork. Fork. Fork. Fork. =||= ![Fork me](https://c.tenor.com/gU3whTgqYcsAAAAM/the-good-place-kristen-bell.gif) =||= > > ""The App we provide [Audacity] is not intended for individuals below the age of 13. If you are under 13 years old, please do not use the App.""
> 
> why is audacity rated higher than pg-13. I'm pretty sure this directly contradicts the license.
> 
> > ""Who does Audacity share your Personal Data with?
> > [...]
> > 3. to our auditors, **advisors**, legal representatives **and similar agents** [...]""
> 
> so, anyone you call a friend

Essentially, if it's restricted to people under 13, that just means that data collection cannot be opted out of. =||= When you can't use the knife, use the fork =||= Is this will become another The Great Suspender fiasco? =||= I think its official, Musegroup are intending to kill Audacity. Someone hit me up with a link to the main fork?  =||= At this point Audacity product can't be trusted even if they revert this change. =||= Keep me in the loop on a fork as well. This update to the privacy policy has lead me to lose what little trust I had left in the owners of this application caring about user privacy. =||= Fork. Just fork.
Does anyone know if there are any forks that are actively going to be maintained or the commit which this data collection was added?
If anyone is going to fork, I would expect a community managed system where leaders are elected probably.

Or even better, take them to court for the GPL violation. =||= Yep, the GPL violations is downright disgusting IMO, it's in direct violation to the code that hundreds of people have put in. Seems the best result here is that a fork of audacity comes out that doesn't have all this frankly nonsense in it. That doesn't seem to exist as of yet, most of them are just backup repos of right before the purchase though   =||= Could you guys not try to sneak in stuff to rip our data FOR 5 MINUTES! =||= The age restriction now in the privacy policy is completely going against the licensing of the software, someone should get a lawyer to represent every Audacity users under 13 years old who used to be able to use it under GPL license but are suddenly prohibited by the privacy policy, and take the issue to court.

GPL requires that you allow EVERYONE, including those under 13 years old, to use the software freely. =||= This completely undermines any remnants of trust I might have had for the current Audacity owner, and I'm not going to continue using this software in the current form. Here's hoping for a well maintained fork instead. =||= You don't need to represent any user. It's sufficient to grab a past contributor to the codebase. This version with this privacy policy is copyright infringement against all contributors who contributed code under the GPL. Muse (and everyone else) is only permitted to use their copyrighted work according to the GPL. =||= > If the Program as you received it, or any part of it, contains a notice stating that it is governed by this License along with a term that is a further restriction, you may remove that term.

Can the age clause even apply? =||= > 
> 
> Yep, the GPL violations is downright disgusting IMO, it's in direct violation to the code that hundreds of people have put in. Seems the best result here is that a fork of audacity comes out that doesn't have all this frankly nonsense in it. That doesn't seem to exist as of yet, most of them are just backup repos of right before the purchase though

Problem is muse is not bound by the GPL because the last debaucle regarding the CLA. Muse basically got all the main developers to sign that CLA, and in that thread said they were just rewriting smaller contributions to avoid getting them to sign it.

https://github.com/audacity/audacity/discussions/932

At this point a fork is the reasonable option, if muse going to be like this.

 =||= > > 
> 
> > 
> 
> > Yep, the GPL violations is downright disgusting IMO, it's in direct violation to the code that hundreds of people have put in. Seems the best result here is that a fork of audacity comes out that doesn't have all this frankly nonsense in it. That doesn't seem to exist as of yet, most of them are just backup repos of right before the purchase though
> 
> 
> 
> Problem is muse is not bound by the GPL because the last debaucle regarding the CLA.
> 
> 
> 
> https://github.com/audacity/audacity/discussions/932
> 
> 
> 
> At this point a fork is the reasonable option, if muse going to be like this.
> 
> 
> 
> 

I don't think that all code is yet under the CLA making this a GPL violation if enforced =||= > 
> 
> > > 
> > 
> > 
> > > 
> > 
> > 
> > > Yep, the GPL violations is downright disgusting IMO, it's in direct violation to the code that hundreds of people have put in. Seems the best result here is that a fork of audacity comes out that doesn't have all this frankly nonsense in it. That doesn't seem to exist as of yet, most of them are just backup repos of right before the purchase though
> > 
> > 
> > Problem is muse is not bound by the GPL because the last debaucle regarding the CLA.
> > #932
> > At this point a fork is the reasonable option, if muse going to be like this.
> 
> I don't think that all code is yet under the CLA making this a GPL violation if enforced

I have not looked closely at the commit history, but they said in the CLA topic they were rewriting all the code from small contributions to avoid having to try and get those people sign the CLA. =||= > > Yep, the GPL violations is downright disgusting IMO, it's in direct violation to the code that hundreds of people have put in. Seems the best result here is that a fork of audacity comes out that doesn't have all this frankly nonsense in it. That doesn't seem to exist as of yet, most of them are just backup repos of right before the purchase though
> 
> Problem is muse is not bound by the GPL because the last debaucle regarding the CLA. Muse basically got all the main developers to sign that CLA, and in that thread said they were just rewriting smaller contributions to avoid getting them to sign it.
> 
> #932
> 
> At this point a fork is the reasonable option, if muse going to be like this.

they can say that all they like, rewriting the other contributions does not remove the fact that this work is a derivative work of theirs. GPL remains with the codebase - its a feature, not a bug, and it's designed to prevent exactly this scenario.  =||= > > 
> 
> > 
> 
> > > > 
> 
> > > 
> 
> > > 
> 
> > > > 
> 
> > > 
> 
> > > 
> 
> > > > Yep, the GPL violations is downright disgusting IMO, it's in direct violation to the code that hundreds of people have put in. Seems the best result here is that a fork of audacity comes out that doesn't have all this frankly nonsense in it. That doesn't seem to exist as of yet, most of them are just backup repos of right before the purchase though
> 
> > > 
> 
> > > 
> 
> > > Problem is muse is not bound by the GPL because the last debaucle regarding the CLA.
> 
> > > #932
> 
> > > At this point a fork is the reasonable option, if muse going to be like this.
> 
> > 
> 
> > I don't think that all code is yet under the CLA making this a GPL violation if enforced
> 
> 
> 
> I have not looked closely at the commit history, but they said in the CLA topic they were rewriting all the code from small contributions to avoid having to try and get those people sign the CLA.

Yeah but I don't think that, at this current time, is completed yet  =||= Unfortunate, as Audacity is a big name amongst hobbyist software for being some of the best in it's class. I suppose it's not the first time major projects have undergone a ""rebranding"" when the parent tries to pull some corporate crap, but it's always unfortunate whenever it's needed. =||= > 
> 
> > > Yep, the GPL violations is downright disgusting IMO, it's in direct violation to the code that hundreds of people have put in. Seems the best result here is that a fork of audacity comes out that doesn't have all this frankly nonsense in it. That doesn't seem to exist as of yet, most of them are just backup repos of right before the purchase though
> > 
> > 
> > Problem is muse is not bound by the GPL because the last debaucle regarding the CLA. Muse basically got all the main developers to sign that CLA, and in that thread said they were just rewriting smaller contributions to avoid getting them to sign it.
> > #932
> > At this point a fork is the reasonable option, if muse going to be like this.
> 
> they can say that all they like, rewriting the other contributions does not remove the fact that this work is a derivative work of theirs. GPL remains with the codebase - its a feature, not a bug, and it's designed to prevent exactly this scenario.

> 
> 
> > > Yep, the GPL violations is downright disgusting IMO, it's in direct violation to the code that hundreds of people have put in. Seems the best result here is that a fork of audacity comes out that doesn't have all this frankly nonsense in it. That doesn't seem to exist as of yet, most of them are just backup repos of right before the purchase though
> > 
> > 
> > Problem is muse is not bound by the GPL because the last debaucle regarding the CLA. Muse basically got all the main developers to sign that CLA, and in that thread said they were just rewriting smaller contributions to avoid getting them to sign it.
> > #932
> > At this point a fork is the reasonable option, if muse going to be like this.
> 
> they can say that all they like, rewriting the other contributions does not remove the fact that this work is a derivative work of theirs. GPL remains with the codebase - its a feature, not a bug, and it's designed to prevent exactly this scenario.

Depends how they go about rewriting those portions. It's certainly possible to rewrite features to get a different license. You see this often in BSD world. Whether or not they crossed all their t's and dotted all their i's when doing that would be question for a court, and sadly probably only those smaller contributors would have standing to sue.  =||= > 
> 
> Unfortunate, as Audacity is a big name amongst hobbyist software for being some of the best in it's class. I suppose it's not the first time major projects have undergone a ""rebranding"" when the parent tries to pull some corporate crap, but it's always unfortunate whenever it's needed.

Yea for example LibreOffice still a less known name than open office. A fork can't really do anything about trade marks. 
 =||= I've started to dig through the codebase, and as far as I can tell most if not all things could've been disabled when modifying the cmake files via the following flags:

- `HAS_CRASHREPORTS`
- `HAS_UPDATE_CHECK`
- `HAS_NETWORKING`
- `HAS_SENTRY_REPORTING`

I also started a fork at https://github.com/cookiengineer/audacity, where I would ideally see this in the form of a foundation where contributors can vote on what happens to it or not. Personally, I'd like to see this project GPL2 compliant (which means no telemetry, no tracking and certainly no PG-13 rating because of it).

In order to be sure that my modifications have no potential side effects or code ignoring the build flags, I've removed all networking related code in my fork, including the Help Menu integrations for Crash Reporting and the Update Manager that is running in the background periodically.

But I also wanted to make a fair statement here: The cmake flags hint that Muse Group's intentions were clearly trying to make it opt-in from a maintainer's perspective (Debian/Arch/whatever distro's policies), so I would not use this against them.

However, the license is chosen unwisely in regards to GPL2 compliance (maybe a copy/paste mistake?), and therefore should be checked again with their legal team - as it was the cause of this issue and the rising internet rage over at HackerNews and Reddit.

I'd also prefer that even when the package maintainer has decided to include tracking options that there would be a dialog in the beginning, asking the user whether or not they want to opt-in to those separately, each able to be deselected or selected.

Having said that, and having seen the actual codebase without making irrelevant claims, I think the intent of the Muse Group was not malicious here; and it seems more to be a simple copy/paste mistake of another license they were using for other software they owned/published before.

Disclaimer: Not associated in any form with Muse Group, not a lawyer, just a concerned European citizen.
 =||= I want to shout out to all the core developers who sold this beautiful piece of software, we couldn't have come here without you ❤️ =||= Yeah let's not attack the open source developers who worked on this project for years so that this even exists in the first place and finally sold it so they could make a good chunk of money off it. 

Does it suck the situation this software is in? Sure, but let's not attack the original developers for that. =||= Selling a FOSS project to a sketchy company is not nice, but this is why you donate to developers. They have to pay the bills, too. =||= What a disappointment for such a great software. The community should fork and leave this corporate sketchiness behind. =||= This spits in the face of the free software spirit. 
RIP Audacity. =||= This change is in violation of the license agreement under which contributions to this codebase have been made. 

By restricting anyone under the age of 13 from using the software, you have violated GPLv2 under which the software is licensed at least since 2010.

You do not have the authority of ownership to modify the license under which others' GPLv2 contributions were made without their explicit permission.

You must remove any restrictions that would legally prevent anyone from using this software, or you must change your license and immediately remove any and all contributions by developers that have not explicitly agreed to license their contributions under your new license. =||= > As far as I'm concerned any data collection is unacceptable unless what is collected is exactly stated and opt-out is provided

I'd prefer it if it was Opt-In. =||= This is the last straw for me. First spyware, then a CLA, and then this. It's fork time baby. =||= @bredmor 
>You do not have the authority of ownership to modify the license under which others' GPLv2 contributions were made without their explicit permission.

[This FAQ](https://github.com/audacity/audacity/discussions/932#discussion-3381244) says:
>People who have contributed considerable amounts of code have already been asked to sign the CLA, and the vast majority have now done so. Over 90% of all written code is already covered by the CLA, and we are now asking the few remaining people to sign as well as all new contributors.

The first sentence in [that CLA](https://www.audacityteam.org/cla/) is:

>You grant MUSECY SM LTD, an affiliate of MuseScore and Ultimate Guitar, (“Company”) the ability to use the Contributions in any way. =||= 90% is not 100% =||= @duplexsystem 
The next sentence in that FAQ is:
>It is not necessary for every single person who ever contributed to sign the CLA; only people who made a non-trivial contribution that is still present in the current source code have to sign, as well as all new contributors.

I'm not sure how close they are to 100% now, but all of this wouldn't make any sense if they didn't plan on removing or rewriting everything they can't cover using the CLA. I don't like it either, but it looks like it isn't far fetched to think that they are or at least will in the near future be able to make this change regardless of the current license. =||= They aren't at 100% yet which means this is still violating the GPL =||= Oh they appear to be hiding comments they don't agree with =||= I'm sure our Muse overloads would never do such a thing. =||= @duplexsystem 

>They aren't at 100% yet

I'd love to see an official source on that if there is one. The point of my response to @bredmor was to say that at this point we don't really know if they can do it or not. At the very least it casts some doubt on the argument that they can't implement the new privacy policy because of the GPL =||= Even if they did go through and rewrite everything it would still be considered a derivative work of the prior code (in most cases) so it would still have the same license restrictions =||= I dropped Windows because crap like this. As far as I'm concerned the Audacity team can fuck themselves with barbwire wrapped telephone poles. =||= I am guessing a large proportion of Audacity users are under the age of 13, my daughter included. Young people learn a lot from free software. No locking young people out. =||= Just asked the Fedora legal team to review the latest changes in license and ToS: https://lists.fedoraproject.org/archives/list/legal@lists.fedoraproject.org/thread/V2VSR6W3SZ3UE6UAS3TH2ZDRHTGXFCU6/

The new ToS is absolutely unacceptable for me. =||= ![Screenshot from 2021-07-04 15-06-53](https://user-images.githubusercontent.com/8861988/124386216-ad64a400-dcd9-11eb-952e-46b3c3b03794.png)

Remove that ""Free"" (as in freedom) word that you don't deserve anymore from the website =||= pt-br
poderiam informar qual foi a última versão sem essa desgraça?

en
what is the last safe version?
 =||= Probably stating the obvious here, but there are lawyers that specialize in opensource & free software. =||= @elycastellano, 3.0.2, that's for sure because situations such as the attempt to introduce ""telemetry"" were later than when this release was made. But it's best to install 2.4.2 just to be safe. =||= Considering how schools use this software, including those who are kids, this is pretty unacceptable. Sure, you could fork it, and remove such tracking code, but come on. A normal end user shouldn't have to do that. =||= > 
> 
> @duplexsystem
> The next sentence in that FAQ is:
> 
> > It is not necessary for every single person who ever contributed to sign the CLA; only people who made a non-trivial contribution that is still present in the current source code have to sign, as well as all new contributors.
> 
> I'm not sure how close they are to 100% now, but all of this wouldn't make any sense if they didn't plan on removing or rewriting everything they can't cover using the CLA. I don't like it either, but it looks like it isn't far fetched to think that they are or at least will in the near future be able to make this change regardless of the current license.

They are legally wrong, very wrong and any that refused to sign that has their code in there would be able to sue them for copyright infringement over that if they did do anything beyond the GPL with the code. =||= @pizzadude said:
> Use firejail --net=none or opensnitch to deny network access.

There is a privilege escalation vulnerability which is fixed in v0.9.64.4 by disabling overlayfs.
With previous versions you can disable overlayfs in /etc/firejail/firejail.config:

    $ grep overlayfs /etc/firejail/firejail.config
    # Enable or disable overlayfs features, default enabled.
    overlayfs no
 =||= > 
> 
> Considering how schools use this software, including those who are kids, this is pretty unacceptable. Sure, you could fork it, and remove such tracking code, but come on. A normal end user shouldn't have to do that.

Who said a normal end user will do that? It is possible opensource developer to setup a full fork, builds and all under a new name. =||= > 
> 
> @elycastellano, 3.0.2, that's for sure because situations such as the attempt to introduce ""telemetry"" were later than when this release was made. But it's best to install 2.4.2 just to be safe.

I already have a forked repo on github from the first pull request we had that got denied over this stuff. I'm not the only one who hit the fork button then. So we already have a copy of the code from before anything problematic happened. =||= Taking notes. I'll just stay with 2.4.2 myself: that's the version I have installed. =||= I have just one question: Is the data collected by this privacy policy worth the missed opportunity of children to use Audacity in their free time and in schools to get their first band up and running, record a song, tinker with the recordings and put a smile on their parents', grandparents' and friends' faces? =||= Between this, and telemetry, and 

> 4.4   to a potential buyer (and its agents and advisers) in connection with any proposed purchase, merger or acquisition of any part of our business, provided that we inform the buyer it must use your Personal Data only for the purposes disclosed in this Notice;

is audacity planning on being acquired? Does that conform to the restrictions of GPL-v2? 

... I guess the copyright holder could always relicence the work, but does this mean a folk (a la ublock origin) is in order? =||= UK teacher here

The 13+ age requirement will mean that your software is removed from all schools in the UK when they decide to upgrade from audacity 2.x to audacity 3.x.

Is this the outcome that you desire? Loss of visibility to getting on for 10 million people?

Please consider a telemetry free education version for download to .edu/.ac.uk &c domains. =||= I'd personally like a really clear understanding of this line from their own [Privacy Notice](https://www.audacityteam.org/about/desktop-privacy-notice/):  

> ""All your personal data is stored on our servers""

What ""personal data"" of mine are you storing on servers in EEA and Russia? 

For what purpose are you transmitting my personal data and storing it on foreign soil? 

 =||= This privacy notice can eat my ass. =||= What a disaster! Why do they need my personal data to use free software (or something that's supposed to be free software)?

I'm waiting for a fork of Audacity. =||= Anything telemetry related has been merged into the project or not? =||= Coming here to add my thoughts about this ""Nobody under 13 can use this program"" nonsense:

I started using the internet at 7. The ability to use free editors, whether that be for audio, video, or code, and free services like forums or GitHub, is what enabled me to be so interested in technology and programming. Audacity is by far the biggest open-source audio editor, and I've been using it for _years_.

You're trying to kill any prospect of young people, especially ones in families that don't have the time or knowledge to understand or guide their technology use, getting to understand and explore audio editing. I've turned away from ""13+ only"" dialogs, and I'm certain many great young minds will too.

Do better. =||= > Coming here to add my thoughts about this ""Nobody under 13 can use this program"" nonsense:

This is likely included, because of GDPR guidelines, and because they can't litigate against anyone 13 and under for any suspected copyright violations found while using the program. 

There's been some discussion on Reddit about them consuming MuseScore, after stealing a number of community tabs, calling them their own. [At least one author](https://old.reddit.com/r/linux/comments/od3h8b/audacity_may_collect_data_necessary_for_law/h3zca9f/) intentionally put flaws in their tabs as 'watermarks', and those ended up in the final copies they claimed wasn't from the community. 

There's a lot of shady business going on here, with the various projects being swallowed up and put under the Muse Group umbrella, from the copyright assignment enforcement through to the changes in Audacity and the forked version of the wxWidgets library needed to build it. 

It's time to start putting Audacity and similar apps under an AppArmor profile that restricts what they can do; read, write and ZERO network access permitted. This should be shipped with the package by default on all Linux distributions, and static Windows Firewall rules applied at install time on those platforms.  =||= I don't know what muse group thinks there gonna get out of this? They're gonna change this or people will just move to a fork. =||= > They're gonna change this or people will just move to a fork.

Unlikely they're going to change this, as they've already committed significant legal, development and other resources to this approach. There's probably revenue streams tied back to feeding the data to law enforcement as well, that they'll lose out on. 

A fork, while undesirable in almost every case of an OSS project, is sometimes necessary to ensure the spirit and law of the licenses is respected. The problem with a fork in _this_ specific case, is that the main developers and copyright holders already signed over their rights to the Muse Group through a [CLA](https://www.audacityteam.org/cla/), and will likely not contribute to a forked version as well. 

This means any fork would have to find the same level of development skills/resources, as well as _interest_ in continuing a fork, in order for that fork to survive and replace the one Muse is proposing. 

Note: There are already [1.2k forks of the main audacity repository](https://github.com/audacity/audacity/network/members) already, many probably resulting from this news, so the codebase can be preserved before it moves under a Private repository.  =||= The problem with every company buying out FOSS software is that they will add some data collection somewhere because law ""requires"" to do so, and in the least case they could just make it opt-in. =||= I remember when Audacity was still an independent project. Where did we go wrong?
Isn't capitalism wonderful? =||= It's just companies trying to take over open-source, nothing special... *cough* Microsoft *cough* =||= Genuine question: How and why were they taken over, and why wasn't the community consulted about the decision (I assume)? =||= Money I guess? =||= Given that I'm sure that quite possibly 100s of people have contributed to Audacity's codebase, surely that means they would need the permission of every single contributor in order to sign the rights away like this? This can't be legal. =||= > Given that I'm sure that quite possibly 100s of people have contributed to Audacity's codebase, surely that means they would need the permission of every single contributor in order to sign the rights away like this? This can't be legal.

They claim that 90% of the code has been signed off to them and they own it using a CLA and they are working to remove the rest of the copyrighted code  =||= > They claim that 90% of the code has been signed off to them and they own it using a CLA and they are working to remove the rest of the copyrighted code

Source, @caughtquick? =||= > > They claim that 90% of the code has been signed off to them and they own it using a CLA and they are working to remove the rest of the copyrighted code
> 
> Source?

https://www.audacityteam.org/cla/ =||= Anybody got a copy of that page before they were bought out? =||= the CLA was created when muse bought them out =||= It seems the muse doesn't seems to be committed to the original goal of audacity which is to be a FREE and OPEN SOURCE audio editor. They want to take all the advantages FOSS provides and now close source the product and commercialize it IMO  =||= > It seems the muse doesn't seems to be committed to the original goal of audacity which is to be a FREE and OPEN SOURCE audio editor. They want to take all the advantages FOSS provides and now close source the product and commercialize it IMO

Which is sadly what happens in most cases... =||= For anyone that's interested I've made an Audacity fork right now, and as I cannot see any telemetry yet (nothing in the settings to be opt'd-out) I'll be watching their commits to see if what they add is safe to add on my fork (which is called Audacitium, inspired from VSCodium)

https://github.com/SartoxOnlyGNU/audacitium =||= @AnErrupTion can I donate to the cause =||= What do you mean? =||= @AnErrupTion  You are aware that my fork already removed all code that contained telemetry and networking? https://github.com/cookiengineer/audacity =||= The game plan is to analyze every single audio/video clip and check it against known database of Copyrighted material. If you get a match, the police get your data. /s

[ mention me if you want my reply/attention; this issue is hard to keep track of :) ] =||= > @AnErrupTion You are aware that my fork already removed all code that contained telemetry and networking? https://github.com/cookiengineer/audacity

Ah I didn't know, however I think you're a bit too aggressive when removing update checking (removing auto update is fine, but update checking.. really?) =||= > The game plan is to analyze every single audio/video clip and check it against known database of Copyrighted material. If you get a match, the police get your data. /s
> 
> [ mention me if you want my reply/attention; this issue is hard to keep track of :) ]

Well that's tricky and... dumb; Audacity is mainly used to edit audio or even create; why in hell would they even do that? =||= I'm guessing that this is indeed the end.

RIP =||= > I'm guessing that this is indeed the end.
> 
> RIP

There are forks and so the community, it will very likely be revived (cookiengineer has removed some stuff in his fork, I have made a fork too of Audacity) =||= > > @AnErrupTion You are aware that my fork already removed all code that contained telemetry and networking? https://github.com/cookiengineer/audacity
> 
> Ah I didn't know, however I think you're a bit too aggressive when removing update checking (removing auto update is fine, but update checking.. really?)

For most linux users update checking is unnecessary network access. A good compromise would keeping it enable on windows but disabling it on Linux IMO, though I don't know how challenging that would be with the codebase =||= > > I'm guessing that this is indeed the end.
> > RIP
> 
> There are forks and so the community, it will very likely be revived (cookiengineer has removed some stuff in his fork, I have made a fork too of Audacity)

I'll definitely check those out.

Shame this had to happen at all though. =||= I mean yeah with package managers, I myself do use Linux but even then a toggle in the settings would be possible and, as you said, disabling it on Linux but enabling it on Windows and Mac. =||= > > > I'm guessing that this is indeed the end.
> > > RIP
> > 
> > 
> > There are forks and so the community, it will very likely be revived (cookiengineer has removed some stuff in his fork, I have made a fork too of Audacity)
> 
> I'll definitely check those out.
> 
> Shame this had to happen at all though.

Yeah but it's the sad truth after all... reality is reality, can't change that :/ =||= > > > > I'm guessing that this is indeed the end.
> > > > RIP
> > > 
> > > 
> > > There are forks and so the community, it will very likely be revived (cookiengineer has removed some stuff in his fork, I have made a fork too of Audacity)
> > 
> > 
> > I'll definitely check those out.
> > Shame this had to happen at all though.
> 
> Yeah but it's the sad truth after all... reality is reality, can't change that :/

Any suggestion on how to keep them from collecting data for now though? Sandboxing? Anything else? =||= If you want to keep using the original Audacity then Sandboxie for Windows (although I don't know if you can disable networking for each sandboxed app) or Firejail on Linux. =||= > If you want to keep using the original Audacity then Sandboxie for Windows (although I don't know if you can disable networking for each sandboxed app) or Firejail on Linux.

Well, I'm on Gentoo (Linux) so I guess firejail although I had it had some security vulnerabilities that were quite 😐 =||= Don't worry I know Gentoo, I'm on Arch 😂  =||= I do not tolerate Muse Group collecting our data, and I think they are trying to kill Audacity project, like most company did (Such as Red Hat)

I recommend using alternatives of Audacity such as fork software =||= ![Audacity-logo_75px_trans_forum](https://user-images.githubusercontent.com/49339966/124398064-f9ccd580-dd13-11eb-8d6d-440514781157.png)
How does that ""new"" logo look like? (Kinda off-topic, sorry) =||= > ![Audacity-logo_75px_trans_forum](https://user-images.githubusercontent.com/49339966/124398064-f9ccd580-dd13-11eb-8d6d-440514781157.png)
> How does that ""new"" logo look like? (Kinda off-topic, sorry)

Looks neat, I like it. =||= > > ![Audacity-logo_75px_trans_forum](https://user-images.githubusercontent.com/49339966/124398064-f9ccd580-dd13-11eb-8d6d-440514781157.png)
> > How does that ""new"" logo look like? (Kinda off-topic, sorry)
> 
> Looks neat, I like it.

Thanks! =||= > > > ![Audacity-logo_75px_trans_forum](https://user-images.githubusercontent.com/49339966/124398064-f9ccd580-dd13-11eb-8d6d-440514781157.png)
> > > How does that ""new"" logo look like? (Kinda off-topic, sorry)
> > 
> > 
> > Looks neat, I like it.
> 
> Thanks!

I quite like it too but you may want to make the headphone part more different from audacity due to copyright. =||= Like simplifying it? =||= That name is going to be hard to pronounce, and doesn't really make sense. I much prefer ""Audacium"" instead of the additional ""...actium"" at the end. 

But the presence of a fork, among a sea of 1,200 other Audacity forks, doesn't help the cause. We need commitment behind the vision, maintenance and development of the codebase, not just ownership. 

So many here are focusing on logos and naming conventions, when we should be focusing on building a community of passionate developers to continue supporting the ongoing development and maintenance of the project. 

The names and logos can come later.  =||= Someone should just fork Audacity and we can all move on; it's clear Audacity is the subject of a hostile takeover =||= > ![Audacity-logo_75px_trans_forum](https://user-images.githubusercontent.com/49339966/124398064-f9ccd580-dd13-11eb-8d6d-440514781157.png)
> How does that ""new"" logo look like? (Kinda off-topic, sorry)

Nice, but I recommend not to making the name too similar and make the new logo since this can cause trademark issue in the future =||= > That name is going to be hard to pronounce, and doesn't really make sense. I much prefer ""Audacium"" instead of the additional ""...actium"" at the end.
> 
> But the presence of a fork, among a sea of 1,200 other Audacity forks, doesn't help the cause. We need commitment behind the vision, maintenance and development of the codebase, not just ownership.
> 
> So many here are focusing on logos and naming conventions, when we should be focusing on building a community of passionate developers to continue supporting the ongoing development and maintenance of the project.
> 
> The names and logos can come later.

I'm making all that stuff to prevent copyright issues, just as a base. But yes I do agree with you. =||= > Someone should just fork Audacity and we can all move on; it's clear Audacity is the subject of a hostile takeover

Yeah, but the community should band behind a single fork or we get a situation like CentOS is in right now with ~5 different continuations of the project, and yeah I agree with that @desrod said.
 =||= > Someone should just fork Audacity and we can all move on; it's clear Audacity is the subject of a hostile takeover

Just like freenode but just a bit slower. =||= > Someone should just fork Audacity and we can all move on

What about [cookiengineer/audacity](https://github.com/cookiengineer/audacity)? Is it reputable enough for people to get behind? =||= Let's just fork it and call it Audatown or something =||= > > Someone should just fork Audacity and we can all move on
> 
> What about [cookiengineer/audacity](https://github.com/cookiengineer/audacity)? Is it reputable enough for people to get behind?

I feel like its still too early to get behind a fork and we have to wait to see how well they are at merging upstream patches, listening to the community, and removing some of the nonsense that audacity is adding. =||= > > > Someone should just fork Audacity and we can all move on
> > 
> > 
> > What about [cookiengineer/audacity](https://github.com/cookiengineer/audacity)? Is it reputable enough for people to get behind?
> 
> I feel like its still too early to get behind a fork and we have to wait to see how well they are at merging upstream patches, listening to the community, and removing some of the nonsense that audacity is adding.

I think it's too late, Muse violating the GPL is enough for people to consider a fork. =||= Oh yeah considering a fork I agree with, but I feel its too early to decide on what the eventual actual continuation will be with so many different forks popping up. =||= In all seriousness, good luck to whoever ends up forking this, this codebase's technical debt is absurdly high. =||= Well currently me and cookiengineer have manifested their forks, however it'll be very hard to maintain with only 1 person. =||= > I'm making all that stuff to prevent copyright issues, just as a base.

""Audacitium"" would fall under ""similar naming"", if the name was *trademarked* by Muse Group, but it wouldn't fall under that clause if it was merely *copyrighted* under that name. 

The difference is in the legal protection that trademarks offer. Trademark, in this case, would refer to the similarity in the same industry (audio enthusiasts, bands, musicians), and not to the logo itself (which itself, can be trademarked separately from its name). 

If Muse has registered a trademark for the name and logo ""Audacity"", then all bets on using ""Audacitium"" are off. Using your trademark does not protect you from someone else in the same industry using your name or logo, but _registering_ your trademark does. 

Here's where things get tricky: If the original creators of the Audacity name or logo, did not sign the CLA, and only the developers did, and Muse tries to use their original creation, such as the project's logo, and use it as their own, they can be sued over the misuse of your copyright, but only if you have a copyright registration legally filed. 

Many to most OSS projects don't go the extra step of filing for copyright protection with the US Copyright Office, but some do. 

Before you go starting with new logos and names, that foundation should be established, and if Muse hasn't filed them, the project's developers should, to prevent Muse from using their name not in good faith with the industry that supported the project up to this point. 

But circling back, the code, developers and community has to be established first, and at that point it's wise to choose a name, because you'll have a new direction, new charter and new leadership for the project.  =||= I've updated my fork for the ""Audacium"" name. How does that sound to everyone? =||= > > I'm making all that stuff to prevent copyright issues, just as a base.
> 
> ""Audacitium"" would fall under ""similar naming"", if the name was _trademarked_ by Muse Group, but it wouldn't fall under that clause if it was merely _copyrighted_ under that name.
> 
> The difference is in the legal protection that trademarks offer. Trademark, in this case, would refer to the similarity in the same industry (audio enthusiasts, bands, musicians), and not to the logo itself (which itself, can be trademarked separately from its name).
> 
> If Muse has registered a trademark for the name and logo ""Audacity"", then all bets on using ""Audacitium"" are off. Using your trademark does not protect you from someone else in the same industry using your name or logo, but _registering_ your trademark does.
> 
> Here's where things get tricky: If the original creators of the Audacity name or logo, did not sign the CLA, and only the developers did, and Muse tries to use their original creation, such as the project's logo, and use it as their own, they can be sued over the misuse of your copyright, but only if you have a copyright registration legally filed.
> 
> Many to most OSS projects don't go the extra step of filing for copyright protection with the US Copyright Office, but some do.
> 
> Before you go starting with new logos and names, that foundation should be established, and if Muse hasn't filed them, the project's developers should, to prevent Muse from using their name not in good faith with the industry that supported the project up to this point.
> 
> But circling back, the code, developers and community has to be established first, and at that point it's wise to choose a name, because you'll have a new direction, new charter and new leadership for the project.

Yeah, I fully agree with you, now we'll have to see. =||= > I've updated my fork for the ""Audacium"" name. How does that sound to everyone?

No, still similar with Audacity name =||= It's not exactly the same though, so it can't fall under copyright, or can it? =||= > I feel like its still too early to get behind a fork and we have to wait to see how well they are at merging upstream patches, listening to the community, and removing some of the nonsense that audacity is adding.

I disagree. They've already committed to (among other things) 
* ensuring their existing developers sign the CLA to hand full license over to the Muse Group, 
*  they're actively working on removing any code that was not in line with that CLA (from Audacity contributors who refused to sign), 
*  they've established relationships with law enforcement to hand them over data when requested (possibly as a backend revenue stream), 
*  they've already stated that *""All your personal data...""* is stored on their servers, servers in EEA and Russia, 
* added restrictions to the project's use (""Nobody under the age of 13 may use the software...""), 
* and more. 

It's clear they're committed to this path, and that a fork is not only imminent, but necessary.  =||= I'm glad the people trying these hostile takeovers are so dumb otherwise they might have actually gotten away with it! =||= On the subject of trademark, this is what the USPTO lists for Audacity (I would link the entry, but the Trademark Electronic Search System is a pain to work with):

![image](https://user-images.githubusercontent.com/1500092/124398655-1cd79500-dcd4-11eb-9d88-1c019cf45ad1.png)


<br class=""Apple-interchange-newline"">

Word Mark | AUDACITY
-- | --
Goods and Services | IC 009. US 021 023 026 036 038. G & S: Downloadable computer software for creating, recording, editing, analyzing, and mixing digital audio and music. FIRST USE: 20010209. FIRST USE IN COMMERCE: 20010209
Mark Drawing Code | (3) DESIGN PLUS WORDS, LETTERS, AND/OR NUMBERS
Design Search Code | 01.15.24 - Sound waves, including designs depicting sound16.01.07 - Head phones ; Headphones ; Headsets ; Microphones
Serial Number | 90591173
Filing Date | March 19, 2021
Current Basis | 1A
Original Filing Basis | 1A
Owner | (APPLICANT) MuseCY SM Ltd. CORPORATION CYPRUS Spyrou Kyprianou, 84 4004 Limassol, Cyprus CYPRUS
Attorney of Record | Tony Berman
Prior Registrations | 2919070
Description of Mark | The color(s) blue, red, orange, and yellow is/are claimed as a feature of the mark. The mark consists of the word Audacity in rounded block letters in blue gradient to the right of a pair of headphones with a soundwave as displayed in a digital audio workstation (DAW) flowing between the ear cups of the headphones in which the headphones are in blue, and the soundwave is in red, orange, and yellow.
Type of Mark | TRADEMARK
Register | PRINCIPAL
Live/Dead Indicator | LIVE

 =||= This is like freenode all over again... =||= > It's not exactly the same though, so it can't fall under copyright, or can it?

No we should make the name that is not similar with Audacity trademark to avoid trademark dispute issue in the future. Better safe than sorry. =||= 
> > I feel like its still too early to get behind a fork and we have to wait to see how well they are at merging upstream patches, listening to the community, and removing some of the nonsense that audacity is adding.
> 
> I disagree. They've already committed to ensuring their existing developers sign the CLA to hand full license over to the Muse Group, they're actively working on removing any code that was not in line with that CLA (from Audacity contributors who refused to sign), they've established relationships with law enforcement to hand them over data when requested (possibly as a backend revenue stream), they've already stated that _""All your personal data...""_ is stored on their servers, servers in EEA and Russia, added restrictions to the project's use (""Nobody under the age of 13 may use the software...""), and more.
> 
> It's clear they're committed to this path, and that a fork is not only imminent, but necessary.

Yeah a fork is definitely necessary, I don't disagree with that at all, I'm just saying that its too early to decide on what will be the eventual continuation with so may different people forking the project =||= > I've updated my fork for the ""Audacium"" name. How does that sound to everyone?

It's easier to say, I'll give it that.

While we're at this point in time, I'd ask that maybe we can try to keep it to one fork instead of two? 
I know it's never that easy to ask, but I'd hate for there to be two competing forks that half of the userbase each has flocked to. =||= So basically you'd have to remake the entire headphone logo? Damn... I'm not a very skilled designer, if anyone here is a better one than me then they'd be better off making a new logo.. =||= I wish GitHub could sort a fork list by stars and activity... =||= > > I've updated my fork for the ""Audacium"" name. How does that sound to everyone?
> 
> It's easier to say, I'll give it that.
> 
> While we're at this point in time, I'd ask that maybe we can try to keep it to one fork instead of two?
> I know it's never that easy to ask, but I'd hate for there to be two competing forks that half of the userbase each has flocked to.

Basically CentOS forks =||= > > I've updated my fork for the ""Audacium"" name. How does that sound to everyone?
> 
> 
> 
> It's easier to say, I'll give it that.
> 
> 
> 
> While we're at this point in time, I'd ask that maybe we can try to keep it to one fork instead of two? 
> 
> I know it's never that easy to ask, but I'd hate for there to be two competing forks that half of the userbase each has flocked to.

See CentOS forks as an example of this  =||= To anyone who missed the link of my fork, here it is:
https://github.com/SartoxOnlyGNU/audacium

I also have to point out @cookiengineer's because why not:
https://github.com/cookiengineer/audacity =||= > See CentOS forks as an example of this

See! We already have a good reason not to! 😄 

 =||= Clicking the ""fork"" button isn't really the same as making a fork. You need to actually maintain the thing, give support and.. have a userbase. Write code and people will come =||= IMHO (20+ years of experience with maintainership/contributions to large OSS projects), forks are usually a last resort, as they fracture communities and force them to pick a side. Let's not make them have to choose one of 600+ sides please. 

Forks typically take one of two paths: 
1. Fork the code to ensure the project lives on, continues in the spirit and law of the license in line with its community, or
2. Fork the code to preserve that codebase, in case the mainline code/project goes private, shut down, stops releasing code (""The Streisand Effect"")

Let's choose wisely, and not thin out the community any further please.  =||= > Clicking the ""fork"" button isn't really the same as making a fork. You need to actually maintain the thing, give support and.. have a userbase. Write code and people will come

Who said I wasn't going to maintain the fork? =||= > > See CentOS forks as an example of this
> 
> 
> 
> See! We already have a good reason not to! 😄 
> 
> 
> 
> 
Not to what? Fork the project? This project is already at the point where it needs to be forked, I'm just hoping that we don't have 5+ different forks with the same purpose 

 =||= > > > See CentOS forks as an example of this
> > 
> > 
> > See! We already have a good reason not to! smile
> 
> Not to what? Fork the project? This project is already at the point where it needs to be forked, I'm just hoping that we don't have 5+ different forks with the same purpose

I completely agree. =||= > IMHO (20+ years of experience with maintainership/contributions to large OSS projects), forks are usually a last resort, as they fracture communities and force them to pick a side. Let's not make them have to choose one of 600+ sides please.
> 
> Forks typically take one of two paths:
> 
> 1. Fork the code to ensure the project lives on, continues in the spirit and law of the license in line with its community, and
> 2. Fork the code to preserve that codebase, in case the mainline code/project goes private, shut down, stops releasing code (""The Streisand Effect"")
> 
> Let's choose wisely, and not thin out the community any further please.

There are tons of forks that are already preserving the codebase (we'd have to see which one is the most up to date, though..), however at this state it's better to fork to maintain the project like a standalone, independant one from Audacity altogether. =||= > > Clicking the ""fork"" button isn't really the same as making a fork. You need to actually maintain the thing, give support and.. have a userbase. Write code and people will come
> 
> 
> 
> Who said I wasn't going to maintain the fork?

Nobody, but it's too early to band behind a fork that hasn't even changed anything yet IMO  =||= > IMHO (20+ years of experience with maintainership/contributions to large OSS projects), forks are usually a last resort, as they fracture communities and force them to pick a side. Let's not make them have to choose one of 600+ sides please. 
> 
> Forks typically take one of two paths: 
> 1. Fork the code to ensure the project lives on, continues in the spirit and law of the license in line with its community, and
> 2. Fork the code to preserve that codebase, in case the mainline code/project goes private, shut down, stops releasing code (""The Streisand Effect"")
> 
> Let's choose wisely, and not thin out the community any further please. 

I agree with this, we should consider about the fork project carefully, just like how Rocky Linux did =||= > > > See CentOS forks as an example of this
> > 
> > 
> > See! We already have a good reason not to! 😄
> 
> Not to what? Fork the project? This project is already at the point where it needs to be forked, I'm just hoping that we don't have 5+ different forks with the same purpose

No - Not to have multiple competing forks. Like you said in the second half of your sentence 👍  =||= > > Clicking the ""fork"" button isn't really the same as making a fork. You need to actually maintain the thing, give support and.. have a userbase. Write code and people will come
> 
> Who said I wasn't going to maintain the fork?

I'm saying that one fork will prevail, and it's gonna be the one that ends up getting activity - not necessarily one that has been linked here. =||= > > > Clicking the ""fork"" button isn't really the same as making a fork. You need to actually maintain the thing, give support and.. have a userbase. Write code and people will come
> > 
> > 
> > Who said I wasn't going to maintain the fork?
> 
> I'm saying that one fork will prevail, and it's gonna be the one that ends up getting activity - not necessarily one that has been linked here.

As it has been said before here, we'll have to choose on who maintains the project now. I'm not going to say absolutely me, because others will have to decide. =||= > > > Clicking the ""fork"" button isn't really the same as making a fork. You need to actually maintain the thing, give support and.. have a userbase. Write code and people will come
> 
> > 
> 
> > Who said I wasn't going to maintain the fork?
> 
> 
> 
> I'm saying that one fork will prevail, and it's gonna be the one that ends up getting activity - not necessarily one that has been linked here.

One fork will not always prevail, again see CentOS where users are now forced to pick between extremely similar distros in Rocky Linux, Alma Linux, Cloud Linux, and other similar distros =||= > > > > Clicking the ""fork"" button isn't really the same as making a fork. You need to actually maintain the thing, give support and.. have a userbase. Write code and people will come
> 
> > > 
> 
> > > 
> 
> > > Who said I wasn't going to maintain the fork?
> 
> > 
> 
> > I'm saying that one fork will prevail, and it's gonna be the one that ends up getting activity - not necessarily one that has been linked here.
> 
> 
> 
> As it has been said before here, we'll have to choose on who maintains the project now. I'm not going to say absolutely me, because others will have to decide.

One person maintaining the project in the first place is a bad idea. It should be under an organization with multiple members  =||= > If Muse has registered a trademark for the name and logo ""Audacity"", then all bets on using ""Audacitium"" are off. Using your trademark does not protect you from someone else in the same industry using your name or logo, but _registering_ your trademark does.

They have.

 =||= > > > > > Clicking the ""fork"" button isn't really the same as making a fork. You need to actually maintain the thing, give support and.. have a userbase. Write code and people will come
> > 
> > 
> > > >
> > 
> > 
> > > >
> > 
> > 
> > > > Who said I wasn't going to maintain the fork?
> > 
> > 
> > > 
> > 
> > 
> > > I'm saying that one fork will prevail, and it's gonna be the one that ends up getting activity - not necessarily one that has been linked here.
> > 
> > 
> > As it has been said before here, we'll have to choose on who maintains the project now. I'm not going to say absolutely me, because others will have to decide.
> 
> One person maintaining the project in the first place is a bad idea. It should be under an organization with multiple members

Well I have an organization but there's only me in it... :/ (I already forked the project in it) =||= > I'm saying that one fork will prevail, and it's gonna be the one that ends up getting activity - not necessarily one that has been linked here.

Anybody here know any others? Between [SartoxOnlyGNU/audacium](https://github.com/SartoxOnlyGNU/audacium) and [cookiengineer/audacity](https://github.com/cookiengineer/audacity), the latter seems to have more stars, but they both are about 8-9 commits ahead of master here. =||= The problem is, because of the trademarked name and logo;
it's going to be harder to create a similar name and identity that people can be ""drawn"" to. =||= It seems as if @cookiengineer's fork will probably become the most popular IF it stays active, but the repo being owned by just one user isn't great IMO =||= > The problem is, because of the trademarked name and logo;
> it's going to be harder to create a similar name and identity that people can be ""drawn"" to.

True, but maybe we could keep the ""city"" at the end and put something else before that. And for the logo, well.. no idea. =||= > It seems as if @cookiengineer's fork will probably become the most popular IF it stays active, but the repo being owned by just one user isn't great IMO

Yeah because it has more stars, but honestly I don't even know.. =||= they should call the fork ""the audacity of these bitches"" =||= Let's not be crass now... =||= > they should call the fork ""the audacty of these bitches""

Lmao good name =||= If a fork is to be made I think it would be best if we don't rely on single BDFLs and instead form an organization like NeoVim did. More people involved = more direction =||= Thing is, there needs to be a new brand name to use for the org ideally.. =||= Well, I have an organization from which I forked Audacity but of course there's only me in it because I'm a loner :D =||= > Thing is, there needs to be a new brand name to use for the org ideally..

Obviously, but what.. =||= That's the entire point of trademarks, to make it easy to sue people who try to create a similar mark. 
Name-wise, rather than trying to make it look similar, make it conceptually similar. 
Former Opera devs created the Vivaldi browser, for example. 

Audacity means both outrageousness and bravery, so think in those terms, something like ""Pluck"" or ""Brazen."" 
Or maybe ""Big Brass Balls"" =||= Why not take the English word ""audacity"" and search a thesaurus for some of its synonyms, see if any sound good =||= My point is that you shouldn't be worrying about who mantains what right now. Take the code, actually do something with it and people will use it. Let a community form on its own and figure out things gradually. Otherwise we'll just have N copies of this repository with slightly different names (and logos) with no actual useful content (a fork has no purpose if it's just this same repository 100 commits ago with a different name, people can just build this and packagers can change the branding) =||= I think this conversation has gotten a bit off topic... =||= > Why not take the English word ""audacity"" and search a thesaurus for some of its synonyms, see if any sound good

Your timing is impeccable.
 =||= So basically... the owner of a (preferrably popular) Audacity fork needs to start an org and get people on board.

The community needs time to do this.

And *then* that org needs to decide on branding.

Do I have this right? =||= Off topic (kinda), cookiengineer's fork has sky rocketed to 103 stars lmao =||= > So basically... the owner of a (preferrably popular) Audacity fork needs to start an org and get people on board.
> 
> The community needs time to do this.
> 
> And _then_ that org needs to decide on branding.
> 
> Do I have this right?

Yeah, then after the branding actually replace instances of Audacity in the code. =||= > So basically... the owner of a (preferrably popular) Audacity fork needs to start an org and get people on board.
> 
> The community needs time to do this.
> 
> And _then_ that org needs to decide on branding.
> 
> Do I have this right?

Can an org change it's name afterwards? If so, then a temporary name is picked until a better or community decided one is chosen. =||= This is why companies come up with stupid code names for products, so they can replace them with real brand names later. 
 =||= > Can an org change it's name afterwards?

Pretty sure they can, at least as far as GitHub is concerned: https://docs.github.com/en/organizations/managing-organization-settings/renaming-an-organization =||= Microsoft ""Longhorn"" is one example.
 =||= Should I, for example, create an organization to fork Audacity in it or should I stick to my current one? (which has other projects in it) =||= Has @Tantacrul made an official statement on this yet? =||= > Has @Tantacrul made an official statement on this yet?

Probably not =||= I guess individual community members then to decide which fork/org to support, and we all see which one wins out. =||= > I guess individual community members then to decide which fork/org to support, and we all see which one wins out.

Let's try not to turn this into Hunger Games, please. :D  =||= I'll be renaming instances of Audacity in the code to Audacium.. is it fine *yet*? I guess it could be considered a ""code name"" as we haven't found any better name yet. =||= As it stands, and this may change, I'm leaning toward @cookiengineer's fork. They seem to have considerable experience (if their GitHub activity is any indicator). If another fork (@AnErrupTion's, for example) gets rolling well, I'll lean there.

The community will need to decide for themselves what direction to take on this. We're early on yet, as #1213 is only a day old. =||= > I'll be renaming instances of Audacity in the code to Audacium.. is it fine *yet*? I guess it could be considered a ""code name"" as we haven't found any better name yet.

Alrighty then, let's make Audacium as temporary name, but remember to change the name that is not similar with Audacity in the future =||= I'm not the best C/C++ developer since I'm still learning but with Audacium I'm definitely going to learn more.. which is also a plus to me! If my fork doesn't go anywhere at least I'd have learnt a bit more... =||= As far as [cookiengineer/audacity](https://github.com/cookiengineer/audacity) is concerned, [#5](https://github.com/cookiengineer/audacity/issues/5) already has some good ideas for renames (some cookie-related, obviously 😋 ) Maybe let's contribute there and see what sticks? =||= I don't know, I think for now it's best to wait for the community's reaction and to see which fork they prefer. =||= Off-topic to the current flow of the conversation, but why are we trying to corporatize and datavaccuum an OPEN SOURCE software? Also, I'll be watching this thread for the best fork. I think the entire world should adopt a GDPR-like Data Protection policy. (Edit: I meant We as in Musegroup) =||= Also we could just merge with cookiengineer to make a single fork so that we combine our skills and make a better fork. =||= > Also we could just merge with cookiengineer to make a single fork so that we combine our skills and make a better fork.

I agree. It's better if we have a colllaborative effort than if we all fend for ourselves. =||= > Off-topic to the current flow of the conversation, but why are we trying to corporatize and datavaccuum an OPEN SOURCE software? Also, I'll be watching this thread for the best fork. I think the entire world should adopt a GDPR-like Data Protection policy. (Edit: I meant We as in Musegroup)

Well, I have no idea, perhaps to make more money... =||= > Also we could just merge with cookiengineer to make a single fork so that we combine our skills and make a better fork.

@cookiengineer, what do you think? =||= > > Off-topic to the current flow of the conversation, but why are we trying to corporatize and datavaccuum an OPEN SOURCE software? Also, I'll be watching this thread for the best fork. I think the entire world should adopt a GDPR-like Data Protection policy. (Edit: I meant We as in Musegroup)
> 
> Well, I have no idea, perhaps to make more money...

Welcome to America! Where the businessman thrives and the artisan dies. Also, very plausible. I'm surprised a world-GDPR hasn't been made yet. =||= > > > Off-topic to the current flow of the conversation, but why are we trying to corporatize and datavaccuum an OPEN SOURCE software? Also, I'll be watching this thread for the best fork. I think the entire world should adopt a GDPR-like Data Protection policy. (Edit: I meant We as in Musegroup)
> > 
> > 
> > Well, I have no idea, perhaps to make more money...
> 
> Welcome to America! Where the businessman thrives and the artisan dies. Also, very plausible. I'm surprised a world-GDPR hasn't been made yet.

""The Land of the Free"", also where torrents are illegal... (I'm glad I live in France..) =||= > > Off-topic to the current flow of the conversation, but why are we trying to corporatize and datavaccuum an OPEN SOURCE software? Also, I'll be watching this thread for the best fork. I think the entire world should adopt a GDPR-like Data Protection policy. (Edit: I meant We as in Musegroup)
> 
> Well, I have no idea, perhaps to make more money...

We may speculate for days. I anticipate there'll be an official announcement at some point, and we might hear what Muse has in mind for the future of their acquisitions. =||= > I'm surprised a world-GDPR hasn't been made yet.

Some states (US) are working through new legislations similar to what CA has already. I hope more lawmakers follow suit. =||= Yeah. If it gets worse, we mass-PSA and ditch the main product in favour of less-sketchy forkwork. =||= > Yeah. If it gets worse, we mass-PSA and ditch the main product in favour of less-sketchy forkwork.

That might be already happening, y'know... =||= > > Yeah. If it gets worse, we mass-PSA and ditch the main product in favour of less-sketchy forkwork.
> 
> That might be already happening, y'know...

I apologize. I sometimes have trouble ""reading the room"" but I see what you're onto now. =||= I apologize if I killed the chat. Might as well add onto this.

I wont be surprised if Muse is revealed to be selling to the Chinese government, and if there's anywhere I DONT want my data, it's there. =||= > I apologize if I killed the chat. Might as well add onto this.
> 
> I wont be surprised if Muse is revealed to be selling to the Chinese government, and if there's anywhere I DONT want my data, it's there.

It's based in Russia I think, so not Chinese but Russian. =||= > I apologize if I killed the chat. Might as well add onto this.
> 
> I wont be surprised if Muse is revealed to be selling to the Chinese government, and if there's anywhere I DONT want my data, it's there.

No! You didn't! Don't worry :-) 
It's certainly a possibility.
Sold data can end up anywhere. Even if the company is (I think) Russian. =||= > I apologize if I killed the chat. Might as well add onto this.

I wouldn't call the chat dead. For my part, I'm just waiting to see what goes down. We have a couple of promising forks (forkers?) already, and I assume we can anticipate something from Muse on the subject.

🍿  =||= Hey there everyone,

This blatant breach of privacy and trust by Muse has left me absolutely disgusted. Throughout this ordeal, I've noticed many parallels to Google's Chromium project, where telemetry is implemented in an open source project. As such, in a similar vein to [Ungoogled Chromium](https://github.com/Eloston/ungoogled-chromium), I've decided to create a collection of patches that can easily and quickly be applied to the Audacity source code before the build process to cleanse the Audacity source from all of its tracking. Furthermore, this should work with future versions of Audacity, too, although I'll continue to support it as best I can for each new Audacity update in the case something breaks.

If you'd like to check it out. it's available at https://github.com/ssight/free-aud

Thanks! =||= Putin gonna hear copyright'd material, Putin gonna install Russian SpywareTM on our machines =||= > Hey there everyone,
> 
> This blatant breach of privacy and trust by Muse has left me absolutely disgusted. Throughout this ordeal, I've noticed many parallels to Google's Chromium project, where telemetry is implemented in an open source project. As such, in a similar vein to [Ungoogled Chromium](https://github.com/Eloston/ungoogled-chromium), I've decided to create a collection of patches that can easily and quickly be applied to the Audacity source code before the build process to cleanse the Audacity source from all of its tracking. Furthermore, this should work with future versions of Audacity, too, although I'll continue to support it as best I can for each new Audacity update in the case something breaks.
> 
> If you'd like to check it out. it's available at https://github.com/ssight/free-aud
> 
> Thanks!

Telemetry in UGC? Now that's special. =||= Also I think it's better if you merge the patches with my fork, I already have one with ""rebranding"", just so you know there isn't a crysis if you see what I mean... =||= Well not necessarily my fork, but the fork the community ends up choosing. =||= If I'm not wrong, I'm certain attempts are going to be made to yeet this whole fork thing into the sun because corporation. =||= Oh you are not the only one thinking that. Certainly they're just gonna pull a big uno reverse card at the last moment and yeet this whole thing into the air. =||= But it's still worth a try nonetheless :) =||= Yeah. If it means protecting the sanctity of open source from the grubby hands of the corporations who seek to exploit the commoner, then so be it. =||= I don't think patches onto the original software is the right approach as who knows if Muse Group will decide to mess with it. A fork, while a larger undertaking could be a safer decision in the long run.  =||= > I don't think patches onto the original software is the right approach as who knows if Muse Group will decide to mess with it. A fork, while a larger undertaking could be a safer decision in the long run.

They're still a quick and easy solution until Muse really messes up things I guess =||= > > I don't think patches onto the original software is the right approach as who knows if Muse Group will decide to mess with it. A fork, while a larger undertaking could be a safer decision in the long run.
> 
> 
> 
> They're still a quick and easy solution until Muse really messes up things I guess

Yeah but at the same time it's putting trust in muse group which doesn't really have much from me at least =||= Should we create a new issue on the repository to list current forks to let the community choose, or are we going too far for that? :v =||= > If you'd like to check it out. it's available at https://github.com/ssight/free-aud

Audaci***free***? :)  =||= > > If you'd like to check it out. it's available at https://github.com/ssight/free-aud
> 
> Audaci_free_? :)

Nice name but copyright violation :p =||= Also, should I add a **dark mode** to Audacity? Because life is never complete without dark mode, y'all know that! (Or I hope so xD) =||= > Also, should I add a **dark mode** to Audacity? Because life is never complete without dark mode, y'all know that! (Or I hope so xD)

Yes =||= > Nice name but copyright violation :p

Are you sure? Because I don't see any project named 'Audacifree' in the audio enthusiast space. You probably meant Trademark violation.  =||= > > Nice name but copyright violation :p
> 
> Are you sure? Because I don't see any project named 'Audacifree' in the audio enthusiast space. You probably meant Trademark violation.

Hm yeah. =||= But let's not get too excited, first, let's wait for the community. Just I hope we can merge the forks together to prevent having multiple forks for the user to choose from. =||= For the name, how about **Audience**? It can remind of Audacity by its name, it's pretty similar. =||= The name is the least important thing right now. What is important is someone that has experience maintaining a project getting involved and getting a viable fork made if this privacy policy isn't canned. Even if they backpeddle on it, the damage is done for me though. I'll be standing by for a spyware-free fork. =||= > The name is the least important thing right now. What is important is someone that has experience maintaining a project getting involved and getting a viable fork made if this privacy policy isn't canned.

It does kinda matter for the future but you're right the future is not the present. Let's say I'm not the most experienced (at C(++) coding and maintaing a project, I've never maintained a big project) but we'll see. =||= Oh damn... well they are acting ""seriously"" on it. =||= Well, just another public comment: fuck you Muse! We thought we could trust you, but apparently not. Just like most other companies out there that ""love"" open source so much that they destroy it. =||= > **Note**: Muse is actively deleting negative comments and comments that supports the community's stance on a public fork from this Github issue.
> 
> They've deleted 6 of my previous comments already in this thread alone from the last hour.
> 
> Anyone receiving notifications via email, should start archiving these posts, because they're going away quickly.

Maybe instead of whining about some replies they should actually address the issue?? =||= Starting the fork itself seems to be the easy part. But someone's random github fork is hardly going to keep the ball rolling/give a known alternative. In that manner people focusing on branding aren't actually too far off... Starting a new foundation to organize contributers, host a site, and bring people together, spread the news seems like the more pressing matter IMO. =||= > Starting the fork itself seems to be the easy part. But someone's random github fork is hardly going to keep the ball rolling/give a known alternative. In that manner people focusing on branding aren't actually too far off... Starting a new foundation to organize contributers, host a site, and bring people together, spread the news seems like the more pressing matter IMO.

Don't wanna be the guy making the rules here but I think I should start inviting people to my organization, and be all set in case a catastrophic event happens. =||= > > **Note**: Muse is actively deleting negative comments and comments that supports the community's stance on a public fork from this Github issue.
> > They've deleted 6 of my previous comments already in this thread alone from the last hour.
> > Anyone receiving notifications via email, should start archiving these posts, because they're going away quickly.
> 
> Maybe instead of whining about some replies they should actually address the issue??

Maybe we should move to another thread outside of their control? maybe a public chatroom where this could be discussed. I have noticed many of my comments have been hidden too =||= Maybe a Discord server? =||= If Muse is deleting comments we have to move somewhere else, caughtquick is right. =||= A well run discord server is a good first step probably. Planning mutiny on their forums... Aint sustainable. =||= https://discord.gg/ZH5234Abhb Well I've made one. =||= Discord is proprietary and corporate owned, wasn't that what was trying to be avoided? (may be being a little too crazy) =||= It's only in the meantime though, Muse doesn't control Discord so it's all fine, and it can be archived. =||= I am archiving posts starting around 16 hours prior to this post. =||= > A well run discord server is a good first step probably. Planning mutiny on their forums... Aint sustainable.

How about a matrix server? =||= libera.chat or Matrix? =||= > libera.chat or Matrix?

I'd prefer Matrix but IRC works great too.

Entirely depends on what the majority prefer/want it to be I guess. =||= Let's work as a community, and focus on the important parts, not reinventing wheels and dividing ourselves further. 

There's enough momentum over on Libera.chat to move there, and it's bar to entry is very low, only need a browser pointed to irccloud.com, if you don't have a standalone IRC client configured and at the ready. 

Matrix, Discord, others all require installing 'apps' which come with their own burdens, licenses and restrictions. We should promote the community using tools they're used to using, and would be comfortable adopting.  =||= > Let's work as a community, and focus on the important parts, not reinventing wheels and dividing communities.
> 
> There's enough momentum over on Libera.chat to move there, and it's bar to entry is very low, only need a browser pointed to irccloud.com, if you don't have a standalone IRC client configured and at the ready.
> 
> Matrix, Discord, others all require installing 'apps' which come with their own burdens, licenses and restrictions. We should promote the community using tools they're used to using, and would be comfortable adopting.

Discord has a web version, you don't even have to create an account, you can directly enter a username and use the web version =||= How about a room on libera.chat which can be bridge to matrix and accessible on #channelname:libera.chat =||= > > Let's work as a community, and focus on the important parts, not reinventing wheels and dividing communities.
> > There's enough momentum over on Libera.chat to move there, and it's bar to entry is very low, only need a browser pointed to irccloud.com, if you don't have a standalone IRC client configured and at the ready.
> > Matrix, Discord, others all require installing 'apps' which come with their own burdens, licenses and restrictions. We should promote the community using tools they're used to using, and would be comfortable adopting.
> 
> Discord has a web version

Discord is proprietary.
Matrix is open source but less decentralized than IRC  afaik but also has a web app called something like element web.

libera.chat is probably easier for everyone,
 =||= i don't think they're deleting all comments - or rather i certainly get the gist of the anger at Muse from the posts i am reading not mention all of the demands to fork. you do have to think about why Audacity is owned by Muse in the first place though - mainly due to disinterest by the previous developers in maintaining it. so a fork is great as long as you can come up with a core group of maintainers. personally i'd wait a bit for Muse to respond, but i'm definitely not disposed to fanning flamewars and outrage which is what social media is really good at.  =||= > How about a room on libera.chat which can be bridge to matrix and accessible on #channelname:libera.chat

This would be ideal but someone would have to set that up which might be complicated(?) =||= I'll add a Matrix bridge bot and probably IRC too so everyone can join. =||= Its not at all complicated, let me see if I can set it up
 =||= > I'll add a Matrix bridge bot and probably IRC too so everyone can join.

Be aware though, it might cost a bit. (not too much, depends if on the activity though) =||= > I'll add a Matrix bridge bot and probably IRC too so everyone can join.

Libera.chat is automatically bridged to matrix so only bridging that to the discord will be necessary.  =||= Looks like the ball is rolling! :) =||= Glad we all could agree on something 😀 =||= I read the headline and then decided to check my version because I don't remember updating in a while. I'm still running version 2.3. I'm guessing they can't apply this if I don't update, so I guess I won't be updating any time soon. =||= Anyone can create a Matrix room here? I found an easy bridge Matrix-Discord, here it is : https://t2bot.io/discord/ =||= That will leave IRC out of the mix though =||= > Anyone can create a Matrix room here? I found an easy bridge Matrix-Discord, here it is : https://t2bot.io/discord/

I could create one, although I'm not fond of owning a matrix server as I'm bad @ moderating. =||= i'll find an irc to discord bridge probably =||= Not to be discouraging but this issue has deteriorated to the point where it's beginning to read like a chatroom instead of a github issue :/ =||= That's why we're trying to make a real chat room too! =||= So basically, invite the matrix bot from the earlier link I sent (t2bot.io) then after it joined enter this command:
``!discord bridge 861365008684286002 861365008684286006`` =||= > Considering how schools use this software, including those who are kids, this is pretty unacceptable. Sure, you could fork it, and remove such tracking code, but come on. A normal end user shouldn't have to do that.

This. =||= > > Considering how schools use this software, including those who are kids, this is pretty unacceptable. Sure, you could fork it, and remove such tracking code, but come on. A normal end user shouldn't have to do that.
> 
> This.

But sometimes, it's just like that and it's unevitable, unfortunately. =||= It seems that the best course of action would be to take off-topic coordination to ""liberate Audacity"" somewhere else.
What I see would lead to an actual resolution is waiting for an official comment as the problem is brought up in full and there's hardly any new questions to the team.
Also, it's Sunday.
Also, this is not a forum, this is a Github issue.
As this is a legal question, there is quite a lot they would need to re-check with their current legal team who made that document. The policy may be a product of a miscommunication and could be reversed in full once they get to it.
Off-topic chatter here and ""this"", frankly, should stop. The only valid contributions I see from here would be compiling licensing contradictions this privacy policy introduces. =||= > It seems that the best course of action would be to take off-topic coordination to ""liberate Audacity"" somewhere else.
> What I see would lead to an actual resolution is waiting for an official comment as the problem is brought up in full and there's hardly any new questions to the team.
> Also, it's Sunday.
> Also, this is not a forum, this is a Github issue.
> As this is a legal question, there is quite a lot they would need to re-check with their current legal team who made that document. The policy may be a product of a miscommunication and could be reversed in full once they get to it.
> Off-topic chatter here and ""this"", frankly, should stop.

Miscommunication? Doubt it. They really detailled and ""forced"" the new things on their privacy policy. If it was just mentionned one time with no context yes it would be miscommunicattion but right now I don't think it is. =||= > Also, it's Sunday.

While I agree that ""this"" flooding my inbox is irritating at best, it is Monday morning for me... 
 =||= > > It seems that the best course of action would be to take off-topic coordination to ""liberate Audacity"" somewhere else.
> > What I see would lead to an actual resolution is waiting for an official comment as the problem is brought up in full and there's hardly any new questions to the team.
> > Also, it's Sunday.
> > Also, this is not a forum, this is a Github issue.
> > As this is a legal question, there is quite a lot they would need to re-check with their current legal team who made that document. The policy may be a product of a miscommunication and could be reversed in full once they get to it.
> > Off-topic chatter here and ""this"", frankly, should stop.
> 
> Miscommunication? Doubt it. They really detailled and ""forced"" the new things on their privacy policy. If it was just mentionned one time with no context yes it would be miscommunicattion but right now I don't think it is.

adding onto this they haven't yet even made a comment that this was a mistake or something of the like but they have hidden comments =||= > > > It seems that the best course of action would be to take off-topic coordination to ""liberate Audacity"" somewhere else.
> > > What I see would lead to an actual resolution is waiting for an official comment as the problem is brought up in full and there's hardly any new questions to the team.
> > > Also, it's Sunday.
> > > Also, this is not a forum, this is a Github issue.
> > > As this is a legal question, there is quite a lot they would need to re-check with their current legal team who made that document. The policy may be a product of a miscommunication and could be reversed in full once they get to it.
> > > Off-topic chatter here and ""this"", frankly, should stop.
> > 
> > 
> > Miscommunication? Doubt it. They really detailled and ""forced"" the new things on their privacy policy. If it was just mentionned one time with no context yes it would be miscommunicattion but right now I don't think it is.
> 
> adding onto this they haven't yet even made a comment that this was a mistake or something of the like but they have hidden comments

They have hid comments which means they definitely aren't here for the good. This just can't be a mistake, how could it be? =||= Hiding comments is a basic moderation action that could be done by any of the repo maintainers for any number of reasons, such as *this being a Github issue, not a forum*. You have the reddit thread for that. This is not Reddit.

Your goal is not to cause a random mess but to ensure Audacity and its team is heading in the right direction by providing valid feedback. This issue went long past ""valid feedback"", again, *this is not a chatroom*.

My own main concern here is that the privacy policy suggests ""law enforcement cooperation"" and that part is unclear to me and I'd like the reason for the inclusion of that clause in an offline software to be laid out first before I can draw any subsequent conclusions. Is it a copypasted legal generic? Is this a ContentID in the making? We don't know.

Most of what I see here stems from the following: when an entity acquires a codebase or some part of it, the entity is subject to international and local laws. Therefore the clauses that outline these interactions with governments appear in policies. When a project is maintained independently and no profit is involved, from a government standpoint it's an individualistic international swarm. With the acquisition a singular entity is now responsible for everything the software does or is and that entity needs to cover its legal bases.

What is needed here is clear communication of what exactly called for these privacy policy clauses and what kind of data exactly it covers. Telemetry is a good thing if done right, but it needs to be done *extremely right*. So far it is a PR void which is not a good look.

Need detailed answers. =||= > Hiding comments is a basic moderation action that could be done by any of the repo maintainers for any number of reasons, such as _this being a Github issue, not a forum_. You have the reddit thread for that. This is not Reddit.
> 
> Your goal is not to cause a random mess but to ensure Audacity and its team is heading in the right direction by providing valid feedback. This issue went long past ""valid feedback"", again, _this is not a chatroom_.

Actually you're right. I'll stick to the Discord I made for now. =||= ""Analytics"" is, in essence, telemetry. How many times are they going to try the same stunt before they realize we don't like it. =||= > Yeah let's not attack the open source developers who worked on this project for years so that this even exists in the first place and finally sold it so they could make a good chunk of money off it.
> 
> Does it suck the situation this software is in? Sure, but let's not attack the original developers for that.


It would be naive to allow our admiration of the dev team to prevent us from considering the consequences of a developer's actions. Like any issue, If you want to resolve this issue, you need to look for its root causes. And the devs selling it are one. Let's not let that happen again by ignoring it because we like those guys. =||= Paul Davis laughed at this =||= Under GDPR it's technically just completely illegal in european countries, after all under GDPR, only data strictly necessary for the use of the service is allowed to be collected and it needs to be opt in willingly.

There is 0 need for this data collection in audacity so it actually becomes illegal and I plan to report it =||= > There is 0 need for this data collection in audacity

Directly, no. Audacity could run just fine without it.

However, AFAIK, it's t o help developers improve the program, without having to rely on users sign up for GitHub, create an issue and manually provide information. =||= *Disclaimer: I'm not a lawyer*

@SeleDreams
> Under GDPR it's technically just completely illegal in european countries, after all under GDPR, only data strictly necessary for the use of the service is allowed to be collected and it needs to be opt in willingly.

I encourage you to contact your local data protection office about this indeed. unfortunately it might not be that simple and clearly illegal:
AFAIK at least some kinds of tracking and telemetry can be considered as a ""Legitimate Interest"" and thus are opt-out, not opt-in.
Also tying a service to accepting certain data transfers is not completely ruled out: While it is not allowed in the general case, there are specific cases where access to a service can indeed only be granted after opting in to tracking, like https://spiegel.de/, https://zeit.de/ and https://derstandard.at do by providing a paid option as an alternative. =||= > 
> 
> So basically, invite the matrix bot from the earlier link I sent (t2bot.io) then after it joined enter this command:
> `!discord bridge 861365008684286002 861365008684286006`

Ironic how people are trying to set up a discord chat room, a service that is probably the worst in the industry with regard to user privacy, with a history of handing out personal data in breach of GDPR to to anyone who asks, in a github issues post complaining about a new privacy policy. =||= The discord is being to bridged to matrix and irc right now  =||= Github and Discord are both owned by microsoft so it is self-consistent
 =||= > > There is 0 need for this data collection in audacity
> 
> Directly, no. Audacity could run just fine without it.
> 
> However, AFAIK, it's t o help developers improve the program, without having to rely on users sign up for GitHub, create an issue and manually provide information.

Yeah but under GDPR this isn't considered a valid information

under GDPR, a valid information to collect is one that's strictly necessary for the service to *work* *AND* this data must only be collected as long as strictly necessary (for instance a photo posted should be stored only as long as not deleted by the user and then deleted from the database)



> _Disclaimer: I'm not a lawyer_
> 
> @SeleDreams
> 
> > Under GDPR it's technically just completely illegal in european countries, after all under GDPR, only data strictly necessary for the use of the service is allowed to be collected and it needs to be opt in willingly.
> 
> I encourage you to contact your local data protection office about this indeed. unfortunately it might not be that simple and clearly illegal:
> AFAIK at least some kinds of tracking and telemetry can be considered as a ""Legitimate Interest"" and thus are opt-out, not opt-in.
> Also tying a service to accepting certain data transfers is not completely ruled out: While it is not allowed in the general case, there are specific cases where access to a service can indeed only be granted after opting in to tracking, like https://spiegel.de/, https://zeit.de/ and https://derstandard.at do by providing a paid option as an alternative.

actually it isn't valid for the gdpr to not allow to access the service without opting in to an optional option, the law however does not cover making it require to pay to use the service without data collection which might be the loophole that got used by some european websites =||= > Github and Discord are both owned by microsoft so it is self-consistent

Discord is not owned by Microsoft.  =||= This is completely unrelated to the topic on hand, there is also a matrix on #audiofork:libera.chat and an irc at libera.chat at #audiofork =||= So, someone pointed this fork in the subreddit: https://github.com/cookiengineer/audacity

Maybe, we should keep an eye on it.  =||= There is this one as well: https://github.com/SartoxOnlyGNU/audacium =||= im not a particularly eloquent person, but this whole situation is a massive bruh moment. =||= <details>
  <summary>Hidden reply</summary>

  > [The discord is being to bridged to matrix and irc right now](https://github.com/audacity/audacity/issues/1213#issuecomment-873710071)

  > [Discord is not owned by Microsoft](https://github.com/audacity/audacity/issues/1213#issuecomment-873712167)
  
  The background issue of promoting Discord still exists.
</details> =||= Shit software will always be shit [-] =||= Disgusting =||= Wow so Audacity is dead ?  I was not aware they was bought by an evil corporation that is slighty more evil than microsoft. =||= Me, who remembers what happened in #835
![image](https://user-images.githubusercontent.com/7574664/124432191-94d2a900-dd2e-11eb-929e-6080e04aca24.png)
 =||= > 
> 
> @AnErrupTion You are aware that my fork already removed all code that contained telemetry and networking? https://github.com/cookiengineer/audacity

I have one behind current audacity tree from before all this too: 

> 
> 
> > They're gonna change this or people will just move to a fork.
> 
> Unlikely they're going to change this, as they've already committed significant legal, development and other resources to this approach. There's probably revenue streams tied back to feeding the data to law enforcement as well, that they'll lose out on.
> 
> A fork, while undesirable in almost every case of an OSS project, is sometimes necessary to ensure the spirit and law of the licenses is respected. The problem with a fork in _this_ specific case, is that the main developers and copyright holders already signed over their rights to the Muse Group through a [CLA](https://www.audacityteam.org/cla/), and will likely not contribute to a forked version as well.
> 
> This means any fork would have to find the same level of development skills/resources, as well as _interest_ in continuing a fork, in order for that fork to survive and replace the one Muse is proposing.
> 
> Note: There are already [1.2k forks of the main audacity repository](https://github.com/audacity/audacity/network/members) already, many probably resulting from this news, so the codebase can be preserved before it moves under a Private repository.

Well, some are from round 1 of this crap with the pull request for google analytics and yandex we said, yah, nope. To be honest I would prefer any fork start there to make sure we have it all and carefully cherrypick commits back in.

I also want to have a closer look at that new ""utility library"" wx replacement. Which is why I haven't started cherrypicking commits on https://github.com/ewanm89/audacity yet.
 =||= Literally 1984. =||= DITCH =||= > 
> 
> > @AnErrupTion You are aware that my fork already removed all code that contained telemetry and networking? https://github.com/cookiengineer/audacity
> 
> Ah I didn't know, however I think you're a bit too aggressive when removing update checking (removing auto update is fine, but update checking.. really?)

Well, the check will need to send out a ping to a server somewhere, not saying we can't have that in the future, but I do not trust the current implementation and we should be careful to scrub anything that leads back to original audacity. =||= hear, hear! =||= I love being promised UI/UX updates and being given spyware updates instead lmao =||= > 
> 
> > > > > I'm guessing that this is indeed the end.
> > > > > RIP
> > > > 
> > > > 
> > > > There are forks and so the community, it will very likely be revived (cookiengineer has removed some stuff in his fork, I have made a fork too of Audacity)
> > > 
> > > 
> > > I'll definitely check those out.
> > > Shame this had to happen at all though.
> > 
> > 
> > Yeah but it's the sad truth after all... reality is reality, can't change that :/
> 
> Any suggestion on how to keep them from collecting data for now though? Sandboxing? Anything else?

3.0.2 Is from before all this, the worst it has is a manual update check where one has to go and click the button in the help menu. That said, I probably wouldn't trust a new download, but if you already have one it should be fine. Officially there has not been a stable release since all this stuff has been added. =||= > 
> 
> That name is going to be hard to pronounce, and doesn't really make sense. I much prefer ""Audacium"" instead of the additional ""...actium"" at the end.
> 
> But the presence of a fork, among a sea of 1,200 other Audacity forks, doesn't help the cause. We need commitment behind the vision, maintenance and development of the codebase, not just ownership.
> 
> So many here are focusing on logos and naming conventions, when we should be focusing on building a community of passionate developers to continue supporting the ongoing development and maintenance of the project.
> 
> The names and logos can come later.

The problem is, names and logo (especially) has to come early to prevent copyright and trademark issues MuseScore will likely claim, the code we can take, the name and logo, not so much. This is an issue often with forks. I agree we need to get those doing forks to pool efforts.

Good news is, with git, we can cherrypick from each other and merge back to one relatively easily. =||= > 
> 
> > > Someone should just fork Audacity and we can all move on
> > 
> > 
> > What about [cookiengineer/audacity](https://github.com/cookiengineer/audacity)? Is it reputable enough for people to get behind?
> 
> I feel like its still too early to get behind a fork and we have to wait to see how well they are at merging upstream patches, listening to the community, and removing some of the nonsense that audacity is adding.

Problem is, even if the current actual code is fine, the legal documents are not and once you agree with those, there is no going back. The 90% of the developers that signed the CLA are idiots from a legal perspective for signing those terms, but then most developers don't even pay that much attention to the intracacies of law and haven't been to law school, hire lawyers people.

We agree to this privacy agreement, there is no way to get out of it. We agree to this CLA and there is no way to get out of it. MuseGroup have all the power under those. =||= > 
> 
> > I'm making all that stuff to prevent copyright issues, just as a base.
> 
> ""Audacitium"" would fall under ""similar naming"", if the name was _trademarked_ by Muse Group, but it wouldn't fall under that clause if it was merely _copyrighted_ under that name.
> 
> The difference is in the legal protection that trademarks offer. Trademark, in this case, would refer to the similarity in the same industry (audio enthusiasts, bands, musicians), and not to the logo itself (which itself, can be trademarked separately from its name).
> 
> If Muse has registered a trademark for the name and logo ""Audacity"", then all bets on using ""Audacitium"" are off. Using your trademark does not protect you from someone else in the same industry using your name or logo, but _registering_ your trademark does.
> 
> Here's where things get tricky: If the original creators of the Audacity name or logo, did not sign the CLA, and only the developers did, and Muse tries to use their original creation, such as the project's logo, and use it as their own, they can be sued over the misuse of your copyright, but only if you have a copyright registration legally filed.
> 
> Many to most OSS projects don't go the extra step of filing for copyright protection with the US Copyright Office, but some do.
> 
> Before you go starting with new logos and names, that foundation should be established, and if Muse hasn't filed them, the project's developers should, to prevent Muse from using their name not in good faith with the industry that supported the project up to this point.
> 
> But circling back, the code, developers and community has to be established first, and at that point it's wise to choose a name, because you'll have a new direction, new charter and new leadership for the project.

Under trademark law, it has to be confusingly similar. As in average joe on the street would thing ""Audactitium"" is ""Audacity"" from MuseGroup (the from is important here as ""Trademarks are source identifiers of goods"").

On the copyright issue, that very much depends on country one is in. In most countries there is no such registration requirement, that is a US thing. A problematic one as other parts of the law make it clear copyright attaches with ""fixing in a tangible medium"". Also if the copyright is foreign, the registration is not needed even in the US. =||= I'm fond of a new name, perhaps something like ""Valor"". =||= > 
> 
> So basically you'd have to remake the entire headphone logo? Damn... I'm not a very skilled designer, if anyone here is a better one than me then they'd be better off making a new logo..

Copyright it is substantially similar standard, For Trademark confusingly similar standard (would someone pick up the wrong one when seeing them next to each other in an aisle at the local shop). As a such, I have some ideas. I think Audacium as a name is different enough, ""Aud"" part clearly refers to audio. =||= I had made a Discord sever so that this issue doesn't become a chat room : https://discord.gg/VMpvQVW9e4
Made it quite some time ago already but there were new messages.
It had a Matrix bridge but for now it's broken. =||= This is a good thing, people would start building Audacity from source, without offensive commits. What are those commits anyway? =||= If you are making a fork, you also need to change the logo and name of the software as that is a trademark. Or your fork will be DMCA'd. =||= > I had made a Discord sever

Don't know if this is a joke or double standards. An anti-tracking discussion in one of the most tracked networks. Congratulations, @AnErrupTion  =||= Muse doesn't have access to the Discord? =||= Bridged Matrix room at https://matrix.to/#/#audacityfork:semisol.dev, dunno if it's bridged to/from IRC though =||= @AnErrupTion https://discord.com/privacy :golfing:  =||= > @AnErrupTion https://discord.com/privacy 🏌️

I perfectly know Discord tracks users. I just wanted a quick solution for everyone, Discord doesn't require an account if using the web version. =||= So, at the end of this we have N copies of this repo with slightly different names and logos. With not a single repo providing a rationale or any sort of roadmap. Distros will end up packaging the original Audacity and not compiling the telemetry module (especially if upstream gets the long-awaited fixes about dependency vendoring while all of these ""forks"" go stale) =||= > Distros will end up packaging the original Audacity and not compiling the telemetry module (especially if upstream gets the long-awaited fixes about dependency vendoring while all of these ""forks"" go stale)

@sykhro distros can choose to put older versions in the package lists =||= > > Distros will end up packaging the original Audacity and not compiling the telemetry module (especially if upstream gets the long-awaited fixes about dependency vendoring while all of these ""forks"" go stale)
> 
> @sykhro distros can choose to put older versions in the package lists

I mean, yeah, they can, but why would they? If the thing can be disabled at compile time and newer versions bring less burden for packagers (and new features) I can't really imagine why they would stick with an older version.. =||= > Bridged Matrix room at [matrix.to/#/#audacityfork:semisol.dev](https://matrix.to/#/#audacityfork:semisol.dev), dunno if it's bridged to/from IRC though

Non discord bridged (+ IRC bridged) one is here, small reminder: [#audiofork:libera.chat](https://matrix.to/#/#audiofork:libera.chat)
And no, that one is not IRC bridged. =||= > recant or die

@AM-PM This is *not* OK. At first it's not spyware, it clearly tells you what it does and there is an option to disable it. But even if not this is *no* reason for a death threat. You wont help the community with this in any way. =||= > 
> 
> > recant or die
> 
> @AM-PM This is _not_ OK. At first it's not spyware, it clearly tells you what it does and there is an option to disable it. But even if not this is _no_ reason for a death threat. You wont help the community with this in any way.

first off, my anger got to me when i first heard about this (massive apologies), and second, ""recant or die"" is a reference to something stupid, i never intended that to be a death threat, **_AT ALL_**

the best option for the both of us would be to delete our comments before twitter users notice our comments and make this worse than what i said in horrible taste =||= Our telemetry data will be safely stored on a server in their offices, which happens to be in a **_hostile nation_**.   Yeah, uh, no thank you. =||= Repo maintainers are gonna throw a fit with this. Get ready to have messages like this when you try to install audacity if they dont walk all this crap back.
```
$ sudo pacman -S audacity
[#########] Reading package info
IMPORTANT NOTE:
As of <date>, Audacity, MuseScore and other FOSS Audio Applications have
come under the ownership of Muse Group, who have used their power to install
modifications to this program that violate your right to privacy.
A fork of this package is available, that does not contain those privacy
violating modifications, and it is STRONGLY recommended that you install it
instead. 
Muse Group Privacy Policy: https://mu.se/privacy-policy
More information on this issue: https://distro.tld/bulletins/audacity
Which package would you like to install?
[1] NewAudacityNoTracker
[2] Audacity
Enter selection [1]: 2
WARNING: You will be bound Muse Group's privacy policy if you continue
and install this version of Audacity. This privacy policy stipulates
you MUST be 13 years of age or older to use the software.
Please type the following message to confirm this action, or press
Escape or CTRL+C to abort this operation.
""I certify that I am at least 13 years of age, and understand the
warning presented to me in advance.""
Enter agreement: I certify that I am at least 13 years of age, and understand the warning presented to me in advance.
[#####] Installing audacity
```
_yes i did writer this whole thing, because my life is sad and i have nothing better to do, feel free to do whatever you want with it i dont care_ =||= ^^
 =||= Edit: this was in reply to a now deleted comment with name suggestions

PureAudio sounds too generic and could be mistaken for PulseAudio
Audacifree is better though  =||= > PureAudio sounds too generic and could be mistaken for PulseAudio
> Audacifree is better though

@ctaetcsh See <https://github.com/cookiengineer/audacity/issues/5#issuecomment-873688860> for a name suggestion thread. They also have some logo candidates already. =||= > So no, they are not violating the terms of GPLv2 or v3.

Oh good, only my privacy is being violated. =||= > On the copyright issue, that very much depends on country one is in. In most countries there is no such registration requirement, that is a US thing. A problematic one as other parts of the law make it clear copyright attaches with ""fixing in a tangible medium"". Also if the copyright is foreign, the registration is not needed even in the US.

""Such registration is not a condition of copyright protection."" (17 USC §408)

Copyright is still granted at the time the work is fixed in a tangible medium, even if the work is not registered, just the Berne Convention requires. It is true that your work must be registered to bring an infringement suit to court, but registration is a legal formality that can be done at any time, even after infringement occurs.

However, you can only get statutory damages for infringement that occurs after your registration; any infringement before your registration is limited to actual damages. (17 USC §412) =||= Yet another attack at user freedom.

I think it's a good idea for (former) Audacity users to learn privacy-respecting alternatives like Ardour (which is also way more powerful than Audacity).

I've been making video tutorials about it for years: https://www.youtube.com/playlist?list=PLi2LbJnGR-49PM2Pbs46zySEO-7tBsBsI

The downside is Ardour has a steeper learning curve, but I hope my work can mitigate that problem.

However some quick and dirty audio works are better done in Audacity. You don't always want to use an industry-grade multitool to just put a nail in a coffin (*cough* Muse Group *cough*), that's why Audacity is a valuable (even if simple) tool.

This ongoing assault on user privacy and freedom is pretty ridiculous. I can't imagine what the original Audacity authors must be feeling seeing their work being mistreated like this.

I also feel bad for Tantacrul, as he's become a public figure associated with this nonsense, while it's outside of his control. =||= For those who are searching for forks which removes audacity's telemetry bs and others things I found some of them:
- https://github.com/cookiengineer/audacity
- https://github.com/SartoxOnlyGNU/audacium

I found them thanks to this website: https://useful-forks.github.io

Audacity fork's list: https://useful-forks.github.io/?repo=audacity%2Faudacity

Here is the csv export: https://pastebin.com/raw/SRnfgiWB =||= > Repo maintainers are gonna throw a fit with this. Get ready to have messages like this when you try to install audacity if they dont walk all this crap back.

I don't see why they would keep the version that violates users' freedom. =||= @DC7IA Because it doesn't. Also there will be probably no message at all, because you can disable the functionality at buildtime. Messages like this are also not possible with pacman. =||= Oh snap. Don't tell me these halfwits actually made it after all the online backlash. They're gonna regret it.

Meanwhile, let's figure out the late Audacity's fork's name. My ideas: DAWing (from ""daring""), Valour. =||= Is the GPL violation reported? Should we report it? =||= > > Data necessary for law enforcement, litigation and authorities’ requests (if any)
> 
> I'd like to get some clarification on what exactly such data would entail. Why does an audio editor need to collect or keep any user data anyways? Let alone share it with whomever. I don't want any of the below to be tracked by an audio editor:
> 
> ![ffs](https://user-images.githubusercontent.com/63272687/124472717-bcf9f080-dd9e-11eb-9fa1-f68681bad25d.png)
> 
> I doubt this will be reverted so let me know which fork to move to. I'm over Audacity. It's been sold and the new owners don't care about the community, privacy or FOSS.

Currently there is decided fork

> Is the GPL violation reported? Should we report it?

Not reported, but we should

> Oh snap. Don't tell me these halfwits actually made it after all the online backlash. They're gonna regret it.
> 
> Meanwhile, let's figure out the late Audacity's fork's name. My ideas: DAWing (from ""daring""), Valour.

They changed the privacy policy, yes =||= I'm not an expert on the GPL, but the act of providing binaries with the traking and not having the source code of the trackers in the repository could be considered a violation?
 =||= remember kids, big companies buying libre software will always result in software becoming increasingly closed and more like malware. every time =||= For the love of God people, at least try to make something aesthetically pleasant when designing possible new logos. Here, for anyone who wants to use it in any way, including proposal of name for OC forks

![image](https://user-images.githubusercontent.com/28562978/124475807-6d1d2880-dda2-11eb-9176-9390775716a8.png)
https://files.fm/u/6ghmuvcuq =||= > more like malware

@maxymax13 Wouldn't call basic (opt-in) telemetry 'malware', again, they're doing this to improve the product. 

If you use Firefox, you're already submitting more data to Moz than Audacity would. Many open source projects implement telemetry.

To be fair,  I have no clue what the law enforcement stuff is about, and they did not go about this the right way, but I feel like this big of a backlash is way too strong for something that isn't really *that* big of a deal. The way people are making it seem is that it's uploading your browser history, credit card history and streaming webcam footage straight to Mr Tantacrul: Head of Audacity World Domination Industries™  =||= > I'm not an expert on the GPL, but the act of providing binaries with the traking and not having the source code of the trackers in the repository could be considered a violation?

![image](https://user-images.githubusercontent.com/45574030/124476675-c9d11100-ddab-11eb-8a9d-79d25f477afe.png)
Note: this is not legal advice

So, probably yes. =||= > > more like malware
> 
> @maxymax13 Wouldn't call basic (opt-in) telemetry 'malware', again, they're doing this to improve the product.

oh silly you, the part where they make it a ""product"" comes later 😉 
anyways, an audio editing program should never be collecting what one's doing, even if it's ""to improve it"". i also don't know why an audio editing program needs to require collecting stuff for ""law enforcement"". what are they gonna do, jail me for making a bad mashup? this is all superfluous for such a small utility software =||= ![muse-putting_out_a_fire](https://user-images.githubusercontent.com/51511737/124477237-11ec3580-dda4-11eb-9ddf-2549a83ff6b3.jpg)
 =||= > anyways, an audio editing program should never be collecting what one's doing, even if it's ""to improve it"". 

If a crash occurs, I'm pretty sure the developers would like to hear about it, so they can fix it. Not every user is going to sign up for GitHub, find the issue tracker, upload some crash dump.
It also helps developers prioritise commonly used features.

Don't like it? Don't opt in. If Audacity goes to a paid plan, or a 'cloud-supported' plan, forces telemetry, or sends anything other than basic usage data up, that's cause for concern. =||= > > anyways, an audio editing program should never be collecting what one's doing, even if it's ""to improve it"".
> 
> If a crash occurs, I'm pretty sure the developers would like to hear about it, so they can fix it. Not every user is going to sign up for GitHub, find the issue tracker, upload some crash dump.
> It also helps developers prioritise commonly used features.

Crash reporting is one thing, usage tracking is quite another can of worms.
 =||= > 
> 
> > anyways, an audio editing program should never be collecting what one's doing, even if it's ""to improve it"".
> 
> If a crash occurs, I'm pretty sure the developers would like to hear about it, so they can fix it. Not every user is going to sign up for GitHub, find the issue tracker, upload some crash dump.
> It also helps developers prioritise commonly used features.
> 
> Don't like it? Don't opt in. If Audacity goes to a paid plan, or a 'cloud-supported' plan, or sends anything other than basic usage data up, that's cause for concern.

I don't like this because Audacity is FOSS software, and a big part of it, and also seeing them underestimate the GPL and the FOSS comunity  =||= > Crash reporting is one thing, usage tracking is quite another can of worms.

@clort81 I agree. Usage tracking *can* go **very** wrong. If there's any way of linking to this user, that's bad, but as long as all the developers can see is 0.2% users used feature X I see it as being fine.

Of course, there's no way to verify this, other than the trust system, which isn't great.
 =||= > 
> 
> > Crash reporting is one thing, usage tracking is quite another can of worms.
> 
> @clort81 I agree. Usage tracking _can_ go **very** wrong. If there's any way of linking to this user, that's bad, but as long as all the developers can see is 0.2% users used feature X I see it as being fine.
> 
> Of course, there's no way to verify this, other than the trust system, which isn't great.

Thats the whole point of FOSS =||= > > If a crash occurs, I'm pretty sure the developers would like to hear about it
> 
> Nothing stops them from showing a notification telling the user there was a crash and asking them what to do next. This can be done without infringing on the privacy of users. The crash data can be pruned of anything unwanted and submitted (anonymously) to their website or allow the user to save the report so they can email or submit it on Github.

That was already decided in [may.](https://github.com/audacity/audacity/discussions/889) =||= > > Of course, there's no way to verify this, other than the trust system, which isn't great.
> 
> Thats the whole point of FOSS

As far as I'm aware, there's no way to verify the code running on Muse servers is line by line identical to the source published publically. =||= > > > Of course, there's no way to verify this, other than the trust system, which isn't great.
> > 
> > 
> > Thats the whole point of FOSS
> 
> As far as I'm aware, there's no way to verify the code running on Muse servers is line by line identical to the source published publically.

Yeah. =||= Almost nobody wants this.  =||= > 
> 
> > > Of course, there's no way to verify this, other than the trust system, which isn't great.
> > 
> > 
> > Thats the whole point of FOSS
> 
> As far as I'm aware, there's no way to verify the code running on Muse servers is line by line identical to the source published publically.

You don't need to know, FOSS code shouldn't contain trackers, and you should be able to build the code to be identical to the distributed binaries, to test if it they are being tampored with =||= > > > > Of course, there's no way to verify this, other than the trust system, which isn't great.
> > > 
> > > 
> > > Thats the whole point of FOSS
> > 
> > 
> > As far as I'm aware, there's no way to verify the code running on Muse servers is line by line identical to the source published publically.
> 
> You don't need to know, FOSS code shouldn't contain trackers, and you should be able to build the code to be identical to the distributed binaries, to test if it they are being tampored with

Reproducible builds.

And the point of FOSS is to eliminate trust. =||= > As @floopfloopfloopfloopfloop points out, this is incompatible with the GPL.
> 
> Privacy policy:
> 
> > If you are under 13 years old, please do not use the App.
> 
> GPLv2:
> 
> > The act of running the Program is not restricted
> 
> GPLv3:
> 
> > This License explicitly affirms your unlimited permission to run the unmodified Program.

I have a doubt: What does ""please do not"" exactly mean? Is it a prohibition? I don't want to see Audacity discourage kids to use it, but we have to make it clear to state that it is incompatible with the GPL.

Somehow related: [""must"", ""must not"", ""should"", ""should not"" and ""may"" in RFCs](https://datatracker.ietf.org/doc/html/rfc2119) (It doesn't include ""do not"" and it's for RFCs, so I said it's ""somehow"" related. This is provided not as a reference for what ""please do not"" means, but as an example that the exact meaning of phrases may differ from what we think.) =||= > 
> I have a doubt: What does ""please do not"" exactly mean? Is it a prohibition? I don't want to see Audacity discourage kids to use it, but we have to make it clear to state that it is incompatible with the GPL.
> 
> Somehow related: [""must"", ""must not"", ""should"", ""should not"" and ""may"" in RFCs](https://datatracker.ietf.org/doc/html/rfc2119)

Note that legalese is complicated, and not RFC. I believe someone said before that it doesn't violate the GPL.

Maybe they could possibly say the privacy policy only applies if you agree to telemetry? =||= > > > > Of course, there's no way to verify this, other than the trust system, which isn't great.
> > > 
> > > 
> > > Thats the whole point of FOSS
> > 
> > 
> > As far as I'm aware, there's no way to verify the code running on Muse servers is line by line identical to the source published publically.
> 
> You don't need to know, FOSS code shouldn't contain trackers, and you should be able to build the code to be identical to the distributed binaries, to test if it they are being tampored with

*""FOSS code shouldn't contain trackers""*

This seems wrong to me. FOSS code *can* contain trackers if the code for the tracking stuff is open source. FOSS guarantees that the software will remain free and its code will remain open for anyone to see, not that the software won't gather telemetry data =||= > 
> 
> > > > > Of course, there's no way to verify this, other than the trust system, which isn't great.
> > > > 
> > > > 
> > > > Thats the whole point of FOSS
> > > 
> > > 
> > > As far as I'm aware, there's no way to verify the code running on Muse servers is line by line identical to the source published publically.
> > 
> > 
> > You don't need to know, FOSS code shouldn't contain trackers, and you should be able to build the code to be identical to the distributed binaries, to test if it they are being tampored with
> 
> _""FOSS code shouldn't contain trackers""_
> 
> This seems wrong to me. FOSS code _can_ contain trackers if the code for the tracking stuff is open source. FOSS guarantees that the software will remain free and its code will remain open for anyone to see, not that the software won't gather telemetry data

Sorry that I mixed that up =||= History is bound to fork itself. LibreOffice, OpenJDK, now this

I am glad the GPL exists.
 =||= Maybe some GDPR-specialized pro could sue this useless Muse company out of existence? =||= Here we have some corporation trying to ruin a perfectly good piece of software. They don't listen to the users and now they want to NARC everyone out - unbelievable!!! =||= Uninstalling and removing from my toolchain =||= > Uninstalling and removing from my toolchain

Also, you can use a fork when they push releases. That is the best way to go
 =||= > remember kids, big companies buying libre software will always result in software becoming increasingly closed and more like malware. every time

And all you have to do to fix it is just fork the software! =||= > 
> 
> I wish GitHub could sort a fork list by stars and activity...

@AverageHelper
https://github.com/techgaun/active-forks =||= https://fosspost.org/audacity-fork-needs-help/ mentions [cookiengineer/audacity](https://github.com/cookiengineer/audacity) as the suggested heir fork. =||= > ![Fork me](https://camo.githubusercontent.com/3390b1ab3df7a0c8901c5949e93a4ad922ca30efb6464284ceb534929234e4ac/68747470733a2f2f632e74656e6f722e636f6d2f6755337768546771596373414141414d2f7468652d676f6f642d706c6163652d6b72697374656e2d62656c6c2e676966)

I came here to either say or see this, and I'm not leaving disappointed.  =||= Can we now just center around https://github.com/cookiengineer/audacity as the ""official"" fork of trackless audacity? I feel like these things need some kind of centralized movement and having many'a forks won't be helpful. =||= This new privacy policy is bullshit. =||= @Cyanic76 Indeed.
@Jemoka We will see how it plays out, but it seems like the dominant one right now. =||= For a software with such a legacy and quality, this is a safe way to see it die. =||= > > > ""The App we provide [Audacity] is not intended for individuals below the age of 13. If you are under 13 years old, please do not use the App.""
> > 
> > 
> > why is audacity rated higher than pg-13. I'm pretty sure this directly contradicts the license.
> 
> I'm pretty sure this is because the GDPR does not allow for children to give consent, although the age depends upon the member state, for example it's 18 in the UK, it's pretty clear whoever wrote it doesn't understand the GDPR.

GDPR discourages the collection of data, but has a set of rules in case someone collects data.
One of the rules is that you are mandated to specify to the user for what purpose you collect data, which Audacity does not. This is against GDPR itself. =||= Is this repo still safe to fork or changes are already here?
And we can use older versions of Audacity? If yes, what is the latest safe version? =||= > 
> 
> Is this repo still safe to fork or changes are already here?
> And we can use older versions of Audacity? If yes, what is the latest safe version?

You can fork it and remove the changes yourself. There are also forks that have those changes removed already. https://github.com/cookiengineer/audacity
As for which version is the latest safe version, as far as I know that'd be 2.4.2. Anything after that (version 3 and onward) is suspicious. =||= As long as they remain open source, all someone has to do is just remove their bullshit changes, and it can be basically kept in parallel right? =||= > As long as they remain open source, all someone has to do is just remove their bullshit changes, and it can be basically kept in parallel right?

That's what all the ""forks"" mentioned in this thread are about, yeah. =||= you're probably right, but it also requires a lot of work. So if anyone wants to help, this fork seems to be really good and you also notice that there is someone who has a plan of what he does:
https://github.com/cookiengineer/audacity

I'm not very good at C myself, but I'm very good at Rust, so if Audacity gets rewritten in Rust, I'm in.

Apart from that, if you know a bit of C, everyone can help to clean up this messy and bad codebase.

Many people use Audacity, they are counting on us not to just let the project go down! =||= Its so sad that some bullshit company killed the long gone open source community software by milking it as far as they can by adding telemetry and other spyware which no one wanted. FORK! =||= This has been a lesson in: How to kill your company 101!

Anyway, thank god for open source. At least older versions of Audacity are safe for people to use. =||= (I've never seen a thread with so many reactions as this in so short a time.  1271 👍's atm in 2 days. 👀 🚀) =||= How about naming the fork something like ""fork of Audacity that isn't disgusting spyware""  you can take out the apostrophe and stick an ""exe"" on the end for the executable.  =||= `fork of Audacity that isnt disgusting spyware.exe`? 😆 😆 🤣  =||= Sad to see that a open source application sending telemetry data, and having a completly trash privacy policy. Well, Audacity, good bye. Let’s see what will happen, you were good.. =||= @AnErrupTion's fork audacium is trying to stand out from the main repository by rebranding, which is important if we want end-users to recognize and use the anti-telemetry community-focused fork.
This is why I support the **audacium** fork. I hope @cookiengineer and @AnErrupTion will work together so that we'll all be backing the same horse. =||= I don't see the point in complaining about the legality of anything. Ever. Our entire society is run on the Golden Rule: ""Whoever has the gold makes the rules."" That's all. It doesn't ever matter what any piece of paper says unless it's a little green piece of paper with a picture of a famous dead guy on it. Law school is a seminary for the theology of a false god. What actually matters is that this is unethical, not that it's illegal. Morals are real: laws are lies.

> Following multiple discussions across various threads in Audacity GitHub repo, we are creating this topic to keep all relevant conversations focused in a single location.

They locked the thread when too many people started having that exact conversation.

> Finally, we wish to make Audacity available to everyone, which means releasing it on all platforms and through as many distribution channels as possible.

Even if we accept the premise that we wish to make Audacity available to everyone, which is certainly questionable (the Amish can't run it on their tractors) I must also point out that no, it doesn't mean that it has to be on every distribution channel for it to be available to everyone.

> Unfortunately, some platforms have policies or technical processes that make it difficult or impossible for Audacity to exist on them

Then we need to burn those platforms to the ground, erase every trace of their existence from every computer in the world and salt the earth upon which they were developed. =||= Did they really think no one was going to notice?
How do you go from ""we've made a mistake when it comes to data collection"" to ""the feds are able to watch you reverse cat noises""?
It has to be on purpose...
Purposely awful... =||= If having any new features for Audacity means data collection you can't opt out of, ***then we do not need or want any such features.*** Better the entire project be abandoned than for society in general to accept this as the way to make apps. =||= > Yep, the GPL violations is downright disgusting IMO, it's in direct violation to the code that hundreds of people have put in. Seems the best result here is that a fork of audacity comes out that doesn't have all this frankly nonsense in it. That doesn't seem to exist as of yet, most of them are just backup repos of right before the purchase though

I think some lawsuits are in order.  =||= In case future updates of official Audacity become closed source: You may want to add Firewall rules to the executables. It can be done easily in Windows Firewall and can block the application's internet connection while you can freely use your connection for all other programs like before. I cannot guarantee that this is 100% safe in the end however. =||= We are talking about Windows Firewall in many circumstances, and I _hope_ we all know MS's track record when it comes to data collection and network security in general. =||= > > > > ""The App we provide [Audacity] is not intended for individuals below the age of 13. If you are under 13 years old, please do not use the App.""
> > > 
> > > 
> > > why is audacity rated higher than pg-13. I'm pretty sure this directly contradicts the license.
> > 
> > 
> > I'm pretty sure this is because the GDPR does not allow for children to give consent, although the age depends upon the member state, for example it's 18 in the UK, it's pretty clear whoever wrote it doesn't understand the GDPR.
> 
> GDPR discourages the collection of data, but has a set of rules in case someone collects data.
> One of the rules is that you are mandated to specify to the user for what purpose you collect data, which Audacity does not. This is against GDPR itself.

Users in GDPR countries can lodge a legal complaint for breaking the law, for example here's how:

https://ec.europa.eu/info/law/law-topic/data-protection/reform/rights-citizens/redress/what-should-i-do-if-i-think-my-personal-data-protection-rights-havent-been-respected_en

Like #1229 mentions:
> Under the GDPR, this could lead to a fine of up to €10 million, or 2% of the firm’s worldwide annual revenue from the preceding financial year, whichever amount is higher. =||= This would send a strong message! =||= Bought it just to kill it... Shame!  =||= And here I was excited when Tantacrul revealed he would be working with Audacity... with the issues for under 13's this software arguably can't even be used in schools anymore. Definitely in support of a fork if they aren't going to fully backpedal this. =||= 


> 
> 
> And here I was excited when Tantacrul revealed he would be working with Audacity... with the issues for under 13's this software arguably can't even be used in schools anymore. Definitely in support of a fork if they aren't going to fully backpedal this.

Could you even trust them if they did? this is really confusing and shady behavior, and not something a company that claims to support open source software would do.  its really concerning for users of muse's other products, because if this is a hill their willing to die on, its clear they have no care for their users privacy or rights for that matter...  =||= What's happening right now is far, **_far_** too similar to what happened with Nano Adblocker when [it was acquired by some foreign entity.](https://github.com/NanoAdblocker/NanoCore/issues/362) 
Hell, right now it's certainly following some of the same steps; 

1. Buy previously open source software
2. Update the EULA/Privacy Policy with a bunch of suspicious stuff
3. Turn it closed source
4. Turn into malware

So far, only the first two steps have been followed.
 Really hoping that they stop here and go no further (or perhaps, move back) =||= Does the >13yo requirement _really_ matter? It's unlikely they'll try enforcing it. =||= > Does the >13yo requirement _really_ matter? It's unlikely they'll try enforcing it.

The 13yo requirement doesn't mater and its a formality in nine out of ten cases. It just exposes that 

A) They're collecting enough info for it to step into stuff the EU regulates

B) Schools shouldn't and hopefully won't feel comfortable having their students using the software in its current state =||= > > And here I was excited when Tantacrul revealed he would be working with Audacity... with the issues for under 13's this software arguably can't even be used in schools anymore. Definitely in support of a fork if they aren't going to fully backpedal this.
> 
> Could you even trust them if they did? this is really confusing and shady behavior, and not something a company that claims to support open source software would do. its really concerning for users of muse's other products, because if this is a hill their willing to die on, its clear they have no care for their users privacy or rights for that matter...

I was wondering about this, what if any is Tentacrul's relation to this whole thing? I'm foggy of the details of his position at muse and he's not uploaded any new video concerning it so far. =||= > I was wondering about this, what if any is Tentacrul's relation to this whole thing?

Unsurprisingly, the design guy didn't do it: https://twitter.com/Tantacrul/status/1412080445328666632

![](https://i.imgur.com/d3i4Vtv.png)

 =||= My current impression is that they're not currently collecting any information that requires a privacy policy, let alone one with alarming elements in it.

In that case there is no problem with the program itself, only with this document.

And that's not NOTHING.  For one thing we shouldn't allow the precedent of restricting children from using software when it's not warranted, and for another if you accept a document that would ALLOW them to collect personal information, one day there may be an update that DOES. =||= someone make a fork pls =||= @pranshuthegamer this repository has 1.4k stars, it seems to be where people who are unhappy with this are going. 

https://github.com/temporary-audacity/audacity =||= > Fork this or stop using it. There is no need for big brother in a mostly offline audio program.

Or just use a version from before it was taken over by the NSA and turned into spyware. My version is from 2017, they can't spy on me... I think. =||= Idk about GDPR, but in the US we have COPPA which disallows the collection of data for under 13. In any case this is completely unacceptable. A simple audio editor does not need to be spyware.

I hope distro maintainers are aware of this and act quickly. =||= I advocated for reasonable opt-in telemetry in the previous thread, but taking random privacy policy that is incompatible with your own licence, and then making it legally binding without understanding is a faux pas I cannot look away from. =||= Since this was people's to go audio editing software. I'm hoping the news reaches all users, specially those not technically savvy, and they are made aware of this.
Hoping for a good fork soon.

I'm no expert of GDPR, but even if this was Opt-in, I'm not sure it 100% follows GDPR guidelines, specially the part about 13yo using the software. =||= > Its so sad that some bullshit company killed the long gone open source community software by milking it as far as they can by adding telemetry and other spyware which no one wanted. FORK!

Well I completely understand the original Devs, the audacity is opensuorce highly valued software if you know and work with audio by yourself, however donations where as nicely said pretty miserable and code contributions? Just have look at repo and you will see...anyway did you donated anything towards this great opensuorce program? Money code or even how to manual or video? - sadness is right there...

Also agree fork it and keep version up and running perhaps publish code and contribute with others - and stop the moan palava or leave it. =||= I've been looking for a new project to take on. Perverting a great piece of software like this grinds my gears. I'd love to try making a decent fork out of this, removing the telemetry component. I'll do some code review and see where it leads me. =||= Leave this shit, use plain old ffmpeg '-' =||= > I've been looking for a new project to take on. Perverting a great piece of software like this grinds my gears. I'd love to try making a decent fork out of this, removing the telemetry component. I'll do some code review and see where it leads me.

Anyway I think this is overhiped a bit, any website out there is collecting ip address not to mention other stuff in cookies..even floss website or Ubuntu or nearly all of them so moan about tracking while reading those open source advisers is same as installation of audacity futured version..Pg 13 is different and I do not agree..I think people just not understand then come here to went..  =||= 🍴🍴🍴🍴🍴🍴🍴🍴 =||= Well, he will probably close this issue just like the other ones that have some words of truth. =||= Do you mean ""some words of truth"" as in ""a dumpster fire of over 400 comments with mostly unqualified bullshit from bystanders""? Nobody even reads this, or else people wouldn't be repeating themselves for three days. Tbh, this issue is getting nowhere and it should have been locked a long time ago. =||= > this is completely vague and tells us nothing about what is actually being collected.

It is intentionally vague so it could mean anything ""they"" want. Not limited to Audacity at all, of course. =||= A few weeks ago, my 9 year old son used Audacity - with some assistance from me - to edit and mix some music he'd played and recorded himself.

Apparently we're not valued Audacity users any more.  Time to go and look for - and donate to! - a popular fork. =||= > A few weeks ago, my 9 year old son used Audacity - with some assistance from me - to edit and mix some music he'd played and recorded himself.
> 
> Apparently we're not valued Audacity users any more. Time to go and look for - and donate to! - a popular fork.

[temporary-audacity/audacity](https://github.com/temporary-audacity/audacity) is a good fork =||= > [temporary-audacity/audacity](https://github.com/temporary-audacity/audacity) is a good fork

Thank you :)   =||= > > [temporary-audacity/audacity](https://github.com/temporary-audacity/audacity) is a good fork
> 
> Thank you :)

No problem. There is another one that I am participating in but its not ready yet, so wanted to give the easiest alternative. Also they have better management. =||= Very shady that no maintainer's gotten involved at this point. =||= > The problem with a fork in _this_ specific case, is that the main developers and copyright holders already signed over their rights to the Muse Group through a [CLA](https://www.audacityteam.org/cla/), and will likely not contribute to a forked version as well.

The CLA is non-exclusive. And as long as Audacity keeps the GPL, they can easily contribute the exact same code to both Audacity and a fork.

And, even if they personally don't want to bother contributing to both, as long as Audacity is still GPL, regardless of their privacy policy, or CLA, anybody can transfer any changes made to Audacity to a fork, so long as the fork doesn't diverge too far from Audacity.

Here's the relevant passage from the CLA:

>  You hereby grant to Company , a perpetual, non-exclusive, worldwide, fully paid-up, royalty free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute your Contribution and such derivative works.

Note two things:

- ""non-exclusive"": so they can contribute the code elsewhere as well
- license to ... sublicense: in other words, they could create a non-GPL version of Audacity, and use the GPL code in that version, however, the code would still remain GPL, and could be used in other GPL applications, such as a fork.

On the second point, I'm not sure that's even permissible with the GPL, but, that is what the CLA says, in any case. =||= > I've updated my fork for the ""Audacium"" name. How does that sound to everyone?

I would like to suggest SoundMonkey as a potential name for a fork. Completely unrelated, so as to avoid possible trademark issues, and kinda cool (in my opinion) sounding.

The logo would just be a little monkey, sitting, wearing headphones, focusing on the music, with some eighth notes floating out of the headphones. =||= > > I've updated my fork for the ""Audacium"" name. How does that sound to everyone?
> 
> I would like to suggest SoundMonkey as a potential name for a fork. Completely unrelated, so as to avoid possible trademark issues, and kinda cool (in my opinion) sounding.
> 
> The logo would just be a little monkey, sitting, wearing headphones, focusing on the music, with some eighth notes floating out of the headphones.

Interesting idea

~~Also reminds me of the browser userscript extensions.~~ =||= For some reason I reminded that Audacity was used in investigation about [Alexei Navalny poisoning](https://en.wikipedia.org/wiki/Poisoning_of_Alexei_Navalny). WSM Group headquarters is located in Kaliningrad and they are definitely will obey to Russian government laws in special cases. I know it sounds insane and conspiracy driven but I can't otherwise understand why they need ""data necessary for law enforcement, litigation and authorities"".

![photo_2021-07-06_18-05-36](https://user-images.githubusercontent.com/69355938/124625185-433d3200-de86-11eb-9b1f-66c4b04e17d8.jpg) =||= @aeiouaeiouaeiouaeiouaeiouaeiou it's also a standard clause in every single privacy policy ever, but hey, you really don't want to sound insane and conspiracy driven. =||= The only thing that pisses me off more than this move by Muse is that instead of addressing the issue - which is the dubious legality of this privacy policy in light of GPL - there's instead a stampede of basement dwellers spitting deranged bullshit about _russian gubrnment stealign muh data_ via an update check. =||= Does that mean, if I have a political private file on a computer with Audacity installed, and local law enforcement say they want the software provider help grab such file for them, Audacity would be willing to add such functionality to the version of software distributed into my computer? =||= @crsib is one of the bullshit contributor from muse group ig =||= Actually, do we know where are Muse Group from? =||= > Does that mean, if I have a political private file on a computer with Audacity installed, and local law enforcement say they want the software provider help grab such file for them, Audacity would be willing to add such functionality to the version of software distributed into my computer?

Not likely. Audacity doesn't really read random files on your computer. And it's still open source, so they wouldn't just add random features like that without somebody noticing.

What it means is that if you are involved in selling bootleg music, and use Audacity to process those files, and law enforcement wants MuseScore to help them prove that, they will.

Or, if you're secretly a political dissident, and have a podcast to promote your anti-government views, and you edit those podcast files with Audacity, Muse will happily hand over all information (most likely metadata) to help them make their case. =||= @goodevilgenius you're just said that they can't add features that would access files because people would notice, but somehow they can start uploading your audio files or metadata somewhere and somehow nobody would notice?

The only real case that comes to my mind is FBI coming to them because someone used their voice garbler plugin to process their church shooting manifesto, and Audacity handing them over 100k IP addresses that are associated with this plugin's usage stats =||= @Eugeny They already added telemetry features, and people did notice. This current privacy policy debacle is the culmination of the last few weeks of sketchy decisions. People have been complaining about this for a little while now, but this new privacy policy was the culmination of that.

But that's a really good example. That's exactly something they could already do. =||= > > Does that mean, if I have a political private file on a computer with Audacity installed, and local law enforcement say they want the software provider help grab such file for them, Audacity would be willing to add such functionality to the version of software distributed into my computer?
> 
> Not likely. Audacity doesn't really read random files on your computer. And it's still open source, so they wouldn't just add random features like that without somebody noticing.
> 
> What it means is that if you are involved in selling bootleg music, and use Audacity to process those files, and law enforcement wants MuseScore to help them prove that, they will.
> 
> Or, if you're secretly a political dissident, and have a podcast to promote your anti-government views, and you edit those podcast files with Audacity, Muse will happily hand over all information (most likely metadata) to help them make their case.

Open source only mean so much if you can guarantee the software being distributed into every single user's computer is build from the source identical to the version everyone see.

Authorities like Chinese government would tell companies which they have friendly relationship with, to ship a special version of their software to target's computers/devices, in order to obtain extra information from their devices.

The way this is worded seems to allow the company to legally do such thing. =||= According to https://github.com/audacity/audacity/discussions/1225, the wording is _supposed_ to indicate:

> * Compliance with Law Enforcement - We will not collect or provide any information other than data described above with with any government entity or law enforcement agency.
>    * Compelled by Court - Data is not shared upon an agency request; we will do so only if compelled by a court of law in a jurisdiction that we serve.
>    * Limited Window - After 24 hours the IP address being collected is irretrievably lost.
>    * Jurisdiction Requirements - We operate in many countries around the world and this is a standard policy requirement for providing services in many jurisdictions, regardless of the depth of data collected or nature of service.

i.e. the small amount of data that is collected in the process of handling an update check (IPs and the user-agent string) can be shared if legally required; it's _not_ supposed to indicate that extra data will be collected if some government requests it.

(This doesn't mean that the current wording is acceptable, especially since people are confused by it.) =||= All this is very exciting (not entirely in a bad way).  Honestly, I'm hopeful and can't wait to see the outcome. =||= > According to https://github.com/audacity/audacity/discussions/1225, the wording is _supposed_ to indicate:
> 
> > * Compliance with Law Enforcement - We will not collect or provide any information other than data described above with with any government entity or law enforcement agency.
> >    * Compelled by Court - Data is not shared upon an agency request; we will do so only if compelled by a court of law in a jurisdiction that we serve.
> >    * Limited Window - After 24 hours the IP address being collected is irretrievably lost.
> >    * Jurisdiction Requirements - We operate in many countries around the world and this is a standard policy requirement for providing services in many jurisdictions, regardless of the depth of data collected or nature of service.
> 
> i.e. the small amount of data that is collected in the process of handling an update check (IPs and the user-agent string) can be shared if legally required; it's _not_ supposed to indicate that extra data will be collected if some government requests it.
> 
> (This doesn't mean that the current wording is acceptable, especially since people are confused by it.)

In e.g. China, courts are not independent and are required to serve the interest of the ruling Chinese Communist Party, and thus adding compelled by court as condition is not going to sufficiently guard against such sort of requests, unless the vendor decided they aren't going to operate in China. =||= https://github.com/audacity/audacity/commit/368ab6f88845d1ac7723b6076e508aa4c619b4c6

This is a recent commit from yesterday authored by @JamesCrook 

In this commit, he removes himself, and three other regular developers @rbdannenberg, @SteveDaulton, and Greg Kozikowski) from the development team, within the ""About"" dialog, and moves them to ""emeritus"" status.

I wonder if these four developers decided to resign from the regular development team over disagreements with Muse regarding some of their recent questionable decisions. =||= Watch the FOSS community boycott Muse so god damn hard over these past few days lmao  =||= https://github.com/tenacityteam/tenacity =||= What about updating the fork from upstream?  Has there been discussion about this? =||= > 368ab6f88845d1ac7723b6076e508aa4c619b4c6
> 
> This is a recent commit from yesterday authored by @JamesCrook
> 
> In this commit, he removes himself, and three other regular developers @rbdannenberg, @SteveDaulton, and Greg Kozikowski) from the development team, within the ""About"" dialog, and moves them to ""emeritus"" status.
> 
> I wonder if these four developers decided to resign from the regular development team over disagreements with Muse regarding some of their recent questionable decisions.

Hey @JamesCrook, @rbdannenberg, @SteveDaulton! 👋🏻

If you don't mind, could one (or more) of you explain what's going on with that commit and the privacy policy change in general?

cc also @petersampsonaudacity =||= Funny, atm in Connecticut there is a severe thunderstorm; I've never seen it this dark before —  it	feels like 8 PM though it's only 5.  An omen? 😆 =||= > If you don't mind, could one (or more) of you explain what's going on with that commit

You mean apart from the barrage of insults, disrespect, and threats aimed at us from those claiming to be champions of open source software? Ask yourself, would you choose to put up with this shit after 14 years dedicated work for the benefit of the ""community""?

We used to have fun, making software for you, providing documentation and support. Helping you all to make music, audiobooks, discover the joys of sound. This is not fun. I've never ""had"" to do it, I ""chose"" to do it, and now I've had enough. Well done guys and gals.
 =||= I'm totally with you.  Have you more knowledge of the situation that those of us here? =||= Fork now =||= @SteveDaulton, come on, that ""privacy policy"" was an insulting sewer of lawyer spew that could only be tolerated in a commercial product.

Why was such a thing added, and why wasn't it deleted as soon as anyone read it? =||= > You mean apart from the barrage of insults, disrespect, and threats aimed at us from those claiming to be champions of open source software? 

@SteveDaulton thank you - your contributions have been valued by many people, including myself. I'm not heavily involved in audio work, so I've only used Audacity intermittently over the years.  But it's been very helpful when I've needed it.

But I'm leaving for, and financially supporting, a fork because you and Muse have **told me to leave**.  My current use case for Audacity is helping my 9 year old son record and mix his own music, and according to your new privacy policy, that's not allowed.

If you're feeling surprised by the level of venom these changes have provoked, it's because Muse's actions are massively violating community norms.  The age issue is just one of these: I cut my teeth on Slackware GNU/Linux back in the 90s when I was still in high school, and I'm sure many others here did too.  Applying privacy-invading analytics and a minimum age to a Free Software project feels like a slap in the face.

> Why was such a thing added, and why wasn't it deleted as soon as anyone read it?

@differentprogramming if I had to guess - no-one read it.  It was probably just chucked in as boilerplate (given similarities to other group boilerplate).  I once put an easter egg in my startup's ToS and only one person found it over the course of four years.  And he was a friend who went looking for things like that because he knew me :wink: =||= I STILL haven't heard anyone associate with the project in any way say ""ok, you got us guys, the 'children shouldn't use our software' clause was laughably absurd and we're taking it out!""

Instead I see people one of whom may have inside information (seems to) insultingly splitting legal hairs about what the GPL means and making specious arguments as if doing things that every other program does is a legal minefield.  

It isn't, grow up. =||= I am surprised that _anyone_ is surprised that people are angrily leaving the bar right after the bouncers told them to leave the bar.

I would like to note that they _still_ have not addressed the age restriction issue with reference to the GPL.  The GPL automatically nullifies any restrictions on _using_ the software, so no age limit is going to protect them from litigation if people 13 or under just ignore it and use it anyway.

I do believe in giving credit where it is due, so yeah, my thanks to those who started and supported this project.  _But_, this goes both ways, and credit for doing good does not magically absolve people of sin.  So at the same time as giving thanks for the good, I also acknowledge and give grief for the bad.  ""I'm unhappy that I did all this hard work, and now I am getting flamed for doing something bad,"" is just not valid.  If you were a party to this, _you deserve all of the backlask you are getting from it_, regardless of whether you also did good.

So thanks for the good, but no thanks for the bad, and if your response is to bail out as soon as someone points the finger, good riddance.  Sorry to see you shilling out after doing so much good, but quit pretending like the good magically makes you innocent. =||= > ""I'm unhappy that I did all this hard work, and now I am getting flamed for doing something bad,"" is just not valid.

It most certainly can be.  Consider that maintainers like @SteveDaulton have probably received more flames in this one thread than they have _ever_ received notes of appreciation for their work. =||= No, no it can't be.  ""But look at all the charities I helped"" doesn't absolve you of theft. =||= btw, has Steve ever endorsed the new privacy policy changes and/or the telemetry?  =||= Good question.  Somewhere around here someone asked him why he decided to leave the project, and he responded.  He didn't say he supported the changes, but he also didn't deny it.  His response did carry an implication, however, that he was insulted the community was opposed to the change.

To be clear on my position: If it turns out he was opposed to the changes, then he definitely didn't deserve all of the backlash.  The evidence thus far, however, suggests that he was in support of them. =||= No, he probably didn't care, but he took the atmosphere personally.
It's not developers who are in charge of a privacy policy, it would be the owner. =||= > No, no it can't be. ""But look at all the charities I helped"" doesn't absolve you of theft.

No, it doesn't.  But that's not what I was trying to claim.

My point was more that I can completely understand why @SteveDaulton got upset and left, based on the not-unreasonable assumption that he's received a lot more flamage over this one wrong thing, than support he ever received for all the right things. =||= Oh yeah, I'm sure he deserves more accolades for the good he did than he ever got.  Like I said, credit where it is due.  That still doesn't mean he doesn't deserve backlash though.

That said, I am also not suggesting the _level_ of backlash was appropriate.  It does seem like it was rather overdone, and given that, he _was_ probably justified in bailing out. =||= Linking a relevant and highly active thread (that many here already commented on, but which may have been missed by some): #1225 =||= In addition, I don't think this has been mentioned before: the age restriction prevents Audacity from being Open Source as per the [OSI's definition](https://opensource.org/osd):

> 5. No Discrimination Against Persons or Groups
>
> The license must not discriminate against any person or group of persons.
 =||= Less active but additionally relevant: #889 =||= The age restriction is due to Muse complying with COPPA for the data gathering.  Any contract or license including the GPL can’t supersede the law.  By gathering the data, which is not prohibited by the GPL, Muse isn’t the one restricting the use based on age.  I’d bet dollars to donuts were that ever to be litigated as a GPL violation (which it most certainly won’t) that would be their defense.   =||= > By gathering the data, which is not prohibited by the GPL, Muse isn’t the one restricting the use based on age.

I disagree.  If they left the data-gathering out, this would be a non-issue.  Instead they are _choosing_ to introduce a behaviour to the program (analytics data gathering) that makes it subject to COPPA, and thus in conflict with the GPL (perhaps) and the OSI definition of Open Source (definitely).

This is _entirely_ on Muse. =||= Even if we were, for the sake of argument, to accept the ***ridiculous*** premise that laws mean anything, the GPL doesn't restrict program behavior. There's no anti-spyware clause in the GPL AFAIK. Nor does introducing behavior that may be illegal in some country or other (like spying on 12 year olds) violate the GPL.

TL/DR: Saying anyone under 13 may not use the program does violate the GPL. Spying on children does not violate the GPL. It's just creepy. =||= > TL/DR: Saying anyone under 13 may not use the program does violate the GPL. 

Disagree.  From the GPL 2.0:

> 4. You may not copy, modify, sublicense, or distribute the Program except as expressly provided under this License. 
...
> 5. You are not required to accept this License, since you have not signed it. However, nothing else grants you permission to modify or distribute the Program or its derivative works. 

I'd argue that additional usage restrictions based on age constitutes sublicensing.  But I'm not a lawyer, hence my opinion that this perhaps violates the GPL.  I'm a lot more sure about it violating the OSI definition of Open Source.

... which is in itself an interesting situation.  How could GPL-licensed software not also be Open Source?

> Spying on children does not violate the GPL. It's just creepy.

Agree.

 =||= The chances of Muse facing litigation for collecting data on 13 year olds is greater than being litigated against as a GPL violation.   There are several firms that make a living on COPPA violations.  AFAIK there are only a handful of GPL suits brought to the court.  Sure they could take it out but they have business reasons wanting to keep it in.  I’d be more concerned with them not requiring a subpoena from the gov for data requests.  In many ways this is similar to how the Mariadb fork started after Oracle bought the mySQL trademark.  =||= But they're not ""gathering information"" by any sane definition of it, so this clause and the refusal to back down on it have to be a stalking horse.
 =||= > But they're not ""gathering information"" by any sane definition of it, so this clause and the refusal to back down on it have to be a stalking horse.

Not necessarily.  I'd put money on it being an ass-covering exercise actually, having experienced the same thing many times in corporate environments.

""I'm pretty sure we're not gathering any data that would fall afoul of $LAW.""
""Yeah but legal has said we need the disclaimer _anyway_.""
""_Fine._""

The difference here is that the ass-covering is (probably) in conflict with the pre-existing software license, and (definitely) renders it not Open Source. =||= By the way, the maintainer of the fork has been threatened in real life and his address published, so he's stepped down.
The fork is covered with trolling and a troll fork has also been made.
Jesus. =||= > By the way, the maintainer of the fork has been threatened in real life and his address published, so he's stepped down.
> The fork is covered with trolling and a troll fork has also been made.

![wth-is-wrong-with-you-people](https://user-images.githubusercontent.com/65949/124697642-7fc26980-df2a-11eb-9f07-ef9f84bba52a.gif)

 =||= They're promoting a troll fork that says ""More information for developers is available from 4chan's technology board."" on their readme. =||= > The age restriction is due to Muse complying with COPPA for the data gathering.

My understanding is that this requirement is because they specifically record personally identifiable information, namely, an IP address.

If they didn't record any personally identifiable information, that restriction, and much of this privacy policy, would but be necessary.

And if the purpose is to get aggregate usage data, as they've said, that information isn't necessary to record. =||= Here's how the GPL/age thing works:

The GPL states that no restrictions can be placed on the use of the software.  The GPL also states that any restrictions placed are invalid and can be removed or ignored without changing the licensing.

So first, it is a violation of the GPL to put an age restriction on the software.  There is no law requiring Muse to add anything to the software that requires an age restriction, thus adding that is completely voluntary, and the subsequent requirement to add the age restriction is actually not a requirement but is rather completely voluntary.  As such, the law does not protect them from litigation over the GPL violation.

Second, because the GPL explicitly and automatically invalidates and removes any restrictions to use, the age restriction is completely invalid and meaningless.  Legally, this means that it _cannot_ protect Muse, if people 13 and under choose to use Audacity, and they end up collecting data on them.  ""Oh, we had a restriction"" won't hold up in court, when the license explicity invalidates and removes all restrictions.

In short, they are trying to cover their butts, but not only are they violating the license terms _they agreed to as a condition of distributing to the software_, they are also totally _failing_ to _actually_ cover their butts.  In doing this, they are actually leaving themselves open to legal liabilities _on both sides_.


(Not a lawyer, but _actually read the GPL_, too many times so far.) =||= As @goodevilgenius says, it's the identifiable information in this case the IP address.  I have first hand, direct experience in data collection matters relating to COPPA.

>Second, because the GPL explicitly and automatically invalidates and removes any restrictions to use, the age restriction is completely invalid and meaningless. Legally, this means that it cannot protect Muse, if people 13 and under choose to use Audacity, and they end up collecting data on them. ""Oh, we had a restriction"" won't hold up in court, when the license explicity invalidates and removes all restrictions.


Nothing protects anyone from being litigated against. However it's established under law that an open source license is a contract in the US.  That means provisions of a license are null and void when competing against an established law (in this case 16 CFR Part 312).  When that part of the contract is stuck down by existing law there can be no violation of the contract.  Specifically forbidding young users and having a dialog has been found to be sufficient to comply with COPPA.  Law trumps contract terms every single time.  Of course if you have some case law where the GPL supersedes established law I'm all ears.  

As for someone litigating Muse over GPL violations the chances are slim and none.  FIrst, someone would need standing.  Perhaps a contributor.  Not a user.  Second, and more important, you would need assloads of cash.  Well into six figures just to start.  This isn't an issue of great public importance so the usual suspects that fund these things, EFF, etc aren't going to buck up.

ETA COPPA CFR =||= >  When that part of the contract is stuck down by existing law there can be no violation of the contract. Specifically forbidding young users and having a dialog has been found to be sufficient to comply with COPPA. Law trumps contract terms every single time.

Sure.  So by adding PII data collection to Audacity, Muse has rendered it _not Free or Open Source Software_.  It no longer complies with the GPL (at least in the US, where COPPA trumps GPL), and it no longer meets the OSI's definition of Open Source.

I'd not given this much thought before now, but I suppose this means that software cannot both be Free or Open Source, _and_ collect PII by default.  At least not in jurisdictions with COPPA or similar.

Edited: Thinking on this some more, it'd seems like COPPA compliance would be achieved by just making the analytics opt-in, right?  And providing an age notice there?   =||= I think you are missing the point.  The point is that because the GPL invalidates the age restriction, Muse cannot claim that the user violated the restriction, leaving Muse 100% liable for collecting the data.  I'm not suggesting the GPL trumps the law.  I am suggesting that the GPL _invalidates the defense the age restriction is supposed to create_.

The point of the age restriction is that _when_ users 13 years old and under use the software, resulting in Muse collecting their data (which I think we all know _is going to happen_), Muse can claim that _they_ are not liable, because the data was collected as a result of _user_ violation of the license.  _However,_ because the GPL explicitly nullifies the age restriction, that defense cannot hold, because the user _didn't_ violate the license, because the age restriction _wasn't valid in the first place_.


On a side note, the FFS _does_ keep open source lawyers on hand specifically for litigating GPL violations.  They typically save their resources for cases that are high profile, likely to result in permanent changes to the law (ie., could get to the Supreme Court or some other high court), or are such clear violations that they would be easy to win and set precedents supporting elements of the GPL that haven't already been tested in court.  This would be kind of high profile.  It definitely won't make it to any high court.  _But,_ as far as I am aware, this _is_ part of the GPL that has not been tested and that would likely be easy to win.  (Easy not as in _cheap_, but as in, the violation is obvious and clear.  Funding isn't a huge issue for the FSF, and it's lawyers don't generally charge a ton, because they are doing this in part as a charitable service.) =||= Well they're either going to fix the privacy policy or they're not.

If they don't take out the ""not for kids"" clause then obviously schools will find a fork, and probably the Linux distributions will move to the fork.  

I think the 4chan raid on the fork is over.  They targeted one maintainer and he quit. 

I'm sure 4chan has real programmers who hang around so we'll see if their fork blossoms past the ""we're trolling Muse and random people"" stage.  You'd think not, but they may have teenagers who have more time on their hands than adults do. =||= Yeah, that ""no kids"" clause is the real killer.  It's also the one thing they keep sidestepping, dodging, and generally ignoring.  If they can't get rid of that, it will likely be the killer.  I've got kids, and I'm sure some of them will eventually want to do stuff with audio processing.  In fact, I am currently working on a project designing a MIDI input device (based on something made by John Park at Adafruit, with some critical differences), and I am pretty sure that once I have it working, my kids are going to want to play with it.  And I'll be surprised if at least one or two aren't interested in recording and doing stuff with music they are making using the device.  Am I going to use Audacity for that?  Not if there is a ""not for kids"" clause.  All of my kids are under 14, and quite frankly, I am not going to put up with that kind of discrimination, for some stupid auto-update feature.  I'll use a fork and compile myself before I do that. =||= Please can everyone remember terms of GPLv3 are different to GPLv2. Certain things that would not be allowed under version 3, are under version 2...

At best under either licence telemetry legality for minors is a gray area of law.

There is still issues, which is why a fork is needed so schools and such can use the software. And the issue with this kind of cover your ass language, is there is no transparency or non-legal ability to do worse later. Please remember Muse is trying to close the code up with their CLA too. They could make the binary version under a new proprietary licence, have that version distributed binaries wise and have it sending every bit of audio back to them to check against their own copyrights in a contentID like bot under these terms. While this would be monumentally stupid, from a legal point of view, these terms allow that. =||= To pizzadude's comment about firejail, if you have firejail installed, it has a profile for audacity which prohibits net access (/etc/firejail/audacity.profile)

Also, there is a profile for musescore. If anyone using musescore is concerned with theft of IP, simply add the **net none** option to the profile. =||= Of course it says this... =||= Muse Group's reaction after all this mess looks like:

![tenor](https://user-images.githubusercontent.com/69355938/124919015-64289300-dffe-11eb-86c0-93355eeec34c.gif) =||= Shoutout a recent project, Audacium, a promising Audacity fork already with hundreds of stars.

https://github.com/SartoxOnlyGNU/audacium

> The goals Audacium is trying to achieve are pretty simple :
> 
> Restoring Audacity to what it was before, with no crash reporting (GH Issues exist for that), or very simple update checking (only at startup, not periodically)
> Adding new features people want, listening closely to the community
> Make the code base easier to work with, less confusing for a newbie
 =||= Reason for collecting personal data: So they can steal your recording and file a false DMCA claim. =||= @milasudril quit flaming and say something constructive FFS. =||= Yeah, nope on Audacium.  Cool name, but ""already with hundreds of stars"" tells me it isn't doing very well at all.  The [Tenacity fork](https://github.com/tenacityteam/tenacity) had over two _thousand_ stars two days ago.  I just checked, and it is up to 3.7k stars now, while Audacium has only 242.

Don't get me wrong, I am glad to see there is significant momentum behind this, but it's a shame people are still trying to make headway with forks that aren't getting significant community support, when they could be showing solidarity with the larger community and combining their efforts. =||= Stars indicate popularity. Not staying power.

https://github.com/SartoxOnlyGNU/audacium/issues/3 =||= So you are suggesting that the 242 stars on your fork are more likely to have a solid community than the 3.7k on the other?  Would you care to explain why you are so convinced that so many more of those 242 people will stick around than the 3.7k?  By my math, 93% of those 3.7k could bail out, and it would _still have_ more people than your measly 242, if you didn't lose a single one.

Sure, popularity doesn't indicate staying power, _but we are talking about the exact same product_.  I am going to back the more popular one, because higher popularity does indicate _far higher **odds** of staying_.  You've got 13 forks.  That's 13 potential contributors.  The other has 165 forks, which is 165 potential contributors.  Again, over 90% could bail out on the more popular one, and they would still have a bigger core developer pool than yours will have if _no one_ bails out.

It's all about probability.  Popularity may not indicate staying power, but it _does correlate with staying power_.  And given that this correlation is the only metric we have for estimating staying power, the evidence strongly suggests the more popular one has well over 10 times the probability of sticking around.  That is, unless you have some inside information about both of these that I don't?...  I didn't think so. =||= Deleted Audacity from all my PCs and laptops. Thanks for putting it out clean. Tenacity looks good.....installing  =||= It’s too early in the forks to claim one is more popular than another.  Github users are devs and dev enthusiasts.   Where the rubber meets the road is when it’s shipped and rank and file users start downloading and using it.  That said the Tenacity fork looks to be well on its way.  Still much to do though. =||= This is a valid argument.  It's definitely not clear where users will be on this.  That said, the Tenacity fork has a _strong_ head start.  The question right now isn't so much whether the community will get behind them.  The community will probably back whichever gets into the major Linux distros first (and the distro decision makes are devs, so devs will ultimately be the ones making the final call).  The question is going to be, can they maintain the momentum?  Their odds are much higher than other forks with only 5% of the support, but all it would take is a few bad decisions by fascist project leads, and we could see the same mass exodus we are seeing for Audacity.

So yeah, very much in the air.  But, if I _had_ to bet, I would bet on the one with 3.7k stars over the one with less than 250.  More people means more people likely to stay, more room for community involvement and feedback (because more community overall), and more people to contribute.  I think what it comes down to is that Tenacity is _going_ to win this, unless people with authority over the repo _really screw it up_.  (Also, given the response of the community, ""Tenacity"" seems like a much more appropriate name.  But that's just me.) =||= At the current stage, what matter more is not the number of stars each forks are getting, but rather, the ability each fork to be able to roll out stable and quality bugfixes and updates as necessary in the future, and whether their developers can make people feel confident about their ability to maintain their fork.

But then, for multiple reasons, including the manager of this repo have right to control this thread, as well as the theme of this thread is about something else, I don't think this thread is the best place to discuss future of various forks. =||= Right, but again, it's 160+ forks versus around 13.  That's no guarantee that all of those forks are going to be serious contributors, but the more there are the more potential contributors there are.  So again, the more popular one still has better odds, because more people at least seem to be _interested_ in contributing.  That's still no guarantee the more popular one will ultimately be the better one, but it does have more potential to be, at this point in time. =||= Speaking of popularity: Don't forget to remove your star from this repo. =||= Why @davidak? I don't see why actually.  In fact, during the past 3 months, and especially the past week, the stars on this repo (https://github.com/audacity/audacity) has skyrocketed. https://star-history.t9t.io/#audacity/audacity =||= People are starring this repository so they can know (and warn others) when the next shoe drops =||= >Why @davidak? I don't see why actually. 

@bl-ue if you don't want to promote Audacity in the current form, why give it a star?

It's just a small thing to show that you dislike the current direction. =||= True, but why not wait until they make a decision?  To me, it's not clear that they're going to continue doing the stuff everyone is opposed to.  Personally, I want it to stay where it is in my starred list unless I'm sure I'm not going to want _it_ any more, which I'm _not_ sure of. =||= Here's what they could do to make this right:

1. Put a clearly described option in the installer to turn the telemetry on or off. (also in the options menu for if you change your mind. Should default to ""off"" in portable installations)

2. Include language in that option in the installer asking that anyone under 13 turn telemetry off, but is of course welcome to continue using the app.

3. Let the community control the build process, so everyone knows exactly what code goes into the builds and there are no surprises.

To me, this would fix it. I'd be OK with continuing to use official Audacity under these conditions. The CLA is annoying and may put off some people from contributing but it isn't the totally evil practice that telemetry you can't turn off is. =||= >     2\. Include language in that option in the installer asking that anyone under 13 turn telemetry off, but is of course welcome to continue using the app.

Because when you turn 14, you suddenly understand tracking on the internet, sure. =||= Audacity is dead =||= > Because when you turn 14, you suddenly understand tracking on the internet, sure.

No, because the law in some countries in which they wish to operate criminalizes tracking minors under 13.

Telemetry to gather statistics on app usage isn't inherently evil ***when you can turn it off*** and devs can scrutinize exactly what info it collects. =||= >  isn't inherently evil _**when you can turn it off**_

No, the other way around. If you *can* turn it on, but don't get it shoved in your face. =||= True, but if you _could_ turn it off, package installers would make sure it was installed _with_ the option off. =||= > package installers would make sure it was installed _with_ the option off.

When building from source, networking is disabled by default, so there is no update checking and no bug reporting unless you explicitly enable those options. This can be seen in the CMakeLists.txt file:
```
cmd_option( ${_OPT}has_networking 
   ""Build networking features into Audacity""
   Off)
``` =||= Has anyone gone through the source yet to see exactly what the telemetry is sending? The privacy policy is worded very sus, I just wanna know what the heck they mean =||= > I'd argue that additional usage restrictions based on age constitutes sublicensing. But I'm not a lawyer, hence my opinion that this perhaps violates the GPL.

It doesn't seem like you were disagreeing with me here. It sounds like you were completely agreeing with everything I said, except with adding a ""perhaps"" to what I said.

If Audacity has a GPL release at all, then that GPL release inherently grants the right to minors under 13 to use the software and prohibits anyone who redistributes the GPL release from adding any restrictions to conditions of further redistribution which would restrict minors under 13 from using the software. That's part of what GPL means. Muse may, if they've secured all the relevant copyrights to all the existing code in Audacity, choose to also put out a non-GPL release that's proprietary software and they can ban minors under 13 from using that all they want. But they can't stop minors under 13 from using the GPL release because the GPL says what it says. The GPL is designed specifically to prevent restrictions just like this one from being introduced. =||= While not *directly* related to the topic of Audacity's privacy policy, apparently Muse Group are comfortable blackmailing people with threats to their life: https://twitter.com/marcan42/status/1417085393762099200 =||= @workedintheory wanna explain yourself? =||= > apparently Muse Group are comfortable ...

While distressing information, this sounds to me like a separate issue from the present one, and this thread is likely not the place to discuss it. =||= > > apparently Muse Group are comfortable ...
> 
> While distressing information, this sounds to me like a separate issue from the present one, and this thread is likely not the place to discuss it.

While it is indeed a little off-topic, it paints a picture of the company behind this privacy policy. What they stand for. What behavior they accept & condone from their employees. The ability of their lawyers when crafting privacy policies, or reaching out regarding perceived infringements. Now that more of us have a broader picture of what Muse are really like, we can address the privacy policy in this light and develop more informed opinions about it. =||= > and this thread is likely not the place to discuss it.

No, I think it really is on-topic for this thread.

People have been asking to give Muse the benefit of the doubt; the argument is that this stuff is just group boilerplate, and that we can trust them to do the right thing regardless of what the licenses and terms of service say.

I think this shows pretty convincingly that none of that is true.  ""Were he deported to China, who knows how he may be received.""  Nice life you have there, be a shame if anything happened to it 😠

![comment](https://user-images.githubusercontent.com/65949/126235344-e81180e5-c1db-42e1-a2d8-dd0c145ee5da.jpeg)
 =||= > While not _directly_ related to the topic of Audacity's privacy policy, apparently Muse Group are comfortable blackmailing people with threats to their life: https://twitter.com/marcan42/status/1417085393762099200

Well, the new Audacity owners seem nice! /sarcasm =||= > ![comment](https://user-images.githubusercontent.com/65949/126235344-e81180e5-c1db-42e1-a2d8-dd0c145ee5da.jpeg)

What's the source for that image? I want to look more into this incident. =||= > > ![comment](https://user-images.githubusercontent.com/65949/126235344-e81180e5-c1db-42e1-a2d8-dd0c145ee5da.jpeg)
> 
> What's the source for that image? I want to look more into this incident.

https://github.com/Xmader/musescore-downloader/issues/5#issuecomment-882450335, 
click on the edited, then click on the second entry from the top. =||= This issue is also relevant https://github.com/Xmader/musescore-downloader/issues/130 MuseGroup seems to confirm that threats *are* company policy and not some rogue, over-eager employees. =||= > > > ![comment](https://user-images.githubusercontent.com/65949/126235344-e81180e5-c1db-42e1-a2d8-dd0c145ee5da.jpeg)
> > 
> > 
> > What's the source for that image? I want to look more into this incident.
> 
> [Xmader/musescore-downloader#5 (comment)](https://github.com/Xmader/musescore-downloader/issues/5#issuecomment-882450335),
> click on the edited, then click on the second entry from the top.

Damn. I've been using MuseScore all this time and just discovered that stuff like this was going on in the background. People should really be made more aware on how MuseGroup behaves.
Can't believe this happened an year ago and only now is this getting coverage: [https://www.theregister.com/2021/07/20/muse_group_deportation_threat/](https://www.theregister.com/2021/07/20/muse_group_deportation_threat/) =||= > Can't believe this happened an year ago and only now is this getting coverage: [theregister.com/2021/07/20/muse_group_deportation_threat](https://www.theregister.com/2021/07/20/muse_group_deportation_threat/)

Wait, that is **ONE YEAR OLD**??? What?!
This is actually BS =||= > > Can't believe this happened an year ago and only now is this getting coverage: [theregister.com/2021/07/20/muse_group_deportation_threat](https://www.theregister.com/2021/07/20/muse_group_deportation_threat/)
> 
> Wait, that is **ONE YEAR OLD**??? What?!
> This is actually BS

The article is pretty new, but the github thread here: [https://github.com/Xmader/musescore-downloader/issues/5](https://github.com/Xmader/musescore-downloader/issues/5) was opened on February 8, 2020. The fellow who threatened him, workedintheory, is the same guy who wrote this: [https://github.com/audacity/audacity/discussions/1225](https://github.com/audacity/audacity/discussions/1225). The original threat post has since been removed but has been archived on waybackmachine [https://web.archive.org/web/*/https://github.com/Xmader/musescore-downloader/issues/5](https://web.archive.org/web/*/https://github.com/Xmader/musescore-downloader/issues/5).

Like Audacity, MuseScore is also currently having discussions on having forks - Just that the fork should have occurred ages ago given how MuseGroup actually behaves behind the scenes. Who knows, there may be even more incidents, just that they weren't publicized enough. If anything, I think that this proves that MuseGroup is not an organization that should be trusted and we should've started forking the moment they announced their acquisition of Audacity. =||= > The article is pretty new, but the github thread here: [Xmader/musescore-downloader#5](https://github.com/Xmader/musescore-downloader/issues/5) was opened on February 8, 2020. The fellow who threatened him, workedintheory, is the same guy who wrote this: #1225. The original threat post has since been removed but has been archived on waybackmachine [web.archive.org/web/*/https://github.com/Xmader/musescore-downloader/issues/5](https://web.archive.org/web/*/https://github.com/Xmader/musescore-downloader/issues/5).
> 
> Like Audacity, MuseScore is also currently having discussions on having forks - Just that the fork should have occurred ages ago given how MuseGroup actually behaves behind the scenes. Who knows, there may be even more incidents, just that they weren't publicized enough. If anything, I think that this proves that MuseGroup is not an organization that should be trusted and we should've started forking the moment they announced their acquisition of Audacity.

Yep the thread I am talking about. =||= Marginally off-topic, but MustGroup is evil, and perhaps should consider not threatening people who they think may violated their license with death threats.

The good news is that at least the name ""Audacity"" has another layer of meaning to it =||= The final revised Privacy Policy was release with 3.0.3 
a) the age restriction has been removed
b) no personal information is gathered
c) users can opt out
c) for folks who build Audacity (e.g. distros) networking has to be positively enabled =||= > b) no personal information is gathered
> c) users can opt out

Please clarify. Why would I need to opt out if no personal information is gathered? =||= On first launch of 3.0.3 (or later) you will get this dialog
![image](https://user-images.githubusercontent.com/50205984/128167617-9f6431e6-c76b-40e5-9496-9f029a74e7a7.png)
If you turn that off in preferences before clicking the OK button no data at will be sent.
If you do not turn it off then your IP address is sent but not stored.


If you get database errors you may see a message like this:
![image](https://user-images.githubusercontent.com/50205984/128167931-7991c03f-d3b2-4078-8cdc-90690cbfc0fc.png)
If you click the ""Don't Send"" button then no data will be sent - your choice if you want to help the dev and QA team to fix the bug or not.
If you click ""send"" then your IP address is sent but not stored.

Both are commonplace across most apps, websites and operating systems. =||= >  If you turn that off in preferences before clicking the OK button no data at will be sent

I'd never guess that. Not very intuitive. How about opt-in or a large button that says ""opt-out"" that is at least easy to spot? =||= It's not the _most_ intuitive interface, but at least the dialog, when read, is clear. Thanks for that, @AudacityTeam =||= > but at least the dialog, when read, is clear.

The dialog is clear, but you still don't know that you have to open the settings before clicking ""OK"" if you don't want to send data.

 =||= > > but at least the dialog, when read, is clear.
> 
> The dialog is clear, but you still don't know that you have to open the settings before clicking ""OK"" if you don't want to send data.

Yeah, that's pretty sneaky.  =||= The way disabling the update check is implemented in the app update dialog is a clear anti-pattern: Just offe the user the option to ""check for updates"", ""never check for updates"" (disables data transmission) and ""ask me later"" (postpones the decision, does not send any data).  =||= Based on 14 years of user feedback, I expect that the majority of Audacity users will want update checking enabled. For those users that do NOT want update checking, there's a pop up message on first run that tells you how to disable it.
That's good enough for me. =||= > ""check for updates"", ""never check for updates""

I have a package manager for a reason, don't want all my software to complain. I run dialy updates anyway. =||= >  That's good enough for me.

""Works for me.""

No, really. It's not obvious that you can open the dialog BEFORE clicking ""OK"", just put two buttons there.

No need for dark patterns in this software. =||= > No need for dark patterns in this software.

Oh for goodness sake. When did plain English become a ""dark pattern""?
Don't you have something better to do. I'm out of this nonsense. Find someone else to play with. =||= > > That's good enough for me.
> 
> ""Works for me.""
> 
> No, really. It's not obvious that you can open the dialog BEFORE clicking ""OK"", just put two buttons there.
> 
> No need for dark patterns in this software.

How's it a dark pattern? =||= > How's it a dark pattern?

It tricks users into accepting something they don't want.

https://en.wikipedia.org/wiki/Dark_pattern

https://www.darkpatterns.org/ =||= > Oh for goodness sake. When did plain English become a ""dark pattern""?

This is a disingenuous statement. Small ""unsubscribe"" links at the bottom of emails, styled so as not to appear as a hyperlink, follows the letter of the law, but is obviously a dark pattern. Despite ""unsubscribe"" being right there as ""plain English"".

It's clear from looking at the screenshot that Audacity Team doesn't want users to turn off automatic updates, and it resorts to using a dark pattern to achieve this. Why not tell users in plain English: ""Update checking is really important to Audacity. We'd prefer if you didn't turn it off"", followed by 3 buttons: ""check for updates"", ""never check for updates"", ""ask me later"" .
 =||= Does Audacity accept pull requests? Perhaps someone might add those buttons in themselves and fix this problem for everybody. =||= > Does Audacity accept pull requests? Perhaps someone might add those buttons in themselves and fix this problem for everybody.

Sure, as if people didn't have other things to do too, instead of fixing the fallout from people who obviously ignore every user feedback they don't like.

@SteveDaulton Why so hostile? What's so complicated to understand in ""avoid dark patterns""? Especially when two people already described a solution that is easy to understand for the user AND neutral in it's implementation. Looking at how members of the Audacity org on twitter have reacted in the past months to criticism it looks like you got a bet to win how fast you can lose every last user of audacity. FWIW: I've blacklisted audacity for my systems, thus have no incentive to support this hostile and toxic environment.

Apart from this: I'll NOT sign the CLA for Audacity. And since you require this for any contributions I'm afraid you'll have to look for someone else to write the patch for this UI change. =||= The email doesn't threaten the guy. Anyone here, please seek some credibility we all ought to. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1215All legal documentation should accessible easily from within the appPeter Sampsonpetersampsonaudacity07/26/21, 08:27:30 AM"All legal documentation should accessible easily from within the app

1.  The launch splash screen
2.  Help>About Audacity
3.  Menu item(s) in the Help menu

Links to go to the legal documentation on the Audacity Website.""The privacy policy is not accessible to keyboard users from within the app. This is because the about dialog uses wxHtmlWindow controls to display information, and the links within these controls are not accessible for keyboard users.
The privacy policy could be made accessible by providing a menu item in the Help menu, as suggested by Peter.
I think that this should be fixed before 3.0.3 is released. =||= I agree with David's point here about accessibility -  accordingly I'll flag this as a bug =||= A link to the privacy policy was added in commit 01da348. This is not accessible to keyboard users. See my previous comment. =||= For non VI users this issue would appear to be fixed:

1. on initial launch of 3.0.3 the Update checking dialog has a link to the Privacy Policy
2. Error messages that phone-home have a link to the Privacy Policy
3. There is a link to the Privacy Policy from Help > About Audacity >Legal

But David Bailes' point still stands in that these links (and thus the Privacy Policy) are unattainable ny VI users and keyboard users (non-mouse & non-trackpad) - hence this bug remains open for this residual. =||= I have just tested on W10 with 3.0.3 latest alpha using Narrator

1.  the fill text is read out
2. the links are identified as links
3. the user can tab to the links
4. user can then hit Enter to activate the Link(s) - and thus can view PP or easily visit Application prefs

@DavidBailes  - is this satisfactory ? =||= > I have just tested on W10 with 3.0.3 latest alpha using Narrator
> 
> 1. the fill text is read out
> 2. the links are identified as links
> 3. the user can tab to the links
> 4. user can then hit Enter to activate the Link(s) - and thus can view PP or easily visit Application prefs
> 
> @DavidBailes - is this satisfactory ?

Yes. =||= Closing this (and the VI residual) and the basis of David's comment. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1216Add some honesty to the READMEMathijs van Gorcummvgorcum07/04/21, 02:55:06 PMThank you for at least being honest about your motivation."Thanks, but this can't be accepted as you haven't signed the CLA. =||= LMAO =||= I can't believe this is happening... =||= >**audacity** blocked **mvgorcum**

Well... it speaks for itself... =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1217Nyquist effects may fail after importing AUP projectSteve DaultonSteveDaulton07/04/21, 07:03:10 PM"**Describe the bug**
After importing an AUP project, all Nyquist effects may fail with an error:
`Nyquist returned the value: 4023749... (very big number)`
Bug originally reported here: https://forum.audacityteam.org/viewtopic.php?p=429548#p429548

**To Reproduce**
Steps to reproduce the behavior:
1. Launch Audacity
2. Open an Audacity 2.x ""AUP"" project
3. Apply any Nyquist effect
4. Depending on the uninitialized state of variables ""selLow"" and ""selHigh"", you may see the error as described above.

**Expected behavior**
Nyquist effects to work reliably.

**Screenshots**
![screenshot](https://user-images.githubusercontent.com/11681097/124392448-916afd80-dced-11eb-893b-0b859b11b4d4.png)


**Additional information (please complete the following information):**
Proposed fix here: https://github.com/audacity/audacity/pull/1212"NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1219Add additional checks for macro output directory.Anton S. Gerasimovgera-gas07/06/21, 12:41:44 PM"This bug still available in case: using old settings file or manual set it into settings file.

Resolves: #1174 

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""I tested this on W10 with audacity-win-3.0.4-alpha-20210704+0cef813-64bit
this is a branch build: https://github.com/audacity/audacity/actions/runs/999270883

1) clear Audacity settings folder
2) launch 3.0.2
3) Directories preferences
4) set the Macro output directory to be C:\
5) Exit Audacity
6) Launch 3.0.4 branch alpha with the fix
7) Tools Macros
8) choose the shipped MP3 Conversion Macro
9) Apply Macro to: Files
10) choose any audio file for processing
11) Observe: Audacity does not crash but displays the following error message when it reaches the Export step in the Macro

![image](https://user-images.githubusercontent.com/50205984/124466466-98961800-dd8e-11eb-8a36-69831d966587.png)

From a black-box test perspective I think this can be pulled in master for 3.0.4
 =||= "Add additional checks for macro output directory.Anton S. Gerasimovgera-gas07/06/21, 12:41:44 PM"This bug still available in case: using old settings file or manual set it into settings file.

Resolves: #1174 

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNgera07/04/21, 10:25:03 PM"Add additional checks for macro output directory.

This bug still available in case: using old settings file or manual set it into settings file."1
1220Better readmeTannermanner2020Tannermanner200807/04/21, 10:43:05 PM"Resolves: your readme

*to remove the lies you guys tell*

- [x ] I signed [CLA](https://www.audacityteam.org/cla/)
- [ x] I made sure the code compiles on my machine
- [x ] I made sure there are no unnecessary changes in the code
- [ x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x ] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1221Fuck youTannermanner2020Tannermanner200807/04/21, 11:12:40 PM"Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x ] I signed [CLA](https://www.audacityteam.org/cla/)
- [x ] I made sure the code compiles on my machine
- [x ] I made sure there are no unnecessary changes in the code
- [x ] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x ] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""5/10 for not naming it ""Fork You"" =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1222Deleted Releasescat6ecatSIXe07/05/21, 09:37:22 AM"This Software absolutely sucks, why do they delete releases prior to 3.X??? 

Audashitty!""No releases (or release binaries) have been deleted.

Prior to version 3, release binaries were published on FOSSHUB. The old releases are [still available on FOSSHUB](https://www.fosshub.com/Audacity-old.html).

Since version 3, release binaries have been published [here on GitHub](https://github.com/audacity/audacity/releases). =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1226Audacity banning anyone under 13 years of age from using this applicationJosh Gjg77707/06/21, 12:37:08 AM"**Describe the bug**
[Audacity's new privacy policy](https://www.audacityteam.org/about/desktop-privacy-notice/) now bans anyone under 13 years of age from using this application

**To Reproduce**
Steps to reproduce the behavior:
1. Be the shady Muse Group
2. Infect Audacity with telemetry
3. Change Audacity privacy policy to hand over all data to Law Enforcement (or other entities we do not know about)
4. Change Audacity privacy policy to ban anyone under the age of 13 years old from using Audacity

**Expected behavior**
The product should remain the same. **NO ONE SHOULD BE BANNED FROM USING IT!**

**Screenshots**
If applicable, add screenshots to help explain your problem.

**Additional information (please complete the following information):**
 - OS: [e.g. Mac High Sierra, Ubuntu 18.04, Windows 10]
 - Version [e.g. Audacity 2.5.1]
 - (if relevant) Sound Device [e.g. Windows WASAPI, USB Sound card]

**Additional context**
Shady Muse Group should be ashamed of themselves by discriminating the use of this great application from ANYONE""This age restriction violates both GPL2 and GPL3. =||= I used audacity when I was 11 to record piano samples and now I got into college for a double major for music performance and computer science. Fuck you audacity. =||= > This age restriction violates both GPL2 and GPL3.

Indeed.

GPL v2:
`The act of running the Program is not restricted ...`

GPL v3:
`This License explicitly affirms your unlimited permission to run the unmodified Program.`

The question now is, when will the Shady Muse Group be sued for their obvious and deliberate violation? =||= Do I smell a class action?  =||= Also the ""offline mode"" argument does not work because you have to disable a function of the application or find ways around it (using a firewall or disconnecting from the internet) and thus that can go under restrictions on freely running the application. =||= > The question now is, when will the Shady Muse Group be sued for their obvious and deliberate violation?

I'm hoping something like the FSF could step in and take Muse to court for breaking the license. I have no idea what chances such a case has, but crowdfunding it might be an opportunity to at least try. =||= @TechandMusic462 [Only a copyright owner can do that](https://opensource.stackexchange.com/a/86). They've already said that they've talked to most contributors and have gotten copyright transferred =||= @ajayyy Ratio
> A person may be able to start a class action if he or she is injured, either financially or physically, because of the wrongful actions of a corporation and believes others were harmed in the same way. Class action lawsuits allow hundreds or potentially thousands of individuals to join together and take legal action against a person or entity in instances when it would not be financially viable for them to file individual lawsuits. =||= This is the point in time where we all collectively decide to make a fork and have that be ""the real version"" that makes its way into the repos of GNU/Linux distros. =||= Most distros will ship main, not forks.  =||= > 
> 
> Most distros will ship main, not forks.

then make the fork the new main =||= Lmao, this repo will always be main whether you like it or not.  =||= And if more people use the fork than the ""real main"" that won't matter.

This might sound overly optimistic, but I can very much see distro maintainers refusing to pull newer versions of audacity.

I mean, just look at LibreOffice. =||= @JamesCrook other maintainers at least try defend themselves, you just go and SILENTLY close all of the issues about your shady bullshit =||= @ThatOneCalculator The forks vs. main distribution is case-specific. Many distros shipped Go-oo instead of OpenOffice.org main already prior to LibreOffice (considering that LibreOffice also started from Go-oo, the transition to Libre was easier in these distros). If a fork gains enough traction/resolves an issue in a way so that the distro packager picks it up and supports it, then the fork is in and the main is out (also see Iceweasel vs Firefox in Debian). =||= @JamesCrook I'd like to inform you that this issue has not been resolved. Thus, closing it was not the expected maintainer behaviour. =||= Closing this Issue is straight up blasfemy.

I don't understand how @JamesCrook can just close this issue without giving a concrete reason. I do understand that this place is manly for reporting bugs or suggesting features, but closing an issue addressing a mayor problem that affects the entire community is straight up disrespectfull. I hope this issue can be resolved without the need of class action lawsuits or any action that may affect the community as a whole.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1228Memory leak when exiting Audacity 3.0.4 alpha [Windows 10]Ash MathesonNuclearfossil07/05/21, 07:33:41 PM"**Describe the bug**
When compiling and debugging on 
- Windows 10
- compiled using Visual Studio 2022

a memory leak is observed when closing the application.

This is not observable in Release.

**To Reproduce**
Steps to reproduce the behavior:
1. Generate a Visual Studio Solution, using CMake/CMake-GUI.
2. Open the project in Visual Studio 2022. 
3. Compile in Debug
4. Start a Debug session
3. After Audacity opens, immediately close the application
4. You should then see  the Microsoft Visual C++ Runtime Library issue a 'Debug Error!' where ""The block at 0x00000292DFC23EA0 was not allocated by _aligned routines, use free()"" is observed (or a similar address)
5. Pressing 'Retry' will show you the appropriate call stack.
![image](https://user-images.githubusercontent.com/398853/124500820-4bf21300-dd75-11eb-8e6d-608c21314b70.png)
6. This appears to be an issue where ugAudioIO has entries added not using any aligned memory operations. 

**Expected behavior**
No assertions or memory leaks at the end of the application lifecycle

**Screenshots**
![image](https://user-images.githubusercontent.com/398853/124500952-865bb000-dd75-11eb-80a5-903a2c4be0be.png)

**Additional information (please complete the following information):**
 - OS: Windows 10
 - Version: 3.0.4 alpha [1f83f07cfe8e256811b5eaceb735bfaeeebdf461]
"Not really a leak, but a warning related to over-alignment (alignas with more than 8) in C++17.  Warning already suppressed by https://github.com/audacity/audacity/issues/1042 =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1229[GDPR] Data Protection Officer Information missing as well as Link to Privacy Policy missing from READMEAlexander Pasalexanderpas08/04/21, 10:18:12 AM"There is no reference in the README of this project to the Privacy Policy applicable to this project.

Additionally, there is no information available about the Data Protection Officer as defined under the GDPR.

Under the GDPR, this could lead to a fine of up to €10 million, or 2% of the firm’s worldwide annual revenue from the preceding financial year, whichever amount is higher. ""I like this idea. To hell with them. =||= Users in GDPR countries can lodge a legal complaint for breaking GDPR, for example here's how

https://ec.europa.eu/info/law/law-topic/data-protection/reform/rights-citizens/redress/what-should-i-do-if-i-think-my-personal-data-protection-rights-havent-been-respected_en =||= @bachmannn I'm pretty sure that would make things worse, possibly prevent the current ""privacy document"" from being fixed and throw a wrench into development.
They're already WAY TOO PARANOID about GDPR and similar laws.  That's the mess we're in.
 =||= Yikes. They really shot themselves in the foot =||= > I'm pretty sure that would make things worse, possibly prevent the current ""privacy document"" from being fixed and throw a wrench into development.

1. If this is the way they ""develop"", then throw all the wrenches in.
2. Not fixing the privacy policy would just mean they will be fined out of existence.

I would personally make that complaint however the authorities in my country aren't really the best at dealing with this stuff. =||= as far as i know this is also not allowed per GDPR, this toggle needs to be off by default.
![image](https://user-images.githubusercontent.com/31988415/124975206-13c92980-e02e-11eb-8069-90b3febcf505.png) =||= The Privacy Policy is readily available from within the app and the Audacity Website:

1) App:  Help > About Audacity > Legal

2) Website:
![image](https://user-images.githubusercontent.com/50205984/128164800-5eb33cc0-fefa-4886-93d0-9eaa47bbe8fc.png)
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1231I will be adding Audacity to my list of banned applications for being spyware.Nick Maiettamaietta07/06/21, 12:34:20 AM"**Is your feature request related to a problem? Please describe.**
A clear and concise description of what the problem is. Ex. I'm always frustrated when [...]

**Describe the solution you'd like**
A clear and concise description of what you want to happen.

**Describe alternatives you've considered**
A clear and concise description of any alternative solutions or features you've considered.

**Additional context**
Add any other context or screenshots about the feature request here."Every time you close this, I will re-open. I don't take kindly to censorship. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1232Recent Audacity unusable in educational environmentsSam Mulveyrefutationalist08/04/21, 09:43:10 AM"**Describe the bug**

I teach introductions to broadcasting and podcasting in numerous contexts in public and private education, and I have made extensive use of Audacity.    Under the new ""Privacy Notice"" to enable collection of app telemetry Audacity disallows use by anyone under 13 years of age.   This prevents me from using the software completely-- both by the Muse Group ""Notice"" and by the legal requirements of the organizations I work with.

This is similar to issue #1226 but without rancor.   Please keep in mind this is not merely a propaganda point in my case.  Your new requirements have effectively stopped me in my tracks.

**To Reproduce**
1. Use Audacity in teaching environments with children
2. Try to comply with https://www.audacityteam.org/about/desktop-privacy-notice/

**Expected behavior**
The app should allow runtime disabling of any statistics gathering, and the privacy notice should be updated to allow educational use.""Audacity is part of school education in Kerala. This is a breaking change for them as well  =||= Hey, I have a temporary, ~~most likely permanent~~ solution for educators alike. There are forks of audacity that are compliant with GPL v2 and v3, meaning that ~~the people behind the forks won't get a class action lawsuit~~, er, ~~builds don't ship with spyware~~ excuse me, ~~telemetry~~, jeez sorry, my typing skills aren't typically this bad, builds can be legally used by people under the age of 13.

Here's one; https://github.com/temporary-audacity/audacity =||= This is going to be negatively impactful for a lot of folks.  Either they won't notice that they are not in compliance with your new terms or they will be forced to stop using this software as described above.

It seems a trivial fix to simply allow runtime disabling of personal data collection; and more than that, it's the right thing to do.  I occasionally use Audacity, but have no intention of doing so again while these terms are in place without the ability to disable. =||= > It seems a trivial fix to simply allow runtime disabling of personal data collection; and more than that, it's the right thing to do. I occasionally use Audacity, but have no intention of doing so again while these terms are in place without the ability to disable.

Not only has this been in the code from way before this GitHub issue was started, it had even been documented!

![Screenshot](https://user-images.githubusercontent.com/11681097/124631947-c9a04680-de7b-11eb-889d-1f3e5a2cf5cd.png)
 =||= > Not only has this been in the code from way before this GitHub issue was started, it had even been documented!

I, as well as many other people, are aware of that option.   It is hardly a complete solution.   The option also predates the new privacy policy, which raises some questions about what other data is, or is going to be, collected, and whether it is optional.   The answers given thus far do not at all cover my use case. =||= > I, as well as many other people, are aware of that option. 

It is unreleased software which is currently only at the alpha testing stage.  And as it stands right now it is still possibly subject to change.  The new Application prefs pane that Steve showed above, I only documented last week.

This new feature will also be documented in the ""What's New in 3.0.3"" page in the Manual for 3.0.3 and will be discussed in the Release Notes.
 =||= 
> Of course you are unaware - it is unreleased software which is currently only at the alpha testing stage. And as it stands right now it is still possibly subject to change. The new Application prefs pane that Steve showed above, I only documented last week.

My apologies, but you are incorrect.

It is unreleased software on _GitHub_, and people associated with Audacity have fortunately undertaken some effort to promote how little phoning home Audacity actually does, and its configurability.   There are also the compile time flags that presently leave out most of the code necessary to phone home.   I'm aware of these things as I have to compile Audacity myself.  I use Linux, my distro still packages 2.4.1, and I have students and producers already sending me aup3 files for various reasons.

Yet this is only half the solution, _at best,_ and the majority of the issue remains in the unresolved component.  Discussion of the configurable option without even making mention of the real problem is becoming notable as it has now happened twice.   Unfortunately, I can't point a big red arrow at something that doesn't exist.  I can point a red arrow at this, however: 

![red_arrow_audacity](https://user-images.githubusercontent.com/16480630/124669024-8c7d8980-de66-11eb-834a-5ad10d8260e7.png)


  
> 
> This new feature will also be documented in the ""What's New in 3.0.3"" page in the Manual for 3.0.3 and will be discussed in the Release Notes.

This is good, but what we'll have is a perfectly functional app that both the parent organization of the developers and my varied compliance departments won't let me use with my students.  **This is a significant usability issue.   Under the present circumstances, my kids quite literally could not do their homework.**  The checkbox could be the first thing a user sees and as big as a house, but it ultimately doesn't repair the problem.

As a result of these changes to Audacity, teachers in the International Baccalaureate and Advanced Placement programs in schools near me are retooling their programs to use other (mostly proprietary) applications to meet their audio requirements.   These teachers would not count as developers even if you stretched the definition to include myself.  But I'm ""technical,"" so I'm looking into it.  This issue is the result, and since it does affect me I spoke to my situation.

I have already had to field questions regarding the age limitation.   Are teachers even prevented from using Audacity to _record_ their students?   I told them I very much doubted it, but the privacy policy is such a mess I can't answer authoritatively.  

Retooling the privacy notice to reinclude children as authorized users-- and perhaps some further clarification-- would go a long way toward solving the issue. =||= I'm one of those not-so-technical educators referenced by Refutationalist above. I work in a diverse, mixed income district where more than 50% of our students live below the poverty line, so being able to advise the use of free programs is a huge equalizer in educational access. Not being able to use Audacity with our middle schoolers has a significant negative impact, especially in our English learners program and world language instruction.  If this is not resolved to allow use by children, it will be very disappointing and further the education opportunity gap that Audacity was previously a part of closing.   =||= > > It seems a trivial fix to simply allow runtime disabling of personal data collection; and more than that, it's the right thing to do. I occasionally use Audacity, but have no intention of doing so again while these terms are in place without the ability to disable.
> 
> Not only has this been in the code from way before this GitHub issue was started, it had even been documented!
> 
> ![Screenshot](https://user-images.githubusercontent.com/11681097/124631947-c9a04680-de7b-11eb-889d-1f3e5a2cf5cd.png)

I rather have the people who currently 'own' Audacity give Audacity back to the respectful owners that know how to follow open source GDP regulations and what not. A huge chunk of the internet already have a sour mouth for Audacity over their dumb move to record information about it's users.

And for what purpose? To sell it that is. =||= I see the privacy policy has been updated to ""draft"" status until such time as the next version of Audacity is released, which is good.   However, the draft still contains the age limitation and therefore this bug still exists. =||= Since this is Licensed under the GPL you can type what ever you want in policy.
Fact it is GPL.  Anyone of any age can use it. So save the ink Team Audacity or pay the huge GNU fines that could come your way. https://en.wikipedia.org/wiki/Open_source_license_litigation =||= > > It seems a trivial fix to simply allow runtime disabling of personal data collection; and more than that, it's the right thing to do. I occasionally use Audacity, but have no intention of doing so again while these terms are in place without the ability to disable.
> 
> Not only has this been in the code from way before this GitHub issue was started, it had even been documented!
> 
> ![Screenshot](https://user-images.githubusercontent.com/11681097/124631947-c9a04680-de7b-11eb-889d-1f3e5a2cf5cd.png)

@SteveDaulton how is this related? As far as I can see, the red arrow in your screenshot points to a checkbox that enables/disables update checking for Audacity. I fail to understand how this should be a _trivial fix to simply allow runtime disabling of personal data collection_ or should make _Recent Audacity usable in educational environments_ . Can you clarify this? =||= > how is this related?

When ""Check for updates"" is enabled, Audacity will periodically check to see if an updated version is available. To do this, it must connect to an online resource to see if there is a more recent version for your operating system than the one that you are using.
That requires telling the online resource, which version you are  currently using, and what operating system you are using (otherwise the online resource cannot know if there is a more recent version available for you). It also requires your IP address, otherwise it cannot reply to  let you know if an updated version is available or not (See: [Internet  Protocol](https://en.wikipedia.org/wiki/Internet_Protocol) on Wikipedia).

GDPR classes this information as ""personal data"", and so legally requires this use to be disclosed in a privacy notice. It  also specifies that a child under the age of 13 cannot give consent for the use of personal data.

**When ""Check  for updates"" is NOT selected, then the app does not connect to the internet and no data is exchanged.**

The other case where data ""may"" be sent over the internet is in the eventuality  of a crash (either the entire app or a component within the app). If a crash occurs, a crash report is generated locally. I have not yet seen this myself (Audacity 3.0.3 alpha has not yet crashed for me), but my  understanding from looking at the code is that it goes like this:
1. If a crash occurs, generate a crash report locally.
2. When next able to do so (the app must obviously be running), ask the user if they want to send the crash report to the Audacity developers.
3. If the user says ""Yes"", send the report. If  the user says ""No"", don't.

None of this applies to any current version of Audacity as versions up to and including Audacity 3.0.2 do not have the ability to connect to the Internet. =||= > The other case where data ""may"" be sent over the internet is in the eventuality of a crash (either the entire app or a component within the app). If a crash occurs, a crash report is generated locally. I have not yet seen this myself (Audacity 3.0.3 alpha has not yet crashed for me), but my understanding from looking at the code is that it goes like this:
> 
>     1. If a crash occurs, generate a crash report locally.
> 
>     2. When next able to do so (the app must obviously be running), ask the user if they want to send the crash report to the Audacity developers.
> 
>     3. If the user says ""Yes"", send the report. If  the user says ""No"", don't.

I have tested this on 3.0.3  Release Candidates RC1 and RC2

1) and immediately after the crash I got a crash report dialog asking if I wanted to send the crash report - I clicked the Yes button

2) I did get a database error that generated an error report dialog _(note that not all Audacity errors generate such phone-home dialogs)_  
a) This happened from within the running Audacity
b) I clicked the Yes button to send the report
c) Audacity remained open and OK

I also tested with clicking the No buttons.

In both cases where I clicked Yes to send the reports the developers told me that both cases provided valuable debug information for them - and that's why this feature is being added.


 =||= @SteveDaulton Thank you so much for the answer, that does clarify why this is related.

I still do not entirely understand, why the online resource requires to be told information about the user's system or software version, since I thought it provides a list of available versions and the client could figure out if it can update or not. At least if I look at the implementation here: https://github.com/audacity/audacity/blob/release-3.0.3/src/update/UpdateManager.cpp

simplified, as I understand it, it would do this:
1. get https://updates.audacityteam.org/feed/latest.xml 
2. parse the file and filter out relevant version number
2. compare versions
3. open browser with link to download

I cannot see in the code that it would transmit which version of Audacity you are currently using, and what operating system you are using. Maybe I'm looking at the wrong snippet, but isn't this a simple get request (as in _GET requests should only retrieve data and should have no other effect._ )? Does it send another request, or are there parameters transmitted that I am overlooking? Maybe in the header?

I am a bit confused, because if there _are_ additional parameters containing user information transmitted, then I can't see why. I was trying to check the content of `latest.xml` to dig a bit deeper, but it leads me to a 404 page. Though, does the xml not simply contain the current version numbers for all available operating systems, and then the proper info is filtered by the parser?
```
    // https://github.com/audacity/audacity/blob/release-3.0.3/src/update/UpdateDataParser.cpp:91
   
    // here it is checking for a linux tag, and for the other platforms are similar conditionals
    // so the figuring out of the operating system happens locally
    if (wxStrcmp(tag, mXmlTagNames[XmlParsedTags::kLinuxTag]) == 0)
    {
        if (info.GetOperatingSystemId() & wxOS_UNIX_LINUX)
            mXmlParsingState = XmlParsedTags::kOsTag;
        return true;
    }
```

So, the only thing you need to send, is the GET request and receive a generic xml, the same for anyone and everyone.
Can't see a problem here.

The transmission of the IP address which comes with a GET request, cannot possibly be the reason for the updated privacy notice and age restriction.. right? And if this would be the case, wouldn't it be an idea to have it opt-in, and make the privacy notice appear the moment you check the box? This could possibly make people freak out less, it would explain itself and you wouldn't need to agree to a privacy notice that you are not using. For example, if you have your applications managed by a package manager (apt, pacman, yum, brew, etc). I do not really propose to do this, I guess you thought about these things long and hard. But I just love using Audacity and want to understand what exactly is going on here. =||= > I cannot see in the code that it would transmit which version of Audacity you are currently using

Someone posted a partial answer to this earlier (""somewhere"" in one of these recent discussions).
I made a note of the example update request:

```
GET /feed/latest.xml HTTP/1.1
Host: updates.audacityteam.org
Accept: */*
Accept-Encoding: deflate, gzip
User-Agent: Audacity/3.0.3 (Windows 10_0_19042; x64)
```
 =||= Thank you for your efforts.
I see, so the information is indeed in the header.
And that explains also, why I got a 404 when trying to open it from a browser. The online resource checks if the User-Agent string contains ""Audacity"". If not, the request gets blocked.

**TL;DR: There is more information in the header about the users system, than is required for check-update functionality. It is not much, but it is there, and there is no transparent reason for it. Statements like**

> ""_That requires telling the online resource, which version you are currently using, and what operating system you are using (otherwise the online resource cannot know if there is a more recent version available for you)._"" - (see above @SteveDaulton )

**are technically wrong.** (Since there has no reply to this post for two weeks, I must assume this is the case. You could of course, adjust the functionality in a way, that the server _does_ need to know these details to function properly, but the following post - and common sense / logic - shows that it would be unnecessary. Again, I am happily corrected, but then, I think I'm sadly correct.).

Now for the slightly longer read:
The information transmitted in the User-Agent about the Audacity version and used OS, has no influence on the functionality. Even when you completely omit the information, you get the same result. This would be an xml file, that contains latest versions for all platforms. Example:

```
$ # first, the header with information
$ curl -A ""Audacity/3.0.3 (Windows 10_0_19042; x64)"" https://updates.audacityteam.org/feed/latest.xml
<?xml version=""1.0""?>
<Updates>
  <Description>Audacity 3.0.2 fixes some important bugs and improves diagnostic reporting. We also added a new preference for macro output, and a 'Save' button on the manage macros dialog.</Description>
  <OS>
      <Win32>
          <Version>3.0.2</Version>
          <Link>https://github.com/audacity/audacity/releases/download/Audacity-3.0.2/audacity-win-3.0.2.exe</Link>
      </Win32>
      <Win64>
          <Version>3.0.2</Version>
          <Link>https://github.com/audacity/audacity/releases/download/Audacity-3.0.2/audacity-win-3.0.2.exe</Link>
      </Win64>
      <Macos>
          <Version>3.0.2</Version>
          <Link>https://github.com/audacity/audacity/releases/download/Audacity-3.0.2/audacity-macos-3.0.2.dmg</Link>
      </Macos>
      <Linux>
          <Version>3.0.2</Version>
          <Link>https://github.com/audacity/audacity/archive/refs/tags/Audacity-3.0.2.zip</Link>
      </Linux>
  </OS>
</Updates>
```
```
$ # then, omit all information, only keep ""Audacity"" to avoid being blocked
$ curl -A ""Audacity"" https://updates.audacityteam.org/feed/latest.xml
<?xml version=""1.0""?>
<Updates>
  <Description>Audacity 3.0.2 fixes some important bugs and improves diagnostic reporting. We also added a new preference for macro output, and a 'Save' button on the manage macros dialog.</Description>
  <OS>
      <Win32>
          <Version>3.0.2</Version>
          <Link>https://github.com/audacity/audacity/releases/download/Audacity-3.0.2/audacity-win-3.0.2.exe</Link>
      </Win32>
      <Win64>
          <Version>3.0.2</Version>
          <Link>https://github.com/audacity/audacity/releases/download/Audacity-3.0.2/audacity-win-3.0.2.exe</Link>
      </Win64>
      <Macos>
          <Version>3.0.2</Version>
          <Link>https://github.com/audacity/audacity/releases/download/Audacity-3.0.2/audacity-macos-3.0.2.dmg</Link>
      </Macos>
      <Linux>
          <Version>3.0.2</Version>
          <Link>https://github.com/audacity/audacity/archive/refs/tags/Audacity-3.0.2.zip</Link>
      </Linux>
  </OS>
</Updates>
```

Therefore, the transmitted information about Audacity version and OS is not crucial to the functionality of checking for an update.
If I don't have a logical error somewhere - please help if I do - **it does _not_ require telling the online resource which version you are currently using, and what operating system you are using.** The online resource does _not_ need to know if there is a more recent version available for you, because the response contains the last version number for every supported system. Also, comparing the versions happens **locally** in a class called [UpdateDataParser](https://github.com/audacity/audacity/blob/release-3.0.3/src/update/UpdateDataParser.cpp).

Consequently the transmit of additional data in the User-Agent string can be seen separate from the check-update, and could ideally be a separate setting that would reflect on its function (e.g. ""send data about Audacity version and operating system to Audacity""). If the setting is unchecked, Audacity could send a generic User-Agent string (e.g. just ""Audacity"") in, and still keep the check-update working.
Currently, the User-Agent string is generated by `libraries/lib-network-manager/curl/CurlHandleManager.cpp:224`, on application start (I guess, because it happens when CurlHandleManager is initialized). So this is where you could hook up the creation of a generic template in case you don't have the users consent yet. I will stop getting into technical details here though, because it's pretty self explanatory and boring. Also, I do strongly believe that you would be technically more than capable to figure out solutions for this that keep the desired functionality without having to adjust any privacy policy for the generic offline user (for example your generic seven year old computer genius child, or let's say a student within an educational environment).

With this I would like to come back to the topic of @refutationalist, that _recent Audacity is unusable in educational environments_. This concerns me as well, since I want to teach Audacity in my class, and that a (for me) meaningless feature throws sticks between my legs, is weird.
I realize, that by unchecking the box ""check for updates"" there is no connection to the internet. And this is clearly reflected in the code. But **it does not help, if this feature is checked by default when the application starts.** It is impossible to navigate to the settings and uncheck the box before the request is sent and the damage is done. I wish this box would be opt-in, and on the moment of opting in, a privacy notice would be shown, and why not an age verification. Then it would be clear what the notice is about and you could use it completely offline. Also, network access is already configured as opt-in on compilation time (#935), why not have it opt-in on runtime? Most people will use precompiled binaries, and won't have the luxury of opting in on compile time.

So, that's it from me. Hopefully this can give insight into how a random non-expert would analyze the situation, though I would be surprised if this post contains any information new to you. Which is why I am a bit puzzled that the findings are not completely in line with your statements before. I assume that this whole discussion is quite a lot to handle, and technical specifics can be unclear even to someone close to the development. It is possible that I misunderstand something, but I can't see what.

**Anyways, thank you so much for your patience and replies, I think I understand the issue now a bit better.
To my understanding this issue remains valid, and I hope that the Audacity team can successfully work this out with the community. Good luck!**

PS: edited formatting for clarity, link to UpdateDataParser, and added TL;DL at the beginning =||= The Privacy Policy has been updated to remove the restriction on use to 13+ - there is no age restriction on Audacity use =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1235What the Hell -- PRIVACYata-star07/06/21, 03:13:28 AM"Read this: https://www.audacityteam.org/about/desktop-privacy-notice/
Watch This: https://youtu.be/mceXl_ayl8s""Check for updates is the only networking feature enabled by default (it is opt-out while the others are opt-in).

This, and your IP address, is the only information sent during a check for updates:

```http
GET /feed/latest.xml HTTP/1.1
Host: updates.audacityteam.org
Accept: */*
Accept-Encoding: deflate, gzip
User-Agent: Audacity/3.0.3 (Windows 10_0_19042; x64)
```

You can see this in the source code [here](https://github.com/audacity/audacity/blob/87d94fe24918fb155feab831f52ba5e24e4db646/src/update/UpdateManager.cpp#L69) and [here](https://github.com/audacity/audacity/blob/1ac4df1f83b57d729806a06c377068edf8449b51/libraries/lib-network-manager/curl/CurlHandleManager.cpp#L224-L239). The IP address is stored on the server as a hash and becomes irretrievable after 24 hours when the salt is discarded.

Discussion in #1225 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1236Privacy policy is a violation of GPL-3 and is unfairGet-DevVed-YT08/04/21, 10:13:43 AM"The recent changes to the privacy policy are unfair and non-compliant with GPL-2.

By restricting access to those 13+, you are prohibiting probably many minors who were using Audacity to use it anymore.
GPL-2 grants the right for everyone to use it under the license rules. 
By restricting access to those 13+, you are breaking the terms of the license under which Audacity is sourced under.

My solution would be to make telemetry opt-in. This way minors can still use the program but those who want to help Audacity can opt-in telemetry data. 

Also, I really wonder what an audio program has to share with the government...
You need to be upfront on what specific data you share with the government. 

One more thing. Don't think that closing the issues addressing this is going to help you. It's not.""Very true =||= I wonder what the Audacity developers were on when they decided adding telemetry and data collection to a fucking audio program was a good idea. =||= welp we all knew this would happen sooner or later, although all u rly have to do is block it from accessing the internet =||= I believe that audacity  can no longer be part of Linux distributions in the future with this privacy policy. =||= I started using Audacity when I was under 13. These policy changes are harmful and obviously violate the GPL. =||= For sure. There's probably forks that still hold on old audacity's ideology. =||= Imagine having an age rating on an open-source audio editor.

Like seriously? =||= A company can't violate their own license. =||= > 
> 
> A company can't violate their own license.

Forgive my superficial understanding of software licensing but I am under the impression that if Audacity uses any libraries that are licensed under GPL, they must also license it under GPL, as per GPL requirements, which makes breaking GPL illegal. Or perhaps more accurately, it makes using any libraries licensed under GPL illegal? =||= If they are using any library under GPL, yes, it is a violation  =||= >If anyone else wants to get around this, try downloading Audacity from this fork I found.
https://github.com/temporary-audacity/audacity

The latest windows build of this fork is still outdated and has telemetry in it. If you want people to avoid the telemetry, don't advice people use this fork until the collaborators have actually released a no-telemetry build. =||= > > If anyone else wants to get around this, try downloading Audacity from this fork I found.
> > https://github.com/temporary-audacity/audacity
> 
> The latest windows build of this fork is still outdated and has telemetry in it. If you want people to avoid the telemetry, don't advice people use this fork until the collaborators have actually released a no-telemetry build.

Apologies. Do not install from this fork. Wait for a valid non-telemetry fork =||= > > If anyone else wants to get around this, try downloading Audacity from this fork I found.
> > https://github.com/temporary-audacity/audacity
> 
> The latest windows build of this fork is still outdated and has telemetry in it. If you want people to avoid the telemetry, don't advice people use this fork until the collaborators have actually released a no-telemetry build.

This is false. You can see from the commits in the repo that telemetry and sentry (crash reporting) were completely removed, not just disabled. =||= > This is false. You can see from the commits in the repo that telemetry and sentry (crash reporting) were completely removed, not just disabled.

Please look at the commit of the windows release `Audacity-3.0.3-RC2` (""Always run CPack, even on Windows in release mode""). Every fork has this release https://github.com/tenacityteam/tenacity/commit/84d5e63dbc0f23da75202bb434f04654984d2081

The commit on the tenacity fork is from BEFORE the telemetry removal commit. https://github.com/tenacityteam/tenacity/commit/bbf352d36d725335962718f91fc3591a1037f39b
https://github.com/tenacityteam/tenacity/compare/Audacity-3.0.3-RC2...master =||= They probably restricted to 13+ because with telemetry they don't want to get a lawsuit because of underage/minors crap =||= > They restricted because to 13+ because with telemetry they don't want to get a lawsuit because of underage/minors crap

Yes, that would be the issue(s) =||= >They restricted because to 13+ because with telemetry they don't want to get a lawsuit because of underage/minors crap

Imagine as a company having the choice between adding telemetry to the program, thus requiring every user to be 13+ to not be sued and letting children use your software (as is being done by educators for a very long time), and choosing the first one. The lack of understanding of the project, its uses, and the [4 essential freedoms](https://www.gnu.org/philosophy/free-sw.en.html) postulated by the GPL and the term 'free software', which Audacity is using, is staggering. =||= > 
> 
> > This is false. You can see from the commits in the repo that telemetry and sentry (crash reporting) were completely removed, not just disabled.
> 
> Please look at the commit of the windows release `Audacity-3.0.3-RC2` (""Always run CPack, even on Windows in release mode""). Every fork has this release [tenacityteam/tenacity@84d5e63](https://github.com/tenacityteam/tenacity/commit/84d5e63dbc0f23da75202bb434f04654984d2081)
> 
> The commit on the tenacity fork is from BEFORE the telemetry removal commit. [tenacityteam/tenacity@bbf352d](https://github.com/tenacityteam/tenacity/commit/bbf352d36d725335962718f91fc3591a1037f39b)
> [tenacityteam/tenacity@Audacity-3.0.3-RC2...master](https://github.com/tenacityteam/tenacity/compare/Audacity-3.0.3-RC2...master)

This was already handled in a manual edit. - if there is further issues, make a issue on their issue tracker as they are unaware. =||= > I wonder what the Audacity developers were on when they decided adding telemetry and data collection to a fucking audio program was a good idea.

Its likely sure they were smoking crack made in someones toilet =||= > They restricted because to 13+ because with telemetry they don't want to get a lawsuit because of underage/minors crap

Or maybe they could just make telemetry optional, for people above 13yo... =||= > 
> 
> Imagine having an age rating on an open-source audio editor.
> 
> Like seriously?

facts =||= The revised Privacy Policy released as part of 3.0.3 has no age restriction =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1237New policy is backstabbing yourselfGalaxyGamingBoy07/06/21, 09:05:50 AM"**Describe the bug**
Your privacy policy is the bug.

**To Reproduce**
Steps to reproduce the behavior:
Hhmmmmm
Read your own privacy policy! It brakes the GPL2 License as previously said!

**Expected behavior**
Backstabbing yourself and losing millions of users. Also maintainers Do not Close this issue to hide. I can and WILL repost this.
Schools that use the software won't use it. Maybe add an opt in or opt out of data collection

**Additional information (please complete the following information):**
Fix it now""I am switching to the libre audacity builds.  =||= +rep imma use some fork of audacity =||= It's incredible to see that repetitive behavior, consisting in trying to bend Open source spirit at preparing license type swap.
Each time, it's leading to a fork. But from time to time, we still see an idiot who convinced himself, that the community, this time, will react in a different fashion. LibreOffice, MariaDB, NextCloud ... are example of what's happening in those cases. Because it's just insupportable. =||= @JamesCrook Why don't you respond to any of the issues you close about the age restriction? These people are making a very valid point. Educational use will no longer be possible with the age restriction plus it breaks the GPL. But instead of addressing the issue you just close all related issues. I guess that tells us all we need to know. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1238Don't complain -> CONTRIBUTE! New fork started!!MrGucciL07/06/21, 09:06:48 AM"Saving audacity is pointless. Instead of complaining and being negative, we can work together on it's replacement sneedacity!
https://github.com/Sneeds-Feed-and-Seed/sneedacity""wowe this is amazing
best fork =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1241What board of directors decided to make Audacity spyware? How do we sue them for breaking GPL?Markus KlyverDaysalos07/06/21, 01:34:14 PMDisgusting. NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1242GPL2 Violationpeepopoggerspeepopoggers08/04/21, 09:44:27 AM"The terms of service is a GPL3.0 violation and it breaks the terms by restricting access to those of younger age.
This violates legal terms of the code and is illegal! 

Fix this or the program will lose popularity.
Also lose the telemetry stuff, or the community will never get your trust back.

;)""#1236  =||= So, true! I will never use original audacity again. =||= It is a waste of ink Team audacity.  It is under the GPL.
you may recommend an age use. but your blowing wind.
Stop wasting key strokes. 
 This policy not needed after they passed all IP can collect and sell data.  In the USA. =||= Just as a sidenote, you should change the title to `GPL2 Violation` since this is not GPLv3 https://github.com/audacity/audacity/blob/master/LICENSE.txt =||= The age restriction has been removed from the final Privacy Policy released as part of Audacity 3.0.3 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1243Audacity will fail to start if TEMP location is unwritableDmitry Vedenkocrsib08/31/21, 01:03:34 PM"**To Reproduce**
Steps to reproduce the behavior:
1. Set the ""Temporary files location"" to an unwritable location
2. Realauch Audacity
3. Audacity will fail with Can't_open_new_empty_project error

**Expected behavior**
Audacity opens without issues
""I caught this moment, but in this case, Audacity continues to work fine, just showed an error window by `ShowExceptionDialog`.
1. What I can do in this case
1.1 Just checking Temp directory on unwritable, then showing a message with it information, that can be more useful for user (after reading this message, user can fast solve this problem by change directory in preferences).
1.2 or leave as now.

2. What I should be doing yet (necessarily)
Seems this problem also actual for all directories in preferences, that can be used for data output. I need to check all directories for this case.

@crsib @petersampsonaudacity could you add your opinion for p.1 =||= @gera-gas  I think you also need to trap the use case in Directories preferences where the user types ""C:\"" 
just the same as you trap the use case where the user users the Browse button to make C: a default directory.

Is that what you mean by 1.1 ?
 =||= We still need a fallback. I can set the directory in the config manually or the directory may become unwritable later on =||= > We still need a fallback. I can set the directory in the config manually or the directory may become unwritable later on

Yes indeed, I agree - a better example is that it may have been set in an earlier version of Audacity (that's how I was testing the fallback earlier).

But I hope you agree we need to trap both use cases at point-of-use in Directories prefs?

 =||= I surely do. 

There is also a bug in FFmpeg location dialog, which ignores keyboard input completely.  =||= > There is also a bug in FFmpeg location dialog, which ignores keyboard input completely.

OOH - is that already logged, or do you need to log it ?

 =||= I even do have a fix for it xD =||= You are GOOD @crsib   🥇  =||= How about something like this?

![image](https://user-images.githubusercontent.com/10109867/125305052-f940ca00-e325-11eb-85c5-3ca2dd9ee4ca.png)
 =||= > How about something like this?

Looks good to me

 =||= Testing on w10 with Audacity_Windows_64bit_1037187455_50f8e10

Yes I get the error new error message when I try to launch with the link to Directories Prefs,
but if I ignore that and just dismiss it with the ""OK"" button then Audacity appears to launch OK - but if I try to record, import or generate I get the following warning:
![image](https://user-images.githubusercontent.com/50205984/125944619-5d3d0368-5d5f-4c0b-8125-4d539a1c4ea8.png)
ET phoned home with the OK button on the message.

This message will be totally opaque to most users and offers them no guidance on what to do to redress the situation


Steps to reproduce
1) in 3.0.3 set temp directory to be c:\
2) exit 3.0.2
3) launch 3.3.3
4) Observe the new error message telling you that the temp directory is invalid
5) ignore the advice to go to Directories prefs
6) press OK
7) Observe Audacity launches
8) Press Record
9) Observe the warning as shown above =||= And because the reset of temp directory only takes t effect after relaunch ...

If in the new message you accept the advice and click the link to go to Directories prefs and reset it to a writeable location.
Then Audacity remains open and you then get the phone-home error messages if you try to use Audacity.

This ENH is Bugzilla has some bearing on this
https://bugzilla.audacityteam.org/show_bug.cgi?id=2548
Bug 2548 - ENH: changed temporary directory location should be implemented immediately - not after restart =||= Cannot reproduce, fixed =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1244GPL2 license broken due to age restrictions.GalaxyGamingBoy07/07/21, 06:04:07 PM"Repost because I said. I Won't stop till you reply. Do NOT Close it I will repost it.

Describe the bug
Your privacy policy is the bug.

To Reproduce
Steps to reproduce the behavior:
Hhmmmmm
Read your own privacy policy! It brakes the GPL2 License as previously said!

Expected behavior
Backstabbing yourself and losing millions of users. Also maintainers Do not Close this issue to hide. I can and WILL repost this.
Schools that use the software won't use it. Maybe add an opt in or opt out of data collection

Additional information (please complete the following information):
Fix it now""I fully agree. Seriously. Its outrageious. Not that company bought Audacity, this can ( and should ) happen. Outrageious is that they **ignore** current users, commiters, ( possible ) developers......... everyone. =||= > I fully agree. Seriously. Its outrageious. Not that company bought Audacity, this can ( and should ) happen. Outrageious is that they **ignore** current users, commiters, ( possible ) developers......... everyone.

It is quite outrageious, isn't it? It is also outrageous, but that goes without saying. =||= > Schools that use the software won't use it. 

They will simply stick to an older version. Don't worry, schools will be fine  =||= @awslabspl nobody bought the software, what was purchased was the trademark/IP. The logo graphic, the name 'Audacity'. Feel free to use a fork if you don't trust this source here. :shrug: =||= @GalaxyGamingBoy - while I agree with you, spamming issues is not constructive and fragments discussion. You don't need to be uncivil. As explained by @Tantacrul, this issue is out of the main maintainers hands and an issue with Muse Group. They aren't trying to ""hide"" anything. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1245VOTING! For the new forkJYamihud07/07/21, 11:25:58 AM"There are 1.6k forks of Audacity as of today. And the number grew with 200 forks with in last day. The forks exist, we need to choose one. Leave the Muse Group alone. They may do what ever they want. It shouldn't bother us anymore.

Libre Office was ones a fork of Open Office, since it was sold to Oracle. And people didn't like it. Libre Office was the chosen fork.

I opened a voting page on LBRY [here](https://odysee.com/@blenderdumbass:f/Voting-for-the-new-audacity-fork:4). LBRY is a Free Software, block chain network for publications. I'm afraid an issue here is not safe, Muse Group might close it. ""I think: https://github.com/temporary-audacity/audacity is the fork everyone got behind on, they are voting now for a new name for the project and software. =||= https://github.com/tenacityteam/tenacity =||= Hey, I want you all to know that the issue tracker of temporary-audacity aka Tenacity seems to be censored with no comment, along with quite a long interesting discussion (see https://github.com/tenacityteam/tenacity/issues/93, or a backup here: https://github.com/imachug/talk/issues/3). Please consider https://github.com/SartoxOnlyGNU/audacium instead. =||= Just let nature take it's course as with all forks. It's not going to be sorted in one day, nor a week. A fork will prevail just let it naturally happen. No need to vote on one, just join the one you like the most. =||= There's no need to vote. Just pick one and go with it. =||= The most active fork right now is https://github.com/Sneeds-Feed-and-Seed/sneedacity and it doesn't have any drama. =||= yes, the sneedacity team is not a closed dev team like tenacity and isn't filled with drama =||= Audacium and Sneedacity are two acceptable forks for consideration. =||= There is no need for a vote. Just pick whatever fork(s) you like and support them.

In my opinion:
- **Sneedacity** has a Simpsons reference for a name... but it's also the most active fork and has the best chances. It has also removed all of the telemetry properly and plans to remove conan and update wxWidgets, something I haven't seen in other forks yet.
- **Audacium** is also very good and much easier to take seriously, but it's currently run by one person and needs more contributors. Please help it out if you can. =||= Sneedacity is an obvious joke/satire and not meant to be taken seriously. :facepalm: 

After they get tired of playing around and harassing other forks, things will calm down and can finally move on from there.

For now it is just better to wait. =||= > Sneedacity is an obvious joke/satire and not meant to be taken seriously. 🤦
> 
> After they get tired of playing around and harassing other forks, things will calm down and can finally move on from there.
> 
> For now it is just better to wait.

Why shouldn't it be taken seriously? It's very active right now, I don't see why a simpsons reference would make it ""not serious"" =||= Sneedacity may have started as a lighthearted joke, but it has picked up so much steam it has become a legitimate option. =||= > There is no need for a vote. Just pick whatever fork(s) you like and support them.
> 
> In my opinion:
> 
>     * **Sneedacity** has a Simpsons reference for a name... but it's also the most active fork and has the best chances. It has also removed all of the telemetry properly and plans to remove conan and update wxWidgets, something I haven't seen in other forks yet.
> 
>     * **Audacium** is also very good and much easier to take seriously, but it's currently run by one person and needs more contributors. Please help it out if you can.

Joining Audacium and Sneedacity would unite the efforts of the majority of *actual* code contributors, IMO. =||= There is no doubt Sneedaucity is the true fork. Sneed supremacy can not, will not, and must not be stopped
![sneed](https://i.ytimg.com/vi/qeTw0c6vxO8/mqdefault.jpg) =||= > Sneedacity is an obvious joke/satire and not meant to be taken seriously. 
> 
> After they get tired of playing around and harassing other forks, things will calm down and can finally move on from there.
> 
> For now it is just better to wait.

Sneedacity is a very serious and active Audacity fork. It is not encumbered by the bike-shedding, drama and lack of actual developers that other Audacity forks are currently experiencing.

While I appreciate and use your pro-audio software, I'd also appreciate it if you took a more objective look at this. The uncritical and ignorant tribalism isn't a good look. =||= Sneedacity
Or we can merge Sneedacity and Audacium into something Sneed related
However
The Sneed name is non-negotiable =||= > Sneedacity is an obvious joke/satire and not meant to be taken seriously. facepalm
> 
> After they get tired of playing around and harassing other forks, things will calm down and can finally move on from there.
> 
> For now it is just better to wait.

Just because of the name? The FOSS scene is full with robust software with silly names, such as GNU's Not Unix and WINE Is Not an Emulator. =||= Also, I bought the sneedacity.com, sneedacity.org, and sneeda.city domains, and will start development on a main website there. So there's plenty of room for growth with that project. =||= I suggest we report everyone abusing sneedacity and the devs working on it, I already sent reports for couple of people. Tenacity has a convicted pedophile, scam artist and a false flagger running it, yet no one is abusing them. Each to their own, but Sneedacity ACTUALLY HAS people working on it. Case closed. =||= > Is anyone aware of https://github.com/tenacityteam/tenacity?

The ""devs"" of that fork are extremely toxic, drama driven, and they're web devs, none of them has any clue about C, C++ or audio engineering. =||= At this point I'm not sure if tenacity has any developers, it seems entirely ""staffed"" by community manager-esque people who have done a spectacularly poor job of community management. It comes off more like a PR stunt with a profit motive (the founder stated he wanted to use the fork to ""pay his rent""). =||= > Based on the profiles of the maintainers of Sneedacity, the project looks most unpromising to me. One of the maintainers _joined GitHub yesterday._
> 
> Where's their story? How can I tell that they're in earnest and the other forks aren't?

Go to bed @cookiengineer, you suck at falseflagging. =||= I think that we can do this! We should really set home on sneedacity, and it actually (and ironically, despite all this nonsense drama) has the least drama. The guy behind it who created also seems friendly and is willing to cooperate with non-channers or those not interested in the meme aspect(In fact, Tox was made my /g/ users; /g/ has a pretty clean track record for making collaborative software)

As intended, this whole name raid thing wasn't to start drama to begin with, cookie cutter decided to take it extremely personally, which caused it's own drama. At best, the name wouldn't be picked and it was some other name, nothing bad would've happened... but here we are =||= From what I have seen more work has been done on sneedacity than any other forks. They removed telemetry, fixed bugs and you can build it on most platforms, someone's even working on a choco package for Windows and a ppa for Ubuntu based distributions.
Despite all the drama, they have been the most professional since the beginning and they actually have C and C++ knowledge.
I mean at the end of the day you choose the fork you want of course but I know which one I'll be using and if you can help sneedacity that would be great.  =||= Is there any way to create a poll on a website other than odysee, I have no account for it, and apparently I have to pay money  or wait to be verified (which may take days) to be able to vote. When I try to pay, it states that the USA is not a supported region. Either I am very stupid, or the site is may not be a good choice to make polls on. =||= > Is there any way to create a poll on a website other than odysee, I have no account for it, and apparently I have to pay money or wait to be verified (which may take days) to be able to vote. When I try to pay, it states that the USA is not a supported region. Either I am very stupid, or the site is may not be a good choice to make polls on.

InventorXtreme You don't have to verify Odysee account for making a comment. You need to make small channel. With a name. ( A user name )  =||= https://github.com/Sneeds-Feed-and-Seed/sneedacity
This fork is pretty active and has no drama so its pretty good right now =||= Sneedacity has no drama or moderators censoring issues, along with many devs with actual skill in C[++] (unlike tenacity), I think this should be the new fork =||= The sign is a subtle joke. The shop is called ""Sneed's Feed & Seed"", where feed and seed both end in the sound ""-eed"", thus rhyming with the name of the owner, Sneed. The sign says that the shop was ""Formerly Chuck's"", implying that the two words beginning with ""F"" and ""S"" would have ended with ""-uck"", rhyming with ""Chuck"". So, when Chuck owned the shop, it would have been called ""Chuck's Fuck and Suck"". =||= Oh wow, haha, how did The Simpsons get away with this one? =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1247stop glowing like a cia agent and remove the spying shitMLGariarivega07/07/21, 06:23:20 AMNaNNaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1248Privacy Policy is hard to find on the Audacity WebsitePeter Sampsonpetersampsonaudacity07/27/21, 12:10:28 AM"**Describe the bug**
The Privacy Policy is hard to find on the Audacity Website

**To Reproduce**
Steps to reproduce the behavior:
1. Go to the Audacity website
2. Try to locate the Privacy Policy
3. Observe: (eventually) it is under the ""Contact"" tab

**Expected behavior**
I would expect to see it located under the ""About"" tab - along with similar related entries: License, Terms of Service, Voluntary Product Accessibility Template etc, 

It is not really a ""Contact"" issue ...

**Screenshots**

![image](https://user-images.githubusercontent.com/50205984/124727434-9d7dd780-df06-11eb-912f-6091bc046cd0.png)

![image](https://user-images.githubusercontent.com/50205984/124727679-d74ede00-df06-11eb-9e8a-ba9b736760e2.png)


""It's gone; the privacy policy in the ""Contact"" tab is regarding mailing lists; the privacy policy we are talking about is now missing and nowhere to be found.  =||= @Tantacrul  - Looking at the Audacity Website today on the About tab I see:
![image](https://user-images.githubusercontent.com/50205984/126901139-85521fb1-eb8d-46d7-b731-860ce3aa1aab.png)

a) note that the Privacy policy(s) are shown on the right in the ""About"" links - but they have no corresponding links in the About dropdown menu (as all the other entries do).

b) And personally I would place the privacy policies as the bottom two entries in both the drop-down menu and the ""About"" links list - leaving the much more important ""News"" at the top of the menu and list.
 =||= @Tantacrul And the Error Reporting Privacy
![image](https://user-images.githubusercontent.com/50205984/126901453-bf055f07-6b1f-4a00-9898-9822c3b05d2a.png)
Is just a placeholder and NOT a policy document.

Since 3.0.3 has error checking I would have thought that this Error Reporting Privacy Notice should be properly extant on the Website prior to 3.0.3 release.


And note that if you click on the Privacy Policy link in an error message - the link takes you to the ""Desktop Privacy Notice"" and NOT the ""Error Reporting Privacy Notice"" - should this logged as a new bug ?

 =||= >And note that if you click on the Privacy Policy link in an error message - the link takes you to the ""Desktop Privacy Notice"" 
>and NOT the ""Error Reporting Privacy Notice"" - should this logged as a new bug ?

Logged as GitHub Issue #1361  =||= In Issue #1248 @crsib wrote:
>This is not a bug, there will be single privacy policy for error reporting and updates

 In which case the separate link to ""Error Reporting Privacy Notice""  needs removing from the Website =||= The public link to the privacy policy has now been published along with the release of 3.0.3.

![image](https://user-images.githubusercontent.com/11011881/127074672-0c0b9502-0626-41d5-aaa6-a300da5bb0a7.png)

The ordering of the About list has also been fixed.

![image](https://user-images.githubusercontent.com/11011881/127074705-1af6205f-4014-4e65-aed9-05d6105937b0.png)
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1249(Maybe) Age restrictions doesn't break GNL (and correct some misconceptions) DooDooDot08/04/21, 10:11:39 AM"From [https://www.gnu.org/licenses/gpl-3.0.html]():

> When we speak of free software, we are referring to freedom, not price. Our General Public Licenses are designed to make sure that you have the freedom to distribute copies of free software (and charge for them if you wish), that you receive source code or can get it if you want it, that you can change the software or use pieces of it in new free programs, and that you know you can do these things.

GPL refer to freedom of distribution and modification, says nothing about freedom of use for all ages.

The age restriction is **NOT** due COPPA but GDPR. 

From [https://gdpr-info.eu/art-8-gdpr/]()

> Where point (a) of Article 6(1) applies, in relation to the offer of information society services directly to a child, the processing of the personal data of a child shall be lawful where the child is at least 16 years old. Where the child is below the age of 16 years, such processing shall be lawful only if and to the extent that consent is given or authorised by the holder of parental responsibility over the child. Member States may provide by law for a lower age for those purposes provided that such lower age is **not below 13 years**.

But Audacity new terms are still an issue, tho. ""Both the GPLv2 and GPLv3 have parts that say that running the software is not restricted
GPLv2: `The act of running the Program is not restricted`
GPLv3: `This License explicitly affirms your unlimited permission to run the unmodified Program.`

While age is not explicitly mentioned, I don't see why this would not apply to someone under a certain age.

https://www.gnu.org/licenses/old-licenses/gpl-2.0.en.html
https://www.gnu.org/licenses/gpl-3.0.en.html =||= > Both the GPLv2 and GPLv3 have parts that say that running the software is not restricted
> GPLv2: `The act of running the Program is not restricted`
> GPLv3: `This License explicitly affirms your unlimited permission to run the unmodified Program.`
> 
> While age is not explicitly mentioned, I don't see why this would not apply to someone under a certain age.

Gnu is a copyleft license, just the opposite of a copyright, this gives people unlimited permission to run the unmodified Program not restricted and without legal consequences because nobody claim the ownership of that program.

Not that “everyone of every age can use it"", thing that people on Github **should** know.  =||= Yes, it is explicitly ""everyone can use it unrestricted"". You went from ""maybe"" to ""definitely"" pretty fast. Makes me wonder.
Edit for mispelling/grammar  =||= it's uselessness speak with 10 ignorants that disliked the obvious and a troll  =||= > 2. Basic Permissions.
> All rights granted under this License are granted for the term of copyright on the Program, and are irrevocable provided the stated conditions are met. This License explicitly affirms your unlimited permission to run the unmodified Program. 

It's pretty obvious, to me anyway, that, by `This License explicitly affirms your unlimited permission to run the unmodified Program.`, and specifically, by `unlimited`, it means that anyone, regardless of race, gender, age, sexual orientation or any other factor can use this program, unrestricted.
So yes, the new ToS are in violation of the GPL. =||= > It's pretty obvious

It's not so ""obvious“ people are mistaking license wording for start a riot and troll or play the white knights.
At this point, think what you want.  =||= >It's not so ""obvious“

`unlimited` means unlimited, it means no restrictions whatsoever.

>people are mistaking license wording for start a riot and troll or play the white knights.

What riots are you talking about?

>At this point, think what you want.

I will, but why open this issue if you are not opened to discussing it? You might as well close this issue. =||= > this gives people unlimited permission to run the unmodified Program
> 
> Not that “everyone of every age can use it""

I'm trying (and failing) to understand your argument, aren't you contradicting yourself in the same post? The GPLv2 and GPLv3 seem pretty clear to me.

> GPLv2: `The act of running the Program is not restricted`
> GPLv3: `This License explicitly affirms your unlimited permission to run the unmodified Program.`

I'm interpreting ""is not restricted"" (for GPLv2) and ""your unlimited permission"" (for GPLv3) as anyone can use it, otherwise running the program would be restricted (by age) and the permission would be limited (by age)?

 =||= ""Everyone who disagrees with me is an ignorant troll""
OK, you got me with that one. I can't argue with that. =||= > From https://www.gnu.org/licenses/gpl-3.0.html:
> 
> > When we speak of free software, we are referring to freedom, not price. Our General Public Licenses are designed to make sure that you have the freedom to distribute copies of free software (and charge for them if you wish), that you receive source code or can get it if you want it, that you can change the software or use pieces of it in new free programs, and that you know you can do these things.
> 
> GPL refer to freedom of distribution and modification, says nothing about freedom of use for all ages.
> 
> The age restriction is **NOT** due COPPA but GDPR.
> 
> From https://gdpr-info.eu/art-8-gdpr/
> 
> > Where point (a) of Article 6(1) applies, in relation to the offer of information society services directly to a child, the processing of the personal data of a child shall be lawful where the child is at least 16 years old. Where the child is below the age of 16 years, such processing shall be lawful only if and to the extent that consent is given or authorised by the holder of parental responsibility over the child. Member States may provide by law for a lower age for those purposes provided that such lower age is **not below 13 years**.
> 
> But Audacity new terms are still an issue, tho.

I don't understand why you are citing GPLv3 when this is GPLv2

> > It's pretty obvious
> 
> It's not so ""obvious“ people are mistaking license wording for start a riot and troll or play the white knights.
> At this point, think what you want.

**obvious** is the fact that you are mistaking the license, you have not read the entire license and then argue that others mistakes the wording. GPLv2: `The act of running the Program is not restricted` means The act of running the Program is not restricted by age (among other things).

> it's uselessness speak with 10 ignorants that disliked the obvious and a troll

useless is arguing the license with someone that has not read the license file https://github.com/audacity/audacity/blob/master/LICENSE.txt

P.S.: BTW you are not “speaking” you are writing. =||= > From https://gdpr-info.eu/art-8-gdpr/
> 
> > Where point (a) of Article 6(1) applies, [...] such lower age is **not below 13 years**.
> 
> But Audacity new terms are still an issue, tho.

It is still not clear which new terms imply that audio recording is personal data. =||= The final revised Privacy Policy released as part of 3.0.3 has no age restriction =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1251Labels track: labels selectionAnitaBats09/21/21, 03:21:59 PM"Implement changes proposed by #1195

Est.: 10 hrs"done =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1253"BOYTCOTT the uk gov, and it's ""national"" terrorist ""service"", and google and youtube and microsoft and people who use ""titles"" with names"Deleted userghost07/07/21, 02:54:12 PM"**BOYCOTT** the evil terrorists at the uk gov. Don't protect their evil ""national"" ""service"". 
**BOYCOTT** google for promoting the uk's evil ""national"" ""service"" and for promoting people who work for them. STOP USING ALL GOOGLE PRODUCTS. Google is a fake clown (and so is microsoft/yandex/duckduckgo etc. etc.) WHO ARE NOT ENGINEERS. They are fake clowns who claim to be Engineers, WHEN THEY ARE NOT, AND WILL NEVER BE CLOSE TO ENGINEERS.
**BOYCOTT** people who mention other people using ""titles"". 
**DO NOT** give ANY telemetry to the evil terrorists and arrogant people.

bye bye....."NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1254Please stop helping the evil people!Deleted userghost07/07/21, 05:47:54 PM"BOYCOTT the evil terrorists at the uk gov. Don't protect their evil ""national"" ""service"".
BOYCOTT google for promoting the uk's evil ""national"" ""service"" and for promoting people who work for them. STOP USING ALL GOOGLE PRODUCTS. Google is a fake clown (and so is microsoft/yandex/duckduckgo etc. etc.) WHO ARE NOT ENGINEERS. They are fake clowns who claim to be Engineers, WHEN THEY ARE NOT, AND WILL NEVER BE CLOSE TO ENGINEERS.
BOYCOTT people who mention other people using ""titles"".
DO NOT give ANY telemetry to the evil terrorists and arrogant people.

bye bye.....""Wtf 😅 is this IT a kind of ""anti-vaccine"" campaign? =||= ? =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1256ILLEGAL ACTIVITYFanboyStudiosFanboyStudios07/07/21, 06:26:11 PM"ILLEGAL ACTIVITY

Limiting users ages to over 13 is a violation of GPL 3.0! STOP IT!

I sincerely hope Muse Group gets sued to oblivion and goes bankrupt... along with Adobe (for which they have ties to).

![eviladobeaudacity](https://user-images.githubusercontent.com/13723631/124809215-7aaeeb80-df25-11eb-88e8-3940c9bf30ea.png)"NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1257Privacy Policy was removed from the Official WebsiteDaniel Fleischerdanielfleischer07/07/21, 08:42:55 PM"No where to be found.

The privacy policy in the ""Contact"" tab relates to mailing lists privacy. ""Not removed, just well hidden: need to go to ""About"", then ""License"", then on the right pane list, go to ""Desktop Privacy Notice"". =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1258Renaming clipsJouni Helminenjounih09/15/21, 03:09:01 AM"### User Story
As a developer, I would like to know the UX details for implementing clip names and renaming.

### Description

Currently there is no concept of clip names in Audacity, only track names. Individual clip names are very useful when organising a project, or separating between copies or takes.

The new affordance UX has a space for a clip name top left, below are the designs which allow the user to change the clip name.

For keyboard navigation Tabbing should select a clip, and ""Enter"" could edit the clip name.

Audio/Midi clips:

![Clip names@2x](https://user-images.githubusercontent.com/10109867/126309380-68a8db34-691a-4eb7-a6ca-4efd0807d102.jpg)


Label clips:

Described here https://github.com/audacity/audacity/issues/1195

### Accessibility

Keyboard shortcuts for selecting and editing audio/midi clip names and label clip names should be identical. Tab to select/forward cycle selection, enter to edit currently selected.

Furthermore, they should both respect the accessibility preference for editing the name in a dialog: Tracks->Track Behaviours-> Use dialog for the name of a new label (Also this should be renamed to ""Use dialog for the name of a new label or clip""

""Re: keyboard navigation:

1. Clip selection would be better than clip focus for renaming. For example, in file managers, if the focused and selected items are different and you press F2, then the name of the selected item is opened for editing. In addition, using the selected item (or items?) allows for the possibility of easily being able to rename multiple clips if that is ever required. If selection is used, then using tab is no longer appropriate.

2. However (!), proper selection of clips if not yet implemented. If this is still the case when renaming clips is implemented, as an alternative to the selected clip, you could use the clip which contains the cursor in the focused track. There already are commands for selecting (time range) next/previous clip, and commands for moving the cursor to next/previous clip boundary.

3. I'm assuming that a custom text box will be used for editing the clip name. Unfortunately, on Windows and using the wxWidgets accessibility framework this can't be made accessible for users of screen readers. So there will need to be the option of using a standard text box in a dialog box. Such an option is already present in Audacity for entering the name of a label when it's created. (Preferences-> Tracks Behaviors -> Use dialog for the name of a new label.)

4. Enter toggles the selectedness of the track, so another shortcut would have to be used for the rename clip command. =||= Can this design really be considered done, @AnitaBats ?  David's points are unaddressed.
 =||= Will be reviewing David's feedback today @Paul-Licameli  =||= 
> 3. I'm assuming that a custom text box will be used for editing the clip name. Unfortunately, on Windows and using the wxWidgets accessibility framework this can't be made accessible for users of screen readers. So there will need to be the option of using a standard text box in a dialog box. Such an option is already present in Audacity for entering the name of a label when it's created. (Preferences-> Tracks Behaviors -> Use dialog for the name of a new label.)

Providing the option of using a standard text box in a dialog box will also provide a workaround for IME input. See https://bugzilla.audacityteam.org/show_bug.cgi?id=1804


 =||= > Keyboard shortcuts for selecting and editing audio/midi clip names and label clip names should be identical. Tab to select/forward cycle selection, enter to edit currently selected.

The existing use of Tab and Shift + Tab in the label track is somewhat of an anomaly in Audacity. These shortcuts are hard coded - normally there are commands, possibly with default shortcuts, and the user is able to customize these shortcuts. Maybe part of the reason for this anomaly is that in all previous versions of Audacity, these shortcuts changed the focus, and so were felt to be appropriate.

However, for the actions of selecting the next/previous item in an audio or wave track I think it would be much better to have commands for these actions, so that their shortcuts can be customized. I don't think that Tab and Shift + Tab would make good default shortcuts for these commands, given that at some point there will probably be commands for selecting multiple items. For the Tab and Shift + Tab pair of shortcuts the Shift modifier indicates a change of direction. However when there are commands for selecting single items and for extending the selection, the Shift modifier is normally used to indicate extending the selection, rather than the direction. So for example in Reaper (at least when using the osara extension),  the shortcuts for selecting the next/previous clip are  Ctrl + right/left arrow, and the shortcuts for extending the clip selection forwards or backwards are Ctrl + Shift + right/left arrow.

Also, as I've previously pointed out, the shortcut Enter is currently used to toggle the selectedness of the focused track. Again there should of course be a command the rename the focused item rather than it being hardcoded.

I didn't notice that the design had been edited, otherwise I would have commented earlier. =||= @DavidBailes makes sense to have customisable commands for selecting clips and editing names rather than hardcode these shortcuts. @vsverchinsky can you do this please?

I'm ok with ctrl/command + right/left arrow for selecting the next/previous clip if that's preferred, makes sense to add shift to that when extending the selection to multiple clips. 

@DavidBailes Which keyboard shortcut would you prefer for editing the name, once the clip is selected? And which keyboard shortcut for selecting the first clip overall? =||= > @DavidBailes makes sense to have customisable commands for selecting clips and editing names rather than hardcode these shortcuts. @vsverchinsky can you do this please?

@Jouni. There are existing commands to select the next/previous clip (Alt + comma/period). As you've previously pointed out they don't change the state of the clip to selected, but they could be changed to do so.
Are you wanting to use different commands rather than modifying these existing commands?

Tantacrul mentioned somewhere (which I can no longer find) that he was working on a selection model for 3.1. Do you know if this is finished? It would be really useful to know what the big picture is for selection when thinking about the commands are needed for 3.1 so that all the new features are accessible for keyboard users.

> 
> I'm ok with ctrl/command + right/left arrow for selecting the next/previous clip if that's preferred, makes sense to add shift to that when extending the selection to multiple clips.

ctrl+right/left arrow wouldn't work at the moment because looking to the future when commands that extend the clip selection are added, ctrl+shift+left/right arrow are already used.
In addition if modified versions of the existing clip selection commands are used, we could just use the existing shortcuts (and alt + shift + comma/period are available).

As a slight aside, I appreciate with all the changes in Audacity, at some stage shortcuts may well need to be reassigned so that there's a coherent set of shortcuts for all the new functionality.

> 
> @DavidBailes Which keyboard shortcut would you prefer for editing the name, once the clip is selected?

Given that F2 is already taken, Ctrl + F2 may be as good as any.

> And which keyboard shortcut for selecting the first clip overall?

Could you expand on what you meant by that, I don't understand what you mean?

 =||= See also issue #1644 -- the Set Clip command should now be extended to make clip name change available to macros =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1259Unreadable dialog message (contrast) on macOSPascal J. Bourguignoninformatimago07/11/21, 04:51:10 PM"
**Describe the bug**
The contrast of the button texts in this Warning dialog is insufficient to achieve readability:




**To Reproduce**
Steps to reproduce the behavior:
1. Install audacity on macOS (eg. sudo port install audacity)
2. Launch audactiy (eg. audacity some.wav)
3. See dialog.

**Expected behavior**

Button text should be displayed in black just like the rest.

**Screenshots**

<img width=""517"" alt=""Screenshot 2021-07-08 at 14 35 01"" src=""https://user-images.githubusercontent.com/791692/124922614-f1b5b400-dff9-11eb-8575-d76777c6e2a0.png"">

**Additional information (please complete the following information):**
 - OS: macOS Big Sur
```
[pjb@despina org.xquartz:0 ~ 14Gi]$ hostinfo
Mach kernel version:
	 Darwin Kernel Version 20.5.0: Sat May  8 05:10:33 PDT 2021; root:xnu-7195.121.3~9/RELEASE_X86_64
Kernel configured for up to 8 processors.
4 processors are physically available.
8 processors are logically available.
Processor type: x86_64h (Intel x86-64h Haswell)
Processors active: 0 1 2 3 4 5 6 7
Primary memory available: 32.00 gigabytes
Default processor set: 757 tasks, 3238 threads, 8 processors
Load average: 2.68, Mach factor: 5.47

[pjb@despina org.xquartz:0 ~ 14Gi]$ 
```
 - Version
```
[pjb@despina org.xquartz:0 ~ 14Gi]$ audacity --version

[pjb@despina org.xquartz:0 ~ 14Gi]$ port search audacity|head -2
audacity @2.2.2_1 (audio)
    A Free, Cross-Platform Digital Audio Editor.

[pjb@despina org.xquartz:0 ~ 14Gi]$ 
```

**Additional context**

stderr output:
```
$ audacity /Volumes/USB8GB-A/RECORD/REC001.WAV
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 8000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 9600 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 11025 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 12000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 15000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 16000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 22050 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 24000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 32000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 44100 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 48000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 88200 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 96000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 176400 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 192000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 352800 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 384000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 8000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 9600 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 11025 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 12000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 15000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 16000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 22050 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 24000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 32000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 44100 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 48000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 88200 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 96000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 176400 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 192000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 352800 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 384000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 8000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 9600 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 11025 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 12000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 15000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 16000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 22050 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 24000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 32000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 44100 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 48000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 88200 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 96000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 176400 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 192000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 352800 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 384000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 8000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 9600 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 11025 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 12000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 15000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 16000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 22050 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 24000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 32000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 44100 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 48000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 88200 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 96000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 176400 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 192000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 352800 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| OpenStream @ 384000 returned: -9986: Internal PortAudio error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| Error on line 1316: err='-66748', msg=Unknown Error
||PaMacCore (AUHAL)|| Error on line 1277: err='-66748', msg=Unknown Error
14:34:36: Debug: Unrecognized accel key 'backspace', accel string ignored.
14:34:36: Debug: Unrecognized accel key 'numpad_enter', accel string ignored.
2021-07-08 14:35:06.246 Audacity[25353:7789421] Persistent UI failed to open file file:///Users/pjb/Library/Saved%20Application%20State/$(PRODUCT_BUNDLE_IDENTIFIER).savedState/window_7.data: No such file or directory (2)
```""Probably of interest, the dark/light setting, the timezone and the night shift settings:

<img width=""670"" alt=""Screenshot 2021-07-08 at 14 43 18"" src=""https://user-images.githubusercontent.com/791692/124923745-0c3c5d00-dffb-11eb-916e-786cc8144a82.png"">

<img width=""669"" alt=""Screenshot 2021-07-08 at 14 42 51"" src=""https://user-images.githubusercontent.com/791692/124923757-0d6d8a00-dffb-11eb-82ef-572f22a4f191.png"">

<img width=""664"" alt=""Screenshot 2021-07-08 at 14 43 37"" src=""https://user-images.githubusercontent.com/791692/124923760-0e062080-dffb-11eb-969d-30cca8b19ec9.png"">
 =||= This is from a much older version of Audacity.  

Old versions of Audacity used to have this ODL (On Demand Loading) where external uncompressed (WAV & AIFF) files could be ""aliased"" i.e. referenced externally and not imported into the Audacity project.

This was done in early versions of Audacity as a space-saver when disks were a lot smaller and a lot more expensive.  Several versions back, in 2.3.3 in fact we removed this feature.

This should not be an issue in current 3.x.x Audacity - if a user has an AUP project made in 2.3.2 or earlier that still has external aliased audio files and tries to open it (actually import it) into 3.x.x, provided the aliased files remain extant and are in the correct referenced location the 3.x.x will import that old AUP project and import the aliased files and convert to the new unitary AUP3 project format.

 =||= @petersampsonaudacity explains that this dialog does not exist in the latest released version of Audacity.

I'm closing the issue.  If you, @informatimago upgrade to 3.0.2 and find another example of this poor contrast, then please re-open this.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1263#dontstealmydataMatěj Štágllofcz07/08/21, 07:24:18 PMThanks for being here for all the years but it's to move on --> https://github.com/tenacityteam/tenacityNaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1265Fix recording starting position (refs #1183)Vitaly Sverchinskyvsverchinsky07/16/21, 03:14:36 PM"Resolves: #1183

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNFix recording starting position (refs #1183)Vitaly Sverchinskyvsverchinsky07/16/21, 03:14:36 PM"Resolves: #1183

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNVitaly Sverchinsky07/16/21, 02:49:11 PMfix recording starting position (refs #1183)1
1267Show app updates Informational popup with updated text on the first app launchAnitaBats08/04/21, 10:37:15 AM"User story
As a Product owner of Audacity I need to notify the users when they first install Audacity that update checking requires an IP address in order to work.
The info text must be clean and unambiguous and should link to Privacy Policy

Details and final design will be added as soon as they are approved. ""@AnitaBats   Such notification should also enable the user to turn off update checking _**before**_ the app attempts any phone-home Internet access.

It is my understanding (but IANAL) that this is necessary for GDPR compliance (UK and European).

For UK see:  https://ico.org.uk/for-organisations/guide-to-data-protection/guide-to-the-general-data-protection-regulation-gdpr/lawful-basis-for-processing/consent/
 =||= > The info text must be clean and unambiguous and should link to Privacy Policy
@AnitaBats  - the 3.0.3 notification seems perfectly clear to me (even though it has no mention of IP address)
![image](https://user-images.githubusercontent.com/50205984/128160431-5d200cec-3739-4a67-8a24-32b78d946317.png)


I think you could probably close this issue ...


 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1268About Audacity dialog change: add Legal tab, add PP thereAnitaBats07/09/21, 05:34:05 PM"As a Product owner of Audacity I need to provide the users more visibility on the Privacy Policy, therefore it should be accessible in About Audacity dialog.

1. Add Legal tab in the About Audacity dialog
2. Legal tab should contain a link to the Privacy Policy
3. It should contain info about the licensing (current information, must not be removed)

Details on the requirements and design will be added as soon as they are approved. "NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1269Update Preferences -> Application: updatesAnitaBats08/04/21, 10:12:44 AM"User story
As a user of Audacity, I want to be able to opt-in / opt-out for the app updates so that I can decide whether I want to receive updates.

1. Add Check for the updates option checkbox to the Preferences -> Application
2. Default value is on
3. Privacy Policy should be mentioned in this doc

Details on the requirements and design will be added as soon as they are approved. ""I don't see any reason why this could not apply to crash reports too.

An open source mod tracker I use, opens up a dialogue on first use which give the user these options on one page. Can also be accessed through options at any time. 

Do I trust the developers? Absolutely because they have been up-front and open.
Am I more likely to opt in to allow crash reports to be sent? Hell yes.
 =||= This is the case in 3.0.3 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1271Move Privacy Policy URL to a different tab to improve it's visibilityDmitry Vedenkocrsib07/09/21, 05:03:27 PM"Resolves: #1268 

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNMove Privacy Policy URL to a different tab to improve it's visibilityDmitry Vedenkocrsib07/09/21, 05:03:27 PM"Resolves: #1268 

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNDmitry Vedenko07/09/21, 04:07:40 PMMove Privacy Policy URL to a different tab to improve it's visibility1
1274Audacity crashes if Nyquist script contains EXIT commandSteve DaultonSteveDaulton07/12/21, 09:10:01 AM"**Describe the bug**
If a Nyquist script containing the EXIT command runs, Audacity crashes.

**To Reproduce**
Steps to reproduce the behavior:
1. Run the following command in the Nyquist Prompt effect
`(exit)`
2. Observe that Audacity crashes.

**Expected behavior**
The EXIT command should not be defined in Audacity's implementation of Nyquist, so `(exit)` should raise an error:
`error: unbound function - EXIT`

**Additional information (please complete the following information):**
 - OS: Xubuntu 20.04 (bug expected to affect all platforms)
 - Version: Audacity 3.0.2 / 3.0.3 alpha / 3.0.4 alpha


**Additional context**
This is a return of: https://bugzilla.audacityteam.org/show_bug.cgi?id=379"NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1275Fix bug 379Steve DaultonSteveDaulton07/12/21, 09:10:01 AM"EXIT should not be defined in Audacity's implementation of Nyquist

Resolves: https://github.com/audacity/audacity/issues/1274

Undefine Nyquist ""EXIT"" command

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNFix bug 379Steve DaultonSteveDaulton07/12/21, 09:10:01 AM"EXIT should not be defined in Audacity's implementation of Nyquist

Resolves: https://github.com/audacity/audacity/issues/1274

Undefine Nyquist ""EXIT"" command

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNSteveDaulton07/11/21, 11:54:15 AM"Fix bug 379

EXIT should not be defined in Audacity's implementation of Nyquist"1
1277Extract lib basic UIPaul LicameliPaul-Licameli07/19/21, 02:43:23 AM"Resolves: #1059

Definition and some uses of a facade, decoupling an interface for a few basic user interface services, from a wxWidgets based implementation that is injected at startup time.

This will allow certain important parts of the program to achieve UI toolkit neutrality, without yet undertaking the larger task of a toolkit-neutral rewrite of ShuttleGui.

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNExtract lib basic UIPaul LicameliPaul-Licameli07/19/21, 02:43:23 AM"Resolves: #1059

Definition and some uses of a facade, decoupling an interface for a few basic user interface services, from a wxWidgets based implementation that is injected at startup time.

This will allow certain important parts of the program to achieve UI toolkit neutrality, without yet undertaking the larger task of a toolkit-neutral rewrite of ShuttleGui.

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli02/19/21, 05:26:45 PMUses of BasicUI::MakeGenericProgress1
1279Help>Check for Updates - does not actually check for updatesPeter Sampsonpetersampsonaudacity09/24/21, 06:14:12 PM"**Describe the bug**
A clear and concise description of what the bug is.

**To Reproduce**
Steps to reproduce the behavior:
1. Go to Help>Check for Updates
2. Observe: you are taken to the Update page of the Audacity Website
https://www.audacityteam.org/download/?from_ver=3.0.3&Time=Jul9202117:10:00

**Expected behavior**
Given that Audacity now has internet enabled update checking - check for updates should actually perform a proper update check - not just take the user to a wen page where they must do the checking.

This command should temporarily over-ride the setting a user may have in Application preferences for Update Checking to be ""off"" - BUT it should **_NOT_** change that setting to be on.  It is a perfectly valid use-case  that a user may wish to make a one-off on-demand check without having auto-checking turned ""on""

**Screenshots**
Not applicable.

**Additional information (please complete the following information):**
 - Tested on W10 with latest 3.0.3 alpha:  Audacity_Windows_64bit_1015901279_01da348 
 - But applies to all OS

**Additional context**
None.""**Fixes way:**
1. Make the opt-in of `Help>Check for Updates` item by `audacity_has_updates_check` CMake option.
2. Call `UpdateManager::Get().GetUpdates(true)` from `Help>Check for Updates` to checking new version (download and installing) if update option was enabled. =||= Task required: 6-8 hrs =||= @LWinterberg Remember manual updates for this?
 =||= Tested on W10 with audacity-win-3.1.0-alpha-20210924+97ca83e-64bit

This now looks fine

![image](https://user-images.githubusercontent.com/50205984/134725795-b5908333-7462-4424-aa8a-7f8f4353038f.png) =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1280Update user manual: AffordancesAnitaBats09/22/21, 09:08:07 AMNaN"Note that there are an awful lot. of images of tracks in the manual which ideally should be updated to show the affordances drag-bar.

Including of course the ""Amazing-Imagemap"" on the front page - which provides a graphical ""index"" to content in the manual.
 =||= 1_ I have added P1s in the manual for pages that I believe really must be changed - images and text.

2) There are other pages with track images that ideally should be changed.

3) I have added a placeholder section in the What's new for this new feature.

4) You really cannot call these thingamebobs/Dingsbums ""Affordances"" in a user-facing document like the Manual, it will totally confuse users:
a) it is not meaningful,
b) it is not accurate.  

@Tantacrul favors ""**Clip-handles**"" and I am minded to agree.  

I've found myself writing in the Manual ""**Clip-handle drag bars**"" for greater clarity. =||= (this is blocked by #1446. Also by #1182 to some extend) =||= As far as affordances go: 
- [x] https://alphamanual.audacityteam.org/man/Sync-Locked_Track_Groups_-_Time_Shifting still needs to be done (after I properly understand what's happening there)
- [ ] https://alphamanual.audacityteam.org/man/Spectrogram_View may get some more images, but it's not that urgent
- [ ] https://alphamanual.audacityteam.org/man/Main_Page needs to get updated, and it seems like this can be done relatively painlessly. however, this is blocked by the design of the spectral editing tool/removal of the time shift tool button/...
- [ ] https://alphamanual.audacityteam.org/man/Time_Shift_Tool can get deleted (https://alphamanual.audacityteam.org/man/Special:WhatLinksHere/Time_Shift_Tool needs to be unlinked first)
- [ ] https://alphamanual.audacityteam.org/man/Editing,_resizing_and_moving_Labels would be nice-to-have for clip handles, but the focus is on labels which didn't change much in appearance =||= >     * https://alphamanual.audacityteam.org/man/Spectrogram_View may get some more images, but it's not that urgent

I trimmed the Timeline off of three images - which should remove the need to update these for the clip-handles. =||= @LWinterberg   I just added a P1 to this page
https://alphamanual.audacityteam.org/man/Audacity_Tracks_and_Clips#Moving_Clips

As the page on Time Shift tool is scheduled to be removed - this page needs to talk about the ability to shift audio to  before T-0 - i.e. audio in negative time. =||= @LWinterberg  I also added a P1 for updated images to this page:

0. https://alphamanual.audacityteam.org/man/Edit_Menu:_Clip_Boundaries

As this page is all about clips I think it really should be updated. =||= I also added P1s for

1.  https://alphamanual.audacityteam.org/man/Select_Menu:_Clip_Boundaries
2. https://alphamanual.audacityteam.org/man/Crossfade_Clips
3. https://alphamanual.audacityteam.org/man/Edit_Menu:_Remove_Special
4. https://alphamanual.audacityteam.org/m/index.php?title=Boundary_Snap_Guides&action=edit

As these all pay some attention to working with clips. =||= And these

5. https://alphamanual.audacityteam.org/man/Keyboard_Shortcut_Reference#Extra:_Tools
6. https://alphamanual.audacityteam.org/man/Scripting_Reference#Extra:_Tools
7. https://alphamanual.audacityteam.org/man/Toolbars_Overview#Tools_Toolbar
8. https://alphamanual.audacityteam.org/man/Tools_Toolbar =||= Today I also changed several references to using the Time Shift tool - switching that to using the Clip-handle drag-bars. =||= Priorities have shifted, I'm considering the state of affordances in an acceptable state for now and will prioritize #1699 instead, as well as the new manual. I'm closing this even though some of these pages still haven't been updated, as the new system is scheduled for 3.2 anyway.  =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1282Remove the GPL violation ( will report )time-travel-knoppers07/14/21, 09:56:57 AMHow can you be this disgusting?!NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1283PortAudio (Upstream) merge to main branchAbdon Moralesabdonmorales07/12/21, 01:05:42 PM"Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [ ] I signed [CLA](https://www.audacityteam.org/cla/)
- [ ] I made sure the code compiles on my machine
- [ ] I made sure there are no unnecessary changes in the code
- [ ] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [ ] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""Oops =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1284Adds Privacy Policy to preferences.Dmitry Vedenkocrsib07/14/21, 05:38:36 PM"Fixes #1269

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1286Makes privacy policy accessible in the About dialog.Dmitry Vedenkocrsib07/13/21, 06:58:49 PM"The change in ShuttleGUI is required to set the proper position for the URL. The default behavior has not changed

Refs: #1271  

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1290Patch #1Abdon Moralesabdonmorales07/13/21, 04:13:57 PM"Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [ ] I signed [CLA](https://www.audacityteam.org/cla/)
- [ ] I made sure the code compiles on my machine
- [ ] I made sure there are no unnecessary changes in the code
- [ ] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [ ] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1294"""Scriptables"" commands fail"Steve DaultonSteveDaulton07/18/21, 03:35:27 PM"**Describe the bug**
Most or all of the commands in ""Extra > Scriptables I"" and ""Extra > Scriptables II"" fail.

**To Reproduce**
Steps to reproduce the behavior:
1. Select a command from either ""Scriptables I"" or ""Scriptables II"".
2. Observe, nothing happens.
3. The ""Scriptables"" commands that I've tested via mod-script-pipe also fail.

**Expected behavior**
The Scriptables commands to work.


**Additional information (please complete the following information):**
 - OS: Xubuntu 20.04
 - Version: Audacity 3.0.4-alpha-20210714

**Additional context**
See also: https://github.com/audacity/audacity/issues/1289 and https://github.com/audacity/audacity/issues/1293""This bug also  breaks many Nyquist scripts.
Example:
1. Launch Audacity
2. Add a track
3. Select part of the track
4. Run this Nyquist command in the Nyquist Prompt using the Debug button: `(aud-do-command ""chirp"")`
5. Observe a long and cryptic error message, beginning with:

```
; loading ""/tmp/aud-do-debug-data-cache.lsp""
Debug data cache refreshed.
; loading ""/tmp/aud-do-debug-data-cache.lsp""
error: misplaced right paren
Function: #<Subr-(null): #0x55989e3d8528>
Arguments:
  #<File-Stream: #0x55989e89ef30>
  #\)
``` =||= Bug bisects to first bad commit: https://github.com/audacity/audacity/commit/02b61532fe1d5de459de705ccfe81e3c8d7cda89 =||= > Bug bisects to first bad commit: [02b6153](https://github.com/audacity/audacity/commit/02b61532fe1d5de459de705ccfe81e3c8d7cda89)

Thank you for the bisection.  So this is only a problem in 3.0.4.
 =||= Yes, seems OK in 3.0.3 RC2. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1295Make Privacy Policy links accessible from the keyboardDmitry Vedenkocrsib07/15/21, 01:18:09 AM"This pull request aims to provide a way for VI users to access the privacy policy.

* A new class is added that allows formatting translatable messages with links without having concatenations
* Accessible link to Privacy Policy added to Preferences -> Application
* Accessible link added to About dialog
* A new dialog that notifies the user about automatic updates checking with a link to Privacy Policy and an ability to open preferences. This dialog is shown before the first update check.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""I force-pushed the branch in your origin!  Sorry if that was rude.

But I permuted things in the file back to their original order, so there is a much smaller diff that is easier to review and understand.

One difference I notice is the change of ""information"" to ""info"".  But as with ""app"", I question whether we should use short colloquialisms.  Yet, not my call.

 =||= I'm now satisfied with AboutDialog.cpp, and you addressed the other points I raised.  Approved.  And, I would like to merge this back to master soon.
 =||= "Make Privacy Policy links accessible from the keyboardDmitry Vedenkocrsib07/15/21, 01:18:09 AM"This pull request aims to provide a way for VI users to access the privacy policy.

* A new class is added that allows formatting translatable messages with links without having concatenations
* Accessible link to Privacy Policy added to Preferences -> Application
* Accessible link added to About dialog
* A new dialog that notifies the user about automatic updates checking with a link to Privacy Policy and an ability to open preferences. This dialog is shown before the first update check.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNDmitry Vedenko07/14/21, 11:23:03 AMMakes Privacy Policy accessible in AboutDialog1
1297Fix bug 1243Anton S. Gerasimovgera-gas07/15/21, 04:15:08 PM"Resolves: #1243 

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""

Windows with error information for Temporary directory cases:
![image](https://user-images.githubusercontent.com/1660969/125621355-94d897cc-5eb4-4265-a8b5-e691b0ec89e2.png)""We usually aim to have a help button on error dialogs to take you to the manual for more information. =||= > 
> 
> We usually aim to have a help button on error dialogs to take you to the manual for more information.

We have a link in this dialog to Audacity manual that followed to Directory Preferences description or you means, button used usual for this purpose (link to manual)? not a link. Seems I understand what you means, I will add a changes. =||= An example
![image](https://user-images.githubusercontent.com/50205984/125654771-a14d60ab-3b62-436b-a66e-94c8ca453c5d.png)
 =||= I like the (new) use of the html window in an error dialog as it gives easy option of hyperlink, cut-and-paste-ability and wrapping that does not depend on the translators.

Notice that Peter's example also has an informative title for the dialog. =||= > I like the (new) use of the html window in an error dialog as it gives easy option of hyperlink

Unfortunately, the hyperlink won't be accessible to keyboard users. =||= The error dialog is changed to: https://crsib-screenshots.s3.amazonaws.com/20210715_18.29.58_gaaab.png =||= "Fix bug 1243Anton S. Gerasimovgera-gas07/15/21, 04:15:08 PM"Resolves: #1243 

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""

Windows with error information for Temporary directory cases:
![image](https://user-images.githubusercontent.com/1660969/125621355-94d897cc-5eb4-4265-a8b5-e691b0ec89e2.png)"NaNgera07/14/21, 12:17:13 PMAdd fix for case, when user set directory by keyboard manually.1
1298Crash in CallAfterRecordingDmitry Vedenkocrsib07/15/21, 02:13:40 PM"```
msvcp140 +0x12fc8 mtx_do_lock mutex.cpp:91
Audacity +0xd2371 std::_Mutex_base::lock mutex:51
Audacity +0xd2371 std::lock_guard<T>::{ctor} mutex:438
Audacity +0xd2371 AudioIO::CallAfterRecording AudioIO.cpp:1842
lib-network-manager +0x0cfde std::_Func_class<T>::operator() functional:968
lib-network-manager +0x0cfde audacity::network_manager::CurlResponse::perform CurlResponse.cpp:300
ntdll +0xc13fb RtlSleepConditionVariableSRW
<unknown> 0x000037decf0 <unknown> 
lib-network-manager +0x0fbfe std::_Func_class<T>::operator() functional:968
lib-network-manager +0x0fbfe std::_Packaged_state<T>::_Call_immediate future:603
lib-network-manager +0x0f3ff std::_Func_class<T>::operator() functional:968
lib-network-manager +0x0f3ff <lambda>::operator() ThreadPool.h:55
lib-network-manager +0x0e0ad std::invoke type_traits:1585
lib-network-manager +0x0e0ad std::thread::_Invoke<T> thread:55
ucrtbase +0x682dc crt_at_quick_exit
kernel32 +0x1570c BaseThreadInitThunk
ntdll +0x5385c RtlUserThreadStart
```"Is this reliably reproducible? =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1299Labeler Implementation aldo-aguilar07/15/21, 03:38:30 AM"Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""Accidentally Opened =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1300Sequence of AudioIO and NetworkManager shutdowns fixes crash at exitPaul LicameliPaul-Licameli07/15/21, 02:13:40 PM"Resolves: #1298

Stack trace showed main thread was shutting down network manager, which was waiting to join a response thread, which was executing the lambda in UpdateManager, which was using the global AudioIO object -- which was destroyed before that, at least on the main thread.

This is a simple fix: destroy AudioIO after that, not before.

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNSequence of AudioIO and NetworkManager shutdowns fixes crash at exitPaul LicameliPaul-Licameli07/15/21, 02:13:40 PM"Resolves: #1298

Stack trace showed main thread was shutting down network manager, which was waiting to join a response thread, which was executing the lambda in UpdateManager, which was using the global AudioIO object -- which was destroyed before that, at least on the main thread.

This is a simple fix: destroy AudioIO after that, not before.

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli07/15/21, 01:47:35 PMSequence of AudioIO and NetworkManager shutdowns fixes crash at exit1
1301Update pl.po from Transifex for 3.0.3Grzegorz PruchniakowskiGootector07/15/21, 11:44:48 PM"Update pl.po from Transifex for 3.0.3

Greetings,
Gootector

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""Fixes needed - closed. See: https://github.com/audacity/audacity/pull/1304/ =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1302Update pl.po for 3.0.3Grzegorz PruchniakowskiGootector07/16/21, 03:20:45 AM"Update pl.po for 3.0.3
I copied and pasted translated/updated strings from Transifex to this file.

Greetings,
Gootector

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""Fix needed ('msgstr ""nasza Polityka Prywatności""' to 'msgstr ""naszą Politykę Prywatności""') - closed. See: https://github.com/audacity/audacity/pull/1304/ =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1303Update pl.po from Transifex (master)Grzegorz PruchniakowskiGootector07/16/21, 08:35:34 AM"Update pl.po from Transifex (master)

Greetings,
Gootector

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNUpdate pl.po from Transifex (master)Grzegorz PruchniakowskiGootector07/16/21, 08:35:34 AM"Update pl.po from Transifex (master)

Greetings,
Gootector

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNGrzegorz Pruchniakowski07/16/21, 12:28:50 AM"Update pl.po from Transifex (master)

Update pl.po from Transifex (master)

Greetings,
Gootector"1
1304Update pl.po for 3.0.3Grzegorz PruchniakowskiGootector07/16/21, 08:30:18 AM"Update pl.po for 3.0.3
I copied and pasted translated/updated strings from Transifex to this file.

Greetings,
Gootector

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""Thank you, I merged it.

There are still nine missing translations.  Please supply them too if you can.
 =||= https://github.com/audacity/audacity/pull/1311 - missing strings. =||= "Update pl.po for 3.0.3Grzegorz PruchniakowskiGootector07/16/21, 08:30:18 AM"Update pl.po for 3.0.3
I copied and pasted translated/updated strings from Transifex to this file.

Greetings,
Gootector

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNGrzegorz Pruchniakowski07/16/21, 03:12:45 AM"Update pl.po for 3.0.3

Update pl.po for 3.0.3
I copied and pasted translated/updated strings from Transifex to this file.

Greetings,
Gootector"1
1305Audacity fails to write preferences to audacity.cfgPeter Sampsonpetersampsonaudacity07/16/21, 11:48:31 AM"**Describe the bug**
 Audacity fails to write preferences to audacity.cfg.  Pressing the OK button in ant preference pane will yield an error message telling you:
>Directory does not have write permissions

Using Tools>Reset Configuration yields the same error message.

The audacity.cfg file would appear to be writable:
a) from examining it with Windows Explorer
b) using an effect with changed parameters on some audio
c) exiting 3.0.3 and running 3.0.2 where it works OK

This is a regression on 3.0.2 and all earlier Audacities

**To Reproduce**
Steps to reproduce the behavior:
1. clear audacity settings folder
2. launch 3.0.3
3. Edit > Preferences
4. OK
5. Observe: error message


**Expected behavior**
Changes to preferences to be effected properly.

**Screenshots**
![image](https://user-images.githubusercontent.com/50205984/125920554-33b74cbf-8c48-4b4d-885e-78ee74f4c2a1.png)

**Additional information (please complete the following information):**
 - OS: Windows 10
 - Version: latest 3.0.3 alpha:  Audacity_Windows_64bit_1034717078_cb70fed

**Additional context**
This is a MUST-FIX""Probably caused by the most recent changes in the checking in Directories prefs for invalid directory locations.

It works fine on the 3.0.3 alpha I tested yesterday.
 =||= Testing on W10 with Audacity_Windows_64bit_1037187455_50f8e10 

This appears to be fixed by the previous release-3.0.3 commit =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1306Fixes writability check for the macro output directoryDmitry Vedenkocrsib07/16/21, 10:30:27 AM"The check for macro directory now only happens if directory is selected and exists,

Resolves: #1305
*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNFixes writability check for the macro output directoryDmitry Vedenkocrsib07/16/21, 10:30:27 AM"The check for macro directory now only happens if directory is selected and exists,

Resolves: #1305
*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNDmitry Vedenko07/16/21, 09:54:22 AM"Fixes #1305. 

The check for macro directory now only happens if directory is selected and exists,"1
1307Fix typofossdd07/19/21, 12:00:13 AM"- [ ] I signed [CLA](https://www.audacityteam.org/cla/): **NEVER**
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""Small one-line changes don't always need CLA agreement.
 =||= "Fix typofossdd07/19/21, 12:00:13 AM"- [ ] I signed [CLA](https://www.audacityteam.org/cla/): **NEVER**
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNfossdd07/16/21, 10:58:35 AMFix typo1
1309Turkish translation update master (string freeze version)Kaya Zerenkayazeren07/17/21, 12:18:59 AM"Turkish translation update master (string freeze version)

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [ ] I made sure the code compiles on my machine
- [ ] I made sure there are no unnecessary changes in the code
- [ ] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [ ] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""Thank you for the updates. I merged it into master.

However, what we need is a version for the release-3.0.3 branch.  I copied your change to that branch, but they are incomplete for its version of audacity.pot.  Fifteen strings are still missing from the translation.

Can you fix those?

Thank you.
 =||= I created new PR for release 3.0.3 . Thanks for guiding. =||= "Turkish translation update master (string freeze version)Kaya Zerenkayazeren07/17/21, 12:18:59 AM"Turkish translation update master (string freeze version)

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [ ] I made sure the code compiles on my machine
- [ ] I made sure there are no unnecessary changes in the code
- [ ] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [ ] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNKaya Zeren07/16/21, 07:12:44 PM"Turkish translation update master (string freeze version)

Turkish translation update master (string freeze version)"1
1311Update pl.po for 3.0.3Grzegorz PruchniakowskiGootector07/17/21, 06:30:32 AM"Update pl.po for 3.0.3
Missing strings.

Greetings,
Gootector

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1312Bouncing Beach Ball of DEATHPaul LicameliPaul-Licameli07/22/21, 09:40:30 PM"Steps to reproduce not known, timing-dependent perhaps, but a crash report was collected in which this was a bad pointer dereference, involving the famous Karaoke window:

```
void LyricsWindow::SetWindowTitle()
 {
   wxString name = mProject->GetProjectName();
```"NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1313Fix dangling pointers to Project from LyricsWindow.cppPaul LicameliPaul-Licameli07/22/21, 09:40:30 PM"Resolves: #1312

The bug is difficult to reproduce, but this is a plausible fix for it, given what we know from a stack trace.

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNFix dangling pointers to Project from LyricsWindow.cppPaul LicameliPaul-Licameli07/22/21, 09:40:30 PM"Resolves: #1312

The bug is difficult to reproduce, but this is a plausible fix for it, given what we know from a stack trace.

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli07/15/21, 03:11:19 PMFix dangling pointers to Project from LyricsWindow.cpp1
1314"Fix ""Scriptables"" commands, which broke at 02b6153..."Paul LicameliPaul-Licameli07/18/21, 03:35:27 PM"... Problem was the loss of an override of PluginManager::GetID() for a more
specific pointer type.

Resolves: #1294
*(short description of the changes and the motivation to make the changes)*

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""@SteveDaulton please review and approve if it fixes the bug.  You may need a clean pluginregistry.cfg to verify it.
 =||= Works for me. =||= ""Fix ""Scriptables"" commands, which broke at 02b6153..."Paul LicameliPaul-Licameli07/18/21, 03:35:27 PM"... Problem was the loss of an override of PluginManager::GetID() for a more
specific pointer type.

Resolves: #1294
*(short description of the changes and the motivation to make the changes)*

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli07/17/21, 03:02:40 AM"Fix ""Scriptables"" commands, which broke at 02b6153...

... Problem was the loss of an override of PluginManager::GetID() for a more
specific pointer type."1
1315Turkish translation update release 3.0.3Kaya Zerenkayazeren07/19/21, 01:04:33 AM"Turkish translation update release 3.0.3

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [ ] I made sure the code compiles on my machine
- [ ] I made sure there are no unnecessary changes in the code
- [ ] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [ ] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNTurkish translation update release 3.0.3Kaya Zerenkayazeren07/19/21, 01:04:33 AM"Turkish translation update release 3.0.3

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [ ] I made sure the code compiles on my machine
- [ ] I made sure there are no unnecessary changes in the code
- [ ] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [ ] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNKaya Zeren07/17/21, 06:08:59 AM"Turkish translation update release 3.0.3

Turkish translation update release 3.0.3"1
1316Update Polish from Transifex - for 3.0.3Grzegorz PruchniakowskiGootector07/19/21, 04:18:02 PM"Update Polish from Transifex - Audacity master (string freeze version).
100% translated and reviewed.

Greetings,
Gootector

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1317Update Polish from Transifex - for masterGrzegorz PruchniakowskiGootector07/19/21, 04:18:04 PM"Update Polish from Transifex - Audacity master (string freeze version).
100% translated and reviewed.

Greetings,
Gootector

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1319Fix issue 1310 -  close pipes after pipe_test.pySteve DaultonSteveDaulton08/30/21, 02:49:47 PM"In some Windows environments pipe_test.py may fail after
first run due to connection to pipe remaining open.
Fixed by adding close commands at end of script.
Also added comment to clarify that pipe_test.py is not intended
for production code, but as a quick test only.

Resolves: https://github.com/audacity/audacity/issues/1310

Added comment and close() commands.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1321Fix typo in pipeclient.pySteve DaultonSteveDaulton07/18/21, 11:55:09 PM"Typo slipped in with commit d31db975ee

Resolves: error in pipeclient.py

Python 2 should use ""raw_input""


- [x ] I signed [CLA](https://www.audacityteam.org/cla/)
- [x ] I made sure the code compiles on my machine
- [x ] I made sure there are no unnecessary changes in the code
- [x ] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x ] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNFix typo in pipeclient.pySteve DaultonSteveDaulton07/18/21, 11:55:09 PM"Typo slipped in with commit d31db975ee

Resolves: error in pipeclient.py

Python 2 should use ""raw_input""


- [x ] I signed [CLA](https://www.audacityteam.org/cla/)
- [x ] I made sure the code compiles on my machine
- [x ] I made sure there are no unnecessary changes in the code
- [x ] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x ] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNSteveDaulton07/18/21, 10:31:02 PM"Fix typo in pipeclient.py

Typo slipped in with commit d31db975ee"1
1322Extract lib exceptionsPaul LicameliPaul-Licameli07/21/21, 06:04:03 PM"Resolves #1162

Toolkit neutral library for Audacity's exception handling system

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNExtract lib exceptionsPaul LicameliPaul-Licameli07/21/21, 06:04:03 PM"Resolves #1162

Toolkit neutral library for Audacity's exception handling system

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli02/18/21, 02:11:45 AMNew library lib-exceptions1
1323Install updatesAnton S. Gerasimovgera-gas08/04/21, 11:15:05 PM"Resolves: #1199 

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""Squash these commits into one.  Then address my recent suggestions for checking that you re-enable update checking on all possible failure paths.

That is all the change I will request.
 =||= "Install updatesAnton S. Gerasimovgera-gas08/04/21, 11:15:05 PM"Resolves: #1199 

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNAnton Gerasimov08/04/21, 09:54:01 PMAdd preprocessor compilation cases for manual tests.1
1326Update pl.po for 3.0.3Grzegorz PruchniakowskiGootector07/20/21, 01:15:50 AM"Update pl.po for 3.0.3
Changed strings only.

Greetings,
Gootector

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNUpdate pl.po for 3.0.3Grzegorz PruchniakowskiGootector07/20/21, 01:15:50 AM"Update pl.po for 3.0.3
Changed strings only.

Greetings,
Gootector

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNGrzegorz P07/19/21, 04:12:32 PM"Update pl.po for 3.0.3

Update pl.po for 3.0.3
Changed strings only.

Greetings,
Gootector"1
1327Update pl.po for masterGrzegorz PruchniakowskiGootector07/21/21, 08:08:34 PM"Update pl.po for master
Changed strings only.

Greetings,
Gootector

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1328Extract lib preferencesPaul LicameliPaul-Licameli07/22/21, 08:53:14 PM"Resolves: #1060

A library of classes that manage global variable settings that persist between runs of the application

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNExtract lib preferencesPaul LicameliPaul-Licameli07/22/21, 08:53:14 PM"Resolves: #1060

A library of classes that manage global variable settings that persist between runs of the application

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli02/18/21, 02:08:38 PM"New library for preferences...

... It mentions some wxWidgets types in its interface, but these are in the
acceptable utility subset of wxBase that we still consider GUI toolkit-neutral."1
1329vertical shift-click&drag in the affordances drag bars causes Audacity to crashPeter Sampsonpetersampsonaudacity07/22/21, 01:48:56 PM"**Describe the bug**
1) Using shift modified click&drag to vertically move multiple clips to a different track causes Audacity to crash.

2) Using unmodified vertical click&drag in the affordances drag bar successfully moves the single clip to a new track.

3) Horizontal shift modified click & drag works fine, moving all clips in a track in sync together.

Using the Time-shift tool with shift modified vertical click&drag also produces the same crash.

**To Reproduce**
Steps to reproduce the behavior:
1) get some audio with two separate clips
2) Add a second empty track
3) Shift-click&drag (left or right)  in one of the affordances drag bars
4) Observe: both clips move left or right in sync _(this is expected and documented behavior)_
5) Shift-click&drag downwards to the second track in one of the affordances drag bars
6) Observe: Audacity crashes

**Expected behavior**
All the tracks in the track should be moved to the new track
**Screenshots**
Step 1
![image](https://user-images.githubusercontent.com/50205984/126292050-467465cb-3555-488c-ac70-8d61c3cee1c2.png)

**Additional information (please complete the following information):**
 - OS: W10
 - Version latest 3.0.4 alpha  -  audacity-win-3.0.4-alpha-20210720+95e7008-64bit
 - ET phoned-home with the error dialog

**Additional context**
I have not yet tested for regression""Further testing shows that shift modified vertical click&drag of multiple clips in a track also crashes in 3.0.2 and the latest alpha for 3.0.3 - so this crash should really be fixed for 3.0.3 =||= Confirmed on Linux with Audacity 3.0.2 and Audacity 3.0.4-alpha-20210718
Shift + vertical drag of clips crashes  (even when shifting only one clip). =||= This is a MUST-FIX for 3.0.3 as Audacity should not crash like this. =||= This behavior first appears in version 3.0.0.

In all previous versions it was impossible to vertically move all clips in a track with shift-modified use of the Timeshift tool - it was just blocked with no crash.

Thus this is a regression on 2,4.2 =||= The Manual has never mentioned the possibility of moving all clips (or multiple clips) vertically

> **Shifting clips vertically**
> When there are multiple audio tracks, a selected audio clip may be dragged up or down to another audio track of the same type. Mono audio clips may only be dragged to mono tracks and stereo clips may only be dragged to stereo tracks. To prevent unwanted left or right movement while dragging, press and hold the Ctrl key while dragging (on Mac, hold down the ⌘ key). 

But it does do so for horizontal movement

> 
> > **Time Shifting clips to left or right**
> > An individual clip always shifts when dragged, though if the clip is partially selected, dragging to left or right from outside the selection region moves the clip without moving the region itself.
> > 
> >     To shift a group of adjacent clips in one or more tracks to left or right, 
>>   leaving other clips alone, use Selection Tool to drag a
> >  selection region over the clips you want to shift, then switch to Time Shift Tool and drag from any clip inside that region. 
> >  Dragging from white space between clips will do nothing.
> >     To shift all clips in one track to left or right, hold Shift then drag. If you perform the SHIFT-drag from inside a selection region,
> > all the clips will shift and the region will move with the clips. 
> 

See this page in the manual:  https://manual.audacityteam.org/man/time_shift_tool.html

So to fix this bug either:
a) prevent vertical moves of multiple clips (and block the crash), or
b) enable vertical moves of multiple clips

Option a) is existing behavior in 2.4.2 and earlier - but option b) would be a good improvement for users - and quite expected as an extension of the horizontal behaviors with multiple clips. =||= I also confirm the same erroneous behavior on Mac

macOS 11.4 Bug Sur - latest release-3.0.3 build =||= > The Manual has never mentioned the possibility of moving all clips (or multiple clips) vertically

Though it can be  done using track selection and time selection to define the clips that are moved. =||= Testing on W10 with audacity-win-3.0.3 RC3

This now appears to be fixed.

We have reverted to the behavior as it was in 2.4.2 and earlier where Shift-modified click and drag of clips with the Timeshift tool will **_not_** move the multiple clips (and importantly no crash).  Thus there is no regression. =||= I have updated the manual to provide greater clarity: https://alphamanual.audacityteam.org/man/Time_Shift_Tool#vertical =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1331build: ffmpeg is not linkedmikhailnov09/24/21, 06:03:23 PM"Building from commit https://github.com/audacity/audacity/commit/b5e5a36fa65a7c2b46bf2c07483fb0b05a2cf665

```
%cmake \
  -Daudacity_lib_preference:STRING=system \
  -Daudacity_has_networking=no \
  -Daudacity_use_ffmpeg:STRING=linked \
  -Daudacity_use_libavcodec:STRING=system \
  -Daudacity_use_libavformat:STRING=system \
  -Daudacity_use_libavutil:STRING=system \
  -Daudacity_use_libmp3lame:STRING=system \
  -Daudacity_use_libflac:STRING=system \
  -Daudacity_use_libid3tag:STRING=system \
  -Daudacity_use_libsndfile:STRING=system \
  -Daudacity_use_libsoxr:STRING=system \
  -Daudacity_use_libtwolame:STRING=system \
  -Daudacity_use_libuuid:STRING=system \
  -Daudacity_use_libvamp:STRING=system \
  -Daudacity_use_libvorbis:STRING=system \
  -Daudacity_use_lv2:STRING=system \
  -Daudacity_use_sbsms:STRING=system \
  -Daudacity_use_soundtouch:STRING=system \
  -Daudacity_use_portaudio:STRING=local \
  -Daudacity_use_midi:STRING=local \
  -DAUDACITY_BUILD_LEVEL=2 \
  -DAUDACITY_SUFFIX:STRING=""""
```

```
...
  -Daudacity_use_ffmpeg:STRING=linked \
  -Daudacity_use_libavcodec:STRING=system \
  -Daudacity_use_libavformat:STRING=system \
  -Daudacity_use_libavutil:STRING=system \
```

but libavcodec.so is still not linked (is not in the list of deps of the resulting ELF binary)""```
[00:00:34] -- ========== Configuring sqlite ==========
[00:00:34] -- Checking for module 'sqlite3 >= 3.32.0'
[00:00:34] --   Found sqlite3 , version 3.35.5
[00:00:35] -- Using 'sqlite' system library
[00:00:35] -- ========== Configuring ffmpeg ==========
[00:00:35] -- Checking for modules 'libavcodec >= 51.53;libavformat >= 52.12;libavutil >= 52.66'
[00:00:35] --   Found libavcodec , version 58.134.100
[00:00:35] --   Found libavformat , version 58.76.100
[00:00:35] --   Found libavutil , version 56.70.100
[00:00:35] Package libswresample was not found in the pkg-config search path.
[00:00:35] Perhaps you should add the directory containing `libswresample.pc'
[00:00:35] to the PKG_CONFIG_PATH environment variable
[00:00:35] Package 'libswresample', required by 'libavcodec', not found
[00:00:35] Package libswresample was not found in the pkg-config search path.
[00:00:35] Perhaps you should add the directory containing `libswresample.pc'
[00:00:35] to the PKG_CONFIG_PATH environment variable
[00:00:35] Package 'libswresample', required by 'libavcodec', not found
[00:00:35] Package libswresample was not found in the pkg-config search path.
[00:00:35] Perhaps you should add the directory containing `libswresample.pc'
[00:00:35] to the PKG_CONFIG_PATH environment variable
[00:00:35] Package 'libswresample', required by 'libavcodec', not found
[00:00:35] Package libswresample was not found in the pkg-config search path.
[00:00:35] Perhaps you should add the directory containing `libswresample.pc'
[00:00:35] to the PKG_CONFIG_PATH environment variable
[00:00:35] Package 'libswresample', required by 'libavcodec', not found
[00:00:35] -- Linking 'ffmpeg' library during build
``` =||= I do not see `-DDISABLE_DYNAMIC_LOADING_FFMPEG` to be passed to the compiler =||= https://github.com/audacity/audacity/issues/554 is a similar issue.
They both are bad for Linux distro packaging of Audacity.
#554 is bad because symbols from libmp3lame are used in fact, but it is not linked to Audacity, so, without adding `-lmp3lame` to compiler flags manually, mismath of ABI in Audacity and libmp3lame may happen in the repository.
@crsib  =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1332Update the on hover text for clip affordanceAnitaBats08/03/21, 03:57:44 PM"New hover text for clip affordance:
""Drag clips to reposition them. Hold Shift and drag to move all clips on the same track.""""The hovertext should also mention the shift-modified behaviors for synced horizontal repositioning of all clips in a track.

 =||= Hmmm, I definitely mentioned during one of our design meetings that I thought that text was weird.

**_Drag clips to move them horizontally or place them on different tracks. Hold Shift while dragging to simultaneously move all clips on the same track._**

I'm not sure we need to articulate the function of single click. =||= > I'm not sure we need to articulate the function of single click.

+1 to that

 =||= >Click and drag to move clips horizontally...

""drag"" rather than ""click and drag"" according to both microsoft style guide, and ""read me first!"",
eg, drag clips.... =||= > > Click and drag to move clips horizontally...
> 
> ""drag"" rather than ""click and drag"" according to both microsoft style guide, and ""read me first!"",
> eg, drag clips....

Makes sense. Changed. =||= Testing on W10 with audacity-win-3.0.4-alpha-20210803+f90698c-64bit

Looks much better now with default window size. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1333Affordances: When copying and pasting a clip, it is desirable that it does not 'push out' clips to the right.AnitaBats09/08/21, 10:54:28 PMFrom an implementation point of view, we may want to handle this separately but it does need to be addressed"I think we resolved this on the call - there is a setting for this already - Tracks->Track behaviours->Editing a clip can move other clips

![image](https://user-images.githubusercontent.com/10109867/126345569-d3260d32-031f-4f52-8b38-c82829cbc425.png)

We will want to have a design overlapping clips, but that is a separate issue (and not for development in 3.1) - will create a new issue for this.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1335Stereo visualization improvementAnitaBats07/23/21, 11:33:09 AM"@jounih Could you please add more details?
Thanks!
Should be done before #1336"Covered in https://github.com/audacity/audacity/issues/1348 =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1336Point selection improvementAnitaBats07/23/21, 11:33:50 AM"@jounih Could you please add more details? 
Thanks!
Should be done after #1335 "Covered in https://github.com/audacity/audacity/issues/1348 =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1339"Affordances: Verify that ""Fit to Height"" acts as in version 3.0.3."Paul LicameliPaul-Licameli08/12/21, 04:03:02 PM"(View > TrackSize submenu, or hot key Shift + Ctrl + F )

Relates to minimization of tracks.

This command is supposed to apportion the vertical height of the screen equally among tracks, so that there is no scrollbar, except when tracks are so many they minimize and can't become short enough.

Scrollbar should appear in 3.1.0 only for the same number of tracks as in 3.0.3.""Testing on W10 with Audacity 3.0.4-alpha-20210721

This does not work properly cf. 3.0.2

At default window size I imported 3 stereo tracks and used Fit to Height - the third tack was barely on-screen

![image](https://user-images.githubusercontent.com/50205984/126758425-f55734b5-c34e-4025-bb98-5b2271fb146d.png)
 =||= It's even more problematical with a full-screen window and a single stereo track as you (mostly) lose the select and resize buttons:
![image](https://user-images.githubusercontent.com/50205984/126759119-9db58fa6-dd3c-4269-9301-e0255f0e9e74.png)
And note that the scroll bar can't scroll to reveal them.

And if you Restore Down the window then to default size it's even worse
![image](https://user-images.githubusercontent.com/50205984/126759391-8250cb8c-0c69-481e-aea8-872b4fa66d86.png)
There is no way to get access to the select and resize buttons - nor the bottom of the track to manually make a resize.

 =||= @vsverchinsky  =||= The workaround is 
**View > Tracksize > Collapse All Tracks** - shortcut  **Ctrl + Shift + C** =||= Testing on W10 with latest master build alpha 

This does not appear to be fixed - see image:
![image](https://user-images.githubusercontent.com/50205984/129220842-d9ee4c25-26fc-4746-a128-a8ebc0513276.png)
audacity-win-3.0.4-alpha-20210812+7da6a53-64bit

It still looks as though the drag bars are not being calculated and allowed for

Therefore reopening this issue =||= Also fails on W10 with subsequent master build audacity-win-3.0.4-alpha-20210812+d4fb834-64bit =||= See also Issue #1455  =||= #1422 looks like a duplicate if this issue =||= Now that 1442 has been pulled into master

Testing on W10 with latest alpha master build for 3.1.0/3.0.4   audacity-win-3.0.4-alpha-20210812+8f8ec41-64bit

This now woks fine

![image](https://user-images.githubusercontent.com/50205984/129229530-d8f64012-206e-4b70-9f2d-a7004cba0625.png)
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1342Adds Privacy Policy links to error reporting dialogs.Dmitry Vedenkocrsib07/21/21, 12:58:50 PM"Adds privacy policy to error and crash reporting dialogs.

Comment boxes are removed (or rather not compiled) to ensure, that it is not possible to send the personal data from them.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNAdds Privacy Policy links to error reporting dialogs.Dmitry Vedenkocrsib07/21/21, 12:58:50 PM"Adds privacy policy to error and crash reporting dialogs.

Comment boxes are removed (or rather not compiled) to ensure, that it is not possible to send the personal data from them.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNDmitry Vedenko07/21/21, 10:18:58 AM"Adds Privacy Policy links to error reporting dialogs. 

Also, adds ability to disable the comments box"1
1343Fix vertical shift dragPaul LicameliPaul-Licameli07/21/21, 11:14:20 AM"Resolves: #1329 

Shift+Drag in Time Shift tool from one track to another did nothing up to 2.4.2, crashes in 3.0.x ; just make it do nothing again

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1344Shift+Drag of clips between tracks was never allowed up to 2.4.2...Paul LicameliPaul-Licameli07/21/21, 11:17:37 AM"... and in 3.0.0 started crashing instead.  Just disallow it again, no
functionality lost.

Resolves: #1329

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNShift+Drag of clips between tracks was never allowed up to 2.4.2...Paul LicameliPaul-Licameli07/21/21, 11:17:37 AM"... and in 3.0.0 started crashing instead.  Just disallow it again, no
functionality lost.

Resolves: #1329

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli07/21/21, 10:52:36 AM"Shift+Drag of clips between tracks was never allowed up to 2.4.2...

... and in 3.0.0 started crashing instead.  Just disallow it again, no
functionality lost."1
1345Extract lib mathPaul LicameliPaul-Licameli07/22/21, 08:55:32 PM"Resolves: #1159

Depends on PR: #1328

Extract a tool-kit neutral library for some mathematical and sample-processing utilities.  Make only the library directly dependent on libsoxr

Note that only the last five commits are proper to this PR.

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNExtract lib mathPaul LicameliPaul-Licameli07/22/21, 08:55:32 PM"Resolves: #1159

Depends on PR: #1328

Extract a tool-kit neutral library for some mathematical and sample-processing utilities.  Make only the library directly dependent on libsoxr

Note that only the last five commits are proper to this PR.

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli02/28/21, 04:13:44 PMResample into lib-math; Audacity doesn't use libsoxr directly1
1346Audacity's team is censoring legitimate questionsDale MageeAntiSol07/21/21, 11:47:29 AM"**Describe the bug**
I asked a legitimate question here:
https://github.com/audacity/audacity/discussions/889#discussioncomment-752594

and was blocked for it.

I read through the guidelines I was linked to, but I don't see how this post violated them.

It should be noted that I was legitimately asking a question when I made this post - I wrote this question with this wording because I was wondering whether I was being too paranoid. The response would seem to indicate pretty clearly that I wasn't. 

But perhaps the Audacity team can  elaborate on how this wasn't an act of censorship.


**To Reproduce**
Steps to reproduce the behavior:
1. Go to 'https://github.com/audacity/audacity/discussions/889'
2. Ask a legitimate question that questions the integrity of the scumbags who have tried to turn audacity into apyware
3. Wait a while
4. Scroll down to the message saying 'you have been blocked from contributing to the audacity project for <link to your question>this comment</link>'
5. Try to fork, observe ""You have been blocked from forking"" message.
6. Chuckle at the irony in all the comments from apologists saying ""nobody is preventing you from forking""
7. Go find an [audacity fork](https://tenacityaudio.org/) and donate to them

**Expected behavior**
* Good-faith responses to the question raised. 
* Mature and open discussion with the project maintainers.

**Screenshots**
![audacity_discussion_blocked](https://user-images.githubusercontent.com/351169/126474595-185395b4-5d7e-4ff0-ac94-241013ea05b8.jpg)

![audacity_cannot_fork](https://user-images.githubusercontent.com/351169/126474618-9089d719-0847-471d-82eb-55fae989750c.jpg)

**Additional information (please complete the following information):**
 - OS: All?
 - Version: Any after the hostile takeover
 - Sound Device: All?

**Additional context**
I expect I'll be permanently blocked from the audacity repo for raising awareness of this. And I'm sure that somehow that action will also not be censorship according to musescore.

Luckily I've already got a copy of the pre-spyware codebase, so that's not much of a problem. But If you'd like to find me and discuss, I've enabled issues on the github fork I just made now that I'm temporarily unblocked from the audacity repo."NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1348Stereo tracks & affordancesJouni Helminenjounih09/21/21, 03:03:32 PM"
![stereo clips@2x](https://user-images.githubusercontent.com/10109867/126631147-5ddff756-541d-409a-b913-093a2b21863d.jpg)


Updated: Vertical Scale should start below the affordance on the top channel, and both channels should be equal height (plus the affordance on the top.

The line separator between two channels could still be used to adjust vertical height, as it works today. The hit area should be larger than the 1px visual separator -  at least 4px, possibly more (TBC after testing).""With the affordance Clip-handles the upper channel is not aligned properly with the Vertical Scale (the lower channel, now with no affordance is properly aligned with the Vertical Scale).

![image](https://user-images.githubusercontent.com/50205984/126528607-2105cf3d-6340-434e-a67a-2067e23dde9a.png)

This is presumably because the affordance is eating some of what was formerly the upper channel - rather than being additional screen real-estate.
 =||= But it is much better having the single affordance Clip-handles for a stereo track
 =||= Do we need to keep resizer between channels, or they should always have same size? =||= > Do we need to keep resizer between channels, or they should always have same size?

Well personally I've never used differently sized channels (I never saw the point - I had no use case where it could/would be useful).

You might need to address this question to a broader audience - the Quality email list and the Forum for example.

 =||= > | Do we need to keep resizer between channels, or they should always have same size?

In early versions of audacity, since stereo tracks are basically two mono tracks glued together with some logic, changing the size of one track would resize it but keep the other track unchanged, consequently changing the size of the entire stereo track bundle.  I modified this pre-1.0 to the present behavior that maintains the size of the stereo track when one track is resized, and resizes both proportionally when the stereo track is resized.  I did not do this to handle a specific use case (like wanting to zoom in on one track of a stereo track to use the draw tool), but because it was a simple way to resolve the broken behavior, without overhauling the simple stereo track object.  Disabling this and forcing each track to be 50% of the stereo size is probably reasonable and I'm guessing most other software works like that, but there are probably several bugs that could be introduced if this behavior is changed, especially for cases of merging/splitting tracks mono/stereo tracks.  It is also something that might draw complaints for removing functionality that didn't really negatively impact anything other than the simplicity with which a new feature can be added.  I.e., prepare for bugs filed saying ""I can't resize the left stereo track"".  It seems the broken thing still is that the affordance eats into the ruler and default track height rather than being added outside the ruler/track height, and forcing 50% track heights for stereo tracks wouldn't do anything for that anyway, other than letting you hard-code 50% in the arithmetic needed to make room for it. =||= Sorry, fat fingers there =||= Very pleased to have @stmueller here!  I have worked a lot on Audacity for several years and know your name from the comments.

I’m not sure why resizing the channels differently is useful, but in my refactoring of the code in recent years, I conserve old behavior unless I have a good reason not to. =||= I added the pinned play head, and later there was a request to make it draggable so it’s not always centered (and I think that is useful for recording, to put it more rightward).  When I did that, I also made double click re-center it.  Maybe that’s a good idea for the stereo channel separator too. =||= I think @Tantacrul doesn’t oppose keeping the resizing of stereo channels?  But to reduce the channel separator just to a line.  If that is done, that means the hist testing code needs some work so that the resizing click and drag are still easy to do.  But that’s not a serious difficulty I think. =||= > With the affordance the upper channel is not aligned properly with the Vertical Scale (the lower channel, now with no affordance is properly aligned with the Vertical Scale).
> 
> ![image](https://user-images.githubusercontent.com/50205984/126528607-2105cf3d-6340-434e-a67a-2067e23dde9a.png)
> 
> This is presumably because the affordance is eating some of what was formerly the upper channel - rather than being additional screen real-estate.

I imagine it's a mistake in the mockup (@jounih ?). The height of L & R should surely be the same (although L will have extra vertical for the affordance) =||= > I think @Tantacrul doesn’t oppose keeping the resizing of stereo channels? But to reduce the channel separator just to a line. If that is done, that means the hist testing code needs some work so that the resizing click and drag are still easy to do. But that’s not a serious difficulty I think.

Yeah, that's pretty much what I think. Two affordances is obviously a little strange and I think we can keep the resizing hit area the same, while making the vertical distance between L&R visibly shorter. This would not be the case when the user joins mono tracks, which I think would need to stay the same as is. =||= I think the implementation need not remember that a stereo track was made from mono tracks, but rather could check whether clip boundaries in opposite tracks correspond, and that this check would be cheap enough in the usual case. =||= > With the affordance the upper channel is not aligned properly with the Vertical Scale (the lower channel, now with no affordance is properly aligned with the Vertical Scale).
> 
> 
> This is presumably because the affordance is eating some of what was formerly the upper channel - rather than being additional screen real-estate.

No this is a mistake - fixed - good eyes! 

The vertical scale should start below the affordance on the top channel, and the height of both channels should be the same (plus the affordance on the top channel). The affordance should not eat into the vertical height, but add to it on the top channel. =||= > 
> 
> I think the implementation need not remember that a stereo track was made from mono tracks, but rather could check 
>whether clip boundaries in opposite tracks correspond, and that this check would be cheap enough in the usual case.

But clip boundaries in the two channels may not necessarily correspond.

My use case would be 

1) taking say track 1 from Sgt Pepper's Lonely Hearts Club Band (stereo version)
2) split to mono
3) create clips for various sections in each split mono track
4) observe they don't correspond (the L & R channels are considerably different in parts, _intentionally so by the late George Martin_)

![image](https://user-images.githubusercontent.com/50205984/126638778-ba7bbc09-2427-40c4-bcd6-e97f4854ffe0.png)
 =||= > But clip boundaries in the two channels may not necessarily correspond.

In that case each clip should have it's own affordance (like they do have them now in the latest master), despite number of channels in track, right @jounih?  =||= And when I remake those mono tracks back into stereo - this is what I get  :-)

![image](https://user-images.githubusercontent.com/50205984/126639913-ae0da9b0-2f66-4678-9b8c-82cc66337ac7.png)
 =||= > In that case each clip should have it's own affordance (like they do have them now in the latest master), despite number of channels in track, right @jounih?

Probably yes - but it is possibly an unusual use case.

One might argue _(and I probably would)_  that in turning it back into stereo that the mono clips should propagate across both channels - so you get stereo clips throughout.
 =||= > > But clip boundaries in the two channels may not necessarily correspond.
> 
> In that case each clip should have it's own affordance (like they do have them now in the latest master), despite number of channels in track, right @jounih?

Yes that's correct - we discussed this with @Tantacrul and @Paul-Licameli yesterday and agreed that in the case of joining mono tracks to stereo, they should retain their individual affordances - exactly for the reason you mentioned. It's an unusual case but could happen =||= done (this issue was used as Epic, multiple tasks were created) =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1349Fixes the way AccessibleLinksFormatter performs layoutingDmitry Vedenkocrsib07/21/21, 04:36:13 PM"Resolves: 
![image](https://user-images.githubusercontent.com/2660628/126521176-1d8cbfc9-45c5-47d6-8894-0fdc3e73b4f3.png)

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNFixes the way AccessibleLinksFormatter performs layoutingDmitry Vedenkocrsib07/21/21, 04:36:13 PM"Resolves: 
![image](https://user-images.githubusercontent.com/2660628/126521176-1d8cbfc9-45c5-47d6-8894-0fdc3e73b4f3.png)

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNDmitry Vedenko07/21/21, 04:15:13 PM"Fixes the way AccessibleLinksFormatter performs layouting


Fixes"1
1351On Windows what Inbound and Outbound firewall rules need to be set-up to block telemetry?MyronMyron-S08/04/21, 09:21:24 AMOn Windows what Inbound and Outbound firewall rules need to be set-up to block telemetry?"For versions of Audacity up to and  including Audacity 3.0.2, you don't need any because those versions of Audacity don't have any networking / telemetry / or anything like that.

I think that Audacity  3.0.3, when it becomes available, will have:
1. Update checking
2.  Crash reporting
(both are disabled by default if you build from source, so this only applies to the pre-built ""executable"" versions)

Crash reporting isn't an issue because nothing gets sent without asking you first. If you don't want to send a crash report, then simply  click  the ""Don't Send"" button. (but note that sending crash reports can help the Audacity developers to debug and fix problems)

To completely disable update checking:
1. Temporarily disconnect from the Internet,
2. Install Audacity.
3. When Audacity launches, go to:
Windows: ""Edit menu > Preferences > Application"" and uncheck the ""Check for updates"" option.
macOS: ""Audacity menu > Preferences > Application"" and uncheck the ""Check for updates"" option.
4. You can now re-enable your Internet connection.

Note that this has no affect on telemetry, crash reporting or update settings for any other app -  for other apps you will need to check their documentation.

Since you asked about firewall rules, yes I believe that  you can block updates and crash report sending with the Windows firewall (though not  necessary with the above steps). I'm no expert on the Windows firewall, but  I found these instructions which look pretty  clear and easy to follow: https://www.howtogeek.com/227093/how-to-block-an-application-from-accessing-the-internet-with-windows-firewall/
 =||= Update:
Further to my previous reply, the Audacity desktop app privacy notice was updated today (22nd July 2021).
https://www.audacityteam.org/about/desktop-privacy-notice/

(The privacy notice says what data is sent from Audacity, for what purpose, and what happens to that data.)

PS. If you decide to disable or block update checking in future  versions of Audacity, you can manually check if updates are available by visiting the download page of the official Audacity website: https://www.audacityteam.org/download/ =||= >     2\. (both are disabled by default if you build from source, so this only applies to the pre-built ""executable"" versions)

Thanks for the info.  Right, I'm a newbie regarding compiling from GitHub source.

Exactly what do I need to do to compile the source myself?  I got Windows 10 with Visual Studio Community Edition installed and also got a fully working WSL2 Ubuntu with Xfce desktop usable by RDP and/or X10. =||= Personally I wouldn't bother building on Windows unless you have to. A standard Windows installation lacks a ""build environment"" and requires many big downloads and updates to set up the build environment - that's the hardest part of building on Windows, and it can easily go wrong even for developers.

Building on Linux  is much  easier, but  you still need to follow the instructions very carefully. The instructions are included in the source code here: https://github.com/audacity/audacity/blob/master/BUILDING.md

I've never used WSL2, so I've no idea if there are any gotchas that could cause problems. If you have a spare hdd or old computer available, I'd recommend setting up a proper Xubuntu installation for building (or create a partition so that you can dual boot Windows / Linux.
(Xubuntu is Ubuntu with Xfce, and is a good choice for building. It's a lot lighter than the standard Ubuntu, but still has access to all of Ubuntu's software repository.)

Note that the current Audacity code is between versions (""alpha"") so may have bugs /  incomplete  features and should not be used for production work. To  build a version for actual use (rather than just testing), download the most recent source code from the ""Releases"" section of GitHub: https://github.com/audacity/audacity/releases/tag/Audacity-3.0.2

If you run into difficulties and need help building, try posting to this section of  the community help forum: https://forum.audacityteam.org/viewforum.php?f=19

By the way, I've just tested the most recent alpha version of Audacity 3.0.3, and was pleased to see that on first run, you are informed about update checking (an unmissable pop-up dialog) and can enable / disable update checking before Audacity does it's first check (no need to disconnect from the Internet). The pop-up is still a bit rough around the edges, but reassuring to see it's there. =||= @Myron-S  - See these sections from the alpha manual for 3.0.3 What's New page:
https://alphamanual.audacityteam.org/man/New_features_in_this_release#updates

and
https://alphamanual.audacityteam.org/man/New_features_in_this_release#crash =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1355For GTK builds - use wxStaticText instead of wxHyperlinkCtrl.Dmitry Vedenkocrsib07/23/21, 01:46:38 PM"It turns out, that wxHyperlinkCtrl has a dramatically different size with the GTK backend. This commit makes the link to be only clickable using a mouse, but AFAIK accessibility is not implemented for the GTK backend anyway.

Resolves the report from Steve:

![image](https://user-images.githubusercontent.com/2660628/126675444-60280ee6-a176-46f2-9e74-c303335218b0.png)

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNFor GTK builds - use wxStaticText instead of wxHyperlinkCtrl.Dmitry Vedenkocrsib07/23/21, 01:46:38 PM"It turns out, that wxHyperlinkCtrl has a dramatically different size with the GTK backend. This commit makes the link to be only clickable using a mouse, but AFAIK accessibility is not implemented for the GTK backend anyway.

Resolves the report from Steve:

![image](https://user-images.githubusercontent.com/2660628/126675444-60280ee6-a176-46f2-9e74-c303335218b0.png)

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNDmitry Vedenko07/23/21, 12:48:03 PMChange the link color to the default color of wxHyperlinkCtrl1
1356pl.po - very important fixGrzegorz PruchniakowskiGootector07/23/21, 09:14:33 PM"File pl.po needs fix, because strings with ""fuzzy"" are untranslated in program.

Greetings,
Gootector

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""Thank You very much!   Greetings,  Gootector 
            
          
     
      
       
        Dnia 23 lipca 2021 23:14 Dmitry Vedenko ***@***.***&gt; napisał(a):
       
    
       
         
 Merged  github.com #1356  into release-3.0.3. 

 —  You are receiving this because you authored the thread.  Reply to this email directly,  github.com view it on GitHub , or  github.com unsubscribe .
 =||= "pl.po - very important fixGrzegorz PruchniakowskiGootector07/23/21, 09:14:33 PM"File pl.po needs fix, because strings with ""fuzzy"" are untranslated in program.

Greetings,
Gootector

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNGrzegorz Pruchniakowski07/23/21, 08:40:18 PM"pl.po - very important fix

File pl.po needs fix, because strings with ""fuzzy"" are untranslated in program.

Greetings,
Gootector"1
1358Shortcut Instead Brings Up Keyboard Preferences DialogJohnColket08/31/21, 08:43:01 PM"There are two reports on the forum for MacOS users where trying to use a keyboard shortcut will instead bring up the Keyboard Preferences Dialog.

See: https://forum.audacityteam.org/viewtopic.php?f=70&t=119343
and: https://forum.audacityteam.org/viewtopic.php?p=410469#p410469""I do not get this on SW10  with 3.0.2 or 3.0.3 RC3 =||= Note that this bug was originally reported on Bugzilla under Linux, but was closed April 26th of this year as ""Works For Me"" after not seeing it for over a year. See https://bugzilla.audacityteam.org/show_bug.cgi?id=2253

Note that most the most recent reports are under 3.0.2 on MacOS and also on Windows. =||= This was logged originally on Bugzilla, closed and then reopened>
https://bugzilla.audacityteam.org/show_bug.cgi?id=2253
Bug 2253 - Mac/Linux: Keyboard Shortcut Preferences may open unexpectedly

Paul Licameli wrote in the big thread.
>I think it's because of the code controlled by EXPERIMENTAL_EASY_CHANGE_KEY_BINDINGS
>
>The intent was to take you to keyboard preferences only when you shift+click in a menu item of the the main toolbar.
>
>I don't understand how you get there without opening a menu.
>
>If this is it, we could consider disabling this feature on Linux, or we could make the code implementing this test 
>that control is also not down.

James Crook wrote later in the bug thread
>If not a Heisenbug on Macbook Air macOS 11.4, then it's P2 not P4, and RM should decide whether it should 
>block release or not.  
>The problem for sure is quite unnecessary, given Paul's comment =||= This bug is a regression on 2.2.1 =||= Remember this feature:  you can hold Shift while releasing a toolbar menu item, and go to Keyboard Preferences to change the hotkey of the item (instead of doing the command).

I added that in 2018, but it is mis-firing on Mac sometimes when there are shortcuts with Shift in them.

Quick fix might be just to eliminate my little known feature.

 =||= @Paul-Licameli believes this has been caused by his inclusion of a Shift modifier to help users jump to a keyboard shortcut preference quickly.

After discussing it, neither of us feels this modifier is especially discoverable and perhaps we can simply remove it (to fix this bug) and focus more on improving the usability of shortcuts in the medium term =||= I would vote for removing this little-know feature

Is that the cause of this P2 Bugzilla Bug ?
https://bugzilla.audacityteam.org/show_bug.cgi?id=2253
Bug 2253 - Mac/Linux: Keyboard Shortcut Preferences may open unexpectedly =||= I have closed Bugzilla 2253 in favor of this GitHub Issue =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1359Extract lib filesPaul LicameliPaul-Licameli07/30/21, 12:51:53 PM"Resolves: #1160

A library for general file handling utilities, and definitions of certain significant file paths, which does not depend on wxCore, though it does still depend heavily on wxBase.

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNExtract lib filesPaul LicameliPaul-Licameli07/30/21, 12:51:53 PM"Resolves: #1160

A library for general file handling utilities, and definitions of certain significant file paths, which does not depend on wxCore, though it does still depend heavily on wxBase.

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli02/18/21, 03:22:00 PMNew library for files1
1361Error dialogs link to wrong Privacy NoticePeter Sampsonpetersampsonaudacity07/25/21, 03:27:59 PM"**Describe the bug**
Error dialogs link to wrong Privacy Notice, linking to the ""Desktop Privacy Notice"" on the Audacity Website rather than the ""Error Reporting Privacy Notice""

**To Reproduce**
Steps to reproduce the behavior:
1. create small AUP3 project
2. Copy the AUP3 file to C:\
3. Try to open the project from C:\
4. In the error message click on the Privacy Policy link
5. Observe: you are taken to the ""Desktop Privacy Notice"" on the Audacity Website 

**Expected behavior**
The link should take you to the ""Error Reporting Privacy Notice""

**Screenshots**
![image](https://user-images.githubusercontent.com/50205984/126904273-da138409-2109-479f-86cc-6f8af607e59e.png)

**Additional information (please complete the following information):**
 - OS: W10 - but assume all OS
 - Version Audacity 3.0.3 alpha (latest)

**Additional context**
Note that the ""Error Reporting Privacy Notice"" page on the Website is just a placeholder""This is not a bug, there will be single privacy policy for error reporting and updates =||= See also Gihub Issue #1248 =||= > This is not a bug, there will be single privacy policy for error reporting and updates

In which case the Audacity Website needs changing to have just the single Privacy Policy  ;-)
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1362Integrating Butterworth filter in AndroidUmama Khalidumamakhalid08/08/21, 01:31:37 PM"I am creating an android app using android studio in native c++. I need to apply butter worth filter on my audio before playing it. How can I use your Biquad.cpp class to apply butter worth filter on my audio? Is there any main class code in you repository? Do i need to call CalcButterworthFilter() function first then process() function?
Which function will take my audio as an input and which function will return processed audio?

Can any one help me integrating this code in android studio? ""This doesn't sound like an Audacity issue. Feel free to find me online and contact me directly. =||= Right Thank You.
Yes it is not an issue actually. I just want help in integration.
Details are in email. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1363Label affordances:  highlighting of bar does not always change with the cursor changeAnitaBats08/09/21, 12:02:31 PMNaN"The related PR solves this issue partly. It does not calculate the height of a clip bar, so label bars do not change if a label track locates below tracks with clip bars.

It is going to be solved soon in another PR =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1364Release 3.0.3Dmitry Vedenkocrsib07/26/21, 04:49:30 PM"Post-release merge of branch release-3.0.3 into master.

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNRelease 3.0.3Dmitry Vedenkocrsib07/26/21, 04:49:30 PM"Post-release merge of branch release-3.0.3 into master.

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNGrzegorz Pruchniakowski07/23/21, 08:40:18 PM"pl.po - very important fix

File pl.po needs fix, because strings with ""fuzzy"" are untranslated in program.

Greetings,
Gootector"1
1367Extract lib-trackPaul LicameliPaul-Licameli07/27/21, 04:02:19 AMNaNNaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1368GUI. Incorrect track displaying in Multi-view modePenikov08/12/21, 04:04:30 PM"**Describe the bug**
A clear and concise description of what the bug is.

**To Reproduce**
Steps to reproduce the behavior:
1. Launch Audacity
2. Import a stereo track 
3. Switch track view to Multi-view (Spectrogram + Wave )
4.  The spectrogram has been displayed partly

**Expected behavior**
The spectrogram is displaying with no overlapping with other GUI elements

**Screenshots**
https://user-images.githubusercontent.com/25851359/127133267-308920d9-8dba-4a40-a07d-ed0f10446e68.mp4

**Additional information (please complete the following information):**
 - OS: Windows 10 X 64
 - Version: Audacity 3.0.4-alpha-20210726 (x64)





""This is a regression on 3.0.3 

Note that if you switch back to waveform view you get a similar 1/2 right channel persistence of the spectrogram.

This is just a temporary drawing glitch - clicking in the Audacity Window will correct the problem. =||= Also note that the Multi-view does not actually display until you move the cursor over the track area.

And the same applies when you turn Multi-view off to return to simple waveform view.

This particular behaviour is a regression on 2.4.2 =||= Testing this on W10 with latest master alpha build  audacity-win-3.0.4-alpha-20210812+7da6a53-64bit

This does not appear to be fixed:
![image](https://user-images.githubusercontent.com/50205984/129221282-11dfdeb3-a6d2-49ad-ac36-ba27e3c9696b.png)

Therefore reopening this issue
 =||= Also fails on W10 with subsequent master build audacity-win-3.0.4-alpha-20210812+d4fb834-64bit =||= Now that 1442 has been pulled into master

Testing on W10 with latest alpha master build for 3.1.0/3.0.4   audacity-win-3.0.4-alpha-20210812+8f8ec41-64bit

This now woks fine
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1369GUI. Theme changing works poorPenikov08/09/21, 09:05:44 AM"**Describe the bug**
GUI elements do not change their appearance correctly

**To Reproduce**
Steps to reproduce the behavior:
1. Launch Audacity
2. Expand Audacity's window
2. Go to Preferences - Interface - change theme appearance from light to dark, then click Ok
4. See the bug - many GUI elements still displaying with previous theme look
5. Change Audacity windows size and all elements have the proper colour scheme

**Expected behavior**
The dark GUI looks at least like this: https://github.com/audacity/audacity/issues/1296



**Screenshots**
![изображение](https://user-images.githubusercontent.com/25851359/127144703-91fb3f74-4c37-4194-9a0d-0ba22b3385da.png)
![Full Window000](https://user-images.githubusercontent.com/25851359/127147428-e8453ca4-408f-4827-8c19-4a79571adc45.png)



**Additional information (please complete the following information):**
 - OS: Windows 10 x64]
 - Version: Audacity 3.0.4-alpha-20210726


""This also affects Light theme when you go back to it from Dark theme
![image](https://user-images.githubusercontent.com/50205984/127150861-4bbc1e2c-07d4-4353-a24e-1254d0a751f6.png)

So it looks like a general theming regression

**Workaround:**  click in the Audacity window and the problem clears =||= Is it confirmed that this does not happen in 3.0.3?

In @petersampsonaudacity 's shot I also see that the Time toolbar repainted wrong with inconsistent font sizes.  A separate issue if reproducible.
 =||= > Is it confirmed that this does not happen in 3.0.3?

I confirm that on W10 this does not happen with 3.0.3 and is thus a regression on 3.0.2
 =||= Audacity 3.0.3 (release) looks nice  on Linux with a dark Desktop  theme (I've not yet tried 3.0.4 alpha)

![Screenshot_2021-07-27_19-04-38](https://user-images.githubusercontent.com/11681097/127205964-06c3ad97-ce81-4207-a2b0-fc090e81841a.png)
 =||= Seems like broken after this PR https://github.com/audacity/audacity/pull/1328 was merged =||= I don't observe the problem in macOS.
 =||= Tested on W10 with latest 3.1.0/3.0.4 alpha:   audacity-win-3.0.4-alpha-20210809+cf09f0a-64bit

I confirm that this now works correctly again on Windows. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1371Label tracks do not have affordances (Clip-handles)Peter Sampsonpetersampsonaudacity08/06/21, 03:03:23 PM"**Describe the bug**
Label tracks do not have affordances (drag bars).

This is inconsistent with Audio tracks and Note tracks

**To Reproduce**
Steps to reproduce the behavior:
1. get an audio (or Note) track
2. add a label
3. Observe: the label track does not have affordances Clip-handles

**Expected behavior**
Affordances Clip-handles in Label tracks
a) for consistency with Audio and Note tracks
b) to make it easier to move them (in sync)

**Screenshots**
![image](https://user-images.githubusercontent.com/50205984/127149195-ceb32771-0a31-429c-b674-612f0579d8c4.png)

**Additional information (please complete the following information):**
 - OS: Windows 10 - but assume all OS
 - Version 3.1.0/3.0.4

**Additional context**
The workaround is to :
a) switch to the Timeshift tool
b) click&drag in the label track to move all labels in that track in sync

Note that this is an awkward workaround as the user has to revert to the selection tool for normal working - or learn to deal with the complexities of the Multi-tool""Can't labels be moved by holding and dragging the bar in the middle (between handles)?
![image](https://user-images.githubusercontent.com/20165230/128148468-4f953cb0-8b04-446b-b543-241b135637c2.png)
 =||= Yes, that is the case now in 3.0.4/3.1.0 withe the fatter bar which has now become a drag bar.

But in 3.0.3 and earlier the thinner bar was not a drag bar - the way to move a label was the Shift&click&drag on the chevron or the dot - much less ""discoverable""

And (in 3.0.3 and earlier) you can move all labels in a track together in a track by selecting the Time Shift Tool and clicking&dragging in the gray space of the Label track.

BUT if the Time Shift tool is decided to be redundant and removed as per this GitHub Issue #1411 
then without a Clip-handle (formerly ""affordance"") for the label track there would be no way to move all the labels in a label track in sync.
 =||= @vsverchinsky   -  thanks for this insight Vitaly, I didn't know these had become drag-bars - it made me set P1s in the manual for the change _(and I suspect there are more than a few pages in the Manual with images of region labels)_. =||= I'm adding a little note in the design to fix the cursor icon for label tracks and also to allow Shift + drag to move all labels too. Closing this issue. =||= Thanks @petersampsonaudacity! =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1372Context menu reworkAnton S. Gerasimovgera-gas09/06/21, 02:01:45 PM"Resolves: #998

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""Pending of #1258 for add ""Rename clip"" menu item. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1375Stereo tracks & affordances: channel resizer changesVitaly Sverchinskyvsverchinsky08/17/21, 09:48:53 PM"Implement resizer behaviour between channels in stereo tracks as described in https://github.com/audacity/audacity/issues/1348 .  
* Resizer should be shrinked to the height of 1 px. 
* Resize handle should appear at area between channels with threshold "NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1376Stereo tracks & affordances: internals and track drawingsVitaly Sverchinskyvsverchinsky08/20/21, 01:00:46 PM"As proposed by https://github.com/audacity/audacity/issues/1348 implement following: 
Remove drawing of the affordance on the right channel of the wave track, if that track was not created by merging two mono tracks"NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1377Stereo track affordanceVitaly Sverchinskyvsverchinsky08/20/21, 01:00:46 PM"Resolves: #1376 

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""Your approach is founded on a memory of the origin of a channel as ""aligned"" or not, rather than computing it as needed.

I would prefer that you compute alignment as needed.

Defining the condition will take some work.  You must sort clips of each channel, becauase they are not necessarily in sorted order, and they you must iterate corresponding clips comparing start and end times.  (Probably with a tolerance: let times differ by 1/(2*rate))

This is extra work, and extra calculation, but I believe the calculation will be small in practice because clips will be few.

The advantage is greater confidence that there are not surprising corner cases where things will not work as expected.

For instance:  I just made a mono track, duplicated it, then made a stereo track from them.  The affordance of the right channel did not disappear as expected in your branch.  It would under this other approach.

There are also other commands like ""Swap stereo tracks.""  This did not produce the expected result.  It would if aligned-ness is computed instead of stored.


 =||= > Your approach is founded on a memory of the origin of a channel as ""aligned"" or not, rather than computing it as needed.
> 
> I would prefer that you compute alignment as needed.
> 
> Defining the condition will take some work. You must sort clips of each channel, becauase they are not necessarily in sorted order, and they you must iterate corresponding clips comparing start and end times. (Probably with a tolerance: let times differ by 1/(2*rate))
> 
> This is extra work, and extra calculation, but I believe the calculation will be small in practice because clips will be few.
> 
> The advantage is greater confidence that there are not surprising corner cases where things will not work as expected.
> 
> For instance: I just made a mono track, duplicated it, then made a stereo track from them. The affordance of the right channel did not disappear as expected in your branch. It would under this other approach.
> 
> There are also other commands like ""Swap stereo tracks."" This did not produce the expected result. It would if aligned-ness is computed instead of stored.

I don't agree with that. I've considered that possibility, but the problem is that matching clips isn't enough, the result should be cached anyway. Moreover the first case isn't valid, this behaviour was requested. The second case should be fixed. Also I see a problem with definition of matching clips: it will probably  change in the nearest feature. =||= 
> I don't agree with that. I've considered that possibility, but the problem is that matching clips isn't enough, the result should be cached anyway. Moreover the first case isn't valid, this behaviour was requested. The second case should be fixed. Also I see a problem with definition of matching clips: it will probably change in the nearest feature.

If ""matching clips is not enough,"" what is your more precise description of the criterion?  You are guessing it will ""probably"" change, but that is speculation.  Even if it does change, defining it in one place in a test seems to me to be the less fragile approach.  More lines of code to implement the complicated test, but fewer places in the code will need changes to guarantee the consistency of the cache with changes of the track.

Caches are useful but problematic when there are many things that could happen to invalidate them.

 =||= > If ""matching clips is not enough,"" what is your more precise description of the criterion?

It is described here https://github.com/audacity/audacity/issues/1348. The check you propose is actually answers the question we don't need to answer (are clips aligned or not?). From the description of the task i understand that the sequence of track transformation determines whether the track should be considered ""aligned"" or not. Consider case when user have stereo track with misalligned clips, then user makes them aligned by dragging. Should we consider track aligned now? If yes, then affordance should disappear, if no then user can split stereo track and merge it back to get completely another appearance (this was my question for designers). And as i understand the currently implemented behaviour is exactly what was requested (except second scenario you've provided). =||= > > If ""matching clips is not enough,"" what is your more precise description of the criterion?
> 
> It is described here #1348. The check you propose is actually answers the question we don't need to answer (are clips aligned or not?). From the description of the task i understand that the sequence of track transformation determines whether the track should be considered ""aligned"" or not. Consider case when user have stereo track with misalligned clips, then user makes them aligned by dragging. Should we consider track aligned now? If yes, then affordance should disappear, if no then user can split stereo track and merge it back to get completely another appearance (this was my question for designers). And as i understand the currently implemented behaviour is exactly what was requested (except second scenario you've provided).

You are right that you tried to implement literally what is now in the text box in the first picture at that issue.

Really I think that specification should be disputed and corrected.  So, let's raise this at the next design review.

I believe that if mono tracks have aligned clips according to the numerical criteria, then they should merge into a stereo track without the second affordance area.


 =||= The branch needs a rebase and force-push and conflict resolution.
 =||= "Stereo track affordanceVitaly Sverchinskyvsverchinsky08/20/21, 01:00:46 PM"Resolves: #1376 

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNVitaly Sverchinsky08/19/21, 05:51:45 PMHiding the affordance on the right channel of the WaveTrack1
1380Add a wrapper that retries `hdiutil` with progressive timeoutDmitry Vedenkocrsib07/28/21, 01:38:16 PM"This seems to be a common workaround for CPack issue on macOS. 

Script has 10 attempts and in the worst case, it will take 55 seconds for it to fail.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNAdd a wrapper that retries `hdiutil` with progressive timeoutDmitry Vedenkocrsib07/28/21, 01:38:16 PM"This seems to be a common workaround for CPack issue on macOS. 

Script has 10 attempts and in the worst case, it will take 55 seconds for it to fail.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNDmitry Vedenko07/28/21, 12:35:52 PM"Add a wrapper that retries `hdiutil` with progressive timeout

This seems to be a common workaround for CPack issue on macOS. 

Script has 10 attempts and in the worst case it will take 55 seconds for it to fail."1
1382AppImage is missing localizationDmitry Vedenkocrsib09/16/21, 12:19:57 PM"AppImage only contains English localization. 

**Expected behavior**
AppImage is localized to all supported languages""See also this Forum post:  audacity-wxgtk2 3.0.3 do not portuguese language
https://forum.audacityteam.org/viewtopic.php?f=48&t=119499 =||= Workaround (previously posted here: https://forum.audacityteam.org/viewtopic.php?p=431498#p431498).

The audacity.cfg file may be manually edited (while Audacity is NOT running) to select the required language. For example, for French:

```
[Locale]
Language=fr
```
The Audacity 3.0.3 AppImage will then open with the selected language (in this case, French).
 =||= Works fine.
![изображение](https://user-images.githubusercontent.com/25851359/133771419-7b344d29-0e94-4730-b5fe-10fc0f69c639.png)
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1383Option to export & overwrite current filealex-tee08/01/21, 05:21:00 PM"**Is your feature request related to a problem? Please describe.**
There should be an option to overwrite the current file (like in GIMP -> File -> Overwrite)

**Describe the solution you'd like**
Add an option to ""Overwrite"", or at least make the export dialog location default to the directory the file is in.

**Describe alternatives you've considered**
Manually looking for the directory the file is in to overwrite it. This is bad UX

**Additional context**
Since audacity allows you to open multiple files, perhaps add this option in the dropdown next to the file:
![Screenshot from 2021-07-29 13-53-14](https://user-images.githubusercontent.com/3407655/127495471-07b86c13-3e88-455f-8495-899e06670dd1.png)

If you think it shouldn't be easy to overwrite files to avoid mistakes, then you could add a confirmation dialog ""are you sure you want to overwrite this file?""""Testing on W10 with 3.0.3 I can already overwrote an existing audio file - and I get a warning message when trying to do so:

![image](https://user-images.githubusercontent.com/50205984/127778322-97509548-b5b7-4cfe-ad80-d1eb1c31f601.png)
 =||= @petersampsonaudacity is there an option to overwrite the file or did you have to click ""export"" and then find the file? my request is about having a quick option to overwrite the opened file without having to click export + browse =||= > 
> 
> @petersampsonaudacity is there an option to overwrite the file or did you have to click ""export"" and then find the file? my request is about having a quick option to overwrite the opened file without having to click export + browse

I had to find the file to overwrite it.

But for me that's expected behavior:
a) by default Audacity will use the last-used location for Exports when it Exports
b) alternatively you can set a preferred location in Directories Preferences

So with a) default settings

1) Import a file from <location path>
2) edit it
3) Export it (in the same format
4) Observe same filename as in step 1
5) Observe: offered path location if this is your first save) is ...Documents\Audacity on Win (or just ...Documents in Mac or Linux) - OR
6) Observe if you have exported previously the offered path location is your last-used
7) navigate to your location from step 1
8) Export the file 
9) OK the overwrite warning
10) Edit the file some more
11) Export it again
12) Observe this time the path location is your last-used i.e. the path from step 7 - but this is now the same path as in step 1

The underlying issue here is that Audacity is designed as an audio editor, NOT an audio file editor - it is not designed as a WAV editor or an MP3 editor etc,

Note that when you import an audio file for editing that Audacity is not operating on that file per se - but rather it works on it's own internal copy of the audio converted to its own internal project format AUP3 (actually a SQLite database).

For details of the Directories preferences settings see:  https://manual.audacityteam.org/man/directories_preferences.html
 =||= >The underlying issue here is that Audacity is designed as an audio editor, NOT an audio file editor - it is not designed as a WAV editor or an MP3 editor etc,

>Note that when you import an audio file for editing that Audacity is not operating on that file per se - but rather it works on it's own internal copy of the audio converted to its own internal project format AUP3 (actually a SQLite database).

ok thanks, it makes sense. it sounds like Audacity doesn't even remember the path of other imported file since it uses its own copy. I'll close the issue then =||= @alex-tee  - oh yes, Audacity does remember the import path used and it will re-use that by default the next time you import (unless you have set a default import path in Directories prefs).

The problem for you, you request is that Audacity has separate remembered paths for import and for export - the two are not combined or linked.
 =||= my actual use case is actually a bit more advanced than a user wishing to overwrite an imported file. I have a DAW and I have an option to edit some audio with audacity. I can already manage to open audacity with the given file but the user is expected to overwrite the file and exit audacity. currently, this means that the user should go to export and navigate to where the file is (some random directory in `/tmp`) and this is tedious. I want to suggest a command line option to help in this case but I'll make a separate issue for it in the future =||= > this means that the user should go to export and navigate to where the file is (some random directory in `/tmp`) and this is tedious.

You could use a Nyquist-Macro to do the export (reading the location of the last imported file from Audacity ""preferences"" file (""audacity.cfg""). I think there's already a macro available on the Audacity forum - I'll see if I can find it. =||= >  I think there's already a macro available on the Audacity forum - I'll see if I can find it.

Here: https://forum.audacityteam.org/viewtopic.php?p=422002#p422002 =||= @SteveDaulton awesome, thanks! I'll add this to our user manual =||= @alex-tee  - and to make life even simpler you could set up a custom shortcut for the Macro.

See:  https://manual.audacityteam.org/man/keyboard_preferences.html#custom
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1385Update pl.po - fixes for 3.1Grzegorz PruchniakowskiGootector08/06/21, 11:21:47 AM"Update pl.po - fixes for 3.1

Greetings,
Gootector

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNUpdate pl.po - fixes for 3.1Grzegorz PruchniakowskiGootector08/06/21, 11:21:47 AM"Update pl.po - fixes for 3.1

Greetings,
Gootector

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNGrzegorz Pruchniakowski07/30/21, 02:02:38 AM"Update pl.po - fixes for 3.1

Update pl.po - fixes for 3.1

Greetings,
Gootector"1
1387Fix track view geometry and positioning Vitaly Sverchinskyvsverchinsky08/12/21, 02:45:06 PM"Resolves: #1339 

PR also contains some changes which are used for track positioning and resizing, layout calculation

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1388Linux packagesDmitry Vedenkocrsib08/03/21, 09:13:00 AM"Resolves: #1187 

This PR resolves two issues related to the Linux package maintenance:

1. Conan is rarely available as a system package, so it can't be included in the list of package build dependencies. 
2. Network connection is sometimes not available within the packaging environments.

`prepare_offline_dependencies.sh` generates a tarball containing:

* Files required for PIP to install Conan
* Conan download cache

In the future, we intend to publish this tarball.

`build_package.sh` demonstrates how this tarball can be used.

Additionally, we provide a set of example package configs for various distros.

At the moment, for Fedora 34 there is no need for Conan, so it is disabled. However, as the devendoring project proceeds, this can change. For example, Fedora lacks PortSMF and libsbsms.


<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNLinux packagesDmitry Vedenkocrsib08/03/21, 09:13:00 AM"Resolves: #1187 

This PR resolves two issues related to the Linux package maintenance:

1. Conan is rarely available as a system package, so it can't be included in the list of package build dependencies. 
2. Network connection is sometimes not available within the packaging environments.

`prepare_offline_dependencies.sh` generates a tarball containing:

* Files required for PIP to install Conan
* Conan download cache

In the future, we intend to publish this tarball.

`build_package.sh` demonstrates how this tarball can be used.

Additionally, we provide a set of example package configs for various distros.

At the moment, for Fedora 34 there is no need for Conan, so it is disabled. However, as the devendoring project proceeds, this can change. For example, Fedora lacks PortSMF and libsbsms.


<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNDmitry Vedenko08/02/21, 04:43:50 PMAdd build image for Ubuntu 20.041
1389Auto duck misses sectionsLWinterberg08/17/21, 12:56:53 PM"Initially reported on https://forum.audacityteam.org/viewtopic.php?f=46&t=119468

**Describe the bug**
Auto duck misses sections on long audio files, if the control track has quiet sections, but not full silences and the threshold is choosen to be very low.

**To Reproduce**
Steps to reproduce the behavior:
1. Have a long audio file (1h+); generated tone works
2. Have a control track of equal length which has quiet sections (-72dBFS), ie a noise floor. A full mute won't reproduce this. 
3. Select the entire track to duck
4. Apply the auto duck effect using a -50dB threshold (-49dB didn't reproduce this)

**Expected behavior**
All sections are ducked

**Screenshots**
can be found in the forum: https://forum.audacityteam.org/viewtopic.php?f=46&t=119468

**Additional information (please complete the following information):**
 - OS: Windows 10 (OP), Ubuntu (steve)
 - Version: Audacity 3.0.3, 3.0.2 and 3.0.0 tested

**Additional context**
It works when ducking shorter sections (~20 mins) of the whole file. 
There is a workaround available (temporarily amplify the control track, apply the auto-duck with a higher threshold, de-amplify it again).

I'll try finding a root cause next week. ""It doesn't actually need to be a long audio file. It can be reproduced with quite short tracks:

1. Generate 30 second tone (default settings)
2. Duplicate the track
3. In the duplicate track, make a selection about 3 or 4 seconds duration in the first half of the track
4. Normalize the selection to -60 dB
5. Make a selection around 3 or 4 seconds duration in the second half of the duplicate track
6.  Normalize the selection to -60 dB
7. Select all of the first track
8. Apply ""Auto Duck"" with settings: -24, 0, 0, 0, 0, 0, -45 (It may be necessary to set the ""Threshold"" slightly higher or lower to reproduce the exact symptoms described)
9. Observe that the second ""silence"" is ignored.
10. ""Undo""
11. Reverse the second track
12. Select the first track
13. Apply Auto Duck with the same settings (It may be necessary to set the ""Threshold"" slightly higher or lower to reproduce the exact symptoms described)
14. Observe that the second ""silence"" is ignored.

The precise threshold setting required for Auto Duck to (incorrectly) miss only the second ""gap"" is likely to be in the range -40 to  -50 dB. (I've not seen it ignore only the first gap). =||= There is also a documentation issue: The manual implies that the ""Threshold"" setting is a peak amplitude setting, but it appears to actually be some sort of mean square over a 100 sample window??
https://manual.audacityteam.org/man/auto_duck.html =||= In bool EffectAutoDuck::Process(), I changed rmsSum to be a double rather than a float, and can no longer reproduce the bug using Steve's steps. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1393[Question] How to use for Flutter appMimimiriam-z09/02/21, 02:54:00 PM"How to use this in the context of Flutter mobile app? 

Thanks "NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1394Block on setting the Directory PreferenceJithin JohnMalevolentStrix09/13/21, 12:02:58 PM"Resolves: https://bugzilla.audacityteam.org/show_bug.cgi?id=2740

Blocks all the possibilities of setting the Directory Preference to locations without write permissions via the Browse button or manually typing as pressing the OK button

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [X] I signed [CLA](https://www.audacityteam.org/cla/)
- [X] I made sure the code compiles on my machine
- [X] I made sure there are no unnecessary changes in the code
- [X] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [X] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""Testing on W10 with MalevolentStrix's latest build https://github.com/audacity/audacity/actions/runs/1089787526

This now works fine blocking both:
a) typing C:\ in any of the six directory fields in Directories Preferences
b) using the Browse button to set them to C:\

@crsib  - I think this could be pulled into master (may need a code review - in addition to this blackbox testing)


 =||= These are the error messages shown when tried to set the preferences via manual path entry(_**path**  does not have write permissions_ will also be shown as the next line to every message)
_'Open' directory cannot be set.
'Save' directory cannot be set.
'Import' directory cannot be set.
'Export' directory cannot be set.
'Macro Output' directory cannot be set._
![2021-09-04_19-33](https://user-images.githubusercontent.com/73242397/132097162-2a7ec7af-77ac-445f-9aab-2a1562034d46.png)

If user sets the directory via the Browse button ""_Cannot set preference_"" as earlier will be shown


 =||= An option to create the directory if it does not exist has also been added.
![2021-09-06_13-32](https://user-images.githubusercontent.com/73242397/132182213-7f088c14-9e62-464b-8b0a-82110e32cd0a.png)

And an error message if the directory creation failed maybe if the directory to be made is in an Unwritable Location.

![2021-09-06_13-32_1](https://user-images.githubusercontent.com/73242397/132182241-9104ac11-9e77-4806-a79e-3f3febc005a9.png)
 =||= Testing the Directories Prefs on W10 with latest master alpha build: audacity-win-3.1.0-alpha-20210913+9ecd194-64bit
a) a typed C:\    is trapped with an error message
b) a typed C:      is trapped with the same error message

c) A typed C      is not error trapped - it asks f you want to create such a directory, but doesn't do so.  Instead the next Save or Export it uses the last-used location (this is safe - but the user should not be asked to create a directory that does not get created.
![image](https://user-images.githubusercontent.com/50205984/133106116-e4e4a2d8-60d0-4148-bf0b-d98e61484910.png)
Going back to Directories prefs later shows that the ""C"" is still erroneously set.

This is a good improvement with b now fixed as well as use-case a

C would appear to be a different bug (which I have been discussing with @Penikov on Discord).  It's not just what would look like a drive name like ""C"" that fails - you get the same results if you try to set directories to say ""QWERTY""


**I cannot test on Mac as the recent Mac build for this failed.** =||= Most ""sensible"" users would, of course, use the Browse button to locate a pre-existing directory or create a new directory with the browse. So either:
a) Audacity should check that a typed location exists and is valid, or
b) Audacity should **_not_** allow the user to manually type in those directories fields. =||= I have logged the residual (Use-case c here) as a new bug in it's own right.
Directories preferences fails to handle non-existent text locations properly #1676 

@Penikov  Having this _(long-standing)_ residual logged separately should enable this bug associated with this PR to be closed as fixed. =||= Thank you, Peter! Shall I close that bug related to this PR? ) =||= > Thank you, Peter! Shall I close that bug related to this PR? 

@Penikov - yes I think that this is good to go, _sorry for not replying sooner_

 =||= "Block on setting the Directory PreferenceJithin JohnMalevolentStrix09/13/21, 12:02:58 PM"Resolves: https://bugzilla.audacityteam.org/show_bug.cgi?id=2740

Blocks all the possibilities of setting the Directory Preference to locations without write permissions via the Browse button or manually typing as pressing the OK button

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [X] I signed [CLA](https://www.audacityteam.org/cla/)
- [X] I made sure the code compiles on my machine
- [X] I made sure there are no unnecessary changes in the code
- [X] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [X] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNMalevolentStrix08/01/21, 02:21:55 PM"Check all directories before setting the preference and show an error if the directory is write protected
Modify the function WritableLocationCheck() adding an argument 'message' and change the error dialog line
Modify the Use of WritableLocationCheck() in DoExport of FileMenu.cpp
Make all the error messages in an initializer_list<TranslatableString>
Update the Location Check during setting the preference via Browse Button
An option to create the directory location if it does not exist and an error
message if the directory creation failed maybe if the path entered is in an Unwritable Location."1
1403Event recording & playback basicsPaul LicameliPaul-Licameli08/11/21, 12:43:25 PM"- [x] Alpha-only checkbox menu item to turn recording on; but restart of program needed
- [x] Command-line option for Audacity to replay a journal file
- [x] All menu commands (or keystrokes), requiring no dialogs, can record and play back; the simplest journal file, just exiting the program, works"NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1404Recording and playback of dialog controlsPaul LicameliPaul-Licameli08/20/21, 10:42:31 AM"- [x] Identify a window in the tree textually, cross-session
- [x] Serialize and deserialize wxCommandEvents in journals, using the previous
- [x] Global event filter serializes events during recording
- [x] Idle time journal file interpreter deserializes and dispatches events
- [x] Demonstrate a journal file that replays interaction with a dialog"NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1409Windows x64 build failureChristos Sevastiadiscsevast08/03/21, 09:22:25 PM"I follow the instructions to build Audacity in Windows but it fails. The part of the log describing the error is the following:

ERROR: expat/2.2.9@audacity/stable: Error in build() method, line 94
	self._build_cmake()
while calling '_build_cmake', line 60
	cmake = self._configure_cmake()
while calling '_configure_cmake', line 56
	self._cmake.configure(build_folder=self._build_subfolder)
	ConanException: Error 1 while executing cd C:\Users\csevast\.conan\data\expat\2.2.9\audac
ity\stable\build\4f1710918aa542fccb5a54d7bd712e4b0750b50d\build_subfolder && cmake -G ""Visual Studio 16 2019"" -A ""x64"" -DCONAN_LINK_RUNTIME=""/MDd"" -DCONAN_IN_LOCAL_CACHE=""ON"" -DCONAN_COMPILER=""Visual Studio"" -DCONAN_COMPILER_VERSION=""16"" -DCONAN_CXX_FLAGS=""/MP8"" -DCONAN_C_FLAGS=""/MP8"" -DBUILD_SHARED_LIBS=""ON"" -DCMAKE_INSTALL_PREFIX=""C:\Users\csevast\.conan\data\expat\2.2.9\audacity\stable\package\4f1710918aa542fccb5a54d7bd712e4b0750b50d"" -DCMAKE_INSTALL_BINDIR=""bin"" -DCMAKE_INSTALL_SBINDIR=""bin"" -DCMAKE_INSTALL_LIBEXECDIR=""bin"" -DCMAKE_INSTALL_LIBDIR=""lib"" -DCMAKE_INSTALL_INCLUDEDIR=""include"" -DCMAKE_INSTALL_OLDINCLUDEDIR=""include"" -DCMAKE_INSTALL_DATAROOTDIR=""share"" -DCMAKE_EXPORT_NO_PACKAGE_REGISTRY=""ON"" -DCONAN_EXPORTED=""1"" -DEXPAT_BUILD_DOCS=""Off"" -DEXPAT_BUILD_EXAMPLES=""Off"" -DEXPAT_SHARED_LIBS=""True"" -DEXPAT_BUILD_TESTS=""Off"" -DEXPAT_BUILD_TOOLS=""Off"" -Wno-dev C:\Users\csevast\.conan\data\expat\2.2.9\audacity\stable\build\4f1710918aa542fccb5a54d7bd712e4b0750b50d

CMake Error at cmake-proxies/cmake-modules/conan.cmake:631 (message):
  Conan install failed='1'
Call Stack (most recent call first):
  cmake-proxies/cmake-modules/AudacityDependencies.cmake:233 (conan_cmake_install)
  cmake-proxies/cmake-modules/AudacityDependencies.cmake:251 (_conan_install)
  CMakeLists.txt:509 (resolve_conan_dependencies)
""Hi! Usually, this means that you have run CMake from the x86 developer tools command line. It is difficult to say without having the full log =||= Thank you very much. I fixed it. My case is not exactly as it is described in the proposed BUILD text, so I should describe what I did. 

Because I didn't want to mix my Python environments, I downloaded and installed CONAN as a stand alone application for Windows --to be more specific, I installed it with Chocolatey. Then, I added the path to the CONAN executable folder to my PATH environment variable.

Because my Visual Studio 2019 installation didn't have the CMAKE-GUI --I don't know why--, I installed it as a stand alone application. The problem was that I was starting CMAKE-GUI from the Windows Start. As you suggested, I started the x64 developer tools command prompt for Visual Studio and I executed the CMAKE-GUI from there, finding the full path to it's stand alone installation.

I answered as I am waiting the building to be finished --It takes long time on my laptop-- and I hope it will be successful.

Thank you very much, again.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1410Changing affordance hint textVitaly Sverchinskyvsverchinsky08/03/21, 03:57:44 PM"Resolves: https://github.com/audacity/audacity/issues/1332

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""Testing on W10 

the new Status Bar text is far too long for the Audacity Window at default size
![image](https://user-images.githubusercontent.com/50205984/127895947-9bf5c271-8ccf-41ac-9c5e-0c63efcd112a.png)

The second part of the message is misleading in a couple of ways - it says:
> ... Hold Shift while dragging to simultaneously move all clips on the same track

a) the user has the hold shift down before dragging - this is not clear

b) ""simultaneously is not really the right word - what you are doing is ""maintaining sync""  -  simultaneous just means they all move at the same time and they might shuffle up - sync maintenance is much clearer

@Tantacrul - do you have a view on this
 =||= I think we have a design issue with the description at the bottom of the app. It should be able to allow longer strings than that. Possibly we could solve it by being able to move to two lines when needed. We can fix that later. For now, I'd suggest:

1. ""Drag clips to reposition them. Hold Shift and drag to move all clips on the same track.""
2. We should have a tooltip for this too (just as you do when hovering over the play button)
3. Create an issue for the bottom bar truncating descriptions

One question: I assume screen readers still work fine with the description, even if it's truncated?

@petersampsonaudacity - what do you think? =||= > I think we have a design issue with the description at the bottom of the app. It should be able to allow longer strings than that. Possibly we could solve it by being able to move to two lines when needed. We can fix that later. 

Or it could auto-scroll.

>For now, I'd suggest:
> 
>     1. ""Drag clips to reposition them. Hold Shift and drag to move all clips on the same track.""

I like this revised message.


>     2. We should have a tooltip for this too (just as you do when hovering over the play button)
I agree - we know from experience  that many (most) folk never notice.read the Status Bar


>     3. Create an issue for the bottom bar truncating descriptions
+1



 =||= > One question: I assume screen readers still work fine with the description, even if it's truncated?

screen readers just read the truncated text. (though obviously in this particular case it's not of much interest.) =||= Testing on W10 with audacity-win-3.0.4-alpha-20210803+f90698c-64bit

Looks much better now with default window size. =||= "Changing affordance hint textVitaly Sverchinskyvsverchinsky08/03/21, 03:57:44 PM"Resolves: https://github.com/audacity/audacity/issues/1332

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNVitaly Sverchinsky08/02/21, 03:13:44 PMChanging affordance hint text1
1413Make PortMixer buildable against vanilla PortAudioDmitry Vedenkocrsib08/12/21, 01:15:30 PM"PortMixer requires a large, nontrivial patch to the PortAudio, which prevents Audacity to be buildable against the vanilla version of PortAudio,

Ubuntu and Fedora surprisingly apply it to PortAudio packages, but Arch doesn't.

The functions form the patch:

* `Pa_GetStreamHostApiType` -The host API type can just be passed to `Px_OpenMixer`

DirectSound
---

* `PaWinDS_GetStreamInputGUID`
* `PaWinDS_GetStreamOutputGUID`

Reimplementing it will be tricky. The GUID is stored in a private structure `PaWinDsDeviceInfo`.

The safest way seems to be to load `DirectSoundCaptureEnumerateW`/`DirectSoundEnumerateW` and test for the device's name (which is stored in UTF8, which poses another (simple) problem). 

WASAPI
---
* `PaWasapi_GetInputDeviceID`
* `PaWasapi_GetOutputDeviceID`

19.7.0 has added PaWasapi_GetIMMDevice

ALSA
---

The audio card id is cached. Can `snd_pcm_info_get_card` change between calls? We can cache it when `Px_OpenMixer`is called anyway. 

OSS
---

* `PaOSS_GetStreamInputDevice`
* `PaOSS_GetStreamOutputDevice`

The name can be retrieved using `Pa_GetDeviceInfo`.


"NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1414Investigate, if WASAPI patch for PA is really needed.Dmitry Vedenkocrsib08/12/21, 01:15:30 PM"Check if we need `wasapi-fix.patch` and `wasapi-loopback.patch` are still needed.

`PaWasapi_IsLoopback` is not really used by Audacity anymore, but `wasapi-loopback.patch` has other changes as well."NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1416Experimental qa journalling basicsPaul LicameliPaul-Licameli08/11/21, 12:43:25 PM"Resolves: #1403

Beginnings of built-in tools for easy creation of automated functional regression tests, in alpha builds only.

Certain events can be recorded to journal.txt in the folder with audacity.cfg, if this has been enabled in the Tools menu, and then played back, if that file is specified with the -j command line option.

So far, only menu items that require no dialogs (or their shortcut keystroke equivalents, or certain toolbar buttons that invoke those commands) can be played back.  Some simple sessions -- such as just exiting the program -- can replay.

Audacity returns a non-zero status to the shell if journal playback fails, because the program's state is out-of-sync with what the journal file expects.  No examples yet of how to force that failure.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""Thanks for the approval.

You noticed then how the journal ""language"" is defined?

Those details may be up for change, but it's enough for the minimal version.
 =||= "Experimental qa journalling basicsPaul LicameliPaul-Licameli08/11/21, 12:43:25 PM"Resolves: #1403

Beginnings of built-in tools for easy creation of automated functional regression tests, in alpha builds only.

Certain events can be recorded to journal.txt in the folder with audacity.cfg, if this has been enabled in the Tools menu, and then played back, if that file is specified with the -j command line option.

So far, only menu items that require no dialogs (or their shortcut keystroke equivalents, or certain toolbar buttons that invoke those commands) can be played back.  Some simple sessions -- such as just exiting the program -- can replay.

Audacity returns a non-zero status to the shell if journal playback fails, because the program's state is out-of-sync with what the journal file expects.  No examples yet of how to force that failure.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli01/29/19, 09:02:34 PM"CommandManager interacts with journal; simple journals can play...

... such as one whose only line is ""CM,Exit"", which can also be recorded.

But no commands that pop up modal dialogs, or mouse interactions, can yet play
back."1
1421Show track name as overlaySteve DaultonSteveDaulton08/09/21, 09:05:44 AM"**Describe the bug**
""Show track name  as overlay"" does not work in audacity-linux-3.0.4-alpha-20210803+f90698c-x86_64.AppImage without a restart.

**To Reproduce**
Steps to reproduce the behavior:
1. Open a project with at least one named audio track
2. Enable ""Show track name  as overlay"" in Preferences
3. Observe that the track name is NOT shown on the audio track(s)
4. Restart Audacity
5. Observe that the track name is now shown as an overlay.
6. Disable ""Show track name  as overlay"" in Preferences
7. Observe that the track names are still displayed as overlays

**Expected behavior**
When ""Show track name  as overlay"" is enabled in Preferences, I'd expect the track name to show as an overlay on the track immediately without requiring a restart.

**Screenshots**
This is what ""should"" happen:
![audio_track_with_track_name_superimposed_translucent](https://user-images.githubusercontent.com/11681097/128164564-cafcb1dc-ee45-4942-8a76-adbf54aeffd0.png)



**Additional information (please complete the following information):**
 - OS: Xubuntu 20.04
 - Version: audacity-linux-3.0.4-alpha-20210803+f90698c-x86_64.AppImage


**Additional context**
https://manual.audacityteam.org/man/tracks_preferences.html""Confirmed on W10 with 3.0.4/3.1.0 alpha audacity-win-3.0.4-alpha-20210803+f90698c-64bit

Plus I can get situations where the track name dies appear - but then I can't turn it off.

This is a regression on 3.0.3 =||= Observed that the ""name as overlay"" does work after restarting Audacity (a restart should not be necessary).
Original bug report updated. =||= It seems that it a broader issue affecting many other preference settings, for example, changing ""Display samples"" from ""Stem Plot"" to ""Connect dots"" does not take effect until Audacity is restarted.
 =||= Tested on W10 with latest 3.1.0/3.0.4 alpha:   audacity-win-3.0.4-alpha-20210809+cf09f0a-64bit

I confirm that this now works correctly again on Windows. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1422"""Fit to height"" does not fit"Steve DaultonSteveDaulton08/12/21, 04:03:15 PM"**Describe the bug**
""Fit to height"" should fit tracks within the visible track area (when possible), leaving a small amount of empty space below the bottom track. In the latest AppImage version, it resizes tracks too big (looks like the new drag bar may have been forgotten),

**To Reproduce**
Steps to reproduce the behavior:
1. Launch Audacity
2. Add two audio tracks
3. ""View menu > Track Size > Fit vertically""
4. Observe that the tracks have been resized too tall to fit in the viewable track space.


**Additional information (please complete the following information):**
 - OS: Xubuntu 20.04
 - Version audacity-linux-3.0.4-alpha-20210803+f90698c-x86_64.AppImage

**Additional context**
https://manual.audacityteam.org/man/view_menu_track_size.html#fit_to_height""Same is true on W10 with audacity-win-3.0.4-alpha-20210803+f90698c-64bit

This is a regression on 3.0.3 =||= Isn't this a duplicate of Issue #1339
 Affordances: Verify that ""Fit to Height"" acts as in version 3.0.3. #1339  =||= Now that 1442 has been pulled into master

Testing on W10 with latest alpha master build for 3.1.0/3.0.4   audacity-win-3.0.4-alpha-20210812+8f8ec41-64bit

This now works fine

![image](https://user-images.githubusercontent.com/50205984/129229530-d8f64012-206e-4b70-9f2d-a7004cba0625.png) =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1423"Construction of PrefsListener ""hub"" later than file-scope statics."Paul LicameliPaul-Licameli08/09/21, 12:20:42 AM"Resolves:  #1369

Changing of theme didn't work promptly on Windows after commit a2f109de2e43890217c57ea14d3cb8a45463521c

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""I'm still reproducing the bug with the build from this PR =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1424Update user manual: new Detect button for Import RawPaul LicameliPaul-Licameli08/05/21, 09:43:36 AMSee #1172"I added a P1 in the Manual for this.

See: https://alphamanual.audacityteam.org/man/File_Menu:_Import#Raw_Data...
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1425Update user manual: Triangle wave generator for Tone and ChirpPaul LicameliPaul-Licameli08/04/21, 12:34:16 PMSee #1054Done - see: https://alphamanual.audacityteam.org/man/Generate_Menu#Tone... =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1427Range selection does not work in affordance areaAnitaBats09/24/21, 12:22:22 PMNaN"Why would you expect it to?

When the cursor is over the Clip-handle drag-bar the cursor changes to the open hand which is the affordance to indicate that you can click, that open-hand cursor then changes to the closed-hand cursor which is the further affordance that you can drag to move  - NOT click and select.

When the cursor is over the waveform the cursor icon is the I-beam - which is the affordance to indicate that you can click and drag to select.
 =||= Sorry, a bad wording from my side. When selection tool is active it's not possible to start selection when cursor is over empty affordance area (where no clips at all)
![image](https://user-images.githubusercontent.com/20165230/128239078-5a596da0-d070-4012-970f-540dfc2c4ede.png)
  =||= > When selection tool is active it's not possible to start selection when cursor is over empty affordance area (where no clips at all)

Ah I see what you mean - there is a visual cue to the user:
a) when the cursor is over the waveform area the cursor is the I-beam (default tool setting) - indicating selection is available
b) when you move the cursor into the space where the Clip-handle drag bars could be dragged the cursor changes to the default Widows broad white arrow - indicating selection is not possible from there.

Since all the space above the waveform for the Clip-handle drag bars is really only usable by the drag bars, what I would suggest is partitioning that part of the track off with a thin black line.  That would also have the advantage of a visual cue suggesting that the user can slide/drag the drag bars along horizontally.  

It also has the advantage that the waveforms themselves retain the square corners that they've always had.

See mockup:

![image](https://user-images.githubusercontent.com/50205984/128318380-3a22745d-f36e-4e3d-b91e-23c08feac98e.png)

@Tantacrul  and @jounih  - as the UX/GUI specialists on the team what are your thoughts on this please?


 =||= > @Tantacrul and @jounih - as the UX/GUI specialists on the team what are your thoughts on this please?

I would be careful about trying to make changes to try and solve this potential issue until we've tested it in the wild. It may be the case that users don't experience this problem.

If they do, I can think of a few interesting ideas but I won't try articulate them here. =||= @Tantacrul I don't actually see a real problem here anyway - for me the visual cue of the change of cursor icon is sufficient.

As a user I wouldn't dream of trying to start a selection while my cursor was in that dead space without the I-beam selection cursor/tool showing.

I would be surprised if we ever get user complaints about this.
 =||= @petersampsonaudacity - a related issue: we are planning on allowing users to multi-select clips as well as select wave data, so selection will need to be revisited holistically anyway. I'll be working on designs for this over the next 2-3 weeks. =||= And the GUI makes it entirely clear that the Clip-handle drag-bars do not participate in the selection:

![image](https://user-images.githubusercontent.com/50205984/128630707-3b32ffe2-5699-4a3b-938d-1be4b683d1b0.png)
 =||= Let's release in 3.1 if _easy_ =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1429Extract lib registriesPaul LicameliPaul-Licameli08/06/21, 12:57:11 PM"Resolves: #1163

Library of useful utilities for decoupling of sub-systems and making them open-ended -- the big O of SOLID.

Beware!   Here be dragons.  Much use of C++ templates.

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNExtract lib registriesPaul LicameliPaul-Licameli08/06/21, 12:57:11 PM"Resolves: #1163

Library of useful utilities for decoupling of sub-systems and making them open-ended -- the big O of SOLID.

Beware!   Here be dragons.  Much use of C++ templates.

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli10/25/20, 05:42:41 PM"Macros to simplify usage of class template AttachedVirtualFunction ...

... And allow correct linkage when overrides are defined in dynamically loaded
modules"1
1431PortAudio updateDmitry Vedenkocrsib08/12/21, 01:15:31 PM"Resolves #1186
Resolves #1413 
Resolves #1414
Resolves #871 

This PR achieves two important goals:

1. PortAudio is updated to 19.7.0
2. System PortAudio can be used. Besides Linux packaging, this is important to fix #1360

To update PortAudio, the following steps were taken:

* #946 was merged into this branch. This is required because `PaUtil_GetTime` is private, which is arguably the upstream error anyway.
* `libnyquist` and `portmixer` build systems were updated:
  * Corresponding  `CMakeLists.txt` moved into the lib-src.
  * New PortAudio target is linked to the libraries.
  * `portmixer` build system detects PortAudio capabilities.
  * Libraries were moved out of the dependencies CMakeLists.txt
  
  It is unlikely the `libnyquist` and `portmixer` will be devendored because they are very Audacity specific, so it makes sense not to treat them as 3d party dependencies, at least for not.
* `portmixer` now compiles with unmodified PortAudio. However, the full functionality on Windows requires patches to PortAudio:
  * A [patch](https://github.com/audacity/conan-recipes/blob/main/portaudio/all/patches/19.7.0/pawinmme-export.patch) to export PaWinMME_ functions, which are public, but not usable if PortAudio is built as DLL. 
  * A [patch](https://github.com/audacity/conan-recipes/blob/main/portaudio/all/patches/19.7.0/winds-getguid.patch) that allows getting the DirectSound device GUID. Without it, there was no reliable way to retrieve the GUID.
 
Additionally, there are the following patches applied to the Conan provided library:

* A [patch](https://github.com/audacity/conan-recipes/blob/main/portaudio/all/patches/19.7.0/enable-oss.patch) to enable OSS support. 
* A [patch](https://github.com/audacity/conan-recipes/blob/main/portaudio/all/patches/19.7.0/wasapi-loopback.patch) to enable WASAPI loopback devices.

One patch to PortAudio was dropped because it seemingly fixed the bug in Audacity rather than PortAudio. Also it broke `IsStreamStopped() == !IsStreamActive()` for WASAPI.

Linux [packaging scripts](https://github.com/audacity/audacity/tree/master/linux/packages) were updated, so packages are built against the system PortAudio, the results were verified on corresponding systems.

The `PortAudio devendored` commit is large because it is impossible to break it into smaller commits that compile and run, as bringing the unmodified PortAudio library as an external dependency breaks lots of stuff around.

This PR was tested with all available Host APIs on Windows and with ALSA and Jack2 on Linux. OSS, while it was verified that it is enabled - failed to me for all Linux distros I was testing against.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPortAudio updateDmitry Vedenkocrsib08/12/21, 01:15:31 PM"Resolves #1186
Resolves #1413 
Resolves #1414
Resolves #871 

This PR achieves two important goals:

1. PortAudio is updated to 19.7.0
2. System PortAudio can be used. Besides Linux packaging, this is important to fix #1360

To update PortAudio, the following steps were taken:

* #946 was merged into this branch. This is required because `PaUtil_GetTime` is private, which is arguably the upstream error anyway.
* `libnyquist` and `portmixer` build systems were updated:
  * Corresponding  `CMakeLists.txt` moved into the lib-src.
  * New PortAudio target is linked to the libraries.
  * `portmixer` build system detects PortAudio capabilities.
  * Libraries were moved out of the dependencies CMakeLists.txt
  
  It is unlikely the `libnyquist` and `portmixer` will be devendored because they are very Audacity specific, so it makes sense not to treat them as 3d party dependencies, at least for not.
* `portmixer` now compiles with unmodified PortAudio. However, the full functionality on Windows requires patches to PortAudio:
  * A [patch](https://github.com/audacity/conan-recipes/blob/main/portaudio/all/patches/19.7.0/pawinmme-export.patch) to export PaWinMME_ functions, which are public, but not usable if PortAudio is built as DLL. 
  * A [patch](https://github.com/audacity/conan-recipes/blob/main/portaudio/all/patches/19.7.0/winds-getguid.patch) that allows getting the DirectSound device GUID. Without it, there was no reliable way to retrieve the GUID.
 
Additionally, there are the following patches applied to the Conan provided library:

* A [patch](https://github.com/audacity/conan-recipes/blob/main/portaudio/all/patches/19.7.0/enable-oss.patch) to enable OSS support. 
* A [patch](https://github.com/audacity/conan-recipes/blob/main/portaudio/all/patches/19.7.0/wasapi-loopback.patch) to enable WASAPI loopback devices.

One patch to PortAudio was dropped because it seemingly fixed the bug in Audacity rather than PortAudio. Also it broke `IsStreamStopped() == !IsStreamActive()` for WASAPI.

Linux [packaging scripts](https://github.com/audacity/audacity/tree/master/linux/packages) were updated, so packages are built against the system PortAudio, the results were verified on corresponding systems.

The `PortAudio devendored` commit is large because it is impossible to break it into smaller commits that compile and run, as bringing the unmodified PortAudio library as an external dependency breaks lots of stuff around.

This PR was tested with all available Host APIs on Windows and with ALSA and Jack2 on Linux. OSS, while it was verified that it is enabled - failed to me for all Linux distros I was testing against.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNDmitry Vedenko08/05/21, 04:32:53 PMUse system PortAudio in Linux packaging targets1
1432Added new keybindsTech PenguinTechPenguineer08/06/21, 12:36:40 PM"Resolves: New key-binds to require minimal requests

The reason I want to do this is because I have a slow computer and its gets very laggy when big software I being ran. So I wanted to add more key-binds to make it so you don't have to handle as many requests.

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""I'm a bit confused as to... well, everything here:

* Some of the items you're giving shortcuts to already have shortcuts
* It's not clear to me why Ctrl+E would be quit. Across various apps, I've seen Ctrl(+Shift)+Q and Ctrl(+Shift)+W to close documents/tabs while leaving the program running/going to the main screen, but never Ctrl+E. Ctrl+E usually is Export, or something dependent to the app (eg Edge menu in Blender, Center text in LibreOffice)
* I have no idea what that Wahwah.cpp thing is doing in this PR
* What do you mean by ""so you don't have to handle as many requests""?  =||= For your own purposes, you can go to the Keyboard page of the Preferences dialog, and customize keystrokes as you like.  https://manual.audacityteam.org/man/keyboard_preferences.html. The changes will persiste between runs of Audacity.

There is no need to change your own source code for this, or to push this change to the repository.

 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1433FFmpeg startup failedte-agma-at09/24/21, 06:03:23 PM"
**To Reproduce**
Steps to reproduce the behavior:
1. Launch Audacity
2. Configure FFmpeg (Preferences > Libraries)
3. Restart computer
4. Restart audacity
5. See error

**Expected behavior**
FFmpeg starts up automatically without error

**Screenshots**
![image](https://user-images.githubusercontent.com/72958435/128438864-edf0def6-f61e-4720-8683-b1cfb2715977.png)

**Additional information (please complete the following information):**
 - OS: Windows 10
 - Version: Audacity 3.0.3

**Additional context**
A popup that appears that is so annoying that I may have to use a different sound editor if I experience this popup again.""Previous Audacity releases for Windows were 32-bit.
If you installed the 64-bit version of Audacity 3.0.3, you will need to upgrade FFmpeg to the 64-bit version.
Other 32-bit plug-ins (such as any VST effects that you've added) will also need to be updated or they won't work.

If you need to update FFmpeg, uninstall your current version of ""FFmpeg for Audacity"", and then follow the instructions here: https://manual.audacityteam.org/man/installing_ffmpeg_for_windows.html =||= > then follow the instructions here:

Are you going to update to latest ffmpeg?? 4.4 that is. Because otherwise, it is better to do ffmpeg -i file output.wav/w64 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1437Fix update on UIHandle change within cellVitaly Sverchinskyvsverchinsky08/09/21, 12:02:31 PM"Resolves: #1363 

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""Excellent detective work!

My only small objection is that I would make the new move constructors non-inline myself.  Not important enough to block this.
 =||= "Fix update on UIHandle change within cellVitaly Sverchinskyvsverchinsky08/09/21, 12:02:31 PM"Resolves: #1363 

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNVitaly Sverchinsky08/06/21, 04:47:54 PMFixing label track update on mouse movement1
1441Fix event types used in PrefsListener singalling...Paul LicameliPaul-Licameli08/09/21, 09:05:44 AM"... which broke at a2f109d

Resolves: #1421 
Resolves: #1369

Events were failing to be processed because event types were set incorrectly.

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""#1269 is fixed for good =||= Fix event types used in PrefsListener singalling...Paul LicameliPaul-Licameli08/09/21, 09:05:44 AM"... which broke at a2f109d

Resolves: #1421 
Resolves: #1369

Events were failing to be processed because event types were set incorrectly.

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli08/04/21, 11:39:06 AM"Fix event types used in PrefsListener singalling...

... which broke at a2f109d"1
1442Track panel fixesPaul LicameliPaul-Licameli08/12/21, 02:42:13 PM"Resolves: #1339
Resolves: #1368
(and addresses part of #1375)

Alternative proposal to fix the problems of minimization of tracks with affordances, and the fit-to-height (Ctrl+Shfit+F) command.  Incidentally cleans up some things in TrackPanel, and makes its policy of subdivision of the y axis better encapsulated.

Shrinks the channel separator to one pixel, but does not widen the hit test area.

Known small problem -- dragging the channel separator between tracks now acts a little oddly, not staying exactly at the pointer.

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""Currently minimum height does not take into account the height of the subtracks:

![image](https://user-images.githubusercontent.com/20165230/129023426-837ff8bd-6f77-4c8f-b6c0-a8e9c22dbc65.png)

Not a big issue, but looks not very good in my opinion =||= > Currently minimum height does not take into account the height of the subtracks:
> 
> ![image](https://user-images.githubusercontent.com/20165230/129023426-837ff8bd-6f77-4c8f-b6c0-a8e9c22dbc65.png)
> 
> Not a big issue, but looks not very good in my opinion

What do you mean by sub-tracks?  The stereo case?

The goal I wanted to achieve is to make height of minimized tracks not larger than it was in 3.0.3 and earlier.  (Where a minimized stereo track is also just as tall as a minimized mono track.)

This is done.  Let design ask for changes in the stereo case if it's not good enough.  And if it is not good enough, then my changes make it easy to get everything right, just by assigning heights to the views of channels of a minimized stereo track differently.

 =||= Also i think that it worth to note that this PR also fixes that issue #1368 =||= "Track panel fixesPaul LicameliPaul-Licameli08/12/21, 02:42:13 PM"Resolves: #1339
Resolves: #1368
(and addresses part of #1375)

Alternative proposal to fix the problems of minimization of tracks with affordances, and the fit-to-height (Ctrl+Shfit+F) command.  Incidentally cleans up some things in TrackPanel, and makes its policy of subdivision of the y axis better encapsulated.

Shrinks the channel separator to one pixel, but does not widen the hit test area.

Known small problem -- dragging the channel separator between tracks now acts a little oddly, not staying exactly at the pointer.

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli08/09/21, 03:02:59 AMChange channel separator thickness to 11
1444Modify label bar behaviourVitaly Sverchinskyvsverchinsky09/06/21, 01:33:20 PM"1. Show grab hand cursor on hover over label bar(affordance)
2. Move whole label track if moving label with Shift-drag
![image (2)](https://user-images.githubusercontent.com/20165230/128695385-769784df-7be6-4489-8ece-9370c8b18ced.png)"Changing to using a grab hand cursor when hovering over the label bar would make it inconsistent with the cursor shown when hovering over the circle handle used for moving point labels, and the the chevron handles used for moving the start and end points of labels. Using a grab hand cursor for all of these would not be usable, as the hand is not precise enough for these existing tasks. =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1445Sndfile extractDmitry Vedenkocrsib08/12/21, 01:59:20 PM"Resolves: #1198 

This requiest is based on #1431 

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNSndfile extractDmitry Vedenkocrsib08/12/21, 01:59:20 PM"Resolves: #1198 

This requiest is based on #1431 

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNDmitry Vedenko08/10/21, 09:46:47 AMFixes a typo in CMakeLists comment1
1446Change clip handle colorsAnitaBats08/27/21, 09:31:12 AM"Inactive:
![image](https://user-images.githubusercontent.com/20165230/128724518-36b7c385-547e-471c-aa2e-659fb35ce8b1.png)
Active:
![image](https://user-images.githubusercontent.com/20165230/128724564-e8ed205f-6c78-496c-b269-0263d849259a.png) ""@DavidBailes wtote on Discord
>better visibility of the handles would definitely be better for those with less than perfect sight. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1447Extract and update PortMidiDmitry Vedenkocrsib08/17/21, 09:31:50 AMNaNNaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1448Portaudio 19.6 cannot recognize a TV tuner that previous Portaudio versions couldgapc09/07/21, 06:22:16 PM"I recently tested Audacity 3.0.3 on my laptop (unzipped, not installed) and unlike the 2.0.5 version I was using until then, it could not recognize audio devices (the infamous ""Internal PortAudio error"" appeared) due to an USB tv/radio tuner (KWorld UB490-A) that I use on weekdays for recording a pair of radio programs and could be recognized by the version 2.05, so I cannot allow myself to disable it in order to this new version of Audacity to be able to recognize the other audio devices. After testing 2 other versions of Audacity, 2.4.2 and 2.3.3 (unzipped too) and finding out that only the latter of these could recognize the TV tuner, I guess the culprit is the Portaudio version 19.6.

Computer: Lenovo G40-70
OS: Windows 10
Sound card: Conexant SmartAudio HD, version 8.66.4.0
TV/radio tuner: KWorld UB490-A"Did this get fixed by the update to 19.7 in #1431 ? You can download current development snapshots in the Actions tab, eg [here](https://github.com/audacity/audacity/actions/runs/1195384142#artifacts) =||= Yes, it got fixed with this update. =||= Awesome! =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1449Issue 1389: Autoduck can miss sections below thresholdDavidBailes08/17/21, 12:56:53 PM"Resolves: https://github.com/audacity/audacity/issues/1389

Problem: the running average rmsSum can be higher than it should be due to rounding errors. This can lead to sections of the audio which should be below the threshold, being measured to be above the threshold.

Fix: make rmsSum a double, rather than a float, to greatly reduce rounding errors.


<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNIssue 1389: Autoduck can miss sections below thresholdDavidBailes08/17/21, 12:56:53 PM"Resolves: https://github.com/audacity/audacity/issues/1389

Problem: the running average rmsSum can be higher than it should be due to rounding errors. This can lead to sections of the audio which should be below the threshold, being measured to be above the threshold.

Fix: make rmsSum a double, rather than a float, to greatly reduce rounding errors.


<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNDavid Bailes08/10/21, 09:11:43 AM"Issue 1389: Autoduck can miss sections below threshold

Problem: the running average rmsSum can be higher than it should be due to rounding errors. This can lead to sections of the audio which should be below the threshold, being measured to be above the threshold.

Fix: make rmsSum a double, rather than a float, to greatly reduce rounding errors."1
1455The track in the bottom of the screen is always hiding under the toolbarPenikov08/12/21, 04:07:30 PM"**Describe the bug**
When the user added a few tracks and they are not fit on the screen, then the toolbar closes the last track at the bottom.

**To Reproduce**
Steps to reproduce the behavior:
1. Launch Audacity
2. Add a few tracks
3. Scroll the sidebar to the bottom

**Expected behavior**
![изображение](https://user-images.githubusercontent.com/25851359/129006155-d42a7a00-8d28-441c-9679-7254604578f8.png)

**Actual behaviour**
The track is been closed by the toolbar

**Screenshots**
![изображение](https://user-images.githubusercontent.com/25851359/129006378-94429329-ac93-41a5-a810-4a8071f226da.png)


**Additional information (please complete the following information):**
 - OS: Win 10, Mac, 
 - Version Audacity 3.0.4-alpha-20210806""Already fixed in Audacity 3.0.4-alpha-20210809 =||= The bug was reproduced in Audacity 3.0.4-alpha-20210809 =||= Not fixed in latest master build on W10   -  audacity-win-3.0.4-alpha-20210811+a758491-64bit

Is this something to do with the space for the drag-bars bot being calculated and allowed for ?

 =||= See also Issue #1339  =||= Now that 1442 has been pulled into master

Testing on W10 with latest alpha master build for 3.1.0/3.0.4   audacity-win-3.0.4-alpha-20210812+8f8ec41-64bit

This now works fine

![Uploading image.png…]()
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1458Cannot join adjacent labelsSteve DaultonSteveDaulton09/03/21, 09:18:40 AM"**Describe the bug**
In Audacity 3.0.2 and earlier, adjacent labels may be ""joined"" so that they share a common boundary. In Audacity 3.0.4 cea4a9 this no longer appears to be possible.

**To Reproduce**
Steps to reproduce the behavior:
1. Create two region labels with approximate positions: 5 to 15 seconds, 16 to 26 seconds.
2. Shift + Click on the circle in the label flag at 16 seconds, and drag the label towards the first label
3. Drag until the first and second label share a common boundary (see screenshot)
4. I can't do step 3 with Audacity 3.0.4 cea4a9

**Expected behavior**
As shown in screenshot.

**Screenshots**
![First Track000](https://user-images.githubusercontent.com/11681097/129183503-cd177fdf-fb55-40f4-9275-042f480fe076.png)


**Additional information (please complete the following information):**
 - OS: Xubuntu 20.04
 - Version Audacity 3.0.4 alpha cea4a9

**Additional context**
https://manual.audacityteam.org/man/editing_resizing_and_moving_labels.html#junction""Testing on W10 with latest master 3.1.0 build  20210812+d4fb834-64bit

This works for me:
![image](https://user-images.githubusercontent.com/50205984/129222879-357a3106-6c11-489e-a307-6c718b5aa890.png)
 =||= seems like it works again =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1461PortMidi Conan-izedDmitry Vedenkocrsib08/17/21, 09:31:51 AM"Resolves #1447 

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""I see NoteTrack.cpp also has
`#ifdef SONIFY`
and it's not defined in the default build.  I never did learn what this SONIFY thing was.  Other old team might confirm that it is no longer relevant.

So, that old #include wasn't breaking the build.  Still it could be changed consistently with the rest, or just deleted.  Then, less `#include ""../lib/src...""` will remain to look at.



 =||= I fixed the include in `NoteTrack.cpp` =||= "PortMidi Conan-izedDmitry Vedenkocrsib08/17/21, 09:31:51 AM"Resolves #1447 

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNDmitry Vedenko08/11/21, 05:35:44 PMRemove PortMidi from the source tree1
1463Build fails, if root directory is not a Git repositoryDmitry Vedenkocrsib08/17/21, 10:09:15 AMThe build will fail, if there is no way to generate RevIdent.h fileNaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1465Time Shift left/right commands do not work on the right hand channel of a stereo track when clips are not alignedDavidBailes08/13/21, 11:05:14 AM"**Describe the bug**
The Time Shift left/right commands are on the Edit sub menu of the Extra menu. Keyboard users can assign shortcuts to them so that they can make fine adjustments to the positions of clips.
These commands do not work on the right hand channel of a stereo track when clips are not aligned. See steps to reproduce. This is a minor bug.

**To Reproduce**
Steps to reproduce the behavior:
1. Create two mono tracks, each containing a short clip.
2. Move one of the clips (by any means) so that it doesn't overlap in time with the other clip.
3. Create a stereo track from these two tracks.
3. Position the cursor somewhere in the clip in the left hand channel. The Time Shift right/left commands work.
4. Position the cursor somewhere in the clip in the right hand channel. The Time Shift right/left commands have no effect.

**Expected behavior**
The Time Shift right/left commands work on the right channel in the same way as they work in the right channel

**Screenshots**
If applicable, add screenshots to help explain your problem.

**Additional information (please complete the following information):**
Tested on Windows 10.

**Additional context**
This bug has been around since 3.0.0.
Between 2.3.1 and 2.4.2 the commands moved a clip in the right hand channel by twice as much as it should, and so the clip was moved more than the cursor.
2.3.0 was the last version when there was no problem."NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1466Add support for modern FFMPEG versionsDmitry Vedenkocrsib09/24/21, 06:03:23 PM"References #398, #1034, #1170, #1201, #1331, #1433 

The goal of this task is to update the FFMPEG version without breaking the current Audacity users.

Updating will help with:

* Improving security, as `avcodec55` is no longer supported
* Using system libraries on Linux
* Using FFMPEG from Brew on macOS

The problem is that while newer FFMPEG versions are (almost) API compatible - the ABI compatibility is broken."NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1467Time Shift left/right commands do not work on the right hand channel of a stereo track when clips are not alignedDavidBailes08/13/21, 11:05:14 AM"Resolves: https://github.com/audacity/audacity/issues/1465

Time Shift left/right commands do not work on the right hand channel of a stereo track when clips are not aligned.
This has been a problem since 3.3.0. Between 2.3.1 and 2.4.2 they moved a clip in the right hand channel more than they should, so moving the clip more than the cursor.

Problems and fixes, both in DoClipMove():
1. The reason for the commands not working at all was the track rather than the channel was been passed in the call MakeTrackShifter::Call( *channel, project )
2. The reason for the clip being moved more than it should, was the left hand channel always being passed as the captured track in the call:
state.Init( project, pShifter->GetTrack(), hitTestResult, std::move( uShifter ),
         t0, viewInfo, trackList, syncLocked )


<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNTime Shift left/right commands do not work on the right hand channel of a stereo track when clips are not alignedDavidBailes08/13/21, 11:05:14 AM"Resolves: https://github.com/audacity/audacity/issues/1465

Time Shift left/right commands do not work on the right hand channel of a stereo track when clips are not aligned.
This has been a problem since 3.3.0. Between 2.3.1 and 2.4.2 they moved a clip in the right hand channel more than they should, so moving the clip more than the cursor.

Problems and fixes, both in DoClipMove():
1. The reason for the commands not working at all was the track rather than the channel was been passed in the call MakeTrackShifter::Call( *channel, project )
2. The reason for the clip being moved more than it should, was the left hand channel always being passed as the captured track in the call:
state.Init( project, pShifter->GetTrack(), hitTestResult, std::move( uShifter ),
         t0, viewInfo, trackList, syncLocked )


<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNDavid Bailes08/13/21, 09:22:27 AM"Time Shift left/right commands: can fail for stereo track.

Time Shift left/right commands do not work on the right hand channel of a stereo track when clips are not aligned.
This has been a problem since 3.3.0. Between 2.3.1 and 2.4.2 they moved a clip in the right hand channel more than they should, so moving the clip more than the cursor.

Problems and fixes, both in DoClipMove():
1. The reason for the commands not working at all was the track rather than the channel was been passed in the call MakeTrackShifter::Call( *channel, project )
2. The reason for the clip being moved more than it should, was the left hand channel always being passed as the captured track in the call:
state.Init( project, pShifter->GetTrack(), hitTestResult, std::move( uShifter ),
         t0, viewInfo, trackList, syncLocked )"1
1474Alignment of Trackname in TCP and the Clip-handle drag-barsPeter Sampsonpetersampsonaudacity08/26/21, 01:57:53 PM"### Discussed in https://github.com/audacity/audacity/discussions/1473

<div type='discussions-op-text'>

<sup>Originally posted by **petersampsonaudacity** August 13, 2021</sup>
**Describe the bug**
The trackname in Track Control Panel (TCP) is not aligned with the Clip-handle drag-bars (AKA ""affordances"")

**To Reproduce**
1) Get some audio
2) Observe the mis-alignment

**Expected behavior**
Either:
a) the height of the Clip-handle drag-bar to be reduced to the same size as the Track Name field in the TCP, or
b) the height of the Track Name field in the TCP to be enlarged to be the same height as the Clip-handle drag-bar.


**Screenshots**
Image magnified  x 2.5
![image](https://user-images.githubusercontent.com/50205984/129359126-833506c3-7d4c-445c-9163-add5daa177c3.png)

**Additional information (please complete the following information):**
 - Windows 10 - but assume all OS
 - Audacity 3.1.0/3.0.4

**Additional context**
It would just look much neater and more visually pleasing if the two were in alignment.

It would be good to get this aesthetically right from the outset when Clip-handle drag-bars are first released to the users,
</div>""I had to initiate this as a ""Discussion"" and then get it transferred using ""Create issue from discussion"" - as when I tried to just create the Issue the ""Submit new issue"" is faded out and inaccessible/un-clickable:

![image](https://user-images.githubusercontent.com/50205984/129361833-451b7b60-40c9-4d83-86f0-109d83962156.png)
 =||= >  as when I tried to just create the Issue the ""Submit new issue"" is faded out and inaccessible/un-clickable

Was that because you didn't enter a title? =||= > 
> 
> > as when I tried to just create the Issue the ""Submit new issue"" is faded out and inaccessible/un-clickable
> 
> Was that because you didn't enter a title?

Yes Leo, embarrassingly so  _(blushes very deeply and face-palms)_ =||= @jounih  wrote in the associated Issue #1473 

>18px for the clip handle bars sounds fine and looks like it would fix this. 
>@Paul-Licameli or @vsverchinsky could you please update kAffordancesAreaHeight to 18px? 
>And please send a link to the build to me/Martin once done, so we can check visually. 
>Thanks =||= I see your screenshot and I wonder if you have been playing with the goniometer again.
 =||= > 
> 
> I see your screenshot and I wonder if you have been playing with the goniometer again.

Actually @Paul-Licameli I did in the past test the Goniometer with Sgt Pepper album  ;-)
 =||= redundant comment removed  -  I can't delete the post

 =||= Testing on W10 with latest alpha build audacity-win-3.0.4-alpha-20210820+45a90e3-64bit 

This tests good for this - the Clip-handle (and the box at the top of the Vertical Scale) is the same height and aligns nicely with the track name in the TCP.

I think this issue can be closed.

![image](https://user-images.githubusercontent.com/50205984/130264821-fef9e0ca-5caf-4378-a86b-e92ef43fcbc6.png)

And note that Audacity now just has the single Clip-handle drag-bar affordance for a stereo track
 =||= Closed due to the comment from @petersampsonaudacity  =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1475Stereo wave track channel resizingVitaly Sverchinskyvsverchinsky08/17/21, 09:48:53 PM"Resolves: #1375 

Resizing area added to the WaveTrackView and WaveTrackAffordanceControl, making possible to have an enlarged resizing area with 1px distance between channels.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNStereo wave track channel resizingVitaly Sverchinskyvsverchinsky08/17/21, 09:48:53 PM"Resolves: #1375 

Resizing area added to the WaveTrackView and WaveTrackAffordanceControl, making possible to have an enlarged resizing area with 1px distance between channels.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNVitaly Sverchinsky08/12/21, 06:28:09 PMOwn resizing area added to stereo wave tracks view and affordance view1
1476Envelope points are multiplied when using Filter Curve EQ or Graphic EQDmitry Vedenkocrsib08/26/21, 12:55:36 PM"**Describe the bug**
Using Filter Curve EQ will duplicate envelope points if they were present.

**To Reproduce**
Steps to reproduce the behavior:
1. Get some audio
2. Use envelope tool, generate some points
3. Apply Filter Curve EQ to the selection, that is smaller than the clip
4. Observe

**Expected behavior**
Filter Curve EQ should not change the envelope points.

**Screenshots**
![image](https://user-images.githubusercontent.com/2660628/129367697-0bc033af-aadd-4a2e-9347-12e00da5fdad.png)

See https://forum.audacityteam.org/viewtopic.php?p=432231#p432231""I do not see this on w10 with 3.0.3 or 3/1/0/3.0.4 alpha audacity-win-3.0.4-alpha-20210813+4058470-64bit =||= I've clarified STR a bit after checking - it works only if you select the part of the clip

Audacity 3.0.3 Win64

First time:
https://crsib-screenshots.s3.amazonaws.com/202108131713-y0w32.png

Second application, different selection
https://crsib-screenshots.s3.amazonaws.com/202108131714-uzh79.png =||= The potentially problematic code dates back to Aug 2020: https://github.com/audacity/audacity/commit/58adb94747a824617adb2ff6636cef91e959037f =||= OK with revised STR

Before EQ
![image](https://user-images.githubusercontent.com/50205984/129371066-9cd0ba53-be34-470d-a369-ac04bf771f4d.png)


After EQ
![image](https://user-images.githubusercontent.com/50205984/129371271-f8938bed-703b-4495-a4ff-d500fb3947c2.png)

The disjointed envelope does not look right to me
 =||= Oh, you should check the result of third application then LOL

![image](https://user-images.githubusercontent.com/2660628/129371490-d88bdff2-9a5c-41ef-9de7-29ed581ff87f.png)
 =||= I get similar results when I use Graphic EQ as well =||= I don't really know how many effects are affected =||= I can get it to crash by applying the Filter curve EQ several times (using Ctrl+R) - it first goes to a flat line and then the next application causes the crash.

ET has just phoned-home with the error report. =||= > 
> 
> I don't really know how many effects are affected

Change Pitch, Change Tempo and Change speed also seem to be affected

And Paulstretch

And Notch Filter and Tremolo

But many other effects are not affected e.g. Amplify, fade In, Wahwah and others
 =||= Oh I've managed to crash it too: #1477 

And ET's home says that it is a number 2 crash! =||= Bug narrowed down to Track Clear-And-Paste usage =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1477Filter Curve EQ will crash if there is an envelope point outside of the selectionDmitry Vedenkocrsib08/26/21, 12:55:29 PM"**Describe the bug**
Filter Curve EQ will crash if there is an envelope point outside of the selection

**To Reproduce**
Steps to reproduce the behavior:
1. Get some audio
2. Use envelope tool, generate some points
3. Select audio with an envelope point outside of the selection
3. Apply Filter Curve EQ
4. Observe

**Expected behavior**
A clear and concise description of what you expected to happen.

**Screenshots**
If applicable, add screenshots to help explain your problem.

**Additional information (please complete the following information):**
 - OS: [e.g. Mac High Sierra, Ubuntu 18.04, Windows 10]
 - Version [e.g. Audacity 2.5.1]
 - (if relevant) Sound Device [e.g. Windows WASAPI, USB Sound card]

**Additional context**
Add any other context about the problem here.""I do not see this crash on W10 with 3.3.0/3.0.4 alpha  audacity-win-3.0.4-alpha-20210813+4058470-64bit

But the before and after does look odd (probably not correct)

Before EQ
![image](https://user-images.githubusercontent.com/50205984/129370569-d13c12dc-c48d-4db2-a40d-0217c7a30714.png)

After EQ
![image](https://user-images.githubusercontent.com/50205984/129370239-f28d99aa-29e1-45aa-8314-9bb2237249e2.png)

In particular the discontinuous envelope does not look right to me,
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1478Extract lib xmlPaul LicameliPaul-Licameli08/17/21, 07:10:46 PM"Resolves: #1158

Extract a library for serialization and deserialization of objects in XML form, and a registry for serializable objects
attached directly to the project.

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNExtract lib xmlPaul LicameliPaul-Licameli08/17/21, 07:10:46 PM"Resolves: #1158

Extract a library for serialization and deserialization of objects in XML form, and a registry for serializable objects
attached directly to the project.

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli02/18/21, 04:29:49 PM"New library for xml; Audacity doesn't use expat directly...

... This allows ProjectFileIO to have fewer dependencies."1
1482Experimental dialog journallingPaul LicameliPaul-Licameli08/20/21, 10:42:31 AM"Resolves: #1404

The journalling system is now enhanced enough that it can replay some interactions with modal dialogs, including pushbuttons, choice controls, text boxes, and sliders.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""Const-correctness is the wrong word -- I'm not cheating with C style casts or const_cast.

Unnecessarily non-const arguments is what you mean, for some predicates.  Fair point.
 =||= "Experimental dialog journallingPaul LicameliPaul-Licameli08/20/21, 10:42:31 AM"Resolves: #1404

The journalling system is now enhanced enough that it can replay some interactions with modal dialogs, including pushbuttons, choice controls, text boxes, and sliders.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli08/12/21, 08:08:43 PMInvoke serializers and deserializers of journal events1
1486Allow building from the tarball without Git installedDmitry Vedenkocrsib08/17/21, 10:09:15 AM"Resolves #1463

This pull request solves the following problems:

* Tarballs on GitHub can be regenerated, changing the hash
* Building from the release tarball will create an ""alpha"" build
* Build will fail if there is not Git in PATH

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNAllow building from the tarball without Git installedDmitry Vedenkocrsib08/17/21, 10:09:15 AM"Resolves #1463

This pull request solves the following problems:

* Tarballs on GitHub can be regenerated, changing the hash
* Building from the release tarball will create an ""alpha"" build
* Build will fail if there is not Git in PATH

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNDmitry Vedenko08/16/21, 05:09:49 PM"Add ""Generate Source Tarball"" action"1
1495Rewrite ditherPaul LicameliPaul-Licameli08/31/21, 11:09:53 AM"Resolves: #1496

Rewrite DIther.cpp more clearly with C++ functions, not macros.

Just a preliminary to a preliminary to some AudioIO cleanup...

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""Could this have a negative impact on performance? Dither is one place that speed is important. Currently there is virtually no difference in time taken to export a long track with dither or without  dither (tested on Linux). =||= > Could this have a negative impact on performance? Dither is one place that speed is important. Currently there is virtually no difference in time taken to export a long track with dither or without dither (tested on Linux).

I invite you to experiment.

All relevant functions are declared inline, and compilers can be pretty smart.
 =||= > > Could this have a negative impact on performance? Dither is one place that speed is important. Currently there is virtually no difference in time taken to export a long track with dither or without dither (tested on Linux).
> 
> I invite you to experiment.
> 
> All relevant functions are declared inline, and compilers can be pretty smart.

I rewrote all of my branch with only static inline functions, and no pointer-to-member-functions.
 =||= "Rewrite ditherPaul LicameliPaul-Licameli08/31/21, 11:09:53 AM"Resolves: #1496

Rewrite DIther.cpp more clearly with C++ functions, not macros.

Just a preliminary to a preliminary to some AudioIO cleanup...

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli08/15/21, 06:50:10 PMRewrite DITHER_LOOP as a function1
1496Cleanup DitherPaul LicameliPaul-Licameli08/31/21, 11:09:53 AM"Use modern C++ templates, not macros to make Dither.cpp simpler and clearer"NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1501Revert fixes for Bugzilla 208 and #1686Dmitry Vedenkocrsib09/02/21, 02:02:25 PM"* https://github.com/audacity/audacity/commit/58adb94747a824617adb2ff6636cef91e959037f
* https://github.com/audacity/audacity/commit/c13a074

These fixes introduce P1 bug #1476  and crash #1477.

It was decided to revert them until we come with a better solution. The bug is filled as #1500 now. #1476, #1477 will be fixed as well
""Actually, rather than reversion, what happens if the calls to Envelope::Insert() are instead made to Envelope::InsertOrReplace()?  I think this will preserve the bug fix, and also not corrupt the envelope because points will remain properly sorted.

 =||= See Bugzilla:  https://bugzilla.audacityteam.org/show_bug.cgi?id=208
Bug 208 - Some effects (including equalization effects) delete Envelope Control Points, or do not move them when timeline changes 
 =||= I think the automation didn't catch this one, but #1502 already got merged. closing this issue =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1502Fix 1501Dmitry Vedenkocrsib08/18/21, 10:21:37 AM"Resolves #1501 
Resolves #1476 
Resolves #1477 

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNFix 1501Dmitry Vedenkocrsib08/18/21, 10:21:37 AM"Resolves #1501 
Resolves #1476 
Resolves #1477 

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNDmitry Vedenko08/18/21, 10:11:58 AM"Revert ""Bug 1686 - Equalization effects ignore and remove any amplitude envelope""

This reverts commit 58adb94747a824617adb2ff6636cef91e959037f."1
1503Manual: Prepare for 3.0.4 hotfixLWinterberg08/24/21, 10:23:21 AM"- [x] Update what's new page
- [x] Copy what's new page to wiki
- [x] Update manual main page
- [x] Create https://wiki.audacityteam.org/wiki/Release_Notes_3.0.4

Post-launch
- [x] update https://wiki.audacityteam.org/wiki/Category:Release_Notes""@petersampsonaudacity thanks for helping along! Am I missing anything on the checklist?

Also, I ended up not following the usual formatting for the release notes since much of it doesn't seem too relevant for this release =||= > @petersampsonaudacity thanks for helping along! Am I missing anything on the checklist?

That's fine Leo.

I checked for any occurrences of the text string ""3.0.1"" throughout the Manual with the **Replace Text** tool in the **tools > Special pages** from the Manuals nav bar (only visible to logged-in editors).  _This is a very useful tool for Manual maintenance I've always found._

I have archived a copy of the What's new in 3.1.0 in the Wiki:
https://wiki.audacityteam.org/wiki/Audacity_Versions#whatsnew


> Also, I ended up not following the usual formatting for the release notes since much of it doesn't seem too relevant for this release

Looks sensible to me

 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1504Context menusPaul LicameliPaul-Licameli09/06/21, 02:02:38 PM"Resolves: #998
Resolves: #1518

Working context menus for background area and audio clips.

Notes about some details where the issue description differs from this implementation or is underspecified:

* All important words are capitalized, consistent with other menu items (for instance ""Split Clip"")
* Split Clip will split only the picked clip (whether or not the track is selected), at the pick point.  This is unlike the toolbar menu, which splits all selected tracks, at the selection.
* Paste will paste at the pick point, ignoring the selection, unlike the other ways of invoking Paste
* Mute/Unmute Track has Shift+U as its default keystroke.  See Extra > Tracks sub-menu (and see Interface preferences to enable the Extra menu). The popup menu command will do that to the track you pick in, ignoring which tracks are in selected state.
* ""Export Audio..."" rather than ""Export Project"" because that agrees with the toolbar menu and the convention that commands bringing up modal dialogs need ellipsis in the name.
* The clip context menu appears only when clicking on the wave (or spectrogram) areas, not on the drag bar or in voids between clips.
* The accelerator keys appear not necessarily as the defaults in the pictures, of course, but are consistent with whatever keystrokes have been chosen in preferences.
* Context menu items will be grayed out and disabled in the same cases that the corresponding toolbar menus would be.  For instance, adding new tracks is not permitted during recording or playback.

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""> * There is no existing ""Mute/Unmute Track"" command in toolbar menus.  Alt-Ctrl-U in default bindings mutes all tracks.  I implemented a new command, not in the toolbar menus, for the popup that toggles mute status.   And again, for the (mono or stereo) track that is picked in, ignoring track selection state.

There's already a command to mute/unmute the focussed track in the Track submenu of the Extra menu. =||= > Notes about some details where the issue description differs from this implementation or is underspecified:

> Split Clip will split only the picked clip (whether or not the track is selected), at the pick point. This is unlike the toolbar menu, which splits all selected tracks, at the selection.

I think that there's a problem here trying to implement this stuff before the selection model for 3.1 has been fully specified (Tantacrul said he was working on this.)
A user would expect that a command in a context menu would have the same effect as the command with the same name (and associated shortcut) in the main menus. But that isn't the case with your plan for using the split command in a clip's context menu. This command would act on different clips compared to the command in the main menus - they are in effect two different commands, and so should have different names (and shortcuts).   And if you used the same approach for the cut and copy commands you'd run into similar problems.  =||= > > * There is no existing ""Mute/Unmute Track"" command in toolbar menus.  Alt-Ctrl-U in default bindings mutes all tracks.  I implemented a new command, not in the toolbar menus, for the popup that toggles mute status.   And again, for the (mono or stereo) track that is picked in, ignoring track selection state.
> 
> There's already a command to mute/unmute the focussed track in the Track submenu of the Extra menu.

So there is.  Thank you, I will rewrite that part.
 =||= > > Notes about some details where the issue description differs from this implementation or is underspecified:
> 
> > Split Clip will split only the picked clip (whether or not the track is selected), at the pick point. This is unlike the toolbar menu, which splits all selected tracks, at the selection.
> 
> I think that there's a problem here trying to implement this stuff before the selection model for 3.1 has been fully specified (Tantacrul said he was working on this.)
> A user would expect that a command in a context menu would have the same effect as the command with the same name (and associated shortcut) in the main menus. But that isn't the case with your plan for using the split command in a clip's context menu. This command would act on different clips compared to the command in the main menus - they are in effect two different commands, and so should have different names (and shortcuts). And if you used the same approach for the cut and copy commands you'd run into similar problems.



> > Notes about some details where the issue description differs from this implementation or is underspecified:
> 
> > Split Clip will split only the picked clip (whether or not the track is selected), at the pick point. This is unlike the toolbar menu, which splits all selected tracks, at the selection.
> 
> I think that there's a problem here trying to implement this stuff before the selection model for 3.1 has been fully specified (Tantacrul said he was working on this.)
> A user would expect that a command in a context menu would have the same effect as the command with the same name (and associated shortcut) in the main menus. But that isn't the case with your plan for using the split command in a clip's context menu. This command would act on different clips compared to the command in the main menus - they are in effect two different commands, and so should have different names (and shortcuts). And if you used the same approach for the cut and copy commands you'd run into similar problems.

All very good points to raise, as indeed I am raising them.

The hope was that context menus would be an easy win for 3.1, relatively easy to implement.  But with these doubts about whether the clip menu items will work -- maybe we should commit to only one of the menus.



 =||= There is now one more commit to review.
 =||= "Context menusPaul LicameliPaul-Licameli09/06/21, 02:02:38 PM"Resolves: #998
Resolves: #1518

Working context menus for background area and audio clips.

Notes about some details where the issue description differs from this implementation or is underspecified:

* All important words are capitalized, consistent with other menu items (for instance ""Split Clip"")
* Split Clip will split only the picked clip (whether or not the track is selected), at the pick point.  This is unlike the toolbar menu, which splits all selected tracks, at the selection.
* Paste will paste at the pick point, ignoring the selection, unlike the other ways of invoking Paste
* Mute/Unmute Track has Shift+U as its default keystroke.  See Extra > Tracks sub-menu (and see Interface preferences to enable the Extra menu). The popup menu command will do that to the track you pick in, ignoring which tracks are in selected state.
* ""Export Audio..."" rather than ""Export Project"" because that agrees with the toolbar menu and the convention that commands bringing up modal dialogs need ellipsis in the name.
* The clip context menu appears only when clicking on the wave (or spectrogram) areas, not on the drag bar or in voids between clips.
* The accelerator keys appear not necessarily as the defaults in the pictures, of course, but are consistent with whatever keystrokes have been chosen in preferences.
* Context menu items will be grayed out and disabled in the same cases that the corresponding toolbar menus would be.  For instance, adding new tracks is not permitted during recording or playback.

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli09/01/21, 02:43:46 PM"Context menu split and paste fixes...

... Do not use the temporary point selection.  But do use the temporary track
selection, and for split, do it to all channels."1
1509Ogg decoding can hang (old vorbis library)Peter Sampsonpetersampsonaudacity08/19/21, 03:29:31 PM"**Describe the bug**
Ogg decoding can hang (old vorbis library)

**To Reproduce**
Steps to reproduce the behavior:
1. Attempt to import https://upload.wikimedia.org/wikipedia/commons/0/0f/Claude_Debussy_-_Premi%C3%A8re_Arabesque_-_Patrizia_Prati.ogg
2. Observe: : Audacity hangs, unresponsive.

**Expected behavior**
The audio file should import correctly

**Screenshots**
If applicable, add screenshots to help explain your problem.

**Additional information (please complete the following information):**
The poster - James Crook, wrote:

=================================================

 James Crook 2021-04-15 12:38:05 UTC

This will be fixed by an upgrade to Vorbis 1.3.7 or later.

It's the same bug as reported here:

https://forum.juce.com/t/ogg-vorbis-file-puts-juce-oggreader-in-infinite-loop/41148

This loop is going round forever, because begin reaches zero and stays there.

  while(offset==-1){
    begin-=CHUNKSIZE;
    if(begin<0)
      begin=0;

    ret=_seek_helper(vf,begin);
    if(ret)return(ret);
    // other stuff
  }

This bug was also present in Audacity 2.4.2, so is not a regression.

=======================================================

**Additional context**
Add any other context about the problem here.""This was originally logged on Bugzilla 2748:
https://bugzilla.audacityteam.org/show_bug.cgi?id=2748
 =||= Voribs was updated to 1.3.7 in #1445  =||= Tested on w10 with latest 3.0.4 alpha audacity-win-3.0.4-alpha-20210817+7949a0d-64bit

This now imports fine =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1517Fix affordance area heightVitaly Sverchinskyvsverchinsky08/20/21, 01:46:18 PM"Resolves: #1473 

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""I suggest just one more line in TrackPanel.cpp:
```
static_assert(kTrackInfoBtnSize == kAffordancesAreaHeight, ""Drag bar is misaligned with the menu button"");
```
 =||= "Fix affordance area heightVitaly Sverchinskyvsverchinsky08/20/21, 01:46:18 PM"Resolves: #1473 

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNVitaly Sverchinsky08/20/21, 01:28:18 PMChanging affordance area height to match the height of the button to the left1
1518Right clicking in Clip-handle affordance changes selectionPeter Sampsonpetersampsonaudacity09/06/21, 02:02:38 PM"**Describe the bug**
Right clicking in Clip-handle drag-bar affordance changes selection from existing selection made by the user to selecting the clip.

**To Reproduce**
Steps to reproduce the behavior:
1. get two clips
2. make a selection in one of the clips
3. Right-click in the Clip-handle affordance of the second clip
4. Observe: the selection  from step 2 is removed and the whole of the second clip is selected

Alternatively
1. get some audio - i.e. a single clip
2. make a partial selection in the audio
3. Right-click in the Clip-handle affordance of the audio
4. Observe: the selection  from step 2 is removed and the whole of the audio is selected

**Expected behavior**
With right-click in the Clip-handle affordance I would expect either:
a) null - no action, or
b) a drop-down context menu

The user's carefully made selection should not be changed by a single right-click in the Clip-handle affordance


**Screenshots**
Not applicable


**Additional information (please complete the following information):**
 - OS: Windows 10  -  but assume all OS
 - Version latest master 3.1.0 (but still badged as 3.0.4)  audacity-win-3.0.4-alpha-20210820+45a90e3-64bit


**Additional context**
Add any other context about the problem here.""This only happens if you right-click in the Clip-handle affordance and release the mouse button without moving the mouse.

If you right-click in the Clip-handle affordance and move the mouse without releasing the mouse button then the clip moves - and wnh you release the mouse button the selection is no changed.

I would **_really_** not expect to move the clip with a right-click&drag in a Clip-handle affordance. =||= I don't think this is a bug per se. However, I do agree that we should utilise the RC menu when ready to provide useful options, like 'Joining', changing colour, etc. =||= My pull request #1504 may incidentally fix this. =||= > I don't think this is a bug per se.

Well if it's by _""design_"" then it's pretty idiosyncratic and more than unusual use of RMB.   

I can't think of an app that I use where right click either doesn't bring up a context menu or simply does nothing. 


>However, I do agree that we should utilise the RC menu when ready to provide useful options, like 'Joining', changing colour, etc.

Indeed. =||= > I can't think of an app that I use where right click either doesn't bring up a context menu or simply does nothing.

But dragging using the right mouse button is used in other apps. For example in File Explorer, you can right-drag files and folders around, and in Reaper dragging using the right mouse button is used by default for marquee selection. =||= > But dragging using the right mouse button is used in other apps. For example in File Explorer, you can right-drag files and folders around

Ooh so it does - I never knew that.

But in the context we are discussing here in alpha Audacity 3.1.0 the RMB actions duplicate and are exactly the same as the LMB actions in a Clip-handle affordance and that is an unnecessary waste of gestures in a GUI.

1. Click and release =>  Select clip
2. Click&drag => move the clip
3. Double-click => no action


_**Aside:**  I stumbled into this issue by idly right-clicking in the Clip-handle affordance just to see if there was a context menu - I was hoping to be able to name the clip_ =||= > But in the context we are discussing here in alpha Audacity 3.1.0 the RMB actions duplicate and are exactly the same as the LMB actions in a Clip-handle affordance and that is an unnecessary waste of gestures in a GUI.

But until different actions are defined for using the right mouse button, I don't think it too much of a problem that they're just duplications at the moment. =||= Potentially will be fixed after context menus release
@Penikov this is blocked for QA until context menus are done =||= I have double-clicked on the clip handle (clip affordance) and it was selected then. 
Single right-click doesn't do anything, but double-click does.
Does it work as designed?

BTW if you try to click rapidly on the clip handle by the mouse wheel, the clip will be selected.

 =||= @SteveDaulton wrote on Discord:
>Mouse double right click on clip drag bar.
>Expected behaviour: Nothing - double right click is not a standard action.

I am minded to agree. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1520Cmake error macOS markusqw108/24/21, 08:57:26 AM"I am on macOS big sur and i keep getting cmake errors. I have followed the building.md. Please help


CMake Error at /usr/local/Cellar/cmake/3.21.1/share/cmake/Modules/FindPackageHandleStandardArgs.cmake:230 (message):
  Could NOT find wxWidgets (missing: wxWidgets_LIBRARIES
  wxWidgets_INCLUDE_DIRS)
Call Stack (most recent call first):
  /usr/local/Cellar/cmake/3.21.1/share/cmake/Modules/FindPackageHandleStandardArgs.cmake:594 (_FPHSA_FAILURE_MESSAGE)
  /usr/local/Cellar/cmake/3.21.1/share/cmake/Modules/FindwxWidgets.cmake:1025 (find_package_handle_standard_args)
  vcpkg/scripts/buildsystems/vcpkg.cmake:782 (_find_package)
  lib-src/libnyquist/CMakeLists.txt:263 (find_package)"You probably have mistaken this repo with Tenacity. We do not use VCPKG  =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1521Windows: installer references Mac Os X which should be macOSPeter Sampsonpetersampsonaudacity08/26/21, 09:50:50 PM"**Describe the bug**
The Windows installer EXE dialog references Mac Os X.  This should be macOS as:
a) Apple changed the branding a wile back,
b) the ""X"" is not letter X but Roman numeral X - i.e. ten and as now current mac OS is version 11.5.2 (Big Sur) the ""X"" is well out of date.

**To Reproduce**
Steps to reproduce the behavior:
1. Install 3.0.3 on Windows with the EXE installer
2. Observe: reference to Mac Os X in one of the installation dialog windows


**Expected behavior**
macOS to be referenced instead


**Screenshots**
![image](https://user-images.githubusercontent.com/50205984/130352723-836ae33d-dcf7-488d-9d64-55d08525eba2.png)


**Additional information (please complete the following information):**
 - Windows 10
 - Version 3.0.3


**Additional context**
This does not occur with the Mac DMG installer
""@crsib please assign this issue to me, I am new to open source =||= Hey @petersampsonaudacity @crsib , kindly review my pull request 
Link to PR :https://github.com/audacity/audacity/pull/1528

I want to be part of GSOC 2022 =||= Hey @AnitaBats  when will this PR get reviewed? =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1522Cannot build audacity due to Conan requirementDave Platerplater08/27/21, 09:17:29 AM"I maintain Audacity for openSUSE. I've attempted to update to v3.0.3 but it refuses to build without ""Conan"". :

CMake Error at cmake-proxies/cmake-modules/conan.cmake:795 (message):
  Conan executable not found! Please install conan.
Call Stack (most recent call first):
  cmake-proxies/cmake-modules/conan.cmake:841 (conan_check)
  cmake-proxies/cmake-modules/AudacityDependencies.cmake:4 (conan_add_remote)
  CMakeLists.txt:158 (include)

Conan doesn't exist in openSUSE and further research shows that it's a package manager!
I'm confused as to why Audacity now depends on a package manager.""Hi Dave,

For version 3.1 this requirement will be lifted, please look at
https://github.com/audacity/audacity/tree/master/linux/packages/fedora34
for example of the RPM build

>Conan doesn't exist in openSUSE

As much of the Python software, Conan is managed by python-pip. Currently,
they have a long open issue to package it as an RPM
https://github.com/conan-io/conan/issues/2772

Conan is a widely used dependency manager for C++ that is available for
several years and helps to decouple dependencies management from the source
base. However, as we understand that Linux packaging environments usually
do not have internet access there will be a way either to package Conan
along with the source tree or not using at all. The latter option is only
now possible for Fedora and, likely, openSUSE, other distros do not package
or package old versions of the required dependencies.

Sorry for this temporary inconvenience


On Tue, Aug 24, 2021 at 8:55 AM Dave Plater ***@***.***>
wrote:

> I maintain Audacity for openSUSE. I've attempted to update to v3.0.3 but
> it refuses to build without ""Conan"". :
>
> CMake Error at cmake-proxies/cmake-modules/conan.cmake:795 (message):
> Conan executable not found! Please install conan.
> Call Stack (most recent call first):
> cmake-proxies/cmake-modules/conan.cmake:841 (conan_check)
> cmake-proxies/cmake-modules/AudacityDependencies.cmake:4 (conan_add_remote)
> CMakeLists.txt:158 (include)
>
> Conan doesn't exist in openSUSE and further research shows that it's a
> package manager!
> I'm confused as to why Audacity now depends on a package manager.
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/audacity/audacity/issues/1522>, or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AAUJSFCRWNXUTIQLSZK5V73T6MX45ANCNFSM5CWCQERQ>
> .
>
 =||= I'll try the ""-D audacity_conan_enabled=Off"" switch and the ""-D audacity_conan_allow_prebuilt_binaries=no"" switches but when I first encountered conan I did a cmake -LAH and then searched for conan and didn't find the above defines. =||= The build still wants conan, I see all the other distributions are still on 3.0.2 =||= This change is not available for 3.0.3, it is only in the master branch for now.

In any case, there are not many Linux-related changes between 3.0.2 and 3.0.3. 

3.1.0 will be a feature release, though =||= Are there commits I can make a patch from? =||= I think this one should be sufficient: https://github.com/audacity/audacity/pull/1030/commits/ae841d5d015bbf2978feea465fddb2fec3524d73

There were other patches as well for dependencies without pkg-config. But I think you do not need them, as you already building 3.0.2 =||= The patch seems to work but now I'm stuck on ThreadPool, we only have python-threadpool and that doesn't seem to satisfy audacity =||= Ouch, sorry, forgot about that :(

https://github.com/audacity/audacity/pull/1030/commits/c740f4a8358f0f256fd15d1cf9c356c799b6ef29

This one will be included in 3.1.0 as well! =||= cmake now succeeds but now it doesn't find soxr and vamp files that exist in the directory they're searched for in.
find . -name cr.c in the audacity top dir gives:
./audacity-Audacity-3.0.3/lib-src/libsoxr/src/cr.c

 CMake Error at cmake-proxies/libsoxr/CMakeLists.txt:2 (add_library):
[   41s]   Cannot find source file:
[   41s] 
[   41s]     /home/abuild/rpmbuild/BUILD/audacity-Audacity-3.0.3/lib-src/libsoxr/src/cr.c
[   41s] 
[   41s]   Tried extensions .c .C .c++ .cc .cpp .cxx .cu .mpp .m .M .mm .ixx .cppm .h
[   41s]   .hh .h++ .hm .hpp .hxx .in .txx .f .F .for .f77 .f90 .f95 .f03 .hip .ispc
[   41s] 
[   41s] 
[   41s] CMake Error at cmake-proxies/libvamp/CMakeLists.txt:2 (add_library):
[   41s]   Cannot find source file:
[   41s] 
[   41s]     /home/abuild/rpmbuild/BUILD/audacity-Audacity-3.0.3/lib-src/libvamp/src/vamp-hostsdk/PluginBufferingAdapter.cpp
[   41s] 
[   41s]   Tried extensions .c .C .c++ .cc .cpp .cxx .cu .mpp .m .M .mm .ixx .cppm .h
[   41s]   .hh .h++ .hm .hpp .hxx .in .txx .f .F .for .f77 .f90 .f95 .f03 .hip .ispc
[   41s] 

A system soxr exists. =||= Can you please show me your spec file? =||= https://build.opensuse.org/package/view_file/home:plater/audacity/audacity.spec?expand=1 =||= The %cmake macro expands to:
    find . -name CMakeLists.txt \
        -exec sed -i -re '/^[[:blank:]]*[sS][eE][tT][[:blank:]]*\([[:blank:]]*(CMAKE_BUILD_TYPE|CMAKE_COLOR_MAKEFILE|CMAKE_INSTALL_PREFIX|CMAKE_VERBOSE_MAKEFILE).*\)/{s/^/#IGNORE /}' {} + 
    mkdir -p build 
    cd build 
    /usr/bin/cmake $OLDPWD/. \
%if ""/usr/bin/make"" == ""/usr/bin/make"" 
        -G""Unix Makefiles"" \
%else 
        -GNinja \
%endif 
        -DCMAKE_INSTALL_PREFIX:PATH=/usr \
        -DINCLUDE_INSTALL_DIR:PATH=/usr/include \
        -DLIB_INSTALL_DIR:PATH=/usr/lib64 \
        -DSYSCONF_INSTALL_DIR:PATH=/etc \
        -DSHARE_INSTALL_PREFIX:PATH=/usr/share \
        -DCMAKE_INSTALL_LIBDIR:PATH=/usr/lib64 \
        -DCMAKE_BUILD_TYPE=RelWithDebInfo \
        -DCMAKE_C_FLAGS=""${CFLAGS:--O2 -g -m64 -fmessage-length=0 -D_FORTIFY_SOURCE=2 -fstack-protector -funwind-tables -fasynchronous-unwind-tables} -DNDEBUG"" \
        -DCMAKE_CXX_FLAGS=""${CXXFLAGS:--O2 -g -m64 -fmessage-length=0 -D_FORTIFY_SOURCE=2 -fstack-protector -funwind-tables -fasynchronous-unwind-tables} -DNDEBUG"" \
        -DCMAKE_Fortran_FLAGS=""${FFLAGS:--O2 -g -m64 -fmessage-length=0 -D_FORTIFY_SOURCE=2 -fstack-protector -funwind-tables -fasynchronous-unwind-tables} -DNDEBUG"" \
        -DCMAKE_EXE_LINKER_FLAGS="" -Wl,--as-needed -Wl,--no-undefined -Wl,-z,now"" \
        -DCMAKE_MODULE_LINKER_FLAGS="" -Wl,--as-needed"" \
        -DCMAKE_SHARED_LINKER_FLAGS="" -Wl,--as-needed -Wl,--no-undefined -Wl,-z,now"" \
%if ""lib64"" == ""lib64"" 
        -DLIB_SUFFIX=64 \
%endif 
%if 1500 <= 1500 
        -DCMAKE_SKIP_RPATH:BOOL=ON \
%endif 
        -DCMAKE_VERBOSE_MAKEFILE:BOOL=ON \
        -DBUILD_SHARED_LIBS:BOOL=ON \
        -DBUILD_STATIC_LIBS:BOOL=OFF \
        -DCMAKE_COLOR_MAKEFILE:BOOL=OFF \
        -DCMAKE_INSTALL_DO_STRIP:BOOL=OFF \
        -DCMAKE_MODULES_INSTALL_DIR=/usr/share/cmake/Modules
 =||= I've changed to 3.0.4 and it goes past the previous build errors but it appears to have trouble finding includes from wxWidgets. I've added $(wx-config --cflags) to the c and cxx flags =||= With the addition of $(wx-config --libs) to the LINKER flags the build now makes it as far as ""MemoryX.cpp.o"" where it fails on a namespace error. Unfortunately I'm not good at cxx namespaces and I'm running out of time. See:
https://build.opensuse.org/package/live_build_log/home:plater/audacity/Factory/x86_64
and for the entire log:
https://build.opensuse.org/public/build/home:plater/Factory/x86_64/audacity/_log =||= https://github.com/audacity/audacity/commit/4ed2e0d2652525f574da6e4ae02775943178e7f3

There more I think about it the more it occurs to me that the whole set of commits is required from this PR: https://github.com/audacity/audacity/pull/1030/commits =||= 0001-Fixes-GCC11-compatibility.patch can't find libraries/lib-math/SampleCount.cpp doesn't exist in v3.0.4 but it inspired me to patch MemoryX.cpp with include limits and the build now succeeds just left with a couple of installation changes which I'll fix.
I only used:
 0001-Adds-an-option-to-disable-Conan.patch
 0001-Scope-libraries-required-by-the-optional-features.patch
 0001-Fixes-wxwidgets-fixup-script.patch

One interesting thing is that I couldn't use the commit hash from the patches and had to search for the description and use that hash =||= Audacity builds again =||= This is awesome, thank you a lot! =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1523Build fails because portaudio.com is downefokschaner08/25/21, 10:08:31 AM"**Describe the bug**
Conan step fails during CMake configure because portaudio.com is down.
The conan recipe for portaudio defined by audacity project https://github.com/audacity/conan-recipes/blob/main/portaudio/all/conandata.yml#L3 references http://files.portaudio.com/archives/pa_stable_v190700_20210406.tgz which fails to download.

See https://github.com/PortAudio/portaudio/issues/634 for the upstream issue report.

**To Reproduce**
Steps to reproduce the behavior:
1. Clone this repo (on windows but it probably affects all conan-using platforms)
1. Follow the build instructions to CMake configure
1. See an error downloading http://files.portaudio.com/archives/pa_stable_v190700_20210406.tgz

**Expected behavior**
CMake configure should complete without error

**Additional information (please complete the following information):**
 - OS: Windows 10
 - Version: master (45a90e38a3dd5f799244057b3c512943dca8e3e8)

**Additional context**
The issue appears to be able to be worked around by using the source distribution from the GitHub release, rather than the portaudio.com website. The main fix looks like this:
```
    url: ""https://github.com/PortAudio/portaudio/archive/refs/tags/v19.7.0.tar.gz""
    sha256: ""5af29ba58bbdbb7bbcefaaecc77ec8fc413f0db6f4c4e286c40c3e1b83174fa0""
```
I'll throw a PR over to the https://github.com/audacity/conan-recipes repo in case it's a desirable solution."Sounds really good to me! =||= This issue should be now fixed, thank you again! =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1526Release 3.0.4Dmitry Vedenkocrsib08/24/21, 05:39:50 PMNaNNaNRelease 3.0.4Dmitry Vedenkocrsib08/24/21, 05:39:50 PMNaNNaNDmitry Vedenko08/18/21, 10:11:58 AM"Revert ""Bug 1686 - Equalization effects ignore and remove any amplitude envelope""

This reverts commit 58adb94747a824617adb2ff6636cef91e959037f."1
1527Extract lib audio devicesPaul LicameliPaul-Licameli08/27/21, 04:57:18 PM"Resolves: #1144

Extract a library of utilities for querying the available audio devices, finding their preferred sample rates, holding certain related global preferences variables, and also the interface class Meter for transferring buffers of samples for purposes of display updates.

This does not contain the complete playback and recording audio engine.  When WaveTrack is a library, it will need only this part to set default sample rates of wave tracks appropriately.

Doing this separation now is also desirable as a prelude to other refactorings of the audio engine.

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNExtract lib audio devicesPaul LicameliPaul-Licameli08/27/21, 04:57:18 PM"Resolves: #1144

Extract a library of utilities for querying the available audio devices, finding their preferred sample rates, holding certain related global preferences variables, and also the interface class Meter for transferring buffers of samples for purposes of display updates.

This does not contain the complete playback and recording audio engine.  When WaveTrack is a library, it will need only this part to set default sample rates of wave tracks appropriately.

Doing this separation now is also desirable as a prelude to other refactorings of the audio engine.

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli02/28/21, 02:33:02 AMNew library for audio devices1
1528Changed 'Mac OS X' to 'macOS' reference in audacity_InnoWizard_InfoBefore.rtf fileSandeep Rajakrishnansan-coding08/26/21, 09:46:30 PM"This fixes the issue #1521





Resolves: *(https://github.com/audacity/audacity/issues/1521)*

The Windows installer EXE dialog references Mac Os X. Changed it to macOS because:
a) Apple changed the branding a wile back,
b) the ""X"" is not letter X but Roman numeral X - i.e. ten and as now current mac OS is version 11.5.2 (Big Sur) the ""X"" is well out of date.
(To achieve this , updated the file : [win/Inno_Setup_Wizard/audacity_InnoWizard_InfoBefore.rtf
](https://github.com/audacity/audacity/blob/95a7fc6362729594565204b6db927b2e025d20c0/win/Inno_Setup_Wizard/audacity_InnoWizard_InfoBefore.rtf) )
<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""Hey @petersampsonaudacity @crsib  , kindly review this pull request 
 =||= "Changed 'Mac OS X' to 'macOS' reference in audacity_InnoWizard_InfoBefore.rtf fileSandeep Rajakrishnansan-coding08/26/21, 09:46:30 PM"This fixes the issue #1521





Resolves: *(https://github.com/audacity/audacity/issues/1521)*

The Windows installer EXE dialog references Mac Os X. Changed it to macOS because:
a) Apple changed the branding a wile back,
b) the ""X"" is not letter X but Roman numeral X - i.e. ten and as now current mac OS is version 11.5.2 (Big Sur) the ""X"" is well out of date.
(To achieve this , updated the file : [win/Inno_Setup_Wizard/audacity_InnoWizard_InfoBefore.rtf
](https://github.com/audacity/audacity/blob/95a7fc6362729594565204b6db927b2e025d20c0/win/Inno_Setup_Wizard/audacity_InnoWizard_InfoBefore.rtf) )
<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNSandeep Rajakrishnan08/25/21, 02:30:14 AM"Changed 'Mac OS X' to 'macOS'

Updated audacity_InnoWizard_InfoBefore.rtf , 
The Windows installer EXE dialog references Mac Os X. This should be macOS as:
a) Apple changed the branding a wile back,
b) the ""X"" is not letter X but Roman numeral X - i.e. ten and as now current mac OS is version 11.5.2 (Big Sur) the ""X"" is well out of date.

This fixes the issue #1521"1
1529Some effects mess up envelopeSteve DaultonSteveDaulton08/25/21, 10:06:27 AM"**Describe the bug**
Most non-real-time effects mess up envelopes.

**To Reproduce**
Steps to reproduce the behavior:
1. Generate a 30 second tone
2. Add envelope points every 5 seconds in a recognizable pattern
3. select from about 7 seconds  to about 22 seconds
4. Apply a non-real-time (example: Graphic EQ)
5. Observe that the envelope between the start and end of the selection is destroyed.

**Expected behavior**
The effect to be applied  without changing the envelope.

**Additional information (please complete the following information):**
 - OS: Xubuntu 20.04
 - Version audacity-linux-3.0.4-x86_64.AppImage

"This is a duplicate of #1500  =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1530Quiet Soundgemgithuberror09/21/21, 07:47:28 AM"Open audacity, begin recording and despite settings being the same as normal, the sound comes out extremely quiet and cannot not be enhanced with filter curve features.  

It used to work and now it doesn't. It also works sometimes but not others times. 

I opened it and recorded and it seemed to be working ok and then I clicked the 'x' to get rid of the recording and start again and then began recording and it went quiet again and I can't work out why and how to fix it. 

I thought it was the blue yeti mic I was using but I have a replacement and the same issue occurs. It worked before so I can't see why it would be my device but I have no other device to check it on. Have you experienced this issue before? What can be done to fix it? 

Here is a normal recording:
![image](https://user-images.githubusercontent.com/89518294/130771510-2b063e21-8b3d-4a62-a364-266a2bd9084e.png)

and here is what is looks like when the error occurs:

![image](https://user-images.githubusercontent.com/89518294/130771660-753c28ce-b68d-46f0-873b-f440ef0130fb.png)


The version is 3.0.3 

I am using a dell laptop and Windows 10 version 21H1

I am using a Blue Yeti USB mic - https://www.bluemic.com/en-gb/products/yeti/ 


**Describe the bug**
A clear and concise description of what the bug is.

**To Reproduce**
Steps to reproduce the behavior:
1. Go to '...'
2. Click on '....'
3. Scroll down to '....'
4. See error

**Expected behavior**
A clear and concise description of what you expected to happen.

**Screenshots**
If applicable, add screenshots to help explain your problem.

**Additional information (please complete the following information):**
 - OS: [e.g. Mac High Sierra, Ubuntu 18.04, Windows 10]
 - Version [e.g. Audacity 2.5.1]
 - (if relevant) Sound Device [e.g. Windows WASAPI, USB Sound card]

**Additional context**
Add any other context about the problem here.""Hello! The bug tracker isn't the best place for troubleshooting like this, so sorry for the late reply. 

I think this isn't an Audacity bug, as your input volume seems to have been the same. You say that you can replicate this with different mics - but can you reproduce this with a different USB cable, connected to a different USB port, or even a different computer if you've got access to that? If not, my guess is that this would be a hardware issue. =||= Ensure that Windows Sound ""Enhancements"" are all disabled for the USB device (See: [Why do my recordings fade out or sound as if they were made in a tunnel](https://manual.audacityteam.org/man/faq_recording_troubleshooting.html#enhancements))

If that doesn't fix it, I'd recommend asking on the Audacity forum: https://forum.audacityteam.org/viewforum.php?f=46 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1532New colors for clip affordances in light and classic themesVitaly Sverchinskyvsverchinsky08/27/21, 09:31:12 AM"Resolves: #1446 
<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""Looks lighter and thus more obvious, and gets lighter still when hovered over,  Looks like an improvement to me.
![image](https://user-images.githubusercontent.com/50205984/130967117-3e178e09-308d-4e8e-b0de-4c6690bfb8ce.png)
 =||= "New colors for clip affordances in light and classic themesVitaly Sverchinskyvsverchinsky08/27/21, 09:31:12 AM"Resolves: #1446 
<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNVitaly Sverchinsky08/25/21, 05:01:11 PMNew colors for clip affordances in light and classic themes1
1533Clip namesVitaly Sverchinskyvsverchinsky09/06/21, 01:25:32 PM"Resolves: #1182 #1324

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""Please see:  Nomenclature for default Clip names could be improved as ""Audio Clip"" #1535 =||= All is well in the last commit
 =||= Just rebase, nothing fixed yet =||= The i18n changes are good, I suggest better comments about the logic of the binary search, but there is a possible crash bug in split-cut of tracks which was introduced in a later force-push.  I think you write rightClip where you meant leftClip.

Fix that, and the comments, test split-cut (Edit > Remove Special > Split Cut), rebase and force-push, and I will approve.

 =||= "Clip namesVitaly Sverchinskyvsverchinsky09/06/21, 01:25:32 PM"Resolves: #1182 #1324

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNVitaly Sverchinsky08/25/21, 04:29:29 PMFix clips edge drawing1
1542OSX -> macOSLWinterberg08/27/21, 01:10:11 PM"Resolves: an absolutely petty little thing in the readme.md

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNOSX -> macOSLWinterberg08/27/21, 01:10:11 PM"Resolves: an absolutely petty little thing in the readme.md

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNLWinterberg08/26/21, 11:04:40 PMOSX -> macOS1
1544The cursor doesn't change appearance while it's hovering a label handle or dragging the label (affordance)Penikov09/16/21, 01:31:53 PM"**Describe the bug**
The cursor doesn't change appearance while it's hovering a label handle or dragging the label (affordance)

**To Reproduce**
Steps to reproduce the behaviour:
1. Add a label track
2. Add some selection labels
3. Hover or drag the label handle

**Expected behavior**
![изображение](https://user-images.githubusercontent.com/25851359/131110255-5c234532-4856-4ae9-b968-f62a87f74f2b.png)

**Screenshots**

https://user-images.githubusercontent.com/25851359/131110378-ec8d4b5a-8541-4917-abf6-2a210be8e01e.mp4



**Additional information (please complete the following information):**
 - OS: Windows 10
 - Version Audacity 3.0.4
 
""There is a task for this already
https://github.com/audacity/audacity/issues/1444 =||= Please test after #1444 is done @Penikov  =||= Fixed =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1545Release notes state :Audacity does not currently compile on SuSE Linux.Dave Platerplater08/27/21, 01:37:26 PM"The Release Notes for 3.0.4 state that ""Audacity does not currently compile on SuSE Linux."" but this isn't true. I maintain audacity for openSUSE and it compiles on:
Tumbleweed           x86_64     succeeded*
SLE-15-SP3           x86_64     succeeded
SLE-15-SP3           aarch64    succeeded
Leap_15.2            x86_64     succeeded
Leap_15.3                 x86_64     succeeded""Oh god we've just been copying that line over since 2.2.0: https://wiki.audacityteam.org/wiki/Release_Notes_2.2.0#Linux 

I'll take your word for it that it does! =||= Changed it to ""Other Linux distributions should work, but aren't tested by the Audacity team."" for this release. 

(Note to self: For 3.1, we should really be explaining the compile vs AppImage vs Package manager differences). =||= Thanks, I just submitted a working v3.0.4 to Tumbleweed =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1565Update license for my Nyquist plug-insSteve DaultonSteveDaulton08/30/21, 08:44:20 PM"Resolves: License ambiguity with https://github.com/audacity/audacity

Updates license message to be compatible with latest https://spdx.org/licenses

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [ x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x ] I made sure the code compiles on my machine
- [x ] I made sure there are no unnecessary changes in the code
- [x ] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x ] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNUpdate license for my Nyquist plug-insSteve DaultonSteveDaulton08/30/21, 08:44:20 PM"Resolves: License ambiguity with https://github.com/audacity/audacity

Updates license message to be compatible with latest https://spdx.org/licenses

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [ x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x ] I made sure the code compiles on my machine
- [x ] I made sure there are no unnecessary changes in the code
- [x ] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x ] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNSteveDaulton08/30/21, 12:21:24 PMUpdate license for my Nyquist plug-ins1
1571The project file is being corrupt if it's opened while Audacity is running.Penikov09/24/21, 05:43:19 PM"**Describe the bug**
The project file is being corrupt if it's opened while Audacity is running.

**To Reproduce**
Steps to reproduce the behaviour:
1. Run Audacity
2. Open some project
3. Press Cmd + O and open another project


**Actual behaviour**
Audacity corrupts the second project

**Expected behaviour**
Another project is opened successfully

**Screenshots**
https://www.srut.de/audacity/audacity-3040-problem--opening-a-file-via-keyboard-shortcut-corrupts-file-irreversibly.mov

**Additional information (please complete the following information):**
 - OS:  Mac OS Big Sur
 - Version Audacity 3.0.4""This issue has been reported by at least four(4) different users on the forum on the following two threads:
""aup-3 files are empty when they are opened"":  https://forum.audacityteam.org/viewtopic.php?f=47&t=119330&sid=18e2f302da2d3b1fd5bad5a0c59c4542
and ""Opening a file via keyboard shortcut corrupts project file irreversibly"": https://forum.audacityteam.org/viewtopic.php?f=47&t=119956
The four reporting users are: Baum123, Carpezaldo, lilouch, and mathpoli. =||= I cannot reproduce this on W10 with 3.1.0 alpha audacity-win-3.1.0-alpha-20210831+6d3dd0c-64bit

Both projects open fine - no corruption that I can detect =||= Hi, may I point you to what I have found out and posted on the Audacity forum?
https://forum.audacityteam.org/viewtopic.php?f=47&t=119956&start=20
 =||= SUMMARY:
So far I have tested on these iMacs and had on all the bug:

– 1x iMac (Retina 5K, 27 Inch, Late 2015), Intel Core i5, with macOS 10.15.7 (internal Fusion Drive): Audacity v3.0.4.0, Audacity v3.0.3.0, Audacity v3.0.2.0
same iMac with macOS Big Sur (external USB drive): Audacity v3.0.4.0
same iMac with macOS 10.14.6 (external USB drive): Audacity v3.0.4.0

– 2x iMac (Retina 5K, 27 Inch, Late 2015), Intel Core i7, with macOS 10.15.7 (internal SSD, first partition), Audacity v3.0.4.0
same 2 iMacs with macOS 10.13.6 (internal SSD, second partition): Audacity v3.0.4.0

– 1x iMac (21.5 Inch, Late 2009), Intel Core2Duo, with macOS 10.11.6 (internal HD): Audacity v3.0.4.0

– 1x Mac Mini (Late 2012), Intel Core i7 with 10.15.7 (external SSD (via USB) as substitute for damaged internal HD): Audacity v3.0.4.0

Audacity v3.0.0.0 runs on all the above Macs without the bug.

Five different Macs, five different OS.  =||= Has this been reported only by Mac users? The above mentioned 4 users (Baum123, Carpezaldo, lilouch, and mathpoli) all have Macs. =||= Yes. This appears to be a MAC only problem. =||= Downloaded and installed v3.0.4.0 from audacity.
I cannot reproduce this on the following macos systems:

macos 10.13.6 i5 macbook pro early 2015 RAM 8GB SSD 70 GB unused
macos 11.5.2 m1 mac mini RAM 8GB SSD 120 GB unused

Created 2 aup3 projects with 3 clips in each.  Each test project was 261MB and 158.8MB Opened using both keyboard and menu mouse clicks.  Audacity created a 0 byte .wal file for each project which then disappeared once Audacity was closed.

Contents in either project did not disappear; changes when saved persisted.  Quitting without any change in the project 
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1579Bad link to FFmpeg on the Plug-ins page on the Audacity WebsitePeter Sampsonpetersampsonaudacity08/31/21, 08:50:13 AM"**Describe the bug**
A Forum user has reported a bad link to FFmpeg on the Plug-ins page on the Audacity Website:
https://forum.audacityteam.org/viewtopic.php?f=20&t=120063

**To Reproduce**
Steps to reproduce the behavior:
1. Go to https://www.audacityteam.org/download/plug-ins/
2. Scroll to the bottom of the page
3. Click on ""FFmpegFAQ"" link
4. Observe bad link: https://manual.audacityteam.org/man/#ffdown

**Expected behavior**
""FFmpegFAQ"" should link to:
https://manual.audacityteam.org/man/faq_installation_and_plug_ins.html#ffdown

**Screenshots**
![image](https://user-images.githubusercontent.com/50205984/131467590-7c6a018d-0337-47f0-80b2-5f506aa32051.png)


**Additional information (please complete the following information):**
 - OS: all OS
 - Version [Audacirt version not applicable
 - (if relevant) Sound Device [e.g. Windows WASAPI, USB Sound card]

**Additional context**
This should be fixed ASAP"fixed =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1580Preliminary AudioIO cleanupPaul LicameliPaul-Licameli09/06/21, 02:33:12 PMNaNNaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1581Disentangle MIDI play steps from AudioIOPaul LicameliPaul-Licameli09/23/21, 03:09:38 AMNaNNaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1582Generalize play head position updatesPaul LicameliPaul-Licameli09/23/21, 03:00:34 PMNaNNaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1583Issue #1358: Shortcut Instead Brings Up Keyboard Preferences Dialog...Paul LicameliPaul-Licameli08/31/21, 08:43:01 PM"This requires an update to this manual page -- remove the green box near the top: https://manual.audacityteam.org/man/keyboard_shortcut_reference.html

Happened at least on macOS because the easy change of key bindings was
mis-firing in other cases than picks on menu items.

So we just disable that little valued feature.

Disable the easy key rebinding feature

Resolves: #1358

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""@LWinterberg take note of the small implication for the manual.
 =||= Removed references to this feature from the following pages: 

- [x]  https://alphamanual.audacityteam.org/man/Keyboard_Preferences
- [x] https://alphamanual.audacityteam.org/man/Keyboard_Shortcut_Reference =||= Thank you, gentlemen.
 =||= "Issue #1358: Shortcut Instead Brings Up Keyboard Preferences Dialog...Paul LicameliPaul-Licameli08/31/21, 08:43:01 PM"This requires an update to this manual page -- remove the green box near the top: https://manual.audacityteam.org/man/keyboard_shortcut_reference.html

Happened at least on macOS because the easy change of key bindings was
mis-firing in other cases than picks on menu items.

So we just disable that little valued feature.

Disable the easy key rebinding feature

Resolves: #1358

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli08/31/21, 02:52:26 PM"Issue #1358: Shortcut Instead Brings Up Keyboard Preferences Dialog...

... Happened at least on macOS because the easy change of key bindings was
mis-firing in other cases than picks on menu items.

So we just disable that little valued feature.

Disable the easy key rebinding feature"1
1586Extract lib projectPaul LicameliPaul-Licameli09/01/21, 10:51:21 AM"Resolves: #1153 

Platform neutral library defining the AudacityProject object and associated ProjectStatus (which just holds some strings)

There is also some fixing of some possible null pointer dereferences of the global active project -- which might be null on macOS.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNExtract lib projectPaul LicameliPaul-Licameli09/01/21, 10:51:21 AM"Resolves: #1153 

Platform neutral library defining the AudacityProject object and associated ProjectStatus (which just holds some strings)

There is also some fixing of some possible null pointer dereferences of the global active project -- which might be null on macOS.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli02/20/21, 02:56:14 PMNew library for Project1
1587Extract lib screen geometryPaul LicameliPaul-Licameli09/02/21, 06:47:24 PM"Resolves: #1152 

Depends on PR #1586

Extract a toolkit-neutral library for mapping of screen x coordinates to times, and y coordinates to amplitudes or frequencies

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNExtract lib screen geometryPaul LicameliPaul-Licameli09/02/21, 06:47:24 PM"Resolves: #1152 

Depends on PR #1586

Extract a toolkit-neutral library for mapping of screen x coordinates to times, and y coordinates to amplitudes or frequencies

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli03/17/21, 01:51:09 PMNew library for screen geometry1
1588Extract lib project ratePaul LicameliPaul-Licameli09/02/21, 06:50:49 PM"Resolves: #1143 
Depends on: #1587

A library holding the global preferences for project rate and sample format, and defining the per-project holding sample rate.  It depend on lib-audio-devices to decide the default rate.

When wave tracks are separated into a library, that will depend on this for construction of tracks, but will avoid dependency on all of AudioIO.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNExtract lib project ratePaul LicameliPaul-Licameli09/02/21, 06:50:49 PM"Resolves: #1143 
Depends on: #1587

A library holding the global preferences for project rate and sample format, and defining the per-project holding sample rate.  It depend on lib-audio-devices to decide the default rate.

When wave tracks are separated into a library, that will depend on this for construction of tracks, but will avoid dependency on all of AudioIO.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli03/02/21, 06:05:50 PMNew library for project rate1
1590"Journal certain dialogs such as ""do you want to save changes"""Paul LicameliPaul-Licameli09/02/21, 06:44:16 PM"Record a simple journal in which you generate noise, then exit.

There is a dialog box, ""Save changes to <untitled>?   Save project before closing?"" with Yes, No, Cancel choices that cause different behavior.

This is one example of native message boxes in the program, which the journalling system cannot yet record and replay, even though it can record and replay other modal dialogs."NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1594Some audio io refactoringPaul LicameliPaul-Licameli09/06/21, 02:33:12 PM"Resolves: #1580

Some refactoring tasks in AudioIO, before disentangling the MIDI playback parts

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNSome audio io refactoringPaul LicameliPaul-Licameli09/06/21, 02:33:12 PM"Resolves: #1580

Some refactoring tasks in AudioIO, before disentangling the MIDI playback parts

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli12/16/20, 05:28:20 PMFurther refactoring and renaming in AudioIO1
1595Equalization, Change effects and some other effects ignore and remove any amplitude envelopePeter Sampsonpetersampsonaudacity09/01/21, 07:53:46 AM"**Describe the bug**
Equalization and Change effects ignore and remove any amplitude envelope.

Using either of the two EQ effects or any of the three Change effects (Sped, Pitch or Tempo) ignore and corrupt an amplitude envelope.

Originally logged on Bugzilla as P3 1686
https://bugzilla.audacityteam.org/show_bug.cgi?id=1686

**To Reproduce**
Steps to reproduce the behavior:
1. Create a mono DTMF.
2. Use envelope tool to reduce it to 1/4 amplitude.
3. Select 5s to 15s.
4. Apply Equalization (or Filter Curve or Graphic EQ)
5. Observe:  The audio in that section is boosted back to full amplitude.

**Expected behavior**
The EQ should observe/honor the envelope amplitude

**Screenshots**
![image](https://user-images.githubusercontent.com/50205984/131620687-dc67734b-93f6-4747-af65-e3abe4e9a711.png)

**Additional information (please complete the following information):**
 - OS: all OS
 - Version Audacity 3.0.4/3.1.0

**Additional context**
A fix was made for this up to and including 3.0.3 - but the fix was reverted for 3.0.4

See: Revert Bug 1686 - Equalization effects ignore and remove any amplitu… CMake Build #2522

and:   Release 3.0.4 #1526 ""Upgrading this to P2 
a) this was previously fixed for eralier versions and is this technically now a regression on 3.0.3
b) Audacity should not be damaging users' audio data like this =||= a) Paulstretch is similarly afflicted.

b) Reverb mostly honors the envelope - but has an odd breach
![image](https://user-images.githubusercontent.com/50205984/131629202-2cc9595b-1752-480e-85f4-a27af9b07f2d.png)

c) Sliding Stretch is also affected


 =||= Because so many effects are afflicted by this I have raised this to P1 =||= The issue is duplicating this one https://github.com/audacity/audacity/issues/1500
 =||= @petersampsonaudacity call it regression, but the problem was not fixed properly and the change now reverted caused the explosion of envelope points for some users, with slow editing and extreme file sizes in GB.

whereas research of the bugzilla history shows the bug was tolerated for years as a low priority issue. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1602AudacityMessageBox button presses can now be replayed in journal...Paul LicameliPaul-Licameli09/02/21, 06:44:16 PM"... the dialog won't actually reappear but the same value will be returned to
the program.

These message boxes are special native ones that don't use the wxWidgets event
framework.  Therefore the system for journalling of mouse button presses does
not work with them.  Treat them specially.

A generalized facility added to namespace Journal in case this pattern needs to
be repeated for other actions.

Resolves: #1590
*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNAudacityMessageBox button presses can now be replayed in journal...Paul LicameliPaul-Licameli09/02/21, 06:44:16 PM"... the dialog won't actually reappear but the same value will be returned to
the program.

These message boxes are special native ones that don't use the wxWidgets event
framework.  Therefore the system for journalling of mouse button presses does
not work with them.  Treat them specially.

A generalized facility added to namespace Journal in case this pattern needs to
be repeated for other actions.

Resolves: #1590
*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNPaul Licameli09/01/21, 11:19:22 PM"AudacityMessageBox button presses can now be replayed in journal...

... the dialog won't actually reappear but the same value will be returned to
the program.

These message boxes are special native ones that don't use the wxWidgets event
framework.  Therefore the system for journalling of mouse button presses does
not work with them.  Treat them specially.

A generalized facility added to namespace Journal in case this pattern needs to
be repeated for other actions."1
1614Wave Clip renameVitaly Sverchinskyvsverchinsky09/15/21, 03:09:01 AM"Resolves: #1258 

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?""""This round of review is now COMPLETE!  The overall approach is sound, but I flagged many details that need attention.  None of these is difficult by itself.
 =||= "Wave Clip renameVitaly Sverchinskyvsverchinsky09/15/21, 03:09:01 AM"Resolves: #1258 

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] I made sure the code compiles on my machine
- [x] I made sure there are no unnecessary changes in the code
- [x] I made sure the title of the PR reflects the core meaning of the issue you are solving
- [x] I made sure the commit message(s) contain a description and answer the question ""Why do those changes fix that particular issue?"" or ""Why are those changes really necessary as improvements?"""NaNVitaly Sverchinsky09/13/21, 07:57:47 PMDirect text editing via TextEditHelper1
1616Label Track: Shift+DragVitaly Sverchinskyvsverchinsky09/06/21, 01:33:20 PM"Resolves: #1444 #1544 

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] The title of the pull request describes an issue it addresses
- [x] If changes are extensive, then there is a sequence of easily reviewable commits
- [x] Each commit's message describes its purpose and effects
- [x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [x] Each commit compiles and runs on my machine without known undesirable changes of behavior"" I just tested the label drag bars with @vsverchinsky's latest branch build: audacity-win-3.1.0-alpha-20210903+e91e7b8-64bit 

I confirm that the icon now properly changes to the drag hand when cursor is over the label's drag-bar:
a) open hand while hovering over 
b) closed drag-hand when clicking and dragging

Note that this is good, much better - but it now makes the old way of moving/resizing labels with the chevron and dot inconsistent as they still use the arrow icon. =||= Approved.  Please rebase and force-pushc.
 =||= "Label Track: Shift+DragVitaly Sverchinskyvsverchinsky09/06/21, 01:33:20 PM"Resolves: #1444 #1544 

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] The title of the pull request describes an issue it addresses
- [x] If changes are extensive, then there is a sequence of easily reviewable commits
- [x] Each commit's message describes its purpose and effects
- [x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [x] Each commit compiles and runs on my machine without known undesirable changes of behavior"NaNVitaly Sverchinsky09/03/21, 05:21:39 PM"Shift + drag
Moves all labels on the track"1
1617Filter Curve (and other frequency scales) cut off higher frequenciesJimmy SatterfieldFedoraGameDev09/05/21, 11:56:48 AM"**Describe the bug**
The graph that displays Hz frequencies sporadically changes the frequencies shown. Usually, the frequencies go all the way up to 20K, however I can only see up to about 7K now. This makes using Filter Curve EQ impossible to use in those frequencies. When I import a preset, you can see the handles going off screen at the edge and the EQ does affect those frequencies properly, however there's no way to change the handle positions.

**To Reproduce**
Steps to reproduce the behavior:
1. Load in audio and select a range
2. Launch Filter Curve EQ Effect

**Expected behavior**
Graph should show the full spectrum by default. Alternatively, if we had handles added that let us zoom back out, this would be much better all around.

**Screenshots**
![image](https://user-images.githubusercontent.com/44219789/132057663-6528f728-7975-4f3c-b8df-966880e30df0.png)


**Additional information**
 - OS: Windows 10
 - Version: Audacity 3.0.4

**Additional context**
Every once in a while the graph will appear correct, however I have not been able to show it consistently.""I cannot reproduce this when testing on W10 with 3.0.4 and alpha 3.1.0

I consistently get the full frequency spectrum up to 20kHz

![image](https://user-images.githubusercontent.com/50205984/132086336-d8605619-5197-471d-9d09-f2226e5e35fb.png)
 =||= Check the track sample rate (in the box on the left end of the track (See: https://manual.audacityteam.org/man/audio_tracks.html)

My guess is that the track sample  rate is 16000 Hz.
The highest possible audio frequency in a track is half the sample rate. If the track sample rate is 16000Hz as I suspect, then the track has an upper frequency limit of 8000 Hz, thus the the Filter Curve Eq range automatically adjust to 0 to 8000 Hz.

(If you're interested, the technical explanation is described here: https://en.wikipedia.org/wiki/Nyquist_frequency) =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1618Insert Chinese Label, Audacity broken!Witbaconkewtgh09/09/21, 09:57:19 AM"**Describe the bug**
A clear and concise description of what the bug is.

**When I inserted a label and switch to Chinese input method, the program stuck. 
Whatever I did, It doesn't respond.
It happened since version 3.03 and 2.* is OK. 
I use google pinyin as my Chinese input method.**

**To Reproduce**
Steps to reproduce the behavior:
1. Open an Audacity record.
2. Click on 'Edit'
3. Then click on 'Labels'
4. Then click on 'Add label at selection'
5. I can only insert English. Then CTRL+SHIFT to switch the input method.
6. See error, it stuck.

**Additional information (please complete the following information):**
 - OS: [Windows 10]
 - Version [Audacity 3.0.4]
 - Input APP [Google Pinyin 2.7]

**Additional context**
Add any other context about the problem here.""Google Pinyin appears to be a dead program; [Google no longer offers it for download](http://tools.google.com/pinyin/). 

Using Microsoft Pinyin (which you can install via the Windows settings/language packs), I cannot get Audacity to hang. However, I also can't get any Chinese character recommendations/inserts to appear. 

Also, you say this happened with 3.0.3 - that happens to be the first version with 64-bit support. Maybe Google Pinyin doesn't play nice with 64 bit? You may want to try the 32-bit version of Audacity and see if that works. =||= A work around would be to make use of the option to enter the name of the label in a dialog box.
In Preferences, on the Track behaviors page, check the ""Use dialog for the name of a new label"" check box. =||= Thanks for replying. @LWinterberg @DavidBailes 


@LWinterberg 
I tested with Microsoft Pinyin. The problem still happened. 
When I inserted the label it stuck. When I use the keyboard shortcut ""CTRL+B"", it stuck, too.

I can't insert anything. After screenshot, Audacity would be OK.
I can only edit and paste Chinese words but can't input.

@DavidBailes 
I am using Microsoft Pinyin input method and disable Google Pinyin.

When I open Preferences, other options are OK.
But when I click any option of Tracks Behaviors，it stuck, too.
And after screenshot it would be OK.

PS: I tried another solution: fully uninstall and reinstall the version 3.04. Problem happened again.

![2](https://user-images.githubusercontent.com/55637096/132354653-ebdd9f79-9896-4432-97c8-ba09f2735e83.png)
![5](https://user-images.githubusercontent.com/55637096/132354663-c813a156-74f0-4346-b6b1-07310035bb86.png)
![6](https://user-images.githubusercontent.com/55637096/132354671-d70779fd-f7c1-4780-8c13-a827d7c7fcf0.png)
 =||= I cannot reproduce getting stuck when switching input language, or when directly inputting the language. 

And as David pointed out, when using the text boxes to input (or the Edit > Labels > Edit Labels... box), I can input things:
![image](https://user-images.githubusercontent.com/87814144/132485638-fb1719d4-a5a3-48a3-987c-1cb71ed0c2d2.png)
 =||= @LWinterberg 

Thanks a lot for your help.

I solve the problem by @DavidBailes's method.

But the first step is changing the language of Audacity to simple Chinese. Then _in Preferences, on the Track behaviors page, check the ""Use dialog for the name of a new label"" check box._

When I insert Chinese words it worked and hasn't stuck again.

However, it stuck when I click any option of Tracks Behaviors in English language.

Thanks again for your help @LWinterberg. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1619start behind?Andrew2Andrew409/21/21, 07:47:49 AM"The new downloadable image for linux tells after starting how in instruction given:

sh audacity-linux-3.0.4-x86_64.AppImage
audacity-linux-3.0.4-x86_64.AppImage: 1: audacity-linux-3.0.4-x86_64.AppImage: Syntax error: ""("" unexpected

also with double-click is there nothing to get

""i beg your pardon - image found at
https://www.audacityteam.org/download/ =||= did you mark the image as executable? `chmod +x`  =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1623Ffmpeg updateDmitry Vedenkocrsib09/24/21, 06:03:23 PM"Resolves #398
Resolves #1034 
Resolves #1170 
Resolves #1201
Resolves #1331 
Resolves #1433
Resolves #1466

Supporting multiple FFmpeg versions is tricky, yet important for Audacity, as we could not distribute the correct FFmpeg version with the program itself. This leads to a problem, where updating FFmpeg can be problematic. This is especially true, as a new major version is soon to be released.

The main problem with FFmpeg is that it exposes several structures and expects library users to fill them up during the configuration. These structures can change between major version bumps, while the API is mostly stable. This is unlike other C libraries, where structure fields are accessed using the library-provided functions.

This PR:

* Allows generating a single header file for a specific FFmpeg version. Surprisingly it had required a large subset of C preprocessors to be implemented.
* Provides wrappers around used FFmpeg structures. The wrappers are used as RAII objects where applicable. The wrappers are implemented in `inl` files which are later included in C++ files after the correct FFmpeg header. I.e. currently each wrapper is compiled twice. Wrappers rarely have FFmpeg version-dependent code. 
* Fixes few incompatibilities between FFmpeg versions.
* Sample format conversions from FFmpeg are templatazied, all formats are now supported. The reverse process was not modified

I have tried to keep changes in ImportFFmpeg and ExportFFmpeg small and trivial. In the future, we may want to reimplement them as well.

Currently, avformat-55 and avformat-58 are supported. I don't see much reason to support 56 and 57. When 59 will be released (and current dev branches are 59) it will be added to the list, this should be a trivial task.

Builds were tested against:

* 2.2.2, 4.3.1, and 4.4. Surprisingly, 4.4 support was different (and the most difficult!) from 4.3.1 while the major version stayed the same. FFmpeg 4.4 was downloaded from the ""official page"".
* The system library on Manjaro (4.2.2)

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] The title of the pull request describes an issue it addresses
- [ ] If changes are extensive, then there is a sequence of easily reviewable commits
- [x] Each commit's message describes its purpose and effects
- [x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [ ] Each commit compiles and runs on my machine without known undesirable changes of behavior""One more push of commits, and some in-line comments and questions, and this completes my review!

Act on my suggestions as you wish, force push once more, and I will make one quick check of what you did and likely approve this and move on!
 =||= I missed the infinite loops with GetNextCodec() and GetNextOutputFormat()!  I see how you corrected them.  Was it testing that discovered it?
 =||= I re-approve the latest force-push!

Only small suggestions:

ExportFFmpeg::InitCodecs should be a private member function, to prove the safety of the new pointer dereference in it just from examining the class in isolation.

The copy and move assignments of AVDictionary now have assertions at the top -- which ought to be stated, at least informally, in the header files of the class as preconditions.

And that's all!

 =||= 🥳 🎉 ⚡ 🔥 🚀 🍻  =||= "Ffmpeg updateDmitry Vedenkocrsib09/24/21, 06:03:23 PM"Resolves #398
Resolves #1034 
Resolves #1170 
Resolves #1201
Resolves #1331 
Resolves #1433
Resolves #1466

Supporting multiple FFmpeg versions is tricky, yet important for Audacity, as we could not distribute the correct FFmpeg version with the program itself. This leads to a problem, where updating FFmpeg can be problematic. This is especially true, as a new major version is soon to be released.

The main problem with FFmpeg is that it exposes several structures and expects library users to fill them up during the configuration. These structures can change between major version bumps, while the API is mostly stable. This is unlike other C libraries, where structure fields are accessed using the library-provided functions.

This PR:

* Allows generating a single header file for a specific FFmpeg version. Surprisingly it had required a large subset of C preprocessors to be implemented.
* Provides wrappers around used FFmpeg structures. The wrappers are used as RAII objects where applicable. The wrappers are implemented in `inl` files which are later included in C++ files after the correct FFmpeg header. I.e. currently each wrapper is compiled twice. Wrappers rarely have FFmpeg version-dependent code. 
* Fixes few incompatibilities between FFmpeg versions.
* Sample format conversions from FFmpeg are templatazied, all formats are now supported. The reverse process was not modified

I have tried to keep changes in ImportFFmpeg and ExportFFmpeg small and trivial. In the future, we may want to reimplement them as well.

Currently, avformat-55 and avformat-58 are supported. I don't see much reason to support 56 and 57. When 59 will be released (and current dev branches are 59) it will be added to the list, this should be a trivial task.

Builds were tested against:

* 2.2.2, 4.3.1, and 4.4. Surprisingly, 4.4 support was different (and the most difficult!) from 4.3.1 while the major version stayed the same. FFmpeg 4.4 was downloaded from the ""official page"".
* The system library on Manjaro (4.2.2)

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] The title of the pull request describes an issue it addresses
- [ ] If changes are extensive, then there is a sequence of easily reviewable commits
- [x] Each commit's message describes its purpose and effects
- [x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [ ] Each commit compiles and runs on my machine without known undesirable changes of behavior"NaNDmitry Vedenko09/03/21, 11:47:15 PMRemove ondemand and blockfile1
1628VSTEffect samplePos should be a value in number of samples, not in secondsNiko-Sound09/08/21, 10:59:40 AM"**Describe the bug**
VSTEffect mTimeInfo.samplePos should be a value in number of samples, not in seconds

In the file ""aeffectx.h"" from the Steinberg vst 2.4 SDK, it is written:
```

struct VstTimeInfo
{
	double samplePos;				///< current Position in audio samples (always valid)
```

In the file VSTEffect.cpp, the value is computed in seconds:
```

mTimeInfo.samplePos += ((double) blockLen / mTimeInfo.sampleRate);

```
It should be:
```

mTimeInfo.samplePos += blockLen;

```

**To Reproduce**
Steps to reproduce the behavior:
1. Inside a VST plugin, get the time info  with a callback using ""audioMasterGetTime""
2. Get the samplePos from the time info

**Expected behavior**
The samplePos should be in samples, not in seconds

**Additional information (please complete the following information):**
 - OS: Ubuntu 20.10
 - Version Audacity 3.0.4""This line has been there since forever (since we no longer use svn anyway), and we're not aware of VST2 problems arising from this, so I'm marking this P4. 

(If you want to make a PR that fixes this, feel free to!) =||= Pull request done! *(https://github.com/audacity/audacity/pull/1636)*

Some additional information: the VST plugin used for testing is a kind of scrolling spectrogram viewer, with a scrolling time axis at the bottom. It has been tested on a certain number of DAWs, getting the sample pos from the DAW in order to synchronize the time axis. For all these other tests, the sample pos unit is in number of samples.  =||= Cool, cool! I'll try to get someone who actually knows C++ to review this. 

While you're at it, are you aware of other bugs/spec violations of our VST2 implementation that we maybe haven't discovered yet? I'm asking because we're planning to add proper real-time effects support for 3.1 (see also #992) =||= No!  3.2 is the target for that. =||= Thank you :)

No, no particular problem detected after having tested with more than 20 VST plugins (with some of them having GUI resize features). I find that your VST support is great! And your plan to make real-time stackable effects looks awesome!

Just an idea, if it is not already there, it could be interesting to feed the plugins with silence when not playing. In order to manage the kind of plugins that capture some sound, edit it and play it, but all this inside the plugin, then finally render the edited result to the host.
 =||= Reviewed, approved, merged.

It was just one line.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1630Not move clip on insertion by defaultVitaly Sverchinskyvsverchinsky09/08/21, 10:54:28 PM"Changing ""Editing a clip can move other clips"" option default value to false

Resolves: #1333

Changing ""Editing a clip can move other clips"" option default value to false

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] The title of the pull request describes an issue it addresses
- [x] If changes are extensive, then there is a sequence of easily reviewable commits
- [x] Each commit's message describes its purpose and effects
- [x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [x] Each commit compiles and runs on my machine without known undesirable changes of behavior"NaNNot move clip on insertion by defaultVitaly Sverchinskyvsverchinsky09/08/21, 10:54:28 PM"Changing ""Editing a clip can move other clips"" option default value to false

Resolves: #1333

Changing ""Editing a clip can move other clips"" option default value to false

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] The title of the pull request describes an issue it addresses
- [x] If changes are extensive, then there is a sequence of easily reviewable commits
- [x] Each commit's message describes its purpose and effects
- [x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [x] Each commit compiles and runs on my machine without known undesirable changes of behavior"NaNVitaly Sverchinsky09/07/21, 11:14:26 AM"Changing ""Editing a clip can move other clips"" option default value to false"1
1631Journal fails to record Return key to invoke default button, on macOSPaul LicameliPaul-Licameli09/09/21, 10:36:08 AM"Start Audacity with journalling enabled.

Open, for instance, Generate > Noise.

Hit Return to invoke the default button.

On macOS, observe the error message that journal recording fails.

Expected: it should succeed and work just like clicking the button with the mouse, which can be recorded and replayed.
"NaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1635Update BUILDING.mdthynus09/09/21, 03:03:28 PM"error:
CMake Error: Could not create named generator XCode

correction:
cmake -GXcode -T buildsystem=1 -Daudacity_use_mad=""off"" -Daudacity_use_id3tag=off ../audacity

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [ ] I signed [CLA](https://www.audacityteam.org/cla/)
- [x ] The title of the pull request describes an issue it addresses
- [ ] If changes are extensive, then there is a sequence of easily reviewable commits
- [ ] Each commit's message describes its purpose and effects
- [ ] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [ x] Each commit compiles and runs on my machine without known undesirable changes of behavior""Thank you for pointing this out.

I am closing this and instead I opened #1652 which makes other needed changes to BUILDING.md.  It should also say you need a C++17 compiler, not 14.
 =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1636Fix VST time info samplePos unitsNiko-Sound09/08/21, 10:59:40 AM"Resolves: *(https://github.com/audacity/audacity/issues/1628)*

*VST time info samplePos should be a value in number of samples, not in seconds*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] The title of the pull request describes an issue it addresses
- [x] If changes are extensive, then there is a sequence of easily reviewable commits
- [x] Each commit's message describes its purpose and effects
- [x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [x] Each commit compiles and runs on my machine without known undesirable changes of behavior"NaNFix VST time info samplePos unitsNiko-Sound09/08/21, 10:59:40 AM"Resolves: *(https://github.com/audacity/audacity/issues/1628)*

*VST time info samplePos should be a value in number of samples, not in seconds*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] The title of the pull request describes an issue it addresses
- [x] If changes are extensive, then there is a sequence of easily reviewable commits
- [x] Each commit's message describes its purpose and effects
- [x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [x] Each commit compiles and runs on my machine without known undesirable changes of behavior"NaNNiko Sound09/07/21, 07:37:27 PMFix VST time info samplePos units1
1637Disentangle midi play from audio ioPaul LicameliPaul-Licameli09/23/21, 03:09:38 AM"Resolves: #1581

Next refactoring steps for AudioIO.

All of the logic specific to MIDI playback is removed from AudioIO.cpp, and invoked instead through an abstract base class AudioIOExt.  A new, separate file MIDIPlay.cpp registers its extension policy with AudioIO.

These steps shrink the big file AudioIO.cpp from 4797 to 3596 lines, and are also preparations for putting Note track into its own optional extension module.

The unnecessary separate thread for MIDI playback is removed for simplicity, and some callbacks happen directly in the Portaudio thread.  That means some memory allocations may happen on that thread, when MIDI plays!  (See PrepareMidiIterator().) But future refactorings will correct that.

The dependency of lib-audio-devices on portmidi is severed.

A few other changes remove some dependencies on NoteTrack, and use Settings objects from Prefs.cpp to eliminate some duplicated literals and direct use of gPrefs in MIDIPlay.cpp.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] The title of the pull request describes an issue it addresses
- [x] If changes are extensive, then there is a sequence of easily reviewable commits
- [x] Each commit's message describes its purpose and effects
- [x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [x] Each commit compiles and runs on my machine without known undesirable changes of behavior""Now rebased, with build fixes, and also removing use of deprecated std::iterator.
 =||= "Disentangle midi play from audio ioPaul LicameliPaul-Licameli09/23/21, 03:09:38 AM"Resolves: #1581

Next refactoring steps for AudioIO.

All of the logic specific to MIDI playback is removed from AudioIO.cpp, and invoked instead through an abstract base class AudioIOExt.  A new, separate file MIDIPlay.cpp registers its extension policy with AudioIO.

These steps shrink the big file AudioIO.cpp from 4797 to 3596 lines, and are also preparations for putting Note track into its own optional extension module.

The unnecessary separate thread for MIDI playback is removed for simplicity, and some callbacks happen directly in the Portaudio thread.  That means some memory allocations may happen on that thread, when MIDI plays!  (See PrepareMidiIterator().) But future refactorings will correct that.

The dependency of lib-audio-devices on portmidi is severed.

A few other changes remove some dependencies on NoteTrack, and use Settings objects from Prefs.cpp to eliminate some duplicated literals and direct use of gPrefs in MIDIPlay.cpp.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] The title of the pull request describes an issue it addresses
- [x] If changes are extensive, then there is a sequence of easily reviewable commits
- [x] Each commit's message describes its purpose and effects
- [x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [x] Each commit compiles and runs on my machine without known undesirable changes of behavior"NaNPaul Licameli03/20/21, 02:40:16 AMSome Settings objects for Midi, eliminate duplicate constant1
1638Generalize play head position updatesPaul LicameliPaul-Licameli09/23/21, 03:00:34 PM"Resolves: #1582

The play head position is drawn on screen by the main thread, which is told the track time corresponding to the last played samples by the PortAudio thread.

That thread, in turn, sometimes got this value from information in a queue from the third, worker thread (which reads from the tracks in larger batches of samples), as when scrubbing; but other times, did its own calculations taking into account whether pay is straight or looping (assuming fixed loop bounds!), and whether it uses a time track as well.

This pull request changes that, so that the PortAudio thread never calculates, but always takes the value from the queue.

This is a preparation so that the producer of that queue can vary the correspondence of samples in transit with points on the time ruler in yet other ways.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] The title of the pull request describes an issue it addresses
- [x] If changes are extensive, then there is a sequence of easily reviewable commits
- [x] Each commit's message describes its purpose and effects
- [x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [x] Each commit compiles and runs on my machine without known undesirable changes of behavior"NaNGeneralize play head position updatesPaul LicameliPaul-Licameli09/23/21, 03:00:34 PM"Resolves: #1582

The play head position is drawn on screen by the main thread, which is told the track time corresponding to the last played samples by the PortAudio thread.

That thread, in turn, sometimes got this value from information in a queue from the third, worker thread (which reads from the tracks in larger batches of samples), as when scrubbing; but other times, did its own calculations taking into account whether pay is straight or looping (assuming fixed loop bounds!), and whether it uses a time track as well.

This pull request changes that, so that the PortAudio thread never calculates, but always takes the value from the queue.

This is a preparation so that the producer of that queue can vary the correspondence of samples in transit with points on the time ruler in yet other ways.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] The title of the pull request describes an issue it addresses
- [x] If changes are extensive, then there is a sequence of easily reviewable commits
- [x] Each commit's message describes its purpose and effects
- [x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [x] Each commit compiles and runs on my machine without known undesirable changes of behavior"NaNPaul Licameli08/14/18, 02:18:56 PM"Use the TimeQueue to communicate all play head position updates...

 ... Scrub is no longer a special case.

The PortAudio callback thread only consumes the values without calculating
them.  The AudioThread calculates all now, and will have freedom to
calculate differently.

Because of the time queue granularity, this requires AudioIO::FillBuffers to
produce a little bit of extra silence, when not looping or scrubbing, so that
the consumer thread will detect its termination condition."1
1639Fix journal of return key invoking default dialog button on Mac...Paul LicameliPaul-Licameli09/09/21, 10:36:08 AM"... and some other cases.

Wherever Audacity simulates button press events, set the event object to be the
button, so that WindowEventSerialization() in JournalEvents.cpp can determine
a pathname for the window associated with the event.

The change in KeyboardCapture is enough for the default buttons of dialogs. The
other changes are necessary but not sufficient for fixing journalling of some of
Audacity's custom widgets, on any operating system.

Resolves: #1631

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] The title of the pull request describes an issue it addresses
- [x] If changes are extensive, then there is a sequence of easily reviewable commits
- [x] Each commit's message describes its purpose and effects
- [x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [x] Each commit compiles and runs on my machine without known undesirable changes of behavior"NaNFix journal of return key invoking default dialog button on Mac...Paul LicameliPaul-Licameli09/09/21, 10:36:08 AM"... and some other cases.

Wherever Audacity simulates button press events, set the event object to be the
button, so that WindowEventSerialization() in JournalEvents.cpp can determine
a pathname for the window associated with the event.

The change in KeyboardCapture is enough for the default buttons of dialogs. The
other changes are necessary but not sufficient for fixing journalling of some of
Audacity's custom widgets, on any operating system.

Resolves: #1631

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] The title of the pull request describes an issue it addresses
- [x] If changes are extensive, then there is a sequence of easily reviewable commits
- [x] Each commit's message describes its purpose and effects
- [x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [x] Each commit compiles and runs on my machine without known undesirable changes of behavior"NaNPaul Licameli09/08/21, 05:32:07 AM"Fix journal of return key invoking default dialog button on Mac...

... and some other cases.

Wherever Audacity simulates button press events, set the event object to be the
button, so that WindowEventSerialization() in JournalEvents.cpp can determine
a pathname for the window associated with the event.

The change in KeyboardCapture is enough for the default buttons of dialogs. The
other changes are necessary but not sufficient for fixing journalling of some of
Audacity's custom widgets, on any operating system."1
1641Playback loppingAnton S. Gerasimovgera-gas09/09/21, 12:15:10 PM"Design of this feature [here](https://www.figma.com/file/odPgVM0lWc6MdsJWxpgPJl/Audacity?node-id=1657%3A2905)

Some clarifications after the design review:
 * the ""quick play"" functionality will be replaced on ""playback looping"".
 * possible simplifications (like in current ""quick play"" mode) for looping during playback.

**Implementation stages:**
 1. Create and add icon resources.
    1.1. [Methodics](https://wiki.audacityteam.org/wiki/Theming_HowTo)
    1.2. Estimation: 4,6 hrs

 2. Add playback looping button.
     2.1. Methodics: in `ControlToolBar.cpp` file need add looping button by `ControlToolBar::MakeButton` and use `mPause` button like as example for handlers implementation.
    2.2. Estimation: 3,5 hrs

3. Add looping range GUI for Timeline bar.
   3.1. Methodics: Use `QuickPlayIndicatorOverlay` and `QuickPlayRulerOverlay` in `AdornedRulerPanel.cpp` like an example.
   3.2. Estimation: 14,18 hrs

4. Add mouse event handler for looping range GUI.
   4.1. Methodics: Using ""quick play"" events handlers (`AdornedRulerPanel::QPHandle::Click (const TrackPanelMouseEvent &event, AudacityProject *pProject)`, etc) with looping by Shift key for add playback looping support.
   4.2. Estimation: 12,15 hrs

5. Remove ""quick play"" preferences like a checkboxes.
    5.1. Note: do it after full ""playback looping"" support and tests.
    5.2 Estimation: 1.2 hrs

__Final estimation__: 34, 46 hrs"closed as a duplicate =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1644Clip names should be editable by macro programmingPaul LicameliPaul-Licameli09/15/21, 09:13:07 PM"Making this new user-modifiable attribute of a project changeable with macros is needed to complete the clip naming project, consistently with other such things in Audacity such as changes of track name.

The existing SetClipCommand class could be adapted to have one more parameter for this purpose.

See #1258

The command is also accessible in menus under Extra > Scriptables I

@LWinterberg See this manual page needing update https://manual.audacityteam.org/man/extra_menu_scriptables_i.html#set_clip""- [x] Updated image
- [x] Updated relevant section in the manual =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1650Context menu for picks in wave tracks between clipsPaul LicameliPaul-Licameli09/16/21, 10:09:40 PM"These changes are very simple, after previous context menu work.

Right-click between clips brings up a small context menu with Paste and Mute/Unmute.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] The title of the pull request describes an issue it addresses
- [x] If changes are extensive, then there is a sequence of easily reviewable commits
- [x] Each commit's message describes its purpose and effects
- [x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [x] Each commit compiles and runs on my machine without known undesirable changes of behavior""@Paul-Licameli  - surely the context menu that you get in the gray space between clips should be the same as the one you get when you right-click on a clip.  

The commands are not acting on the current mouse position, but rather on the selection or cursor position - thus the full set of commands is surely appropriate in both use-cases. =||= Along the same lines as Peter's comment, it seems that the ""clip context menu"" actually functions as a ""track panel context menu"", but with ""hot zones"" where there are clips.

If I have multiple tracks with multiple clips in each, I would expect a ""**clip** context menu"" to  relate to the specific clip from which it was launched, just as a ""**track** context menus"" (track dropdown menu) relates to the track from which it was launched. That's not what happens - I can make a selection in any clip of any track, open the ""clip context menu"" from any clip in any track, and act on the selected clip.

What would  happen if ""Clip name"" were added to the clip context menu? Would that act on the clip which was right clicked, or on the clip(s) that are selected?

Surely the whole point of a ""context menu"" is the context from which it was launched. =||= > Along the same lines as Peter's comment, it seems that the ""clip context menu"" actually functions as a ""track panel context menu"", but with ""hot zones"" where there are clips.
> 
> If I have multiple tracks with multiple clips in each, I would expect a ""**clip** context menu"" to relate to the specific clip from which it was launched, just as a ""**track** context menus"" (track dropdown menu) relates to the track from which it was launched. That's not what happens - I can make a selection in any clip of any track, open the ""clip context menu"" from any clip in any track, and act on the selected clip.
> 
> What would happen if ""Clip name"" were added to the clip context menu? Would that act on the clip which was right clicked, or on the clip(s) that are selected?
> 
> Surely the whole point of a ""context menu"" is the context from which it was launched.

Yep, to all that.  The notion of selected or focused clip doesn’t really exist.  I think designers would like you to copy the clip as a unit, including the clip name.  It doesn’t work this way yet.

The design did ask for a renaming item in this clip context menu.  This does not exist yet because the UI for clip renaming, also reachable with left clicks in the name, is not past code review yet. =||= "Context menu for picks in wave tracks between clipsPaul LicameliPaul-Licameli09/16/21, 10:09:40 PM"These changes are very simple, after previous context menu work.

Right-click between clips brings up a small context menu with Paste and Mute/Unmute.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] The title of the pull request describes an issue it addresses
- [x] If changes are extensive, then there is a sequence of easily reviewable commits
- [x] Each commit's message describes its purpose and effects
- [x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [x] Each commit compiles and runs on my machine without known undesirable changes of behavior"NaNPaul Licameli09/09/21, 01:22:25 PMContext menu for picks in wave tracks between clips1
1652"BUILDING.md: C++17 not 14, and correct capitalization of ""XCode"""Paul LicameliPaul-Licameli09/10/21, 08:43:06 AM"Corrections only in building instructions for developers.  This does not affect the build.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] The title of the pull request describes an issue it addresses
- [x] If changes are extensive, then there is a sequence of easily reviewable commits
- [x] Each commit's message describes its purpose and effects
- [x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [x] Each commit compiles and runs on my machine without known undesirable changes of behavior"Thanks Paul! =||= "BUILDING.md: C++17 not 14, and correct capitalization of ""XCode"""Paul LicameliPaul-Licameli09/10/21, 08:43:06 AM"Corrections only in building instructions for developers.  This does not affect the build.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] The title of the pull request describes an issue it addresses
- [x] If changes are extensive, then there is a sequence of easily reviewable commits
- [x] Each commit's message describes its purpose and effects
- [x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [x] Each commit compiles and runs on my machine without known undesirable changes of behavior"NaNPaul Licameli09/09/21, 02:52:57 PM"BUILDING.md: C++17 not 14, and correct capitalization of ""XCode"""1
1657The Journaling fails on recording playback buttonPenikov09/10/21, 12:49:36 PM"**Describe the bug**
When the user presses the playback button, the Journaling raises an error message

**To Reproduce**
Steps to reproduce the behaviour:

1. Import the track
2. Click the Playback button


**Expected behaviour**
The Journaling works fine
 OR it does not record interaction with the playback button and does not raise any error messages.

**Screenshots**
![изображение](https://user-images.githubusercontent.com/25851359/132849813-1a85a3d7-2a40-4300-9b41-3dad22a82fb0.png)


**Additional information (please complete the following information):**
Audacity 3.1.0-alpha-20210910
"This duplicates other issues I already opened. =||= Duplicated =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1660Clip renaming context menu itemPaul LicameliPaul-Licameli09/16/21, 10:09:11 PMNaNNaNNaNNaNNaNNaNNaNNaNNaNNaNNaN0
1667Issue 1642 Fix by rdbSteve DaultonSteveDaulton09/13/21, 10:15:49 AM"Fixes special case where the time warp function maps positive output times
to negative input times (negative input times are now handled by filling
with zeros).
Fixes improper handling of Nyquist's logical stop times and terminate times
which have to get mapped through the time warp function to the output.
Also the cmupv code was using long for sample count instead of int64_t.

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [ x] I signed [CLA](https://www.audacityteam.org/cla/)
- [ x] The title of the pull request describes an issue it addresses
- [ x] If changes are extensive, then there is a sequence of easily reviewable commits
- [ x] Each commit's message describes its purpose and effects
- [ x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [ x] Each commit compiles and runs on my machine without known undesirable changes of behavior""Closing this pull request due to Windows CI build error.
Will create a new pull request. =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1674Opt in for macOS dark mode supportJoakim Gyllströmmikaoj09/20/21, 02:47:06 PM"Resolves: https://github.com/audacity/audacity/issues/404

A bunch of UI components doesn't support dark mode on macOS. Like window frame, scrollbars, dropdowns, settings, etc.
This fixes it by opting in for dark mode support.
[NSRequiresAquaSystemAppearance](https://developer.apple.com/documentation/appkit/nsappearancecustomization/choosing_a_specific_appearance_for_your_macos_app) should be set to false to support dark mode when targeting macOS before 10.14. 

This is how Audacity looks today with dark mode enabled on macOS
<img width=""1792"" alt=""audacity_currently"" src=""https://user-images.githubusercontent.com/4034956/133247667-f76e530f-ecc0-4fcb-be6a-d3b6e1aa907f.png"">

And this is how it looks with this fix
<img width=""1792"" alt=""audacity_dark_mode"" src=""https://user-images.githubusercontent.com/4034956/133247743-d04cb1c3-faa5-4396-bd1e-b6771198e87d.png"">


<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] The title of the pull request describes an issue it addresses
- [x] If changes are extensive, then there is a sequence of easily reviewable commits
- [x] Each commit's message describes its purpose and effects
- [x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [x] Each commit compiles and runs on my machine without known undesirable changes of behavior""The same is true on Windows I know - (and on Linux, I believe).

I logged this bug back in July:
 Many parts of Dark theme Audacity are not really ""dark"" #1296  =||= I cannot believe that the fix for this was just this. Awesome find! =||= "Opt in for macOS dark mode supportJoakim Gyllströmmikaoj09/20/21, 02:47:06 PM"Resolves: https://github.com/audacity/audacity/issues/404

A bunch of UI components doesn't support dark mode on macOS. Like window frame, scrollbars, dropdowns, settings, etc.
This fixes it by opting in for dark mode support.
[NSRequiresAquaSystemAppearance](https://developer.apple.com/documentation/appkit/nsappearancecustomization/choosing_a_specific_appearance_for_your_macos_app) should be set to false to support dark mode when targeting macOS before 10.14. 

This is how Audacity looks today with dark mode enabled on macOS
<img width=""1792"" alt=""audacity_currently"" src=""https://user-images.githubusercontent.com/4034956/133247667-f76e530f-ecc0-4fcb-be6a-d3b6e1aa907f.png"">

And this is how it looks with this fix
<img width=""1792"" alt=""audacity_dark_mode"" src=""https://user-images.githubusercontent.com/4034956/133247743-d04cb1c3-faa5-4396-bd1e-b6771198e87d.png"">


<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] The title of the pull request describes an issue it addresses
- [x] If changes are extensive, then there is a sequence of easily reviewable commits
- [x] Each commit's message describes its purpose and effects
- [x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [x] Each commit compiles and runs on my machine without known undesirable changes of behavior"NaNJoakim Gyllström09/14/21, 11:10:44 AMOpt in for macOS dark mode support1
1675Restore missing localizations for Linux AppImagePeter Jonasshoogle09/16/21, 12:19:57 PM"Resolves: #1382


1. Ensure INSTALL_PREFIX is set correctly.
    - The CMake variable INSTALL_PREFIX is now correctly passed into the program.
2. Make Audacity portable.
    - Audacity now checks for resources at a location relative to the executable instead of a fixed location each time.""Works fine with appimage

![изображение](https://user-images.githubusercontent.com/25851359/133771596-7e8e2857-3471-4fbe-bd33-5a66579a5ad0.png)
 =||= "Restore missing localizations for Linux AppImagePeter Jonasshoogle09/16/21, 12:19:57 PM"Resolves: #1382


1. Ensure INSTALL_PREFIX is set correctly.
    - The CMake variable INSTALL_PREFIX is now correctly passed into the program.
2. Make Audacity portable.
    - Audacity now checks for resources at a location relative to the executable instead of a fixed location each time."NaNPeter Jonas09/15/21, 09:40:09 PM"Make Audacity portable on Linux

Audacity and its resources (e.g. modules, translations, etc.) are
installed to fixed locations defined during configuration by the
CMake variable INSTALL_PREFIX.

  Executable:     INSTALL_PREFIX/bin/audacity
  Resources:      INSTALL_PREFIX/share/*

Typical values:

  INSTALL_PREFIX: /usr/local
  Executable:     /usr/local/bin/audacity
  Resources:      /usr/local/share/*

Previously, at runtime Audacity would check for resources at the
location specified by INSTALL_PREFIX. This worked fine as long as the
resources were never moved from that location, which is usually true
for distribution packages and self-compiled builds. However, if the
resources were ever moved from where CMake installed them then Audacity
would be unable to find them at runtime.

This is a problem for the AppImage, which self-mounts at a different
temporary location every time it is run, meaning that the resources are
in a different place each time, and never at the place specified in
INSTALL_PREFIX.

Typical values for the AppImage:

  INSTALL_PREFIX: /home/runner/work/audacity/audacity/build/install
  Executable:     /tmp/.mount_audaciXXXXXX/usr/bin/audacity
  Resources:      /tmp/.mount_audaciXXXXXX/usr/share/*

  (Where 'XXXXXX' is a different alphanumeric sequence on each run.)

To solve this, a PORTABLE_PREFIX is constructed at runtime by dropping
the final two components of the path to the exectuable.

  Executable:      /some/directory/bin/audacity
  PORTABLE_PREFIX: /some/directory          (dropped '/bin/audacity')
  Resources:       /some/directory/share/*

This enables Audacity to find the resources even if they are moved, as
long as the executable and resources are moved together (i.e. their
location relative to each other stays the same), which is the case with
the AppImage.

As a fallback in case the executable and resources become separated
(i.e. their location relative to each other changes) Audacity will
revert back to using the fixed location specified by INSTALL_PREFIX.

Fix #1382."1
1677The SetClip command can set the clip namePaul LicameliPaul-Licameli09/15/21, 09:13:07 PM"Resolves: #1644 

The Set Clip macro command now can change a clip name too

The command is also accessible in menus under Extra > Scriptables I (You must first enable the Extra menus in the Interface preferences)

@LWinterberg See this manual page needing update https://manual.audacityteam.org/man/extra_menu_scriptables_i.html#set_clip

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] The title of the pull request describes an issue it addresses
- [x] If changes are extensive, then there is a sequence of easily reviewable commits
- [x] Each commit's message describes its purpose and effects
- [x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [x] Each commit compiles and runs on my machine without known undesirable changes of behavior"NaNThe SetClip command can set the clip namePaul LicameliPaul-Licameli09/15/21, 09:13:07 PM"Resolves: #1644 

The Set Clip macro command now can change a clip name too

The command is also accessible in menus under Extra > Scriptables I (You must first enable the Extra menus in the Interface preferences)

@LWinterberg See this manual page needing update https://manual.audacityteam.org/man/extra_menu_scriptables_i.html#set_clip

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] The title of the pull request describes an issue it addresses
- [x] If changes are extensive, then there is a sequence of easily reviewable commits
- [x] Each commit's message describes its purpose and effects
- [x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [x] Each commit compiles and runs on my machine without known undesirable changes of behavior"NaNPaul Licameli09/15/21, 03:03:26 AMThe SetClip command can set the clip name1
1678Clip renaming context menu itemPaul LicameliPaul-Licameli09/16/21, 10:09:11 PM"Resolves: #1660

This makes #998 and #1614 more complete

Add an item to the wave clip context menu for renaming.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] The title of the pull request describes an issue it addresses
- [x] If changes are extensive, then there is a sequence of easily reviewable commits
- [x] Each commit's message describes its purpose and effects
- [x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [x] Each commit compiles and runs on my machine without known undesirable changes of behavior""I have changed the function name and also check other channels.

I still do not understand why event notifications should be used here.  You used them so that changed of track selection state could be detected by TextEditHelper, and that was proper for avoidance of dependency cycles (TrackList should not depend on the code that reacts to the event).  I don't see a problem with cycles in this commit that needs this technique to break them.
 =||= The problem of pushing the undo history stack isn't solved, so I mark this as a draft until I do that.
 =||= I don't recall why I thought undo history was sometimes not pushed -- maybe I was confused.

But it can be unnecessarily pushed -- if you just hit Enter with no changes to the text.  I changed that case.  It should affect behavior of clicking on the name as well as the new context menu item.

Esc key works as you would expect, discarding any changes you may have made without hitting Enter.

 =||= "Clip renaming context menu itemPaul LicameliPaul-Licameli09/16/21, 10:09:11 PM"Resolves: #1660

This makes #998 and #1614 more complete

Add an item to the wave clip context menu for renaming.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] The title of the pull request describes an issue it addresses
- [x] If changes are extensive, then there is a sequence of easily reviewable commits
- [x] Each commit's message describes its purpose and effects
- [x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [x] Each commit compiles and runs on my machine without known undesirable changes of behavior"NaNPaul Licameli09/16/21, 06:09:41 PMAvoid empty undo items for clip name changes1
1684Update pl.poGrzegorz PruchniakowskiGootector09/20/21, 09:09:11 AM"Update pl.po
2 fixes.

Greetings,
Gootector

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] The title of the pull request describes an issue it addresses
- [x] If changes are extensive, then there is a sequence of easily reviewable commits
- [x] Each commit's message describes its purpose and effects
- [x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [x] Each commit compiles and runs on my machine without known undesirable changes of behavior"NaNUpdate pl.poGrzegorz PruchniakowskiGootector09/20/21, 09:09:11 AM"Update pl.po
2 fixes.

Greetings,
Gootector

Resolves: *(direct link to the issue)*

*(short description of the changes and the motivation to make the changes)*

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] The title of the pull request describes an issue it addresses
- [x] If changes are extensive, then there is a sequence of easily reviewable commits
- [x] Each commit's message describes its purpose and effects
- [x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [x] Each commit compiles and runs on my machine without known undesirable changes of behavior"NaNGrzegorz Pruchniakowski09/16/21, 08:22:28 PM"Update pl.po

Update pl.po
2 fixes.

Greetings,
Gootector"1
1688Fix include path for images/Cursors.hZhang Maiyunmyzhang102909/21/21, 10:53:37 AM"The include file in `src/tracks/playabletrack/wavetrack/ui/WaveTrackAffordanceControls.cpp` points to
`../../../../images/Cursors.h`, which is `src/images/Cursors.h`, but that file actually resides in `images/Cursors.h`.
Feel free to tell me I'm wrong.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/) (Do I need one since this is a trivial issue?)
- [x] The title of the pull request describes an issue it addresses
- [x] If changes are extensive, then there is a sequence of easily reviewable commits
- [x] Each commit's message describes its purpose and effects
- [x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [x] Each commit compiles and runs on my machine without known undesirable changes of behavior"NaNFix include path for images/Cursors.hZhang Maiyunmyzhang102909/21/21, 10:53:37 AM"The include file in `src/tracks/playabletrack/wavetrack/ui/WaveTrackAffordanceControls.cpp` points to
`../../../../images/Cursors.h`, which is `src/images/Cursors.h`, but that file actually resides in `images/Cursors.h`.
Feel free to tell me I'm wrong.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/) (Do I need one since this is a trivial issue?)
- [x] The title of the pull request describes an issue it addresses
- [x] If changes are extensive, then there is a sequence of easily reviewable commits
- [x] Each commit's message describes its purpose and effects
- [x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [x] Each commit compiles and runs on my machine without known undesirable changes of behavior"NaNZhang Maiyun09/19/21, 07:57:17 PM"Fix include path for images/Cursors.h

src/tracks/playabletrack/wavetrack/ui/WaveTrackAffordanceControls.cpp -> images/Cursors.h"1
1690Issue 1681: Position of New Label dialog is inconvenientDavidBailes09/20/21, 11:22:37 AM"Resolves: https://github.com/audacity/audacity/issues/1681

If the ""use dialog for name of new label"" check box is checked in the track behaviour page of preferences, then when adding a label at either selection or playback position, a dialog is used for entering the name of the new label. For convenience the horizontal position of the dialog should be such that the initial horizontal position of the cursor in the edit box is roughly the same as the horizontal position of the cursor or playback position respectively.

This behaviour was broken by commit 8f8ec41.
In this commit in LabelTrackView::DialogForLabelName(), the two arguments passed to viewInfo.TimeToPosition() are in wrong way round.

The fix: swap the order of these arguments.

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x ] I signed [CLA](https://www.audacityteam.org/cla/)
- [x ] The title of the pull request describes an issue it addresses
- [ x] If changes are extensive, then there is a sequence of easily reviewable commits
- [ x] Each commit's message describes its purpose and effects
- [x ] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [x ] Each commit compiles and runs on my machine without known undesirable changes of behavior"Fix does not work in all circumstances =||= NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1692When splitting a clip using a range selection, the clip names should be 1, 2, 3 instead of 1, 2 1, 2 2LWinterberg09/21/21, 04:13:09 PM"STR:

1. Select a range 
2. Split clip (Ctrl+I)

Current behavior: 

![image](https://user-images.githubusercontent.com/87814144/134005545-cd911fb0-def5-47c4-8f12-991b98acae7d.png)

Wanted behavior:

![image](https://user-images.githubusercontent.com/87814144/134005621-7047b837-5417-454f-a2cc-2ea18c719392.png)

That would make at least this part of the automated numbering way less confusing.""How should be the case, when you split the first clip 2 times work? I. e. how should be the middle clip named? =||= In a perfect world, if you start out with one source file and split it up into smaller and smaller pieces, the numbering should remain in order. Maybe once you start moving clips to new places where they aren't connected to the main thing anymore they should get their own subdivisions (that is to say, clip 3 1, clip 3 2 and so on), but the details are probably for @jounih and @Tantacrul to figure out. 

Practically, I think that we can keep the current behavior for point-selection splits for now, because while it's not terribly useful, I can at least figure out as a user why splitting a clip named clip 1 would now name it clip 1 1 and clip 1 2. Whereas with range selection, it's completely confusing why a selection I made in clip 1 and turned into a clip itself now is called clip 1 2 1.  =||= Also note that when you Split New to move the clip to a new track you get a label that includes it's time range which is a little odd:
![image](https://user-images.githubusercontent.com/50205984/134024917-202233e3-3313-406d-ab14-09efbc35ea0b.png)


And it gets even weirder when you do a further split new on the new track as here the ""timing"" numbers become wrong and meaningless.
![image](https://user-images.githubusercontent.com/50205984/134025225-d0ce2ea0-c852-4a69-a54e-e53166483991.png)

 =||= And if you Split New a few more times you get this odd concoction for a clip label
![image](https://user-images.githubusercontent.com/50205984/134026050-16b39124-6bad-49bf-8094-855d17cfda71.png)
 =||= I think that a reasonable case can be made for not adding any numbers when a clip is split - the split clips just have the same name as the original clip:
1. After a user has split a clip, if necessary they can rename any of the clips with names which are meaningful to the user.
2. After the smart clip feature is introduced, the split clips are all views of the same audio. If the user goes on to adjust the start and ends of the views, then the automatic numbering may quickly become meaningless.
3. Why make the user interface look more complicated than it needs to be. =||= I agree with David that automatic numbering of clips has very limited usefulness and significant negatives.

There's also a related frequently requested feature to add a time stamp when using Sound Activated Recording (SAR). One possible implementation could be to create a new clip each time SAR starts, and name the clip with a time stamp. =||= @Tantacrul  @jounih - This is **_more_** than a mere Enhancement request - this is a matter of getting it right in 3.1.0 for the users.  The numbering system now is both irrational and illogical for both split clips on the same track and for Split New clips on a New track.  This is a serious UX issue.

If it is not sorted expect to get a lot of queries and complaints on the Forum (and on GitHub) =||= We'll be removing the numbering for clip splitting, but keep numbering for new recordings and copypasting. Details are found in #1698, I'll be closing this issue in favor of it =||= "NaNNaNNaNNaNNaNNaNNaNNaNNaN0
1697Help_menu-check_for_update correctionsAnton S. Gerasimovgera-gas09/24/21, 06:14:12 PM"Resolves: #1279

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] The title of the pull request describes an issue it addresses
- [x] If changes are extensive, then there is a sequence of easily reviewable commits
- [x] Each commit's message describes its purpose and effects
- [x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [x] Each commit compiles and runs on my machine without known undesirable changes of behavior

Dialog with ""No updates available"" information, for user notification in this case:
![2021-09-21_14-21-46](https://user-images.githubusercontent.com/1660969/134171748-60b957ed-8974-4943-b693-308c02aab1a7.png)""My review is complete.  There are a few small changes to do.
 =||= Tested on W10 with audacity-win-3.1.0-alpha-20210924+97ca83e-64bit

This now looks fine

![image](https://user-images.githubusercontent.com/50205984/134725795-b5908333-7462-4424-aa8a-7f8f4353038f.png) =||= "Help_menu-check_for_update correctionsAnton S. Gerasimovgera-gas09/24/21, 06:14:12 PM"Resolves: #1279

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] The title of the pull request describes an issue it addresses
- [x] If changes are extensive, then there is a sequence of easily reviewable commits
- [x] Each commit's message describes its purpose and effects
- [x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [x] Each commit compiles and runs on my machine without known undesirable changes of behavior

Dialog with ""No updates available"" information, for user notification in this case:
![2021-09-21_14-21-46](https://user-images.githubusercontent.com/1660969/134171748-60b957ed-8974-4943-b693-308c02aab1a7.png)"NaNPaul Licameli09/24/21, 06:10:52 PMUse title case for dialog; correct a comment1
1701Fix bug 1571Anton S. Gerasimovgera-gas09/24/21, 05:43:19 PM"Convert to C locale decimal point for stable parsing. In `Cmd+O` user case, `endptr` (into `wxString::ToDouble`) point to localized decimal point, that means it can't recognize separator char, therefore in result `ToDouble()` return false (`!*endptr`).

Resolves: #1571 

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] The title of the pull request describes an issue it addresses
- [x] If changes are extensive, then there is a sequence of easily reviewable commits
- [x] Each commit's message describes its purpose and effects
- [x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [x] Each commit compiles and runs on my machine without known undesirable changes of behavior"I’m not satisfied yet that this bug is explained. =||= I’m satisfied with the explanation now, but I want to explore uses of the changed function and be sure there are no unintended consequences. =||= Fix bug 1571Anton S. Gerasimovgera-gas09/24/21, 05:43:19 PM"Convert to C locale decimal point for stable parsing. In `Cmd+O` user case, `endptr` (into `wxString::ToDouble`) point to localized decimal point, that means it can't recognize separator char, therefore in result `ToDouble()` return false (`!*endptr`).

Resolves: #1571 

<!-- Use ""x"" to fill the checkboxes below like [x] -->

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] The title of the pull request describes an issue it addresses
- [x] If changes are extensive, then there is a sequence of easily reviewable commits
- [x] Each commit's message describes its purpose and effects
- [x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [x] Each commit compiles and runs on my machine without known undesirable changes of behavior"NaNgera09/24/21, 03:06:34 PM[Review] Add recommendations.1
1717Makes selection tool available at affordance areaVitaly Sverchinskyvsverchinsky09/24/21, 12:22:22 PM"Resolves: #1427

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] The title of the pull request describes an issue it addresses
- [x] If changes are extensive, then there is a sequence of easily reviewable commits
- [x] Each commit's message describes its purpose and effects
- [x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [x] Each commit compiles and runs on my machine without known undesirable changes of behavior""I approve the changes.  If you are not going to make more fixes (I wasn't sure from your comment), then you may rebase and merge this PR.
 =||= "Makes selection tool available at affordance areaVitaly Sverchinskyvsverchinsky09/24/21, 12:22:22 PM"Resolves: #1427

- [x] I signed [CLA](https://www.audacityteam.org/cla/)
- [x] The title of the pull request describes an issue it addresses
- [x] If changes are extensive, then there is a sequence of easily reviewable commits
- [x] Each commit's message describes its purpose and effects
- [x] There are no behavior changes unnecessary for the stated purpose of the PR

Recommended:
- [x] Each commit compiles and runs on my machine without known undesirable changes of behavior"NaNVitaly Sverchinsky09/23/21, 12:59:06 PMMakes selection tool available at affordance area1
